import { createRequire } from 'module'; const require = createRequire(import.meta.url);
var xl=Object.create;var Ir=Object.defineProperty;var Al=Object.getOwnPropertyDescriptor;var Sl=Object.getOwnPropertyNames;var Il=Object.getPrototypeOf,El=Object.prototype.hasOwnProperty;var Cl=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),js=(t,e)=>{for(var a in e)Ir(t,a,{get:e[a],enumerable:!0})},_l=(t,e,a,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let n of Sl(e))!El.call(t,n)&&n!==a&&Ir(t,n,{get:()=>e[n],enumerable:!(r=Al(e,n))||r.enumerable});return t};var Gs=(t,e,a)=>(a=t!=null?xl(Il(t)):{},_l(e||!t||!t.__esModule?Ir(a,"default",{value:t,enumerable:!0}):a,t));var is=Cl((_0,So)=>{function Fu(t){var e=0,a=[];function r(){e--,e<t&&n()}function n(){var d=a.shift();l.queue=a.length,d&&i(d.fn).then(d.resolve).catch(d.reject)}function o(d){return new Promise(function(u,h){a.push({fn:d,resolve:u,reject:h}),l.queue=a.length})}function i(d){e++;try{return Promise.resolve(d()).then(function(u){return r(),u},function(u){throw r(),u})}catch(u){return r(),Promise.reject(u)}}var l=function(d){return e>=t?o(d):i(d)};return l}function Ju(t,e){var a=!1,r=this;return Promise.all(t.map(function(){var n=arguments;return r(function(){if(!a)return e.apply(void 0,n).catch(function(o){throw a=!0,o})})}))}function Ao(t){return t.queue=0,t.map=Ju,t}So.exports=function(t){return Ao(t?Fu(t):function(e){return e()})}});import{Http2ServerRequest as ql}from"http2";import{Http2ServerRequest as Er}from"http2";import{Readable as Fs}from"stream";import zl from"crypto";var ze=class extends Error{constructor(t,e){super(t,e),this.name="RequestError"}},Rl=t=>t instanceof ze?t:new ze(t.message,{cause:t}),Ml=global.Request,Kt=class extends Ml{constructor(t,e){typeof t=="object"&&nt in t&&(t=t[nt]()),typeof e?.body?.getReader<"u"&&(e.duplex??="half"),super(t,e)}},Tl=t=>{let e=[],a=t.rawHeaders;for(let r=0;r<a.length;r+=2){let{[r]:n,[r+1]:o}=a;n.charCodeAt(0)!==58&&e.push([n,o])}return new Headers(e)},Vs=Symbol("wrapBodyStream"),Pl=(t,e,a,r,n)=>{let o={method:t,headers:a,signal:n.signal};if(t==="TRACE"){o.method="GET";let i=new Kt(e,o);return Object.defineProperty(i,"method",{get(){return"TRACE"}}),i}if(!(t==="GET"||t==="HEAD"))if("rawBody"in r&&r.rawBody instanceof Buffer)o.body=new ReadableStream({start(i){i.enqueue(r.rawBody),i.close()}});else if(r[Vs]){let i;o.body=new ReadableStream({async pull(l){try{i||=Fs.toWeb(r).getReader();let{done:d,value:u}=await i.read();d?l.close():l.enqueue(u)}catch(d){l.error(d)}}})}else o.body=Fs.toWeb(r);return new Kt(e,o)},nt=Symbol("getRequestCache"),Dl=Symbol("requestCache"),Ea=Symbol("incomingKey"),Ca=Symbol("urlKey"),Bl=Symbol("headersKey"),st=Symbol("abortControllerKey"),Ll=Symbol("getAbortController"),_a={get method(){return this[Ea].method||"GET"},get url(){return this[Ca]},get headers(){return this[Bl]||=Tl(this[Ea])},[Ll](){return this[nt](),this[st]},[nt](){return this[st]||=new AbortController,this[Dl]||=Pl(this.method,this[Ca],this.headers,this[Ea],this[st])}};["body","bodyUsed","cache","credentials","destination","integrity","mode","redirect","referrer","referrerPolicy","signal","keepalive"].forEach(t=>{Object.defineProperty(_a,t,{get(){return this[nt]()[t]}})});["arrayBuffer","blob","clone","formData","json","text"].forEach(t=>{Object.defineProperty(_a,t,{value:function(){return this[nt]()[t]()}})});Object.setPrototypeOf(_a,Kt.prototype);var Ol=(t,e)=>{let a=Object.create(_a);a[Ea]=t;let r=t.url||"";if(r[0]!=="/"&&(r.startsWith("http://")||r.startsWith("https://"))){if(t instanceof Er)throw new ze("Absolute URL for :path is not allowed in HTTP/2");try{let l=new URL(r);a[Ca]=l.href}catch(l){throw new ze("Invalid absolute URL",{cause:l})}return a}let n=(t instanceof Er?t.authority:t.headers.host)||e;if(!n)throw new ze("Missing host header");let o;if(t instanceof Er){if(o=t.scheme,!(o==="http"||o==="https"))throw new ze("Unsupported scheme")}else o=t.socket&&t.socket.encrypted?"https":"http";let i=new URL(`${o}://${n}${r}`);if(i.hostname.length!==n.length&&i.hostname!==n.replace(/:\d+$/,""))throw new ze("Invalid host header");return a[Ca]=i.href,a},Js=Symbol("responseCache"),rt=Symbol("getResponseCache"),Ue=Symbol("cache"),_r=global.Response,jt=class Ws{#e;#t;[rt](){return delete this[Ue],this[Js]||=new _r(this.#e,this.#t)}constructor(e,a){let r;if(this.#e=e,a instanceof Ws){let n=a[Js];if(n){this.#t=n,this[rt]();return}else this.#t=a.#t,r=new Headers(a.#t.headers)}else this.#t=a;(typeof e=="string"||typeof e?.getReader<"u"||e instanceof Blob||e instanceof Uint8Array)&&(r||=a?.headers||{"content-type":"text/plain; charset=UTF-8"},this[Ue]=[a?.status||200,e,r])}get headers(){let e=this[Ue];return e?(e[2]instanceof Headers||(e[2]=new Headers(e[2])),e[2]):this[rt]().headers}get status(){return this[Ue]?.[0]??this[rt]().status}get ok(){let e=this.status;return e>=200&&e<300}};["body","bodyUsed","redirected","statusText","trailers","type","url"].forEach(t=>{Object.defineProperty(jt.prototype,t,{get(){return this[rt]()[t]}})});["arrayBuffer","blob","clone","formData","json","text"].forEach(t=>{Object.defineProperty(jt.prototype,t,{value:function(){return this[rt]()[t]()}})});Object.setPrototypeOf(jt,_r);Object.setPrototypeOf(jt.prototype,_r.prototype);async function Hl(t){return Promise.race([t,Promise.resolve().then(()=>Promise.resolve(void 0))])}function Qs(t,e,a){let r=l=>{t.cancel(l).catch(()=>{})};return e.on("close",r),e.on("error",r),(a??t.read()).then(i,n),t.closed.finally(()=>{e.off("close",r),e.off("error",r)});function n(l){l&&e.destroy(l)}function o(){t.read().then(i,n)}function i({done:l,value:d}){try{if(l)e.end();else if(!e.write(d))e.once("drain",o);else return t.read().then(i,n)}catch(u){n(u)}}}function Nl(t,e){if(t.locked)throw new TypeError("ReadableStream is locked.");return e.destroyed?void 0:Qs(t.getReader(),e)}var Ys=t=>{let e={};t instanceof Headers||(t=new Headers(t??void 0));let a=[];for(let[r,n]of t)r==="set-cookie"?a.push(n):e[r]=n;return a.length>0&&(e["set-cookie"]=a),e["content-type"]??="text/plain; charset=UTF-8",e},$l="x-hono-already-sent",Ul=global.fetch;typeof global.crypto>"u"&&(global.crypto=zl);global.fetch=(t,e)=>(e={compress:!1,...e},Ul(t,e));var qr=Symbol("outgoingEnded"),Kl=()=>new Response(null,{status:400}),Zs=t=>new Response(null,{status:t instanceof Error&&(t.name==="TimeoutError"||t.constructor.name==="TimeoutError")?504:500}),Cr=(t,e)=>{let a=t instanceof Error?t:new Error("unknown error",{cause:t});a.code==="ERR_STREAM_PREMATURE_CLOSE"?console.info("The user aborted a request."):(console.error(t),e.headersSent||e.writeHead(500,{"Content-Type":"text/plain"}),e.end(`Error: ${a.message}`),e.destroy(a))},Xs=t=>{"flushHeaders"in t&&t.writable&&t.flushHeaders()},en=async(t,e)=>{let[a,r,n]=t[Ue];n instanceof Headers&&(n=Ys(n)),typeof r=="string"?n["Content-Length"]=Buffer.byteLength(r):r instanceof Uint8Array?n["Content-Length"]=r.byteLength:r instanceof Blob&&(n["Content-Length"]=r.size),e.writeHead(a,n),typeof r=="string"||r instanceof Uint8Array?e.end(r):r instanceof Blob?e.end(new Uint8Array(await r.arrayBuffer())):(Xs(e),await Nl(r,e)?.catch(o=>Cr(o,e))),e[qr]?.()},jl=t=>typeof t.then=="function",Gl=async(t,e,a={})=>{if(jl(t))if(a.errorHandler)try{t=await t}catch(n){let o=await a.errorHandler(n);if(!o)return;t=o}else t=await t.catch(Zs);if(Ue in t)return en(t,e);let r=Ys(t.headers);if(t.body){let n=t.body.getReader(),o=[],i=!1,l;if(r["transfer-encoding"]!=="chunked"){let d=2;for(let u=0;u<d;u++){l||=n.read();let h=await Hl(l).catch(c=>{console.error(c),i=!0});if(!h){if(u===1){await new Promise(c=>setTimeout(c)),d=3;continue}break}if(l=void 0,h.value&&o.push(h.value),h.done){i=!0;break}}i&&!("content-length"in r)&&(r["content-length"]=o.reduce((u,h)=>u+h.length,0))}e.writeHead(t.status,r),o.forEach(d=>{e.write(d)}),i?e.end():(o.length===0&&Xs(e),await Qs(n,e,l))}else r[$l]||(e.writeHead(t.status,r),e.end());e[qr]?.()},Fl=(t,e={})=>{let a=e.autoCleanupIncoming??!0;return e.overrideGlobalObjects!==!1&&global.Request!==Kt&&(Object.defineProperty(global,"Request",{value:Kt}),Object.defineProperty(global,"Response",{value:jt})),async(r,n)=>{let o,i;try{i=Ol(r,e.hostname);let l=!a||r.method==="GET"||r.method==="HEAD";if(l||(r[Vs]=!0,r.on("end",()=>{l=!0}),r instanceof ql&&(n[qr]=()=>{l||setTimeout(()=>{l||setTimeout(()=>{r.destroy(),n.destroy()})})})),n.on("close",()=>{i[st]&&(r.errored?i[st].abort(r.errored.toString()):n.writableFinished||i[st].abort("Client connection prematurely closed.")),l||setTimeout(()=>{l||setTimeout(()=>{r.destroy()})})}),o=t(i,{incoming:r,outgoing:n}),Ue in o)return en(o,n)}catch(l){if(o)return Cr(l,n);if(e.errorHandler){if(o=await e.errorHandler(i?l:Rl(l)),!o)return}else i?o=Zs(l):o=Kl()}try{return await Gl(o,n,e)}catch(l){return Cr(l,n)}}},tn=t=>Fl(t.fetch);var Rr=(t,e,a)=>(r,n)=>{let o=-1;return i(0);async function i(l){if(l<=o)throw new Error("next() called multiple times");o=l;let d,u=!1,h;if(t[l]?(h=t[l][0][0],r.req.routeIndex=l):h=l===t.length&&n||void 0,h)try{d=await h(r,()=>i(l+1))}catch(c){if(c instanceof Error&&e)r.error=c,d=await e(c,r),u=!0;else throw c}else r.finalized===!1&&a&&(d=await a(r));return d&&(r.finalized===!1||u)&&(r.res=d),r}};var an=Symbol();var rn=async(t,e=Object.create(null))=>{let{all:a=!1,dot:r=!1}=e,o=(t instanceof qa?t.raw.headers:t.headers).get("Content-Type");return o?.startsWith("multipart/form-data")||o?.startsWith("application/x-www-form-urlencoded")?Jl(t,{all:a,dot:r}):{}};async function Jl(t,e){let a=await t.formData();return a?Vl(a,e):{}}function Vl(t,e){let a=Object.create(null);return t.forEach((r,n)=>{e.all||n.endsWith("[]")?Wl(a,n,r):a[n]=r}),e.dot&&Object.entries(a).forEach(([r,n])=>{r.includes(".")&&(Ql(a,r,n),delete a[r])}),a}var Wl=(t,e,a)=>{t[e]!==void 0?Array.isArray(t[e])?t[e].push(a):t[e]=[t[e],a]:e.endsWith("[]")?t[e]=[a]:t[e]=a},Ql=(t,e,a)=>{let r=t,n=e.split(".");n.forEach((o,i)=>{i===n.length-1?r[o]=a:((!r[o]||typeof r[o]!="object"||Array.isArray(r[o])||r[o]instanceof File)&&(r[o]=Object.create(null)),r=r[o])})};var Tr=t=>{let e=t.split("/");return e[0]===""&&e.shift(),e},sn=t=>{let{groups:e,path:a}=Yl(t),r=Tr(a);return Zl(r,e)},Yl=t=>{let e=[];return t=t.replace(/\{[^}]+\}/g,(a,r)=>{let n=`@${r}`;return e.push([n,a]),n}),{groups:e,path:t}},Zl=(t,e)=>{for(let a=e.length-1;a>=0;a--){let[r]=e[a];for(let n=t.length-1;n>=0;n--)if(t[n].includes(r)){t[n]=t[n].replace(r,e[a][1]);break}}return t},Ra={},nn=(t,e)=>{if(t==="*")return"*";let a=t.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(a){let r=`${t}#${e}`;return Ra[r]||(a[2]?Ra[r]=e&&e[0]!==":"&&e[0]!=="*"?[r,a[1],new RegExp(`^${a[2]}(?=/${e})`)]:[t,a[1],new RegExp(`^${a[2]}$`)]:Ra[r]=[t,a[1],!0]),Ra[r]}return null},Ma=(t,e)=>{try{return e(t)}catch{return t.replace(/(?:%[0-9A-Fa-f]{2})+/g,a=>{try{return e(a)}catch{return a}})}},Xl=t=>Ma(t,decodeURI),Pr=t=>{let e=t.url,a=e.indexOf("/",e.indexOf(":")+4),r=a;for(;r<e.length;r++){let n=e.charCodeAt(r);if(n===37){let o=e.indexOf("?",r),i=e.slice(a,o===-1?void 0:o);return Xl(i.includes("%25")?i.replace(/%25/g,"%2525"):i)}else if(n===63)break}return e.slice(a,r)};var on=t=>{let e=Pr(t);return e.length>1&&e.at(-1)==="/"?e.slice(0,-1):e},Ke=(t,e,...a)=>(a.length&&(e=Ke(e,...a)),`${t?.[0]==="/"?"":"/"}${t}${e==="/"?"":`${t?.at(-1)==="/"?"":"/"}${e?.[0]==="/"?e.slice(1):e}`}`),Ta=t=>{if(t.charCodeAt(t.length-1)!==63||!t.includes(":"))return null;let e=t.split("/"),a=[],r="";return e.forEach(n=>{if(n!==""&&!/\:/.test(n))r+="/"+n;else if(/\:/.test(n))if(/\?/.test(n)){a.length===0&&r===""?a.push("/"):a.push(r);let o=n.replace("?","");r+="/"+o,a.push(r)}else r+="/"+n}),a.filter((n,o,i)=>i.indexOf(n)===o)},Mr=t=>/[%+]/.test(t)?(t.indexOf("+")!==-1&&(t=t.replace(/\+/g," ")),t.indexOf("%")!==-1?Ma(t,Dr):t):t,ln=(t,e,a)=>{let r;if(!a&&e&&!/[%+]/.test(e)){let i=t.indexOf("?",8);if(i===-1)return;for(t.startsWith(e,i+1)||(i=t.indexOf(`&${e}`,i+1));i!==-1;){let l=t.charCodeAt(i+e.length+1);if(l===61){let d=i+e.length+2,u=t.indexOf("&",d);return Mr(t.slice(d,u===-1?void 0:u))}else if(l==38||isNaN(l))return"";i=t.indexOf(`&${e}`,i+1)}if(r=/[%+]/.test(t),!r)return}let n={};r??=/[%+]/.test(t);let o=t.indexOf("?",8);for(;o!==-1;){let i=t.indexOf("&",o+1),l=t.indexOf("=",o);l>i&&i!==-1&&(l=-1);let d=t.slice(o+1,l===-1?i===-1?void 0:i:l);if(r&&(d=Mr(d)),o=i,d==="")continue;let u;l===-1?u="":(u=t.slice(l+1,i===-1?void 0:i),r&&(u=Mr(u))),a?(n[d]&&Array.isArray(n[d])||(n[d]=[]),n[d].push(u)):n[d]??=u}return e?n[e]:n},dn=ln,un=(t,e)=>ln(t,e,!0),Dr=decodeURIComponent;var cn=t=>Ma(t,Dr),qa=class{raw;#e;#t;routeIndex=0;path;bodyCache={};constructor(t,e="/",a=[[]]){this.raw=t,this.path=e,this.#t=a,this.#e={}}param(t){return t?this.#a(t):this.#r()}#a(t){let e=this.#t[0][this.routeIndex][1][t],a=this.#s(e);return a&&/\%/.test(a)?cn(a):a}#r(){let t={},e=Object.keys(this.#t[0][this.routeIndex][1]);for(let a of e){let r=this.#s(this.#t[0][this.routeIndex][1][a]);r!==void 0&&(t[a]=/\%/.test(r)?cn(r):r)}return t}#s(t){return this.#t[1]?this.#t[1][t]:t}query(t){return dn(this.url,t)}queries(t){return un(this.url,t)}header(t){if(t)return this.raw.headers.get(t)??void 0;let e={};return this.raw.headers.forEach((a,r)=>{e[r]=a}),e}async parseBody(t){return this.bodyCache.parsedBody??=await rn(this,t)}#n=t=>{let{bodyCache:e,raw:a}=this,r=e[t];if(r)return r;let n=Object.keys(e)[0];return n?e[n].then(o=>(n==="json"&&(o=JSON.stringify(o)),new Response(o)[t]())):e[t]=a[t]()};json(){return this.#n("text").then(t=>JSON.parse(t))}text(){return this.#n("text")}arrayBuffer(){return this.#n("arrayBuffer")}blob(){return this.#n("blob")}formData(){return this.#n("formData")}addValidatedData(t,e){this.#e[t]=e}valid(t){return this.#e[t]}get url(){return this.raw.url}get method(){return this.raw.method}get[an](){return this.#t}get matchedRoutes(){return this.#t[0].map(([[,t]])=>t)}get routePath(){return this.#t[0].map(([[,t]])=>t)[this.routeIndex].path}};var he={Stringify:1,BeforeStream:2,Stream:3},z=(t,e)=>{let a=new String(t);return a.isEscaped=!0,a.callbacks=e,a},ed=/[&<>'"]/,Br=async(t,e)=>{let a="";e||=[];let r=await Promise.all(t);for(let n=r.length-1;a+=r[n],n--,!(n<0);n--){let o=r[n];typeof o=="object"&&e.push(...o.callbacks||[]);let i=o.isEscaped;if(o=await(typeof o=="object"?o.toString():o),typeof o=="object"&&e.push(...o.callbacks||[]),o.isEscaped??i)a+=o;else{let l=[a];qe(o,l),a=l[0]}}return z(a,e)},qe=(t,e)=>{let a=t.search(ed);if(a===-1){e[0]+=t;return}let r,n,o=0;for(n=a;n<t.length;n++){switch(t.charCodeAt(n)){case 34:r="&quot;";break;case 39:r="&#39;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}e[0]+=t.substring(o,n)+r,o=n+1}e[0]+=t.substring(o,n)},Lr=t=>{let e=t.callbacks;if(!e?.length)return t;let a=[t],r={};return e.forEach(n=>n({phase:he.Stringify,buffer:a,context:r})),a[0]},je=async(t,e,a,r,n)=>{typeof t=="object"&&!(t instanceof String)&&(t instanceof Promise||(t=t.toString()),t instanceof Promise&&(t=await t));let o=t.callbacks;if(!o?.length)return Promise.resolve(t);n?n[0]+=t:n=[t];let i=Promise.all(o.map(l=>l({phase:e,buffer:n,context:r}))).then(l=>Promise.all(l.filter(Boolean).map(d=>je(d,e,!1,r,n))).then(()=>n[0]));return a?z(await i,o):i};var td="text/plain; charset=UTF-8",Or=(t,e)=>({"Content-Type":t,...e}),hn=class{#e;#t;env={};#a;finalized=!1;error;#r;#s;#n;#i;#o;#l;#d;#c;#m;constructor(t,e){this.#e=t,e&&(this.#s=e.executionCtx,this.env=e.env,this.#l=e.notFoundHandler,this.#m=e.path,this.#c=e.matchResult)}get req(){return this.#t??=new qa(this.#e,this.#m,this.#c),this.#t}get event(){if(this.#s&&"respondWith"in this.#s)return this.#s;throw Error("This context has no FetchEvent")}get executionCtx(){if(this.#s)return this.#s;throw Error("This context has no ExecutionContext")}get res(){return this.#n||=new Response(null,{headers:this.#d??=new Headers})}set res(t){if(this.#n&&t){t=new Response(t.body,t);for(let[e,a]of this.#n.headers.entries())if(e!=="content-type")if(e==="set-cookie"){let r=this.#n.headers.getSetCookie();t.headers.delete("set-cookie");for(let n of r)t.headers.append("set-cookie",n)}else t.headers.set(e,a)}this.#n=t,this.finalized=!0}render=(...t)=>(this.#o??=e=>this.html(e),this.#o(...t));setLayout=t=>this.#i=t;getLayout=()=>this.#i;setRenderer=t=>{this.#o=t};header=(t,e,a)=>{this.finalized&&(this.#n=new Response(this.#n.body,this.#n));let r=this.#n?this.#n.headers:this.#d??=new Headers;e===void 0?r.delete(t):a?.append?r.append(t,e):r.set(t,e)};status=t=>{this.#r=t};set=(t,e)=>{this.#a??=new Map,this.#a.set(t,e)};get=t=>this.#a?this.#a.get(t):void 0;get var(){return this.#a?Object.fromEntries(this.#a):{}}#u(t,e,a){let r=this.#n?new Headers(this.#n.headers):this.#d??new Headers;if(typeof e=="object"&&"headers"in e){let o=e.headers instanceof Headers?e.headers:new Headers(e.headers);for(let[i,l]of o)i.toLowerCase()==="set-cookie"?r.append(i,l):r.set(i,l)}if(a)for(let[o,i]of Object.entries(a))if(typeof i=="string")r.set(o,i);else{r.delete(o);for(let l of i)r.append(o,l)}let n=typeof e=="number"?e:e?.status??this.#r;return new Response(t,{status:n,headers:r})}newResponse=(...t)=>this.#u(...t);body=(t,e,a)=>this.#u(t,e,a);text=(t,e,a)=>!this.#d&&!this.#r&&!e&&!a&&!this.finalized?new Response(t):this.#u(t,e,Or(td,a));json=(t,e,a)=>this.#u(JSON.stringify(t),e,Or("application/json",a));html=(t,e,a)=>{let r=n=>this.#u(n,e,Or("text/html; charset=UTF-8",a));return typeof t=="object"?je(t,he.Stringify,!1,{}).then(r):r(t)};redirect=(t,e)=>{let a=String(t);return this.header("Location",/[^\x00-\xFF]/.test(a)?encodeURI(a):a),this.newResponse(null,e??302)};notFound=()=>(this.#l??=()=>new Response,this.#l(this))};var U="ALL",mn="all",pn=["get","post","put","delete","options","patch"],Pa="Can not add a route since the matcher is already built.",Da=class extends Error{};var fn="__COMPOSED_HANDLER";var ad=t=>t.text("404 Not Found",404),gn=(t,e)=>{if("getResponse"in t){let a=t.getResponse();return e.newResponse(a.body,a)}return console.error(t),e.text("Internal Server Error",500)},yn=class bn{get;post;put;delete;options;patch;all;on;use;router;getPath;_basePath="/";#e="/";routes=[];constructor(e={}){[...pn,mn].forEach(o=>{this[o]=(i,...l)=>(typeof i=="string"?this.#e=i:this.#r(o,this.#e,i),l.forEach(d=>{this.#r(o,this.#e,d)}),this)}),this.on=(o,i,...l)=>{for(let d of[i].flat()){this.#e=d;for(let u of[o].flat())l.map(h=>{this.#r(u.toUpperCase(),this.#e,h)})}return this},this.use=(o,...i)=>(typeof o=="string"?this.#e=o:(this.#e="*",i.unshift(o)),i.forEach(l=>{this.#r(U,this.#e,l)}),this);let{strict:r,...n}=e;Object.assign(this,n),this.getPath=r??!0?e.getPath??Pr:on}#t(){let e=new bn({router:this.router,getPath:this.getPath});return e.errorHandler=this.errorHandler,e.#a=this.#a,e.routes=this.routes,e}#a=ad;errorHandler=gn;route(e,a){let r=this.basePath(e);return a.routes.map(n=>{let o;a.errorHandler===gn?o=n.handler:(o=async(i,l)=>(await Rr([],a.errorHandler)(i,()=>n.handler(i,l))).res,o[fn]=n.handler),r.#r(n.method,n.path,o)}),this}basePath(e){let a=this.#t();return a._basePath=Ke(this._basePath,e),a}onError=e=>(this.errorHandler=e,this);notFound=e=>(this.#a=e,this);mount(e,a,r){let n,o;r&&(typeof r=="function"?o=r:(o=r.optionHandler,r.replaceRequest===!1?n=d=>d:n=r.replaceRequest));let i=o?d=>{let u=o(d);return Array.isArray(u)?u:[u]}:d=>{let u;try{u=d.executionCtx}catch{}return[d.env,u]};n||=(()=>{let d=Ke(this._basePath,e),u=d==="/"?0:d.length;return h=>{let c=new URL(h.url);return c.pathname=c.pathname.slice(u)||"/",new Request(c,h)}})();let l=async(d,u)=>{let h=await a(n(d.req.raw),...i(d));if(h)return h;await u()};return this.#r(U,Ke(e,"*"),l),this}#r(e,a,r){e=e.toUpperCase(),a=Ke(this._basePath,a);let n={basePath:this._basePath,path:a,method:e,handler:r};this.router.add(e,a,[r,n]),this.routes.push(n)}#s(e,a){if(e instanceof Error)return this.errorHandler(e,a);throw e}#n(e,a,r,n){if(n==="HEAD")return(async()=>new Response(null,await this.#n(e,a,r,"GET")))();let o=this.getPath(e,{env:r}),i=this.router.match(n,o),l=new hn(e,{path:o,matchResult:i,env:r,executionCtx:a,notFoundHandler:this.#a});if(i[0].length===1){let u;try{u=i[0][0][0][0](l,async()=>{l.res=await this.#a(l)})}catch(h){return this.#s(h,l)}return u instanceof Promise?u.then(h=>h||(l.finalized?l.res:this.#a(l))).catch(h=>this.#s(h,l)):u??this.#a(l)}let d=Rr(i[0],this.errorHandler,this.#a);return(async()=>{try{let u=await d(l);if(!u.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return u.res}catch(u){return this.#s(u,l)}})()}fetch=(e,...a)=>this.#n(e,a[1],a[0],e.method);request=(e,a,r,n)=>e instanceof Request?this.fetch(a?new Request(e,a):e,r,n):(e=e.toString(),this.fetch(new Request(/^https?:\/\//.test(e)?e:`http://localhost${Ke("/",e)}`,a),r,n));fire=()=>{addEventListener("fetch",e=>{e.respondWith(this.#n(e.request,e,void 0,e.request.method))})}};var Ba=[];function Hr(t,e){let a=this.buildAllMatchers(),r=((n,o)=>{let i=a[n]||a[U],l=i[2][o];if(l)return l;let d=o.match(i[0]);if(!d)return[[],Ba];let u=d.indexOf("",1);return[i[1][u],d]});return this.match=r,r(t,e)}var La="[^/]+",Gt=".*",Ft="(?:|/.*)",Ge=Symbol(),rd=new Set(".\\+*[^]$()");function sd(t,e){return t.length===1?e.length===1?t<e?-1:1:-1:e.length===1||t===Gt||t===Ft?1:e===Gt||e===Ft?-1:t===La?1:e===La?-1:t.length===e.length?t<e?-1:1:e.length-t.length}var wn=class Nr{#e;#t;#a=Object.create(null);insert(e,a,r,n,o){if(e.length===0){if(this.#e!==void 0)throw Ge;if(o)return;this.#e=a;return}let[i,...l]=e,d=i==="*"?l.length===0?["","",Gt]:["","",La]:i==="/*"?["","",Ft]:i.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/),u;if(d){let h=d[1],c=d[2]||La;if(h&&d[2]&&(c===".*"||(c=c.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(c))))throw Ge;if(u=this.#a[c],!u){if(Object.keys(this.#a).some(m=>m!==Gt&&m!==Ft))throw Ge;if(o)return;u=this.#a[c]=new Nr,h!==""&&(u.#t=n.varIndex++)}!o&&h!==""&&r.push([h,u.#t])}else if(u=this.#a[i],!u){if(Object.keys(this.#a).some(h=>h.length>1&&h!==Gt&&h!==Ft))throw Ge;if(o)return;u=this.#a[i]=new Nr}u.insert(l,a,r,n,o)}buildRegExpStr(){let a=Object.keys(this.#a).sort(sd).map(r=>{let n=this.#a[r];return(typeof n.#t=="number"?`(${r})@${n.#t}`:rd.has(r)?`\\${r}`:r)+n.buildRegExpStr()});return typeof this.#e=="number"&&a.unshift(`#${this.#e}`),a.length===0?"":a.length===1?a[0]:"(?:"+a.join("|")+")"}};var vn=class{#e={varIndex:0};#t=new wn;insert(t,e,a){let r=[],n=[];for(let i=0;;){let l=!1;if(t=t.replace(/\{[^}]+\}/g,d=>{let u=`@\\${i}`;return n[i]=[u,d],i++,l=!0,u}),!l)break}let o=t.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let i=n.length-1;i>=0;i--){let[l]=n[i];for(let d=o.length-1;d>=0;d--)if(o[d].indexOf(l)!==-1){o[d]=o[d].replace(l,n[i][1]);break}}return this.#t.insert(o,e,r,this.#e,a),r}buildRegExp(){let t=this.#t.buildRegExpStr();if(t==="")return[/^$/,[],[]];let e=0,a=[],r=[];return t=t.replace(/#(\d+)|@(\d+)|\.\*\$/g,(n,o,i)=>o!==void 0?(a[++e]=Number(o),"$()"):(i!==void 0&&(r[Number(i)]=++e),"")),[new RegExp(`^${t}`),a,r]}};var nd=[/^$/,[],Object.create(null)],kn=Object.create(null);function xn(t){return kn[t]??=new RegExp(t==="*"?"":`^${t.replace(/\/\*$|([.\\+*[^\]$()])/g,(e,a)=>a?`\\${a}`:"(?:|/.*)")}$`)}function od(){kn=Object.create(null)}function id(t){let e=new vn,a=[];if(t.length===0)return nd;let r=t.map(u=>[!/\*|\/:/.test(u[0]),...u]).sort(([u,h],[c,m])=>u?1:c?-1:h.length-m.length),n=Object.create(null);for(let u=0,h=-1,c=r.length;u<c;u++){let[m,g,k]=r[u];m?n[g]=[k.map(([A])=>[A,Object.create(null)]),Ba]:h++;let v;try{v=e.insert(g,h,m)}catch(A){throw A===Ge?new Da(g):A}m||(a[h]=k.map(([A,x])=>{let I=Object.create(null);for(x-=1;x>=0;x--){let[q,C]=v[x];I[q]=C}return[A,I]}))}let[o,i,l]=e.buildRegExp();for(let u=0,h=a.length;u<h;u++)for(let c=0,m=a[u].length;c<m;c++){let g=a[u][c]?.[1];if(!g)continue;let k=Object.keys(g);for(let v=0,A=k.length;v<A;v++)g[k[v]]=l[g[k[v]]]}let d=[];for(let u in i)d[u]=a[i[u]];return[o,d,n]}function ot(t,e){if(t){for(let a of Object.keys(t).sort((r,n)=>n.length-r.length))if(xn(a).test(e))return[...t[a]]}}var Oa=class{name="RegExpRouter";#e;#t;constructor(){this.#e={[U]:Object.create(null)},this.#t={[U]:Object.create(null)}}add(t,e,a){let r=this.#e,n=this.#t;if(!r||!n)throw new Error(Pa);r[t]||[r,n].forEach(l=>{l[t]=Object.create(null),Object.keys(l[U]).forEach(d=>{l[t][d]=[...l[U][d]]})}),e==="/*"&&(e="*");let o=(e.match(/\/:/g)||[]).length;if(/\*$/.test(e)){let l=xn(e);t===U?Object.keys(r).forEach(d=>{r[d][e]||=ot(r[d],e)||ot(r[U],e)||[]}):r[t][e]||=ot(r[t],e)||ot(r[U],e)||[],Object.keys(r).forEach(d=>{(t===U||t===d)&&Object.keys(r[d]).forEach(u=>{l.test(u)&&r[d][u].push([a,o])})}),Object.keys(n).forEach(d=>{(t===U||t===d)&&Object.keys(n[d]).forEach(u=>l.test(u)&&n[d][u].push([a,o]))});return}let i=Ta(e)||[e];for(let l=0,d=i.length;l<d;l++){let u=i[l];Object.keys(n).forEach(h=>{(t===U||t===h)&&(n[h][u]||=[...ot(r[h],u)||ot(r[U],u)||[]],n[h][u].push([a,o-d+l+1]))})}}match=Hr;buildAllMatchers(){let t=Object.create(null);return Object.keys(this.#t).concat(Object.keys(this.#e)).forEach(e=>{t[e]||=this.#a(e)}),this.#e=this.#t=void 0,od(),t}#a(t){let e=[],a=t===U;return[this.#e,this.#t].forEach(r=>{let n=r[t]?Object.keys(r[t]).map(o=>[o,r[t][o]]):[];n.length!==0?(a||=!0,e.push(...n)):t!==U&&e.push(...Object.keys(r[U]).map(o=>[o,r[U][o]]))}),a?id(e):null}};var $r=class{name="SmartRouter";#e=[];#t=[];constructor(t){this.#e=t.routers}add(t,e,a){if(!this.#t)throw new Error(Pa);this.#t.push([t,e,a])}match(t,e){if(!this.#t)throw new Error("Fatal error");let a=this.#e,r=this.#t,n=a.length,o=0,i;for(;o<n;o++){let l=a[o];try{for(let d=0,u=r.length;d<u;d++)l.add(...r[d]);i=l.match(t,e)}catch(d){if(d instanceof Da)continue;throw d}this.match=l.match.bind(l),this.#e=[l],this.#t=void 0;break}if(o===n)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,i}get activeRouter(){if(this.#t||this.#e.length!==1)throw new Error("No active router has been determined yet.");return this.#e[0]}};var Jt=Object.create(null),An=class Sn{#e;#t;#a;#r=0;#s=Jt;constructor(e,a,r){if(this.#t=r||Object.create(null),this.#e=[],e&&a){let n=Object.create(null);n[e]={handler:a,possibleKeys:[],score:0},this.#e=[n]}this.#a=[]}insert(e,a,r){this.#r=++this.#r;let n=this,o=sn(a),i=[];for(let l=0,d=o.length;l<d;l++){let u=o[l],h=o[l+1],c=nn(u,h),m=Array.isArray(c)?c[0]:u;if(m in n.#t){n=n.#t[m],c&&i.push(c[1]);continue}n.#t[m]=new Sn,c&&(n.#a.push(c),i.push(c[1])),n=n.#t[m]}return n.#e.push({[e]:{handler:r,possibleKeys:i.filter((l,d,u)=>u.indexOf(l)===d),score:this.#r}}),n}#n(e,a,r,n){let o=[];for(let i=0,l=e.#e.length;i<l;i++){let d=e.#e[i],u=d[a]||d[U],h={};if(u!==void 0&&(u.params=Object.create(null),o.push(u),r!==Jt||n&&n!==Jt))for(let c=0,m=u.possibleKeys.length;c<m;c++){let g=u.possibleKeys[c],k=h[u.score];u.params[g]=n?.[g]&&!k?n[g]:r[g]??n?.[g],h[u.score]=!0}}return o}search(e,a){let r=[];this.#s=Jt;let o=[this],i=Tr(a),l=[];for(let d=0,u=i.length;d<u;d++){let h=i[d],c=d===u-1,m=[];for(let g=0,k=o.length;g<k;g++){let v=o[g],A=v.#t[h];A&&(A.#s=v.#s,c?(A.#t["*"]&&r.push(...this.#n(A.#t["*"],e,v.#s)),r.push(...this.#n(A,e,v.#s))):m.push(A));for(let x=0,I=v.#a.length;x<I;x++){let q=v.#a[x],C=v.#s===Jt?{}:{...v.#s};if(q==="*"){let y=v.#t["*"];y&&(r.push(...this.#n(y,e,v.#s)),y.#s=C,m.push(y));continue}let[T,W,p]=q;if(!h&&!(p instanceof RegExp))continue;let b=v.#t[T],f=i.slice(d).join("/");if(p instanceof RegExp){let y=p.exec(f);if(y){if(C[W]=y[0],r.push(...this.#n(b,e,v.#s,C)),Object.keys(b.#t).length){b.#s=C;let w=y[0].match(/\//)?.length??0;(l[w]||=[]).push(b)}continue}}(p===!0||p.test(h))&&(C[W]=h,c?(r.push(...this.#n(b,e,C,v.#s)),b.#t["*"]&&r.push(...this.#n(b.#t["*"],e,C,v.#s))):(b.#s=C,m.push(b)))}}o=m.concat(l.shift()??[])}return r.length>1&&r.sort((d,u)=>d.score-u.score),[r.map(({handler:d,params:u})=>[d,u])]}};var zr=class{name="TrieRouter";#e;constructor(){this.#e=new An}add(t,e,a){let r=Ta(e);if(r){for(let n=0,o=r.length;n<o;n++)this.#e.insert(t,r[n],a);return}this.#e.insert(t,e,a)}match(t,e){return this.#e.search(t,e)}};var E=class extends yn{constructor(t={}){super(t),this.router=t.router??new $r({routers:[new Oa,new zr]})}};var In=()=>async function(e,a){if(await a(),e.res.status===404&&(e.req.method==="GET"||e.req.method==="HEAD")&&e.req.path!=="/"&&e.req.path.at(-1)==="/"){let r=new URL(e.req.url);r.pathname=r.pathname.substring(0,r.pathname.length-1),e.res=e.redirect(r.toString(),301)}};function ld(){let{process:t,Deno:e}=globalThis;return!(typeof e?.noColor=="boolean"?e.noColor:t!==void 0?"NO_COLOR"in t?.env:!1)}async function En(){let{navigator:t}=globalThis,e="cloudflare:workers";return!(t!==void 0&&t.userAgent==="Cloudflare-Workers"?await(async()=>{try{return"NO_COLOR"in((await import(e)).env??{})}catch{return!1}})():!ld())}var dd=t=>{let[e,a]=[",","."];return t.map(n=>n.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+e)).join(a)},ud=t=>{let e=Date.now()-t;return dd([e<1e3?e+"ms":Math.round(e/1e3)+"s"])},cd=async t=>{if(await En())switch(t/100|0){case 5:return`\x1B[31m${t}\x1B[0m`;case 4:return`\x1B[33m${t}\x1B[0m`;case 3:return`\x1B[36m${t}\x1B[0m`;case 2:return`\x1B[32m${t}\x1B[0m`}return`${t}`};async function Cn(t,e,a,r,n=0,o){let i=e==="<--"?`${e} ${a} ${r}`:`${e} ${a} ${r} ${await cd(n)} ${o}`;t(i)}var _n=(t=console.log)=>async function(a,r){let{method:n,url:o}=a.req,i=o.slice(o.indexOf("/",8));await Cn(t,"<--",n,i);let l=Date.now();await r(),await Cn(t,"-->",n,i,a.res.status,ud(l))};var qn=t=>{let a={...{origin:"*",allowMethods:["GET","HEAD","PUT","POST","DELETE","PATCH"],allowHeaders:[],exposeHeaders:[]},...t},r=(o=>typeof o=="string"?o==="*"?()=>o:i=>o===i?i:null:typeof o=="function"?o:i=>o.includes(i)?i:null)(a.origin),n=(o=>typeof o=="function"?o:Array.isArray(o)?()=>o:()=>[])(a.allowMethods);return async function(i,l){function d(h,c){i.res.headers.set(h,c)}let u=await r(i.req.header("origin")||"",i);if(u&&d("Access-Control-Allow-Origin",u),a.credentials&&d("Access-Control-Allow-Credentials","true"),a.exposeHeaders?.length&&d("Access-Control-Expose-Headers",a.exposeHeaders.join(",")),i.req.method==="OPTIONS"){a.origin!=="*"&&d("Vary","Origin"),a.maxAge!=null&&d("Access-Control-Max-Age",a.maxAge.toString());let h=await n(i.req.header("origin")||"",i);h.length&&d("Access-Control-Allow-Methods",h.join(","));let c=a.allowHeaders;if(!c?.length){let m=i.req.header("Access-Control-Request-Headers");m&&(c=m.split(/\s*,\s*/))}return c?.length&&(d("Access-Control-Allow-Headers",c.join(",")),i.res.headers.append("Vary","Access-Control-Request-Headers")),i.res.headers.delete("Content-Length"),i.res.headers.delete("Content-Type"),new Response(null,{headers:i.res.headers,status:204,statusText:"No Content"})}await l(),a.origin!=="*"&&i.header("Vary","Origin",{append:!0})}};import ms from"fs/promises";import or from"path";import"url";var P=class extends Error{code;rawCode;constructor(e,a,r,n){a!==void 0&&(e=`${a}: ${e}`),super(e,{cause:n}),this.code=a,this.rawCode=r,this.name="LibsqlError"}};function Rn(t){let e=hd.exec(t);if(e===null)throw new P(`The URL '${t}' is not in a valid format`,"URL_INVALID");let a=e.groups,r=a.scheme,n=a.authority!==void 0?md(a.authority):void 0,o=Fe(a.path),i=a.query!==void 0?fd(a.query):void 0,l=a.fragment!==void 0?Fe(a.fragment):void 0;return{scheme:r,authority:n,path:o,query:i,fragment:l}}var hd=(()=>{let t="(?<scheme>[A-Za-z][A-Za-z.+-]*)",e="(?<authority>[^/?#]*)",a="(?<path>[^?#]*)",r="(?<query>[^#]*)",n="(?<fragment>.*)";return new RegExp(`^${t}:(//${e})?${a}(\\?${r})?(#${n})?$`,"su")})();function md(t){let e=pd.exec(t);if(e===null)throw new P("The authority part of the URL is not in a valid format","URL_INVALID");let a=e.groups,r=Fe(a.host_br??a.host),n=a.port?parseInt(a.port,10):void 0,o=a.username!==void 0?{username:Fe(a.username),password:a.password!==void 0?Fe(a.password):void 0}:void 0;return{host:r,port:n,userinfo:o}}var pd=new RegExp("^((?<username>[^:]*)(:(?<password>.*))?@)?((?<host>[^:\\[\\]]*)|(\\[(?<host_br>[^\\[\\]]*)\\]))(:(?<port>[0-9]*))?$","su");function fd(t){let e=t.split("&"),a=[];for(let r of e){if(r==="")continue;let n,o,i=r.indexOf("=");i<0?(n=r,o=""):(n=r.substring(0,i),o=r.substring(i+1)),a.push({key:Fe(n.replaceAll("+"," ")),value:Fe(o.replaceAll("+"," "))})}return{pairs:a}}function Fe(t){try{return decodeURIComponent(t)}catch(e){throw e instanceof URIError?new P(`URL component has invalid percent encoding: ${e}`,"URL_INVALID",void 0,e):e}}function Vt(t,e,a){if(e===void 0)throw new P(`URL with scheme ${JSON.stringify(t+":")} requires authority (the "//" part)`,"URL_INVALID");let r=`${t}:`,n=gd(e.host),o=yd(e.port),l=`//${bd(e.userinfo)}${n}${o}`,d=a.split("/").map(encodeURIComponent).join("/");return d!==""&&!d.startsWith("/")&&(d="/"+d),new URL(`${r}${l}${d}`)}function gd(t){return t.includes(":")?`[${encodeURI(t)}]`:encodeURI(t)}function yd(t){return t!==void 0?`:${t}`:""}function bd(t){if(t===void 0)return"";let e=encodeURIComponent(t.username),a=t.password!==void 0?`:${encodeURIComponent(t.password)}`:"";return`${e}${a}@`}var Ln="3.7.8",wd=Ln,lt=typeof Buffer=="function",Mn=typeof TextDecoder=="function"?new TextDecoder:void 0,Tn=typeof TextEncoder=="function"?new TextEncoder:void 0,vd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Wt=Array.prototype.slice.call(vd),Ha=(t=>{let e={};return t.forEach((a,r)=>e[a]=r),e})(Wt),kd=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,ee=String.fromCharCode.bind(String),Pn=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),On=t=>t.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),Hn=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),Nn=t=>{let e,a,r,n,o="",i=t.length%3;for(let l=0;l<t.length;){if((a=t.charCodeAt(l++))>255||(r=t.charCodeAt(l++))>255||(n=t.charCodeAt(l++))>255)throw new TypeError("invalid character found");e=a<<16|r<<8|n,o+=Wt[e>>18&63]+Wt[e>>12&63]+Wt[e>>6&63]+Wt[e&63]}return i?o.slice(0,i-3)+"===".substring(i):o},jr=typeof btoa=="function"?t=>btoa(t):lt?t=>Buffer.from(t,"binary").toString("base64"):Nn,Ur=lt?t=>Buffer.from(t).toString("base64"):t=>{let a=[];for(let r=0,n=t.length;r<n;r+=4096)a.push(ee.apply(null,t.subarray(r,r+4096)));return jr(a.join(""))},Na=(t,e=!1)=>e?On(Ur(t)):Ur(t),xd=t=>{if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?ee(192|e>>>6)+ee(128|e&63):ee(224|e>>>12&15)+ee(128|e>>>6&63)+ee(128|e&63)}else{var e=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return ee(240|e>>>18&7)+ee(128|e>>>12&63)+ee(128|e>>>6&63)+ee(128|e&63)}},Ad=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,$n=t=>t.replace(Ad,xd),Dn=lt?t=>Buffer.from(t,"utf8").toString("base64"):Tn?t=>Ur(Tn.encode(t)):t=>jr($n(t)),it=(t,e=!1)=>e?On(Dn(t)):Dn(t),Bn=t=>it(t,!0),Sd=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Id=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),a=e-65536;return ee((a>>>10)+55296)+ee((a&1023)+56320);case 3:return ee((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return ee((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},zn=t=>t.replace(Sd,Id),Un=t=>{if(t=t.replace(/\s+/g,""),!kd.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,a,r,n=[];for(let o=0;o<t.length;)e=Ha[t.charAt(o++)]<<18|Ha[t.charAt(o++)]<<12|(a=Ha[t.charAt(o++)])<<6|(r=Ha[t.charAt(o++)]),a===64?n.push(ee(e>>16&255)):r===64?n.push(ee(e>>16&255,e>>8&255)):n.push(ee(e>>16&255,e>>8&255,e&255));return n.join("")},Gr=typeof atob=="function"?t=>atob(Hn(t)):lt?t=>Buffer.from(t,"base64").toString("binary"):Un,Kn=lt?t=>Pn(Buffer.from(t,"base64")):t=>Pn(Gr(t).split("").map(e=>e.charCodeAt(0))),jn=t=>Kn(Gn(t)),Ed=lt?t=>Buffer.from(t,"base64").toString("utf8"):Mn?t=>Mn.decode(Kn(t)):t=>zn(Gr(t)),Gn=t=>Hn(t.replace(/[-_]/g,e=>e=="-"?"+":"/")),Kr=t=>Ed(Gn(t)),Cd=t=>{if(typeof t!="string")return!1;let e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},Fn=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),Jn=function(){let t=(e,a)=>Object.defineProperty(String.prototype,e,Fn(a));t("fromBase64",function(){return Kr(this)}),t("toBase64",function(e){return it(this,e)}),t("toBase64URI",function(){return it(this,!0)}),t("toBase64URL",function(){return it(this,!0)}),t("toUint8Array",function(){return jn(this)})},Vn=function(){let t=(e,a)=>Object.defineProperty(Uint8Array.prototype,e,Fn(a));t("toBase64",function(e){return Na(this,e)}),t("toBase64URI",function(){return Na(this,!0)}),t("toBase64URL",function(){return Na(this,!0)})},_d=()=>{Jn(),Vn()},dt={version:Ln,VERSION:wd,atob:Gr,atobPolyfill:Un,btoa:jr,btoaPolyfill:Nn,fromBase64:Kr,toBase64:it,encode:it,encodeURI:Bn,encodeURL:Bn,utob:$n,btou:zn,decode:Kr,isValid:Cd,fromUint8Array:Na,toUint8Array:jn,extendString:Jn,extendUint8Array:Vn,extendBuiltins:_d};var ve="https://github.com/libsql/libsql-client-ts#supported-urls";function za(t){if(t==="write")return"BEGIN IMMEDIATE";if(t==="read")return"BEGIN TRANSACTION READONLY";if(t==="deferred")return"BEGIN DEFERRED";throw RangeError('Unknown transaction mode, supported values are "write", "read" and "deferred"')}var $a=class{columns;columnTypes;rows;rowsAffected;lastInsertRowid;constructor(e,a,r,n,o){this.columns=e,this.columnTypes=a,this.rows=r,this.rowsAffected=n,this.lastInsertRowid=o}toJSON(){return{columns:this.columns,columnTypes:this.columnTypes,rows:this.rows.map(qd),rowsAffected:this.rowsAffected,lastInsertRowid:this.lastInsertRowid!==void 0?""+this.lastInsertRowid:null}}};function qd(t){return Array.prototype.map.call(t,Rd)}function Rd(t){return typeof t=="bigint"?""+t:t instanceof ArrayBuffer?dt.fromUint8Array(new Uint8Array(t)):t}var Wn=":memory:";function Ua(t,e){if(typeof t!="object")throw new TypeError(`Expected client configuration as object, got ${typeof t}`);let{url:a,authToken:r,tls:n,intMode:o,concurrency:i}=t;i=Math.max(0,i||20),o??="number";let l=[];a===Wn&&(a="file::memory:");let d=Rn(a),u=d.scheme.toLowerCase(),h=u==="file"&&d.path===Wn&&d.authority===void 0,c;h?c={cache:{values:["shared","private"],update:(v,A)=>l.push(`${v}=${A}`)}}:c={tls:{values:["0","1"],update:(v,A)=>n=A==="1"},authToken:{update:(v,A)=>r=A}};for(let{key:v,value:A}of d.query?.pairs??[]){if(!Object.hasOwn(c,v))throw new P(`Unsupported URL query parameter ${JSON.stringify(v)}`,"URL_PARAM_NOT_SUPPORTED");let x=c[v];if(x.values!==void 0&&!x.values.includes(A))throw new P(`Unknown value for the "${v}" query argument: ${JSON.stringify(A)}. Supported values are: [${x.values.map(I=>'"'+I+'"').join(", ")}]`,"URL_INVALID");x.update!==void 0&&x?.update(v,A)}let m=l.length===0?"":`?${l.join("&")}`,g=d.path+m,k;if(u==="libsql")if(n===!1){if(d.authority?.port===void 0)throw new P('A "libsql:" URL with ?tls=0 must specify an explicit port',"URL_INVALID");k=e?"http":"ws"}else k=e?"https":"wss";else k=u;if(k==="http"||k==="ws"?n??=!1:n??=!0,k!=="http"&&k!=="ws"&&k!=="https"&&k!=="wss"&&k!=="file")throw new P(`The client supports only "libsql:", "wss:", "ws:", "https:", "http:" and "file:" URLs, got ${JSON.stringify(d.scheme+":")}. For more information, please read ${ve}`,"URL_SCHEME_NOT_SUPPORTED");if(o!=="number"&&o!=="bigint"&&o!=="string")throw new TypeError(`Invalid value for intMode, expected "number", "bigint" or "string", got ${JSON.stringify(o)}`);if(d.fragment!==void 0)throw new P(`URL fragments are not supported: ${JSON.stringify("#"+d.fragment)}`,"URL_INVALID");return h?{scheme:"file",tls:!1,path:g,intMode:o,concurrency:i,syncUrl:t.syncUrl,syncInterval:t.syncInterval,readYourWrites:t.readYourWrites,offline:t.offline,fetch:t.fetch,authToken:void 0,encryptionKey:void 0,authority:void 0}:{scheme:k,tls:n,authority:d.authority,path:g,authToken:r,intMode:o,concurrency:i,encryptionKey:t.encryptionKey,syncUrl:t.syncUrl,syncInterval:t.syncInterval,readYourWrites:t.readYourWrites,offline:t.offline,fetch:t.fetch}}import{WebSocket as Ka}from"ws";var Je=class{constructor(){this.intMode="number"}intMode};var B=class extends Error{constructor(e){super(e),this.name="ClientError"}},R=class extends B{constructor(e){super(e),this.name="ProtoError"}},ut=class extends B{code;proto;constructor(e,a){super(e),this.name="ResponseError",this.code=a.code,this.proto=a,this.stack=void 0}},G=class extends B{constructor(e,a){a!==void 0?(super(`${e}: ${a}`),this.cause=a):super(e),this.name="ClosedError"}},ct=class extends B{constructor(e){super(e),this.name="WebSocketUnsupportedError"}},Ve=class extends B{constructor(e){super(e),this.name="WebSocketError"}},Re=class extends B{status;constructor(e,a){super(e),this.status=a,this.name="HttpServerError"}};var ue=class extends B{constructor(e){super(e),this.name="ProtocolVersionError"}},te=class extends B{constructor(e){super(e),this.name="InternalError"}},me=class extends B{constructor(e){super(e),this.name="MisuseError"}};function ne(t){if(typeof t=="string")return t;throw ht(t,"string")}function ie(t){if(t!=null){if(typeof t=="string")return t;throw ht(t,"string or null")}}function ke(t){if(typeof t=="number")return t;throw ht(t,"number")}function Me(t){if(typeof t=="boolean")return t;throw ht(t,"boolean")}function Qt(t){if(Array.isArray(t))return t;throw ht(t,"array")}function Q(t){if(t!==null&&typeof t=="object"&&!Array.isArray(t))return t;throw ht(t,"object")}function pe(t,e){return Qt(t).map(a=>e(Q(a)))}function ht(t,e){if(t===void 0)return new R(`Expected ${e}, but the property was missing`);let a=typeof t;return t===null?a="null":Array.isArray(t)&&(a="array"),new R(`Expected ${e}, received ${a}`)}function We(t,e){return e(Q(t))}var Fr=class{#e;#t;constructor(e){this.#e=e,this.#t=!1}begin(){this.#e.push("{"),this.#t=!0}end(){this.#e.push("}"),this.#t=!1}#a(e){this.#t?(this.#e.push('"'),this.#t=!1):this.#e.push(',"'),this.#e.push(e),this.#e.push('":')}string(e,a){this.#a(e),this.#e.push(JSON.stringify(a))}stringRaw(e,a){this.#a(e),this.#e.push('"'),this.#e.push(a),this.#e.push('"')}number(e,a){this.#a(e),this.#e.push(""+a)}boolean(e,a){this.#a(e),this.#e.push(a?"true":"false")}object(e,a,r){this.#a(e),this.begin(),r(this,a),this.end()}arrayObjects(e,a,r){this.#a(e),this.#e.push("[");for(let n=0;n<a.length;++n)n!==0&&this.#e.push(","),this.begin(),r(this,a[n]),this.end();this.#e.push("]")}};function Yt(t,e){let a=[],r=new Fr(a);return r.begin(),e(r,t),r.end(),a.join("")}var Jr=class{#e;#t;#a;constructor(e){this.#e=e,this.#t=new DataView(e.buffer,e.byteOffset,e.byteLength),this.#a=0}varint(){let e=0;for(let a=0;;a+=7){let r=this.#e[this.#a++];if(e|=(r&127)<<a,!(r&128))break}return e}varintBig(){let e=0n;for(let a=0n;;a+=7n){let r=this.#e[this.#a++];if(e|=BigInt(r&127)<<a,!(r&128))break}return e}bytes(e){let a=new Uint8Array(this.#e.buffer,this.#e.byteOffset+this.#a,e);return this.#a+=e,a}double(){let e=this.#t.getFloat64(this.#a,!0);return this.#a+=8,e}skipVarint(){for(;this.#e[this.#a++]&128;);}skip(e){this.#a+=e}eof(){return this.#a>=this.#e.byteLength}},Vr=class{#e;#t;constructor(e){this.#e=e,this.#t=-1}setup(e){this.#t=e}#a(e){if(this.#t!==e)throw new R(`Expected wire type ${e}, got ${this.#t}`);this.#t=-1}bytes(){this.#a(2);let e=this.#e.varint();return this.#e.bytes(e)}string(){return new TextDecoder().decode(this.bytes())}message(e){return Te(this.bytes(),e)}int32(){return this.#a(0),this.#e.varint()}uint32(){return this.int32()}bool(){return this.int32()!==0}uint64(){return this.#a(0),this.#e.varintBig()}sint64(){let e=this.uint64();return e>>1n^-(e&1n)}double(){return this.#a(1),this.#e.double()}maybeSkip(){if(!(this.#t<0)){if(this.#t===0)this.#e.skipVarint();else if(this.#t===1)this.#e.skip(8);else if(this.#t===2){let e=this.#e.varint();this.#e.skip(e)}else if(this.#t===5)this.#e.skip(4);else throw new R(`Unexpected wire type ${this.#t}`);this.#t=-1}}};function Te(t,e){let a=new Jr(t),r=new Vr(a),n=e.default();for(;!a.eof();){let o=a.varint(),i=o>>3,l=o&7;r.setup(l);let d=e[i];if(d!==void 0){let u=d(r,n);u!==void 0&&(n=u)}r.maybeSkip()}return n}var Wr=class t{#e;#t;#a;#r;constructor(){this.#e=new ArrayBuffer(256),this.#t=new Uint8Array(this.#e),this.#a=new DataView(this.#e),this.#r=0}#s(e){if(this.#r+e<=this.#e.byteLength)return;let a=this.#e.byteLength;for(;a<this.#r+e;)a*=2;let r=new ArrayBuffer(a),n=new Uint8Array(r),o=new DataView(r);n.set(new Uint8Array(this.#e,0,this.#r)),this.#e=r,this.#t=n,this.#a=o}#n(e){this.#s(5),e=0|e;do{let a=e&127;e>>>=7,a|=e?128:0,this.#t[this.#r++]=a}while(e)}#i(e){this.#s(10),e=e&0xffffffffffffffffn;do{let a=Number(e&0x7fn);e>>=7n,a|=e?128:0,this.#t[this.#r++]=a}while(e)}#o(e,a){this.#n(e<<3|a)}bytes(e,a){this.#o(e,2),this.#n(a.byteLength),this.#s(a.byteLength),this.#t.set(a,this.#r),this.#r+=a.byteLength}string(e,a){this.bytes(e,new TextEncoder().encode(a))}message(e,a,r){let n=new t;r(n,a),this.bytes(e,n.data())}int32(e,a){this.#o(e,0),this.#n(a)}uint32(e,a){this.int32(e,a)}bool(e,a){this.int32(e,a?1:0)}sint64(e,a){this.#o(e,0),this.#i(a<<1n^a>>63n)}double(e,a){this.#o(e,1),this.#s(8),this.#a.setFloat64(this.#r,a,!0),this.#r+=8}data(){return new Uint8Array(this.#e,0,this.#r)}};function Zt(t,e){let a=new Wr;return e(a,t),a.data()}var xe=class{#e;#t;constructor(){this.#e=new Set,this.#t=new Set}alloc(){for(let a of this.#t)return this.#t.delete(a),this.#e.add(a),this.#e.has(this.#e.size-1)||this.#t.add(this.#e.size-1),a;let e=this.#e.size;return this.#e.add(e),e}free(e){if(!this.#e.delete(e))throw new te("Freeing an id that is not allocated");this.#t.delete(this.#e.size),e<this.#e.size&&this.#t.add(e)}};function L(t,e){throw new te(e)}function pt(t){if(t===null)return null;if(typeof t=="string")return t;if(typeof t=="number"){if(!Number.isFinite(t))throw new RangeError("Only finite numbers (not Infinity or NaN) can be passed as arguments");return t}else if(typeof t=="bigint"){if(t<Pd||t>Dd)throw new RangeError("This bigint value is too large to be represented as a 64-bit integer and passed as argument");return t}else{if(typeof t=="boolean")return t?1n:0n;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(t instanceof Uint8Array)return t;if(t instanceof Date)return+t.valueOf();if(typeof t=="object")return""+t.toString();throw new TypeError("Unsupported type of value")}}var Pd=-9223372036854775808n,Dd=9223372036854775807n;function Qr(t,e){if(t===null)return null;if(typeof t=="number")return t;if(typeof t=="string")return t;if(typeof t=="bigint")if(e==="number"){let a=Number(t);if(!Number.isSafeInteger(a))throw new RangeError("Received integer which is too large to be safely represented as a JavaScript number");return a}else{if(e==="bigint")return t;if(e==="string")return""+t;throw new me("Invalid value for IntMode")}else{if(t instanceof Uint8Array)return t.slice().buffer;throw t===void 0?new R("Received unrecognized type of Value"):L(t,"Impossible type of Value")}}function Qe(t){return{affectedRowCount:t.affectedRowCount,lastInsertRowid:t.lastInsertRowid,columnNames:t.cols.map(e=>e.name),columnDecltypes:t.cols.map(e=>e.decltype)}}function Ja(t,e){let a=Qe(t),r=t.rows.map(n=>Qn(a.columnNames,n,e));return{...a,rows:r}}function Va(t,e){let a=Qe(t),r;return t.rows.length>0&&(r=Qn(a.columnNames,t.rows[0],e)),{...a,row:r}}function Wa(t,e){let a=Qe(t),r;return t.rows.length>0&&a.columnNames.length>0&&(r=Qr(t.rows[0][0],e)),{...a,value:r}}function Qn(t,e,a){let r={};Object.defineProperty(r,"length",{value:e.length});for(let n=0;n<e.length;++n){let o=Qr(e[n],a);Object.defineProperty(r,n,{value:o});let i=t[n];i!==void 0&&!Object.hasOwn(r,i)&&Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0})}return r}function Ae(t){return new ut(t.message,t)}var Pe=class{#e;#t;#a;constructor(e,a){this.#e=e,this.#t=a,this.#a=void 0}_getSqlId(e){if(this.#e!==e)throw new me("Attempted to use SQL text opened with other object");if(this.#a!==void 0)throw new G("SQL text is closed",this.#a);return this.#t}close(){this._setClosed(new B("SQL text was manually closed"))}_setClosed(e){this.#a===void 0&&(this.#a=e,this.#e._closeSql(this.#t))}get closed(){return this.#a!==void 0}};function Xt(t,e){return e instanceof Pe?{sqlId:e._getSqlId(t)}:{sql:""+e}}var Se=class{#e;#t;constructor(){this.#e=[],this.#t=[]}get length(){return this.#e.length+this.#t.length}push(e){this.#e.push(e)}shift(){return this.#t.length===0&&this.#e.length>0&&(this.#t=this.#e.reverse(),this.#e=[]),this.#t.pop()}first(){return this.#t.length!==0?this.#t[this.#t.length-1]:this.#e[0]}};var ft=class{sql;_args;_namedArgs;constructor(e){this.sql=e,this._args=[],this._namedArgs=new Map}bindIndexes(e){this._args.length=0;for(let a of e)this._args.push(pt(a));return this}bindIndex(e,a){if(e!==(e|0)||e<=0)throw new RangeError("Index of a positional argument must be positive integer");for(;this._args.length<e;)this._args.push(null);return this._args[e-1]=pt(a),this}bindName(e,a){return this._namedArgs.set(e,pt(a)),this}unbindAll(){return this._args.length=0,this._namedArgs.clear(),this}};function Qa(t,e,a){let r,n=[],o=[];if(e instanceof ft){r=e.sql,n=e._args;for(let[d,u]of e._namedArgs.entries())o.push({name:d,value:u})}else Array.isArray(e)?(r=e[0],Array.isArray(e[1])?n=e[1].map(d=>pt(d)):o=Object.entries(e[1]).map(([d,u])=>({name:d,value:pt(u)}))):r=e;let{sql:i,sqlId:l}=Xt(t,r);return{sql:i,sqlId:l,args:n,namedArgs:o,wantRows:a}}var ea=class{_stream;#e;_steps;#t;constructor(e,a){this._stream=e,this.#e=a,this._steps=[],this.#t=!1}step(){return new Ya(this)}execute(){if(this.#t)throw new me("This batch has already been executed");this.#t=!0;let e={steps:this._steps.map(a=>a.proto)};return this.#e?Ld(this._stream,this._steps,e):Bd(this._stream,this._steps,e)}};function Bd(t,e,a){return t._batch(a).then(r=>{for(let n=0;n<e.length;++n){let o=r.stepResults.get(n),i=r.stepErrors.get(n);e[n].callback(o,i)}})}async function Ld(t,e,a){let r=await t._openCursor(a);try{let n=0,o,i=[];for(;;){let l=await r.next();if(l===void 0)break;if(l.type==="step_begin"){if(l.step<n||l.step>=e.length)throw new R("Server produced StepBeginEntry for unexpected step");if(o!==void 0)throw new R("Server produced StepBeginEntry before terminating previous step");for(let d=n;d<l.step;++d)e[d].callback(void 0,void 0);n=l.step+1,o=l,i=[]}else if(l.type==="step_end"){if(o===void 0)throw new R("Server produced StepEndEntry but no step is active");let d={cols:o.cols,rows:i,affectedRowCount:l.affectedRowCount,lastInsertRowid:l.lastInsertRowid};e[o.step].callback(d,void 0),o=void 0,i=[]}else if(l.type==="step_error"){if(o===void 0){if(l.step>=e.length)throw new R("Server produced StepErrorEntry for unexpected step");for(let d=n;d<l.step;++d)e[d].callback(void 0,void 0)}else{if(l.step!==o.step)throw new R("Server produced StepErrorEntry for unexpected step");o=void 0,i=[]}e[l.step].callback(void 0,l.error),n=l.step+1}else if(l.type==="row"){if(o===void 0)throw new R("Server produced RowEntry but no step is active");i.push(l.row)}else throw l.type==="error"?Ae(l.error):l.type==="none"?new R("Server produced unrecognized CursorEntry"):L(l,"Impossible CursorEntry")}if(o!==void 0)throw new R("Server closed Cursor before terminating active step");for(let l=n;l<e.length;++l)e[l].callback(void 0,void 0)}finally{r.close()}}var Ya=class{_batch;#e;_index;constructor(e){this._batch=e,this.#e=[],this._index=void 0}condition(e){return this.#e.push(e._proto),this}query(e){return this.#t(e,!0,Ja)}queryRow(e){return this.#t(e,!0,Va)}queryValue(e){return this.#t(e,!0,Wa)}run(e){return this.#t(e,!1,Qe)}#t(e,a,r){if(this._index!==void 0)throw new me("This BatchStep has already been added to the batch");let n=Qa(this._batch._stream._sqlOwner(),e,a),o;this.#e.length===0?o=void 0:this.#e.length===1?o=this.#e[0]:o={type:"and",conds:this.#e.slice()};let i={stmt:n,condition:o};return new Promise((l,d)=>{let u=(h,c)=>{h!==void 0&&c!==void 0?d(new R("Server returned both result and error")):c!==void 0?d(Ae(c)):l(h!==void 0?r(h,this._batch._stream.intMode):void 0)};this._index=this._batch._steps.length,this._batch._steps.push({proto:i,callback:u})})}},X=class t{_batch;_proto;constructor(e,a){this._batch=e,this._proto=a}static ok(e){return new t(e._batch,{type:"ok",step:Yn(e)})}static error(e){return new t(e._batch,{type:"error",step:Yn(e)})}static not(e){return new t(e._batch,{type:"not",cond:e._proto})}static and(e,a){for(let r of a)Zn(e,r);return new t(e,{type:"and",conds:a.map(r=>r._proto)})}static or(e,a){for(let r of a)Zn(e,r);return new t(e,{type:"or",conds:a.map(r=>r._proto)})}static isAutocommit(e){return e._stream.client()._ensureVersion(3,"BatchCond.isAutocommit()"),new t(e,{type:"is_autocommit"})}};function Yn(t){if(t._index===void 0)throw new me("Cannot add a condition referencing a step that has not been added to the batch");return t._index}function Zn(t,e){if(e._batch!==t)throw new me("Cannot mix BatchCond objects for different Batch objects")}function Xn(t){return{paramNames:t.params.map(e=>e.name),columns:t.cols,isExplain:t.isExplain,isReadonly:t.isReadonly}}var Ye=class{constructor(e){this.intMode=e}query(e){return this.#e(e,!0,Ja)}queryRow(e){return this.#e(e,!0,Va)}queryValue(e){return this.#e(e,!0,Wa)}run(e){return this.#e(e,!1,Qe)}#e(e,a,r){let n=Qa(this._sqlOwner(),e,a);return this._execute(n).then(o=>r(o,this.intMode))}batch(e=!1){return new ea(this,e)}describe(e){let a=Xt(this._sqlOwner(),e);return this._describe(a).then(Xn)}sequence(e){let a=Xt(this._sqlOwner(),e);return this._sequence(a)}intMode};var gt=class{};var Od=1e3,Hd=10,Za=class extends gt{#e;#t;#a;#r;#s;#n;#i;constructor(e,a,r){super(),this.#e=e,this.#t=a,this.#a=r,this.#r=new Se,this.#s=new Se,this.#n=void 0,this.#i=!1}async next(){for(;;){if(this.#n!==void 0)throw new G("Cursor is closed",this.#n);for(;!this.#i&&this.#s.length<Hd;)this.#s.push(this.#o());let e=this.#r.shift();if(this.#i||e!==void 0)return e;await this.#s.shift().then(a=>{if(a!==void 0){for(let r of a.entries)this.#r.push(r);this.#i||=a.done}})}}#o(){return this.#t._sendCursorRequest(this,{type:"fetch_cursor",cursorId:this.#a,maxCount:Od}).then(e=>e,e=>{this._setClosed(e)})}_setClosed(e){this.#n===void 0&&(this.#n=e,this.#t._sendCursorRequest(this,{type:"close_cursor",cursorId:this.#a}).catch(()=>{}),this.#t._cursorClosed(this))}close(){this._setClosed(new B("Cursor was manually closed"))}get closed(){return this.#n!==void 0}};var ta=class t extends Ye{#e;#t;#a;#r;#s;#n;static open(e){let a=e._streamIdAlloc.alloc(),r=new t(e,a),n=()=>{},o=l=>r.#d(l),i={type:"open_stream",streamId:a};return e._sendRequest(i,{responseCallback:n,errorCallback:o}),r}constructor(e,a){super(e.intMode),this.#e=e,this.#t=a,this.#a=new Se,this.#r=void 0,this.#s=!1,this.#n=void 0}client(){return this.#e}_sqlOwner(){return this.#e}_execute(e){return this.#i({type:"execute",streamId:this.#t,stmt:e}).then(a=>a.result)}_batch(e){return this.#i({type:"batch",streamId:this.#t,batch:e}).then(a=>a.result)}_describe(e){return this.#e._ensureVersion(2,"describe()"),this.#i({type:"describe",streamId:this.#t,sql:e.sql,sqlId:e.sqlId}).then(a=>a.result)}_sequence(e){return this.#e._ensureVersion(2,"sequence()"),this.#i({type:"sequence",streamId:this.#t,sql:e.sql,sqlId:e.sqlId}).then(a=>{})}getAutocommit(){return this.#e._ensureVersion(3,"getAutocommit()"),this.#i({type:"get_autocommit",streamId:this.#t}).then(e=>e.isAutocommit)}#i(e){return new Promise((a,r)=>{this.#o({type:"request",request:e,responseCallback:a,errorCallback:r})})}_openCursor(e){return this.#e._ensureVersion(3,"cursor"),new Promise((a,r)=>{this.#o({type:"cursor",batch:e,cursorCallback:a,errorCallback:r})})}_sendCursorRequest(e,a){if(e!==this.#r)throw new te("Cursor not associated with the stream attempted to execute a request");return new Promise((r,n)=>{this.#n!==void 0?n(new G("Stream is closed",this.#n)):this.#e._sendRequest(a,{responseCallback:r,errorCallback:n})})}_cursorClosed(e){if(e!==this.#r)throw new te("Cursor was closed, but it was not associated with the stream");this.#r=void 0,this.#l()}#o(e){this.#n!==void 0?e.errorCallback(new G("Stream is closed",this.#n)):this.#s?e.errorCallback(new G("Stream is closing",void 0)):(this.#a.push(e),this.#l())}#l(){for(;;){let e=this.#a.first();if(e===void 0&&this.#r===void 0&&this.#s){this.#d(new B("Stream was gracefully closed"));break}else if(e?.type==="request"&&this.#r===void 0){let{request:a,responseCallback:r,errorCallback:n}=e;this.#a.shift(),this.#e._sendRequest(a,{responseCallback:r,errorCallback:n})}else if(e?.type==="cursor"&&this.#r===void 0){let{batch:a,cursorCallback:r}=e;this.#a.shift();let n=this.#e._cursorIdAlloc.alloc(),o=new Za(this.#e,this,n),i={type:"open_cursor",streamId:this.#t,cursorId:n,batch:a},l=()=>{},d=u=>o._setClosed(u);this.#e._sendRequest(i,{responseCallback:l,errorCallback:d}),this.#r=o,r(o)}else break}}#d(e){if(this.#n!==void 0)return;for(this.#n=e,this.#r!==void 0&&this.#r._setClosed(e);;){let o=this.#a.shift();if(o!==void 0)o.errorCallback(e);else break}let a={type:"close_stream",streamId:this.#t},r=()=>this.#e._streamIdAlloc.free(this.#t),n=()=>{};this.#e._sendRequest(a,{responseCallback:r,errorCallback:n})}close(){this.#d(new B("Stream was manually closed"))}closeGracefully(){this.#s=!0,this.#l()}get closed(){return this.#n!==void 0||this.#s}};function aa(t,e){e.sql!==void 0&&t.string("sql",e.sql),e.sqlId!==void 0&&t.number("sql_id",e.sqlId),t.arrayObjects("args",e.args,eo),t.arrayObjects("named_args",e.namedArgs,Nd),t.boolean("want_rows",e.wantRows)}function Nd(t,e){t.string("name",e.name),t.object("value",e.value,eo)}function yt(t,e){t.arrayObjects("steps",e.steps,$d)}function $d(t,e){e.condition!==void 0&&t.object("condition",e.condition,Yr),t.object("stmt",e.stmt,aa)}function Yr(t,e){if(t.stringRaw("type",e.type),e.type==="ok"||e.type==="error")t.number("step",e.step);else if(e.type==="not")t.object("cond",e.cond,Yr);else if(e.type==="and"||e.type==="or")t.arrayObjects("conds",e.conds,Yr);else if(e.type!=="is_autocommit")throw L(e,"Impossible type of BatchCond")}function eo(t,e){if(e===null)t.stringRaw("type","null");else if(typeof e=="bigint")t.stringRaw("type","integer"),t.stringRaw("value",""+e);else if(typeof e=="number")t.stringRaw("type","float"),t.number("value",e);else if(typeof e=="string")t.stringRaw("type","text"),t.string("value",e);else if(e instanceof Uint8Array)t.stringRaw("type","blob"),t.stringRaw("base64",dt.fromUint8Array(e));else if(e!==void 0)throw L(e,"Impossible type of Value")}function to(t,e){if(t.stringRaw("type",e.type),e.type==="hello")e.jwt!==void 0&&t.string("jwt",e.jwt);else if(e.type==="request")t.number("request_id",e.requestId),t.object("request",e.request,zd);else throw L(e,"Impossible type of ClientMsg")}function zd(t,e){if(t.stringRaw("type",e.type),e.type==="open_stream")t.number("stream_id",e.streamId);else if(e.type==="close_stream")t.number("stream_id",e.streamId);else if(e.type==="execute")t.number("stream_id",e.streamId),t.object("stmt",e.stmt,aa);else if(e.type==="batch")t.number("stream_id",e.streamId),t.object("batch",e.batch,yt);else if(e.type==="open_cursor")t.number("stream_id",e.streamId),t.number("cursor_id",e.cursorId),t.object("batch",e.batch,yt);else if(e.type==="close_cursor")t.number("cursor_id",e.cursorId);else if(e.type==="fetch_cursor")t.number("cursor_id",e.cursorId),t.number("max_count",e.maxCount);else if(e.type==="sequence")t.number("stream_id",e.streamId),e.sql!==void 0&&t.string("sql",e.sql),e.sqlId!==void 0&&t.number("sql_id",e.sqlId);else if(e.type==="describe")t.number("stream_id",e.streamId),e.sql!==void 0&&t.string("sql",e.sql),e.sqlId!==void 0&&t.number("sql_id",e.sqlId);else if(e.type==="store_sql")t.number("sql_id",e.sqlId),t.string("sql",e.sql);else if(e.type==="close_sql")t.number("sql_id",e.sqlId);else if(e.type==="get_autocommit")t.number("stream_id",e.streamId);else throw L(e,"Impossible type of Request")}function ra(t,e){e.sql!==void 0&&t.string(1,e.sql),e.sqlId!==void 0&&t.int32(2,e.sqlId);for(let a of e.args)t.message(3,a,ro);for(let a of e.namedArgs)t.message(4,a,Ud);t.bool(5,e.wantRows)}function Ud(t,e){t.string(1,e.name),t.message(2,e.value,ro)}function bt(t,e){for(let a of e.steps)t.message(1,a,Kd)}function Kd(t,e){e.condition!==void 0&&t.message(1,e.condition,Zr),t.message(2,e.stmt,ra)}function Zr(t,e){if(e.type==="ok")t.uint32(1,e.step);else if(e.type==="error")t.uint32(2,e.step);else if(e.type==="not")t.message(3,e.cond,Zr);else if(e.type==="and")t.message(4,e.conds,ao);else if(e.type==="or")t.message(5,e.conds,ao);else if(e.type==="is_autocommit")t.message(6,void 0,so);else throw L(e,"Impossible type of BatchCond")}function ao(t,e){for(let a of e)t.message(1,a,Zr)}function ro(t,e){if(e===null)t.message(1,void 0,so);else if(typeof e=="bigint")t.sint64(2,e);else if(typeof e=="number")t.double(3,e);else if(typeof e=="string")t.string(4,e);else if(e instanceof Uint8Array)t.bytes(5,e);else if(e!==void 0)throw L(e,"Impossible type of Value")}function so(t,e){}function no(t,e){if(e.type==="hello")t.message(1,e,jd);else if(e.type==="request")t.message(2,e,Gd);else throw L(e,"Impossible type of ClientMsg")}function jd(t,e){e.jwt!==void 0&&t.string(1,e.jwt)}function Gd(t,e){t.int32(1,e.requestId);let a=e.request;if(a.type==="open_stream")t.message(2,a,Fd);else if(a.type==="close_stream")t.message(3,a,Jd);else if(a.type==="execute")t.message(4,a,Vd);else if(a.type==="batch")t.message(5,a,Wd);else if(a.type==="open_cursor")t.message(6,a,Qd);else if(a.type==="close_cursor")t.message(7,a,Yd);else if(a.type==="fetch_cursor")t.message(8,a,Zd);else if(a.type==="sequence")t.message(9,a,Xd);else if(a.type==="describe")t.message(10,a,eu);else if(a.type==="store_sql")t.message(11,a,tu);else if(a.type==="close_sql")t.message(12,a,au);else if(a.type==="get_autocommit")t.message(13,a,ru);else throw L(a,"Impossible type of Request")}function Fd(t,e){t.int32(1,e.streamId)}function Jd(t,e){t.int32(1,e.streamId)}function Vd(t,e){t.int32(1,e.streamId),t.message(2,e.stmt,ra)}function Wd(t,e){t.int32(1,e.streamId),t.message(2,e.batch,bt)}function Qd(t,e){t.int32(1,e.streamId),t.int32(2,e.cursorId),t.message(3,e.batch,bt)}function Yd(t,e){t.int32(1,e.cursorId)}function Zd(t,e){t.int32(1,e.cursorId),t.uint32(2,e.maxCount)}function Xd(t,e){t.int32(1,e.streamId),e.sql!==void 0&&t.string(2,e.sql),e.sqlId!==void 0&&t.int32(3,e.sqlId)}function eu(t,e){t.int32(1,e.streamId),e.sql!==void 0&&t.string(2,e.sql),e.sqlId!==void 0&&t.int32(3,e.sqlId)}function tu(t,e){t.int32(1,e.sqlId),t.string(2,e.sql)}function au(t,e){t.int32(1,e.sqlId)}function ru(t,e){t.int32(1,e.streamId)}function De(t){let e=ne(t.message),a=ie(t.code);return{message:e,code:a}}function sa(t){let e=pe(t.cols,oo),a=Qt(t.rows).map(i=>pe(i,io)),r=ke(t.affected_row_count),n=ie(t.last_insert_rowid),o=n!==void 0?BigInt(n):void 0;return{cols:e,rows:a,affectedRowCount:r,lastInsertRowid:o}}function oo(t){let e=ie(t.name),a=ie(t.decltype);return{name:e,decltype:a}}function Xa(t){let e=new Map;Qt(t.step_results).forEach((r,n)=>{r!==null&&e.set(n,sa(Q(r)))});let a=new Map;return Qt(t.step_errors).forEach((r,n)=>{r!==null&&a.set(n,De(Q(r)))}),{stepResults:e,stepErrors:a}}function er(t){let e=ne(t.type);if(e==="step_begin"){let a=ke(t.step),r=pe(t.cols,oo);return{type:"step_begin",step:a,cols:r}}else if(e==="step_end"){let a=ke(t.affected_row_count),r=ie(t.last_insert_rowid),n=r!==void 0?BigInt(r):void 0;return{type:"step_end",affectedRowCount:a,lastInsertRowid:n}}else if(e==="step_error"){let a=ke(t.step),r=De(Q(t.error));return{type:"step_error",step:a,error:r}}else{if(e==="row")return{type:"row",row:pe(t.row,io)};if(e==="error")return{type:"error",error:De(Q(t.error))};throw new R("Unexpected type of CursorEntry")}}function tr(t){let e=pe(t.params,su),a=pe(t.cols,nu),r=Me(t.is_explain),n=Me(t.is_readonly);return{params:e,cols:a,isExplain:r,isReadonly:n}}function su(t){return{name:ie(t.name)}}function nu(t){let e=ne(t.name),a=ie(t.decltype);return{name:e,decltype:a}}function io(t){let e=ne(t.type);if(e==="null")return null;if(e==="integer"){let a=ne(t.value);return BigInt(a)}else{if(e==="float")return ke(t.value);if(e==="text")return ne(t.value);if(e==="blob")return dt.toUint8Array(ne(t.base64));throw new R("Unexpected type of Value")}}function lo(t){let e=ne(t.type);if(e==="hello_ok")return{type:"hello_ok"};if(e==="hello_error")return{type:"hello_error",error:De(Q(t.error))};if(e==="response_ok"){let a=ke(t.request_id),r=ou(Q(t.response));return{type:"response_ok",requestId:a,response:r}}else if(e==="response_error"){let a=ke(t.request_id),r=De(Q(t.error));return{type:"response_error",requestId:a,error:r}}else throw new R("Unexpected type of ServerMsg")}function ou(t){let e=ne(t.type);if(e==="open_stream")return{type:"open_stream"};if(e==="close_stream")return{type:"close_stream"};if(e==="execute")return{type:"execute",result:sa(Q(t.result))};if(e==="batch")return{type:"batch",result:Xa(Q(t.result))};if(e==="open_cursor")return{type:"open_cursor"};if(e==="close_cursor")return{type:"close_cursor"};if(e==="fetch_cursor"){let a=pe(t.entries,er),r=Me(t.done);return{type:"fetch_cursor",entries:a,done:r}}else{if(e==="sequence")return{type:"sequence"};if(e==="describe")return{type:"describe",result:tr(Q(t.result))};if(e==="store_sql")return{type:"store_sql"};if(e==="close_sql")return{type:"close_sql"};if(e==="get_autocommit")return{type:"get_autocommit",isAutocommit:Me(t.is_autocommit)};throw new R("Unexpected type of Response")}}var ce={default(){return{message:"",code:void 0}},1(t,e){e.message=t.string()},2(t,e){e.code=t.string()}},Be={default(){return{cols:[],rows:[],affectedRowCount:0,lastInsertRowid:void 0}},1(t,e){e.cols.push(t.message(uo))},2(t,e){e.rows.push(t.message(co))},3(t,e){e.affectedRowCount=Number(t.uint64())},4(t,e){e.lastInsertRowid=t.sint64()}},uo={default(){return{name:void 0,decltype:void 0}},1(t,e){e.name=t.string()},2(t,e){e.decltype=t.string()}},co={default(){return[]},1(t,e){e.push(t.message(pu))}},wt={default(){return{stepResults:new Map,stepErrors:new Map}},1(t,e){let[a,r]=t.message(iu);e.stepResults.set(a,r)},2(t,e){let[a,r]=t.message(lu);e.stepErrors.set(a,r)}},iu={default(){return[0,Be.default()]},1(t,e){e[0]=t.uint32()},2(t,e){e[1]=t.message(Be)}},lu={default(){return[0,ce.default()]},1(t,e){e[0]=t.uint32()},2(t,e){e[1]=t.message(ce)}},ar={default(){return{type:"none"}},1(t){return t.message(du)},2(t){return t.message(uu)},3(t){return t.message(cu)},4(t){return{type:"row",row:t.message(co)}},5(t){return{type:"error",error:t.message(ce)}}},du={default(){return{type:"step_begin",step:0,cols:[]}},1(t,e){e.step=t.uint32()},2(t,e){e.cols.push(t.message(uo))}},uu={default(){return{type:"step_end",affectedRowCount:0,lastInsertRowid:void 0}},1(t,e){e.affectedRowCount=t.uint32()},2(t,e){e.lastInsertRowid=t.uint64()}},cu={default(){return{type:"step_error",step:0,error:ce.default()}},1(t,e){e.step=t.uint32()},2(t,e){e.error=t.message(ce)}},vt={default(){return{params:[],cols:[],isExplain:!1,isReadonly:!1}},1(t,e){e.params.push(t.message(hu))},2(t,e){e.cols.push(t.message(mu))},3(t,e){e.isExplain=t.bool()},4(t,e){e.isReadonly=t.bool()}},hu={default(){return{name:void 0}},1(t,e){e.name=t.string()}},mu={default(){return{name:"",decltype:void 0}},1(t,e){e.name=t.string()},2(t,e){e.decltype=t.string()}},pu={default(){},1(t){return null},2(t){return t.sint64()},3(t){return t.double()},4(t){return t.string()},5(t){return t.bytes()}};var ho={default(){return{type:"none"}},1(t){return{type:"hello_ok"}},2(t){return t.message(fu)},3(t){return t.message(yu)},4(t){return t.message(gu)}},fu={default(){return{type:"hello_error",error:ce.default()}},1(t,e){e.error=t.message(ce)}},gu={default(){return{type:"response_error",requestId:0,error:ce.default()}},1(t,e){e.requestId=t.int32()},2(t,e){e.error=t.message(ce)}},yu={default(){return{type:"response_ok",requestId:0,response:{type:"none"}}},1(t,e){e.requestId=t.int32()},2(t,e){e.response={type:"open_stream"}},3(t,e){e.response={type:"close_stream"}},4(t,e){e.response=t.message(bu)},5(t,e){e.response=t.message(wu)},6(t,e){e.response={type:"open_cursor"}},7(t,e){e.response={type:"close_cursor"}},8(t,e){e.response=t.message(vu)},9(t,e){e.response={type:"sequence"}},10(t,e){e.response=t.message(ku)},11(t,e){e.response={type:"store_sql"}},12(t,e){e.response={type:"close_sql"}},13(t,e){e.response=t.message(xu)}},bu={default(){return{type:"execute",result:Be.default()}},1(t,e){e.result=t.message(Be)}},wu={default(){return{type:"batch",result:wt.default()}},1(t,e){e.result=t.message(wt)}},vu={default(){return{type:"fetch_cursor",entries:[],done:!1}},1(t,e){e.entries.push(t.message(ar))},2(t,e){e.done=t.bool()}},ku={default(){return{type:"describe",result:vt.default()}},1(t,e){e.result=t.message(vt)}},xu={default(){return{type:"get_autocommit",isAutocommit:!1}},1(t,e){e.isAutocommit=t.bool()}};var mo=new Map([["hrana2",{version:2,encoding:"json"}],["hrana1",{version:1,encoding:"json"}]]),Xr=new Map([["hrana3-protobuf",{version:3,encoding:"protobuf"}],["hrana3",{version:3,encoding:"json"}],["hrana2",{version:2,encoding:"json"}],["hrana1",{version:1,encoding:"json"}]]),na=class extends Je{#e;#t;#a;#r;#s;#n;#i;#o;#l;_streamIdAlloc;_cursorIdAlloc;#d;constructor(e,a){super(),this.#e=e,this.#t=[],this.#a=!1,this.#r=void 0,this.#s=!1,this.#n=void 0,this.#i=!1,this.#o=new Map,this.#l=new xe,this._streamIdAlloc=new xe,this._cursorIdAlloc=new xe,this.#d=new xe,this.#e.binaryType="arraybuffer",this.#e.addEventListener("open",()=>this.#m()),this.#e.addEventListener("close",r=>this.#p(r)),this.#e.addEventListener("error",r=>this.#f(r)),this.#e.addEventListener("message",r=>this.#y(r)),this.#c({type:"hello",jwt:a})}#c(e){if(this.#r!==void 0)throw new te("Trying to send a message on a closed client");if(this.#a)this.#u(e);else{let a=()=>this.#u(e),r=()=>{};this.#t.push({openCallback:a,errorCallback:r})}}#m(){let e=this.#e.protocol;if(e===void 0){this.#h(new B("The `WebSocket.protocol` property is undefined. This most likely means that the WebSocket implementation provided by the environment is broken. If you are using Miniflare 2, please update to Miniflare 3, which fixes this problem."));return}else if(e==="")this.#n={version:1,encoding:"json"};else if(this.#n=Xr.get(e),this.#n===void 0){this.#h(new R(`Unrecognized WebSocket subprotocol: ${JSON.stringify(e)}`));return}for(let a of this.#t)a.openCallback();this.#t.length=0,this.#a=!0}#u(e){let a=this.#n.encoding;if(a==="json"){let r=Yt(e,to);this.#e.send(r)}else if(a==="protobuf"){let r=Zt(e,no);this.#e.send(r)}else throw L(a,"Impossible encoding")}getVersion(){return new Promise((e,a)=>{if(this.#i=!0,this.#r!==void 0)a(this.#r);else if(this.#a)e(this.#n.version);else{let r=()=>e(this.#n.version);this.#t.push({openCallback:r,errorCallback:a})}})}_ensureVersion(e,a){if(this.#n===void 0||!this.#i)throw new ue(`${a} is supported only on protocol version ${e} and higher, but the version supported by the WebSocket server is not yet known. Use Client.getVersion() to wait until the version is available.`);if(this.#n.version<e)throw new ue(`${a} is supported on protocol version ${e} and higher, but the WebSocket server only supports version ${this.#n.version}`)}_sendRequest(e,a){if(this.#r!==void 0){a.errorCallback(new G("Client is closed",this.#r));return}let r=this.#l.alloc();this.#o.set(r,{...a,type:e.type}),this.#c({type:"request",requestId:r,request:e})}#f(e){let r=e.message??"WebSocket was closed due to an error";this.#h(new Ve(r))}#p(e){let a=`WebSocket was closed with code ${e.code}`;e.reason&&(a+=`: ${e.reason}`),this.#h(new Ve(a))}#h(e){if(this.#r===void 0){this.#r=e;for(let a of this.#t)a.errorCallback(e);this.#t.length=0;for(let[a,r]of this.#o.entries())r.errorCallback(e),this.#l.free(a);this.#o.clear(),this.#e.close()}}#y(e){if(this.#r===void 0)try{let a,r=this.#n.encoding;if(r==="json"){if(typeof e.data!="string"){this.#e.close(3003,"Only text messages are accepted with JSON encoding"),this.#h(new R("Received non-text message from server with JSON encoding"));return}a=We(JSON.parse(e.data),lo)}else if(r==="protobuf"){if(!(e.data instanceof ArrayBuffer)){this.#e.close(3003,"Only binary messages are accepted with Protobuf encoding"),this.#h(new R("Received non-binary message from server with Protobuf encoding"));return}a=Te(new Uint8Array(e.data),ho)}else throw L(r,"Impossible encoding");this.#g(a)}catch(a){this.#e.close(3007,"Could not handle message"),this.#h(a)}}#g(e){if(e.type==="none")throw new R("Received an unrecognized ServerMsg");if(e.type==="hello_ok"||e.type==="hello_error"){if(this.#s)throw new R("Received a duplicated hello response");if(this.#s=!0,e.type==="hello_error")throw Ae(e.error);return}else if(!this.#s)throw new R("Received a non-hello message before a hello response");if(e.type==="response_ok"){let a=e.requestId,r=this.#o.get(a);if(this.#o.delete(a),r===void 0)throw new R("Received unexpected OK response");this.#l.free(a);try{if(r.type!==e.response.type)throw console.dir({responseState:r,msg:e}),new R("Received unexpected type of response");r.responseCallback(e.response)}catch(n){throw r.errorCallback(n),n}}else if(e.type==="response_error"){let a=e.requestId,r=this.#o.get(a);if(this.#o.delete(a),r===void 0)throw new R("Received unexpected error response");this.#l.free(a),r.errorCallback(Ae(e.error))}else throw L(e,"Impossible ServerMsg type")}openStream(){return ta.open(this)}storeSql(e){this._ensureVersion(2,"storeSql()");let a=this.#d.alloc(),r=new Pe(this,a),n=()=>{},o=l=>r._setClosed(l),i={type:"store_sql",sqlId:a,sql:e};return this._sendRequest(i,{responseCallback:n,errorCallback:o}),r}_closeSql(e){if(this.#r!==void 0)return;let a=()=>this.#d.free(e),r=o=>this.#h(o),n={type:"close_sql",sqlId:e};this._sendRequest(n,{responseCallback:a,errorCallback:r})}close(){this.#h(new B("Client was manually closed"))}get closed(){return this.#r!==void 0}};var oa=Request,es=Headers,ts=fetch;var Ze;if(typeof queueMicrotask<"u")Ze=queueMicrotask;else{let t=Promise.resolve();Ze=e=>{t.then(e)}}var rr=class{#e;#t;#a;constructor(e){this.#e=new Uint8Array(new ArrayBuffer(e)),this.#t=0,this.#a=0}get length(){return this.#a-this.#t}data(){return this.#e.slice(this.#t,this.#a)}push(e){this.#r(e.byteLength),this.#e.set(e,this.#a),this.#a+=e.byteLength}#r(e){if(this.#a+e<=this.#e.byteLength)return;let a=this.#a-this.#t;if(a+e<=this.#e.byteLength&&2*this.#a>=this.#e.byteLength)this.#e.copyWithin(0,this.#t,this.#a);else{let r=this.#e.byteLength;do r*=2;while(a+e>r);let n=new Uint8Array(new ArrayBuffer(r));n.set(this.#e.slice(this.#t,this.#a),0),this.#e=n}this.#a=a,this.#t=0}shift(e){this.#t+=e}};function po(t){let e=ie(t.baton),a=ie(t.base_url),r=pe(t.results,Au);return{baton:e,baseUrl:a,results:r}}function Au(t){let e=ne(t.type);if(e==="ok")return{type:"ok",response:Su(Q(t.response))};if(e==="error")return{type:"error",error:De(Q(t.error))};throw new R("Unexpected type of StreamResult")}function Su(t){let e=ne(t.type);if(e==="close")return{type:"close"};if(e==="execute")return{type:"execute",result:sa(Q(t.result))};if(e==="batch")return{type:"batch",result:Xa(Q(t.result))};if(e==="sequence")return{type:"sequence"};if(e==="describe")return{type:"describe",result:tr(Q(t.result))};if(e==="store_sql")return{type:"store_sql"};if(e==="close_sql")return{type:"close_sql"};if(e==="get_autocommit")return{type:"get_autocommit",isAutocommit:Me(t.is_autocommit)};throw new R("Unexpected type of StreamResponse")}function fo(t){let e=ie(t.baton),a=ie(t.base_url);return{baton:e,baseUrl:a}}var go={default(){return{baton:void 0,baseUrl:void 0,results:[]}},1(t,e){e.baton=t.string()},2(t,e){e.baseUrl=t.string()},3(t,e){e.results.push(t.message(Iu))}},Iu={default(){return{type:"none"}},1(t){return{type:"ok",response:t.message(Eu)}},2(t){return{type:"error",error:t.message(ce)}}},Eu={default(){return{type:"none"}},1(t){return{type:"close"}},2(t){return t.message(Cu)},3(t){return t.message(_u)},4(t){return{type:"sequence"}},5(t){return t.message(qu)},6(t){return{type:"store_sql"}},7(t){return{type:"close_sql"}},8(t){return t.message(Ru)}},Cu={default(){return{type:"execute",result:Be.default()}},1(t,e){e.result=t.message(Be)}},_u={default(){return{type:"batch",result:wt.default()}},1(t,e){e.result=t.message(wt)}},qu={default(){return{type:"describe",result:vt.default()}},1(t,e){e.result=t.message(vt)}},Ru={default(){return{type:"get_autocommit",isAutocommit:!1}},1(t,e){e.isAutocommit=t.bool()}},yo={default(){return{baton:void 0,baseUrl:void 0}},1(t,e){e.baton=t.string()},2(t,e){e.baseUrl=t.string()}};var sr=class extends gt{#e;#t;#a;#r;#s;#n;constructor(e,a){super(),this.#e=e,this.#t=a,this.#a=void 0,this.#r=new rr(16*1024),this.#s=void 0,this.#n=!1}async open(e){if(e.body===null)throw new R("No response body for cursor request");this.#a=e.body.getReader();let a=await this.#i(fo,yo);if(a===void 0)throw new R("Empty response to cursor request");return a}next(){return this.#i(er,ar)}close(){this._setClosed(new B("Cursor was manually closed"))}_setClosed(e){this.#s===void 0&&(this.#s=e,this.#e._cursorClosed(this),this.#a!==void 0&&this.#a.cancel())}get closed(){return this.#s!==void 0}async#i(e,a){for(;;){if(this.#n)return;if(this.#s!==void 0)throw new G("Cursor is closed",this.#s);if(this.#t==="json"){let o=this.#o();if(o!==void 0){let i=new TextDecoder().decode(o),l=JSON.parse(i);return We(l,e)}}else if(this.#t==="protobuf"){let o=this.#l();if(o!==void 0)return Te(o,a)}else throw L(this.#t,"Impossible encoding");if(this.#a===void 0)throw new te("Attempted to read from HTTP cursor before it was opened");let{value:r,done:n}=await this.#a.read();if(n&&this.#r.length===0)this.#n=!0;else{if(n)throw new R("Unexpected end of cursor stream");this.#r.push(r)}}}#o(){let e=this.#r.data(),r=e.indexOf(10);if(r<0)return;let n=e.slice(0,r);return this.#r.shift(r+1),n}#l(){let e=this.#r.data(),a=0,r=0;for(;;){if(r>=e.byteLength)return;let o=e[r];if(a|=(o&127)<<7*r,r+=1,!(o&128))break}if(e.byteLength<r+a)return;let n=e.slice(r,r+a);return this.#r.shift(r+a),n}};function bo(t,e){e.baton!==void 0&&t.string("baton",e.baton),t.arrayObjects("requests",e.requests,Mu)}function Mu(t,e){if(t.stringRaw("type",e.type),e.type!=="close"){if(e.type==="execute")t.object("stmt",e.stmt,aa);else if(e.type==="batch")t.object("batch",e.batch,yt);else if(e.type==="sequence")e.sql!==void 0&&t.string("sql",e.sql),e.sqlId!==void 0&&t.number("sql_id",e.sqlId);else if(e.type==="describe")e.sql!==void 0&&t.string("sql",e.sql),e.sqlId!==void 0&&t.number("sql_id",e.sqlId);else if(e.type==="store_sql")t.number("sql_id",e.sqlId),t.string("sql",e.sql);else if(e.type==="close_sql")t.number("sql_id",e.sqlId);else if(e.type!=="get_autocommit")throw L(e,"Impossible type of StreamRequest")}}function wo(t,e){e.baton!==void 0&&t.string("baton",e.baton),t.object("batch",e.batch,yt)}function vo(t,e){e.baton!==void 0&&t.string(1,e.baton);for(let a of e.requests)t.message(2,a,Tu)}function Tu(t,e){if(e.type==="close")t.message(1,e,Pu);else if(e.type==="execute")t.message(2,e,Du);else if(e.type==="batch")t.message(3,e,Bu);else if(e.type==="sequence")t.message(4,e,Lu);else if(e.type==="describe")t.message(5,e,Ou);else if(e.type==="store_sql")t.message(6,e,Hu);else if(e.type==="close_sql")t.message(7,e,Nu);else if(e.type==="get_autocommit")t.message(8,e,$u);else throw L(e,"Impossible type of StreamRequest")}function Pu(t,e){}function Du(t,e){t.message(1,e.stmt,ra)}function Bu(t,e){t.message(1,e.batch,bt)}function Lu(t,e){e.sql!==void 0&&t.string(1,e.sql),e.sqlId!==void 0&&t.int32(2,e.sqlId)}function Ou(t,e){e.sql!==void 0&&t.string(1,e.sql),e.sqlId!==void 0&&t.int32(2,e.sqlId)}function Hu(t,e){t.int32(1,e.sqlId),t.string(2,e.sql)}function Nu(t,e){t.int32(1,e.sqlId)}function $u(t,e){}function ko(t,e){e.baton!==void 0&&t.string(1,e.baton),t.message(2,e.batch,bt)}var ia=class extends Ye{#e;#t;#a;#r;#s;#n;#i;#o;#l;#d;#c;#m;constructor(e,a,r,n){super(e.intMode),this.#e=e,this.#t=a.toString(),this.#a=r,this.#r=n,this.#s=void 0,this.#n=new Se,this.#i=!1,this.#l=!1,this.#d=!1,this.#c=void 0,this.#m=new xe}client(){return this.#e}_sqlOwner(){return this}storeSql(e){let a=this.#m.alloc();return this.#u({type:"store_sql",sqlId:a,sql:e}).then(()=>{},r=>this._setClosed(r)),new Pe(this,a)}_closeSql(e){this.#c===void 0&&this.#u({type:"close_sql",sqlId:e}).then(()=>this.#m.free(e),a=>this._setClosed(a))}_execute(e){return this.#u({type:"execute",stmt:e}).then(a=>a.result)}_batch(e){return this.#u({type:"batch",batch:e}).then(a=>a.result)}_describe(e){return this.#u({type:"describe",sql:e.sql,sqlId:e.sqlId}).then(a=>a.result)}_sequence(e){return this.#u({type:"sequence",sql:e.sql,sqlId:e.sqlId}).then(a=>{})}getAutocommit(){return this.#e._ensureVersion(3,"getAutocommit()"),this.#u({type:"get_autocommit"}).then(e=>e.isAutocommit)}#u(e){return new Promise((a,r)=>{this.#f({type:"pipeline",request:e,responseCallback:a,errorCallback:r})})}_openCursor(e){return new Promise((a,r)=>{this.#f({type:"cursor",batch:e,cursorCallback:a,errorCallback:r})})}_cursorClosed(e){if(e!==this.#o)throw new te("Cursor was closed, but it was not associated with the stream");this.#o=void 0,Ze(()=>this.#p())}close(){this._setClosed(new B("Stream was manually closed"))}closeGracefully(){this.#l=!0,Ze(()=>this.#p())}get closed(){return this.#c!==void 0||this.#l}_setClosed(e){if(this.#c===void 0){for(this.#c=e,this.#o!==void 0&&this.#o._setClosed(e),this.#e._streamClosed(this);;){let a=this.#n.shift();if(a!==void 0)a.errorCallback(e);else break}(this.#s!==void 0||this.#i)&&!this.#d&&(this.#n.push({type:"pipeline",request:{type:"close"},responseCallback:()=>{},errorCallback:()=>{}}),this.#d=!0,Ze(()=>this.#p()))}}#f(e){if(this.#c!==void 0)throw new G("Stream is closed",this.#c);if(this.#l)throw new G("Stream is closing",void 0);this.#n.push(e),Ze(()=>this.#p())}#p(){if(this.#i||this.#o!==void 0)return;if(this.#l&&this.#n.length===0){this._setClosed(new B("Stream was gracefully closed"));return}let e=this.#e._endpoint;if(e===void 0){this.#e._endpointPromise.then(()=>this.#p(),r=>this._setClosed(r));return}let a=this.#n.shift();if(a!==void 0)if(a.type==="pipeline"){let r=[a];for(;;){let n=this.#n.first();if(n!==void 0&&n.type==="pipeline")r.push(n),this.#n.shift();else if(n===void 0&&this.#l&&!this.#d){r.push({type:"pipeline",request:{type:"close"},responseCallback:()=>{},errorCallback:()=>{}}),this.#d=!0;break}else break}this.#h(e,r)}else if(a.type==="cursor")this.#y(e,a);else throw L(a,"Impossible type of QueueEntry")}#h(e,a){this.#g(()=>this.#w(a,e),r=>Uu(r,e.encoding),r=>r.baton,r=>r.baseUrl,r=>zu(a,r),r=>a.forEach(n=>n.errorCallback(r)))}#y(e,a){let r=new sr(this,e.encoding);this.#o=r,this.#g(()=>this.#v(a,e),n=>r.open(n),n=>n.baton,n=>n.baseUrl,n=>a.cursorCallback(r),n=>a.errorCallback(n))}#g(e,a,r,n,o,i){let l;try{let d=e(),u=this.#r;l=u(d)}catch(d){l=Promise.reject(d)}this.#i=!0,l.then(d=>d.ok?a(d):Ku(d).then(u=>{throw u})).then(d=>{this.#s=r(d),this.#t=n(d)??this.#t,o(d)}).catch(d=>{this._setClosed(d),i(d)}).finally(()=>{this.#i=!1,this.#p()})}#w(e,a){return this.#b(new URL(a.pipelinePath,this.#t),{baton:this.#s,requests:e.map(r=>r.request)},a.encoding,bo,vo)}#v(e,a){if(a.cursorPath===void 0)throw new ue(`Cursors are supported only on protocol version 3 and higher, but the HTTP server only supports version ${a.version}.`);return this.#b(new URL(a.cursorPath,this.#t),{baton:this.#s,batch:e.batch},a.encoding,wo,ko)}#b(e,a,r,n,o){let i,l;if(r==="json")i=Yt(a,n),l="application/json";else if(r==="protobuf")i=Zt(a,o),l="application/x-protobuf";else throw L(r,"Impossible encoding");let d=new es;return d.set("content-type",l),this.#a!==void 0&&d.set("authorization",`Bearer ${this.#a}`),new oa(e.toString(),{method:"POST",headers:d,body:i})}};function zu(t,e){if(e.results.length!==t.length)throw new R("Server returned unexpected number of pipeline results");for(let a=0;a<t.length;++a){let r=e.results[a],n=t[a];if(r.type==="ok"){if(r.response.type!==n.request.type)throw new R("Received unexpected type of response");n.responseCallback(r.response)}else if(r.type==="error")n.errorCallback(Ae(r.error));else throw r.type==="none"?new R("Received unrecognized type of StreamResult"):L(r,"Received impossible type of StreamResult")}}async function Uu(t,e){if(e==="json"){let a=await t.json();return We(a,po)}if(e==="protobuf"){let a=await t.arrayBuffer();return Te(new Uint8Array(a),go)}throw await t.body?.cancel(),L(e,"Impossible encoding")}async function Ku(t){let e=t.headers.get("content-type")??"text/plain",a=`Server returned HTTP status ${t.status}`;if(e==="application/json"){let r=await t.json();return"message"in r?Ae(r):new Re(a,t.status)}if(e==="text/plain"){let r=(await t.text()).trim();return r!==""&&(a+=`: ${r}`),new Re(a,t.status)}return await t.body?.cancel(),new Re(a,t.status)}var ju=[{versionPath:"v3-protobuf",pipelinePath:"v3-protobuf/pipeline",cursorPath:"v3-protobuf/cursor",version:3,encoding:"protobuf"}],as={versionPath:"v2",pipelinePath:"v2/pipeline",cursorPath:void 0,version:2,encoding:"json"},la=class extends Je{#e;#t;#a;#r;#s;_endpointPromise;_endpoint;constructor(e,a,r,n=2){super(),this.#e=e,this.#t=a,this.#a=r??ts,this.#r=void 0,this.#s=new Set,n==3?(this._endpointPromise=Gu(this.#a,this.#e),this._endpointPromise.then(o=>this._endpoint=o,o=>this.#n(o))):(this._endpointPromise=Promise.resolve(as),this._endpointPromise.then(o=>this._endpoint=o,o=>this.#n(o)))}async getVersion(){return this._endpoint!==void 0?this._endpoint.version:(await this._endpointPromise).version}_ensureVersion(e,a){if(!(e<=as.version)){if(this._endpoint===void 0)throw new ue(`${a} is supported only on protocol version ${e} and higher, but the version supported by the HTTP server is not yet known. Use Client.getVersion() to wait until the version is available.`);if(this._endpoint.version<e)throw new ue(`${a} is supported only on protocol version ${e} and higher, but the HTTP server only supports version ${this._endpoint.version}.`)}}openStream(){if(this.#r!==void 0)throw new G("Client is closed",this.#r);let e=new ia(this,this.#e,this.#t,this.#a);return this.#s.add(e),e}_streamClosed(e){this.#s.delete(e)}close(){this.#n(new B("Client was manually closed"))}get closed(){return this.#r!==void 0}#n(e){if(this.#r===void 0){this.#r=e;for(let a of Array.from(this.#s))a._setClosed(new G("Client was closed",e))}}};async function Gu(t,e){let a=t;for(let r of ju){let n=new URL(r.versionPath,e),o=new oa(n.toString(),{method:"GET"}),i=await a(o);if(await i.arrayBuffer(),i.ok)return r}return as}function rs(t,e,a=2){if(typeof Ka>"u")throw new ct("WebSockets are not supported in this environment");var r=void 0;a==3?r=Array.from(Xr.keys()):r=Array.from(mo.keys());let n=new Ka(t,r);return new na(n,e)}function ss(t,e,a,r=2){return new la(t instanceof URL?t:new URL(t),e,a,r)}var kt=class{#e;#t;#a;constructor(e,a){this.#e=e,this.#t=a,this.#a=void 0}execute(e){return this.batch([e]).then(a=>a[0])}async batch(e){let a=this._getStream();if(a.closed)throw new P("Cannot execute statements because the transaction is closed","TRANSACTION_CLOSED");try{let r=e.map(Ie),n;if(this.#a===void 0){this._getSqlCache().apply(r);let i=a.batch(this.#t>=3),l=i.step(),d=l.run(za(this.#e)),u=l;n=r.map(h=>{let c=i.step().condition(X.ok(u));this.#t>=3&&c.condition(X.not(X.isAutocommit(i)));let m=c.query(h);return m.catch(()=>{}),u=c,m}),this.#a=i.execute().then(()=>d).then(()=>{});try{await this.#a}catch(h){throw this.close(),h}}else{this.#t<3&&await this.#a,this._getSqlCache().apply(r);let i=a.batch(this.#t>=3),l;n=r.map(d=>{let u=i.step();l!==void 0&&u.condition(X.ok(l)),this.#t>=3&&u.condition(X.not(X.isAutocommit(i)));let h=u.query(d);return h.catch(()=>{}),l=u,h}),await i.execute()}let o=[];for(let i of n){let l=await i;if(l===void 0)throw new P("Statement in a transaction was not executed, probably because the transaction has been rolled back","TRANSACTION_CLOSED");o.push(At(l))}return o}catch(r){throw F(r)}}async executeMultiple(e){let a=this._getStream();if(a.closed)throw new P("Cannot execute statements because the transaction is closed","TRANSACTION_CLOSED");try{if(this.#a===void 0){this.#a=a.run(za(this.#e)).then(()=>{});try{await this.#a}catch(r){throw this.close(),r}}else await this.#a;await a.sequence(e)}catch(r){throw F(r)}}async rollback(){try{let e=this._getStream();if(e.closed||this.#a===void 0)return;let a=e.run("ROLLBACK").catch(r=>{throw F(r)});e.closeGracefully(),await a}catch(e){throw F(e)}finally{this.close()}}async commit(){try{let e=this._getStream();if(e.closed)throw new P("Cannot commit the transaction because it is already closed","TRANSACTION_CLOSED");if(this.#a!==void 0)await this.#a;else return;let a=e.run("COMMIT").catch(r=>{throw F(r)});e.closeGracefully(),await a}catch(e){throw F(e)}finally{this.close()}}};async function xt(t,e,a,r,n=!1){n&&a.step().run("PRAGMA foreign_keys=off");let o=a.step(),i=o.run(za(t)),l=o,d=r.map(g=>{let k=a.step().condition(X.ok(l));e>=3&&k.condition(X.not(X.isAutocommit(a)));let v=k.query(g);return l=k,v}),u=a.step().condition(X.ok(l));e>=3&&u.condition(X.not(X.isAutocommit(a)));let h=u.run("COMMIT");a.step().condition(X.not(X.ok(u))).run("ROLLBACK").catch(g=>{}),n&&a.step().run("PRAGMA foreign_keys=on"),await a.execute();let m=[];await i;for(let g of d){let k=await g;if(k===void 0)throw new P("Statement in a batch was not executed, probably because the transaction has been rolled back","TRANSACTION_CLOSED");m.push(At(k))}return await h,m}function Ie(t){let e,a;Array.isArray(t)?[e,a]=t:typeof t=="string"?e=t:(e=t.sql,a=t.args);let r=new ft(e);if(a)if(Array.isArray(a))r.bindIndexes(a);else for(let[n,o]of Object.entries(a))r.bindName(n,o);return r}function At(t){let e=t.columnNames.map(i=>i??""),a=t.columnDecltypes.map(i=>i??""),r=t.rows,n=t.affectedRowCount,o=t.lastInsertRowid!==void 0?t.lastInsertRowid:void 0;return new $a(e,a,r,n,o)}function F(t){if(t instanceof B){let e=xo(t);return new P(t.message,e,void 0,t)}return t}function xo(t){return t instanceof ut&&t.code!==void 0?t.code:t instanceof R?"HRANA_PROTO_ERROR":t instanceof G?t.cause instanceof B?xo(t.cause):"HRANA_CLOSED_ERROR":t instanceof Ve?"HRANA_WEBSOCKET_ERROR":t instanceof Re?"SERVER_ERROR":t instanceof ue?"PROTOCOL_VERSION_ERROR":t instanceof te?"INTERNAL_ERROR":"UNKNOWN"}var Xe=class{#e;#t;capacity;constructor(e,a){this.#e=e,this.#t=new os,this.capacity=a}apply(e){if(this.capacity<=0)return;let a=new Set;for(let r of e){if(typeof r.sql!="string")continue;let n=r.sql;if(n.length>=5e3)continue;let o=this.#t.get(n);if(o===void 0){for(;this.#t.size+1>this.capacity;){let[i,l]=this.#t.peekLru();if(a.has(l))break;l.close(),this.#t.delete(i)}this.#t.size+1<=this.capacity&&(o=this.#e.storeSql(n),this.#t.set(n,o))}o!==void 0&&(r.sql=o,a.add(o))}}},os=class{#e;constructor(){this.#e=new Map}get(e){let a=this.#e.get(e);return a!==void 0&&(this.#e.delete(e),this.#e.set(e,a)),a}set(e,a){this.#e.set(e,a)}peekLru(){for(let e of this.#e.entries())return e}delete(e){this.#e.delete(e)}get size(){return this.#e.size}};var Eo=Gs(is(),1);function Co(t){if(t.scheme!=="wss"&&t.scheme!=="ws")throw new P(`The WebSocket client supports only "libsql:", "wss:" and "ws:" URLs, got ${JSON.stringify(t.scheme+":")}. For more information, please read ${ve}`,"URL_SCHEME_NOT_SUPPORTED");if(t.encryptionKey!==void 0)throw new P("Encryption key is not supported by the remote client.","ENCRYPTION_KEY_NOT_SUPPORTED");if(t.scheme==="ws"&&t.tls)throw new P('A "ws:" URL cannot opt into TLS by using ?tls=1',"URL_INVALID");if(t.scheme==="wss"&&!t.tls)throw new P('A "wss:" URL cannot opt out of TLS by using ?tls=0',"URL_INVALID");let e=Vt(t.scheme,t.authority,t.path),a;try{a=rs(e,t.authToken)}catch(r){if(r instanceof ct){let n=t.scheme==="wss"?"https":"http",o=Vt(n,t.authority,t.path);throw new P(`This environment does not support WebSockets, please switch to the HTTP client by using a "${n}:" URL (${JSON.stringify(o)}). For more information, please read ${ve}`,"WEBSOCKETS_NOT_SUPPORTED")}throw F(r)}return new ls(a,e,t.authToken,t.intMode,t.concurrency)}var Vu=60*1e3,Io=100,ls=class{#e;#t;#a;#r;#s;closed;protocol;#n;#i;constructor(e,a,r,n,o){this.#e=a,this.#t=r,this.#a=n,this.#r=this.#l(e),this.#s=void 0,this.closed=!1,this.protocol="ws",this.#i=(0,Eo.default)(o)}async limit(e){return this.#i(e)}async execute(e,a){let r;return typeof e=="string"?r={sql:e,args:a||[]}:r=e,this.limit(async()=>{let n=await this.#o();try{let o=Ie(r);n.conn.sqlCache.apply([o]);let i=n.stream.query(o);n.stream.closeGracefully();let l=await i;return At(l)}catch(o){throw F(o)}finally{this._closeStream(n)}})}async batch(e,a="deferred"){return this.limit(async()=>{let r=await this.#o();try{let o=e.map(h=>Array.isArray(h)?{sql:h[0],args:h[1]||[]}:h).map(Ie),i=await r.conn.client.getVersion();r.conn.sqlCache.apply(o);let l=r.stream.batch(i>=3);return await xt(a,i,l,o)}catch(n){throw F(n)}finally{this._closeStream(r)}})}async migrate(e){return this.limit(async()=>{let a=await this.#o();try{let r=e.map(Ie),n=await a.conn.client.getVersion(),o=a.stream.batch(n>=3);return await xt("deferred",n,o,r,!0)}catch(r){throw F(r)}finally{this._closeStream(a)}})}async transaction(e="write"){return this.limit(async()=>{let a=await this.#o();try{let r=await a.conn.client.getVersion();return new ds(this,a,e,r)}catch(r){throw this._closeStream(a),F(r)}})}async executeMultiple(e){return this.limit(async()=>{let a=await this.#o();try{let r=a.stream.sequence(e);a.stream.closeGracefully(),await r}catch(r){throw F(r)}finally{this._closeStream(a)}})}sync(){throw new P("sync not supported in ws mode","SYNC_NOT_SUPPORTED")}async#o(){if(this.closed)throw new P("The client is closed","CLIENT_CLOSED");if(new Date().valueOf()-this.#r.openTime.valueOf()>Vu&&this.#s===void 0){let n=this.#l();this.#s=n,n.client.getVersion().then(o=>{this.#r!==n&&this.#r.streamStates.size===0&&this.#r.client.close(),this.#r=n,this.#s=void 0},o=>{this.#s=void 0})}if(this.#r.client.closed)try{this.#s!==void 0?this.#r=this.#s:this.#r=this.#l()}catch(n){throw F(n)}let r=this.#r;try{r.useSqlCache===void 0&&(r.useSqlCache=await r.client.getVersion()>=2,r.useSqlCache&&(r.sqlCache.capacity=Io));let n=r.client.openStream();n.intMode=this.#a;let o={conn:r,stream:n};return r.streamStates.add(o),o}catch(n){throw F(n)}}#l(e){try{return e??=rs(this.#e,this.#t),{client:e,useSqlCache:void 0,sqlCache:new Xe(e,0),openTime:new Date,streamStates:new Set}}catch(a){throw F(a)}}async reconnect(){try{for(let r of Array.from(this.#r.streamStates))try{r.stream.close()}catch{}this.#r.client.close()}catch{}if(this.#s){try{this.#s.client.close()}catch{}this.#s=void 0}let e=this.#l(),a=await e.client.getVersion();e.useSqlCache=a>=2,e.useSqlCache&&(e.sqlCache.capacity=Io),this.#r=e,this.closed=!1}_closeStream(e){e.stream.close();let a=e.conn;a.streamStates.delete(e),a.streamStates.size===0&&a!==this.#r&&a.client.close()}close(){if(this.#r.client.close(),this.closed=!0,this.#s){try{this.#s.client.close()}catch{}this.#s=void 0}this.closed=!0}},ds=class extends kt{#e;#t;constructor(e,a,r,n){super(r,n),this.#e=e,this.#t=a}_getStream(){return this.#t.stream}_getSqlCache(){return this.#t.conn.sqlCache}close(){this.#e._closeStream(this.#t)}get closed(){return this.#t.stream.closed}};var _o=Gs(is(),1);function qo(t){if(t.scheme!=="https"&&t.scheme!=="http")throw new P(`The HTTP client supports only "libsql:", "https:" and "http:" URLs, got ${JSON.stringify(t.scheme+":")}. For more information, please read ${ve}`,"URL_SCHEME_NOT_SUPPORTED");if(t.encryptionKey!==void 0)throw new P("Encryption key is not supported by the remote client.","ENCRYPTION_KEY_NOT_SUPPORTED");if(t.scheme==="http"&&t.tls)throw new P('A "http:" URL cannot opt into TLS by using ?tls=1',"URL_INVALID");if(t.scheme==="https"&&!t.tls)throw new P('A "https:" URL cannot opt out of TLS by using ?tls=0',"URL_INVALID");let e=Vt(t.scheme,t.authority,t.path);return new us(e,t.authToken,t.intMode,t.fetch,t.concurrency)}var Ro=30,us=class{#e;protocol;#t;#a;#r;#s;#n;#i;constructor(e,a,r,n,o){this.#t=e,this.#n=a,this.#a=r,this.#r=n,this.#s=o,this.#e=ss(this.#t,this.#n,this.#r),this.#e.intMode=this.#a,this.protocol="http",this.#i=(0,_o.default)(this.#s)}async limit(e){return this.#i(e)}async execute(e,a){let r;return typeof e=="string"?r={sql:e,args:a||[]}:r=e,this.limit(async()=>{try{let n=Ie(r),o,i=this.#e.openStream();try{o=i.query(n)}finally{i.closeGracefully()}let l=await o;return At(l)}catch(n){throw F(n)}})}async batch(e,a="deferred"){return this.limit(async()=>{try{let n=e.map(u=>Array.isArray(u)?{sql:u[0],args:u[1]||[]}:u).map(Ie),o=await this.#e.getVersion(),i,l=this.#e.openStream();try{new Xe(l,Ro).apply(n);let h=l.batch(!1);i=xt(a,o,h,n)}finally{l.closeGracefully()}return await i}catch(r){throw F(r)}})}async migrate(e){return this.limit(async()=>{try{let a=e.map(Ie),r=await this.#e.getVersion(),n,o=this.#e.openStream();try{let l=o.batch(!1);n=xt("deferred",r,l,a,!0)}finally{o.closeGracefully()}return await n}catch(a){throw F(a)}})}async transaction(e="write"){return this.limit(async()=>{try{let a=await this.#e.getVersion();return new cs(this.#e.openStream(),e,a)}catch(a){throw F(a)}})}async executeMultiple(e){return this.limit(async()=>{try{let a,r=this.#e.openStream();try{a=r.sequence(e)}finally{r.closeGracefully()}await a}catch(a){throw F(a)}})}sync(){throw new P("sync not supported in http mode","SYNC_NOT_SUPPORTED")}close(){this.#e.close()}async reconnect(){try{this.closed||this.#e.close()}finally{this.#e=ss(this.#t,this.#n,this.#r),this.#e.intMode=this.#a}}get closed(){return this.#e.closed}},cs=class extends kt{#e;#t;constructor(e,a,r){super(a,r),this.#e=e,this.#t=new Xe(e,Ro)}_getStream(){return this.#e}_getSqlCache(){return this.#t}close(){this.#e.close()}get closed(){return this.#e.closed}};function Mo(t){return Wu(Ua(t,!0))}function Wu(t){if(t.scheme==="ws"||t.scheme==="wss")return Co(t);if(t.scheme==="http"||t.scheme==="https")return qo(t);throw new P(`The client that uses Web standard APIs supports only "libsql:", "wss:", "ws:", "https:" and "http:" URLs, got ${JSON.stringify(t.scheme+":")}. For more information, please read ${ve}`,"URL_SCHEME_NOT_SUPPORTED")}var Qu=process.env.TURSO_DATABASE_URL,Yu=process.env.TURSO_AUTH_TOKEN,Zu=Mo({url:Qu,authToken:Yu});async function St(t,e=[]){try{return await Zu.execute({sql:t,args:e})}catch(a){throw console.error("Database Error:",a),a}}async function nr(t,e=[]){return(await St(t,e)).rows[0]||null}async function hs(t,e=[]){return(await St(t,e)).rows}var To=or.join(process.cwd(),"src/data");async function Y(t){try{let e=or.join(To,t),a=await ms.readFile(e,"utf8");return JSON.parse(a)}catch(e){return console.error(`Error reading JSON from ${t}:`,e.message),null}}async function ir(t,e){try{let a=or.join(To,t),r=or.dirname(a);return await ms.mkdir(r,{recursive:!0}),await ms.writeFile(a,JSON.stringify(e,null,2),"utf8"),!0}catch(a){return console.error(`Error writing JSON to ${t}:`,a.message),!1}}async function N(){return await Y("quran/surah.json")}async function Po(t){let e=await N();return e?e.find(a=>a.number==t):null}async function V(t){return await Y(`quran/ayah/${t}.json`)}async function da(){return await Y("common/doa.json")}async function Do(){return await Y("common/asmaul_husna.json")}async function lr(){return await Y("common/dzikir.json")}async function It(){return await Y("hadits/arbain.json")}async function Bo(){return await Y("quran/themes.json")}async function Lo(){return await Y("quran/juz.json")}async function Oo(){return await Y("quran/tafsir.json")}async function Ho(){return await Y("quran/word.json")}async function No(){return await Y("quran/asbab_nuzul.json")}async function Et(){return await Y("common/sejarah.json")}async function ps(){return await Y("common/qari.json")}async function $o(){return await Y("common/calendar_months.json")}async function zo(){return await Y("common/calendar_days.json")}async function ua(){return await Y("common/masjid.json")}async function Ct(){return await Y("common/puasa.json")}async function dr(){return await Y("common/fiqh_puasa.json")}async function Uo(){try{let t=await nr("SELECT value FROM global_stats WHERE key = 'total_reads'"),e=await nr("SELECT value FROM global_stats WHERE key = 'global_khatam'"),a=await nr("SELECT last_updated FROM global_stats WHERE key = 'total_reads'"),r=await hs("SELECT item_id, count FROM item_stats WHERE type = 'surah'"),n=await hs("SELECT item_id, count FROM item_stats WHERE type = 'ayah'"),o={};r.forEach(l=>o[l.item_id]=l.count);let i={};return n.forEach(l=>i[l.item_id]=l.count),{trending_surahs:o,trending_ayahs:i,global_khatam:e?e.value:0,total_reads:t?t.value:0,last_updated:a?a.last_updated:new Date().toISOString()}}catch(t){return console.error("Failed to get analytics from DB:",t),{trending_surahs:{},trending_ayahs:{},global_khatam:0,total_reads:0,last_updated:new Date().toISOString()}}}async function _t(t,e){try{return t==="surah"||t==="ayah"?(await St(`
        INSERT INTO item_stats (type, item_id, count, last_updated) 
        VALUES (?, ?, 1, CURRENT_TIMESTAMP)
        ON CONFLICT(type, item_id) DO UPDATE SET 
          count = count + 1,
          last_updated = CURRENT_TIMESTAMP
      `,[t,e]),await St(`
        UPDATE global_stats 
        SET value = value + 1, last_updated = CURRENT_TIMESTAMP 
        WHERE key = 'total_reads'
      `)):t==="khatam"&&await St(`
        UPDATE global_stats 
        SET value = value + 1, last_updated = CURRENT_TIMESTAMP 
        WHERE key = 'global_khatam'
      `),!0}catch(a){return console.error("Failed to update analytics in DB:",a),!1}}async function qt(t){return await Y(`hadits/${t}.json`)}var ge=Symbol("RENDERER"),Le=Symbol("ERROR_HANDLER"),H=Symbol("STASH"),ur=Symbol("INTERNAL"),fs=Symbol("MEMO"),Rt=Symbol("PERMALINK");var gs=t=>(t[ur]=!0,t);var ys=t=>({value:e,children:a})=>{if(!a)return;let r={children:[{tag:gs(()=>{t.push(e)}),props:{}}]};Array.isArray(a)?r.children.push(...a.flat()):r.children.push(a),r.children.push({tag:gs(()=>{t.pop()}),props:{}});let n={tag:"",props:r,type:""};return n[Le]=o=>{throw t.pop(),o},n},cr=t=>{let e=[t],a=ys(e);return a.values=e,a.Provider=a,Ee.push(a),a};var Ee=[],ca=t=>{let e=[t],a=(r=>{e.push(r.value);let n;try{n=r.children?(Array.isArray(r.children)?new Ko("",{},r.children):r.children).toString():""}finally{e.pop()}return n instanceof Promise?n.then(o=>z(o,o.callbacks)):z(n)});return a.values=e,a.Provider=a,a[ge]=ys(e),Ee.push(a),a},ae=t=>t.values.at(-1);var Mt={title:[],script:["src"],style:["data-href"],link:["href"],meta:["name","httpEquiv","charset","itemProp"]},ha={},Tt="data-precedence";var fa={};js(fa,{button:()=>oc,form:()=>sc,input:()=>nc,link:()=>ac,meta:()=>rc,script:()=>ec,style:()=>tc,title:()=>Xu});var et=t=>Array.isArray(t)?t:[t];var jo=new WeakMap,Go=(t,e,a,r)=>({buffer:n,context:o})=>{if(!n)return;let i=jo.get(o)||{};jo.set(o,i);let l=i[t]||=[],d=!1,u=Mt[t];if(u.length>0){e:for(let[,h]of l)for(let c of u)if((h?.[c]??null)===a?.[c]){d=!0;break e}}if(d?n[0]=n[0].replaceAll(e,""):u.length>0?l.push([e,a,r]):l.unshift([e,a,r]),n[0].indexOf("</head>")!==-1){let h;if(r===void 0)h=l.map(([c])=>c);else{let c=[];h=l.map(([m,,g])=>{let k=c.indexOf(g);return k===-1&&(c.push(g),k=c.length-1),[m,k]}).sort((m,g)=>m[1]-g[1]).map(([m])=>m)}h.forEach(c=>{n[0]=n[0].replaceAll(c,"")}),n[0]=n[0].replace(/(?=<\/head>)/,h.join(""))}},ma=(t,e,a)=>z(new le(t,a,et(e??[])).toString()),pa=(t,e,a,r)=>{if("itemProp"in a)return ma(t,e,a);let{precedence:n,blocking:o,...i}=a;n=r?n??"":void 0,r&&(i[Tt]=n);let l=new le(t,i,et(e||[])).toString();return l instanceof Promise?l.then(d=>z(l,[...d.callbacks||[],Go(t,d,i,n)])):z(l,[Go(t,l,i,n)])},Xu=({children:t,...e})=>{let a=hr();if(a){let r=ae(a);if(r==="svg"||r==="head")return new le("title",e,et(t??[]))}return pa("title",t,e,!1)},ec=({children:t,...e})=>{let a=hr();return["src","async"].some(r=>!e[r])||a&&ae(a)==="head"?ma("script",t,e):pa("script",t,e,!1)},tc=({children:t,...e})=>["href","precedence"].every(a=>a in e)?(e["data-href"]=e.href,delete e.href,pa("style",t,e,!0)):ma("style",t,e),ac=({children:t,...e})=>["onLoad","onError"].some(a=>a in e)||e.rel==="stylesheet"&&(!("precedence"in e)||"disabled"in e)?ma("link",t,e):pa("link",t,e,"precedence"in e),rc=({children:t,...e})=>{let a=hr();return a&&ae(a)==="head"?ma("meta",t,e):pa("meta",t,e,!1)},Fo=(t,{children:e,...a})=>new le(t,a,et(e??[])),sc=t=>(typeof t.action=="function"&&(t.action=Rt in t.action?t.action[Rt]:void 0),Fo("form",t)),Jo=(t,e)=>(typeof e.formAction=="function"&&(e.formAction=Rt in e.formAction?e.formAction[Rt]:void 0),Fo(t,e)),nc=t=>Jo("input",t),oc=t=>Jo("button",t);var ic=new Map([["className","class"],["htmlFor","for"],["crossOrigin","crossorigin"],["httpEquiv","http-equiv"],["itemProp","itemprop"],["fetchPriority","fetchpriority"],["noModule","nomodule"],["formAction","formaction"]]),Pt=t=>ic.get(t)||t,mr=(t,e)=>{for(let[a,r]of Object.entries(t)){let n=a[0]==="-"||!/[A-Z]/.test(a)?a:a.replace(/[A-Z]/g,o=>`-${o.toLowerCase()}`);e(n,r==null?null:typeof r=="number"?n.match(/^(?:a|border-im|column(?:-c|s)|flex(?:$|-[^b])|grid-(?:ar|[^a])|font-w|li|or|sca|st|ta|wido|z)|ty$/)?`${r}`:`${r}px`:r)}};var ga=void 0,hr=()=>ga,lc=t=>/[A-Z]/.test(t)&&t.match(/^(?:al|basel|clip(?:Path|Rule)$|co|do|fill|fl|fo|gl|let|lig|i|marker[EMS]|o|pai|pointe|sh|st[or]|text[^L]|tr|u|ve|w)/)?t.replace(/([A-Z])/g,"-$1").toLowerCase():t,dc=["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],uc=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","defer","disabled","download","formnovalidate","hidden","inert","ismap","itemscope","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"],ws=(t,e)=>{for(let a=0,r=t.length;a<r;a++){let n=t[a];if(typeof n=="string")qe(n,e);else{if(typeof n=="boolean"||n===null||n===void 0)continue;n instanceof le?n.toStringToBuffer(e):typeof n=="number"||n.isEscaped?e[0]+=n:n instanceof Promise?e.unshift("",n):ws(n,e)}}},le=class{tag;props;key;children;isEscaped=!0;localContexts;constructor(t,e,a){this.tag=t,this.props=e,this.children=a}get type(){return this.tag}get ref(){return this.props.ref||null}toString(){let t=[""];this.localContexts?.forEach(([e,a])=>{e.values.push(a)});try{this.toStringToBuffer(t)}finally{this.localContexts?.forEach(([e])=>{e.values.pop()})}return t.length===1?"callbacks"in t?Lr(z(t[0],t.callbacks)).toString():t[0]:Br(t,t.callbacks)}toStringToBuffer(t){let e=this.tag,a=this.props,{children:r}=this;t[0]+=`<${e}`;let n=ga&&ae(ga)==="svg"?o=>lc(Pt(o)):o=>Pt(o);for(let[o,i]of Object.entries(a))if(o=n(o),o!=="children"){if(o==="style"&&typeof i=="object"){let l="";mr(i,(d,u)=>{u!=null&&(l+=`${l?";":""}${d}:${u}`)}),t[0]+=' style="',qe(l,t),t[0]+='"'}else if(typeof i=="string")t[0]+=` ${o}="`,qe(i,t),t[0]+='"';else if(i!=null)if(typeof i=="number"||i.isEscaped)t[0]+=` ${o}="${i}"`;else if(typeof i=="boolean"&&uc.includes(o))i&&(t[0]+=` ${o}=""`);else if(o==="dangerouslySetInnerHTML"){if(r.length>0)throw new Error("Can only set one of `children` or `props.dangerouslySetInnerHTML`.");r=[z(i.__html)]}else if(i instanceof Promise)t[0]+=` ${o}="`,t.unshift('"',i);else if(typeof i=="function"){if(!o.startsWith("on")&&o!=="ref")throw new Error(`Invalid prop '${o}' of type 'function' supplied to '${e}'.`)}else t[0]+=` ${o}="`,qe(i.toString(),t),t[0]+='"'}if(dc.includes(e)&&r.length===0){t[0]+="/>";return}t[0]+=">",ws(r,t),t[0]+=`</${e}>`}},bs=class extends le{toStringToBuffer(t){let{children:e}=this,a={...this.props};e.length&&(a.children=e.length===1?e[0]:e);let r=this.tag.call(null,a);if(!(typeof r=="boolean"||r==null))if(r instanceof Promise)if(Ee.length===0)t.unshift("",r);else{let n=Ee.map(o=>[o,o.values.at(-1)]);t.unshift("",r.then(o=>(o instanceof le&&(o.localContexts=n),o)))}else r instanceof le?r.toStringToBuffer(t):typeof r=="number"||r.isEscaped?(t[0]+=r,r.callbacks&&(t.callbacks||=[],t.callbacks.push(...r.callbacks))):qe(r,t)}},Ko=class extends le{toStringToBuffer(t){ws(this.children,t)}},s=(t,e,...a)=>{e??={},a.length&&(e.children=a.length===1?a[0]:a);let r=e.key;delete e.key;let n=cc(t,e,a);return n.key=r,n},Vo=!1,cc=(t,e,a)=>{if(!Vo){for(let r in ha)fa[r][ge]=ha[r];Vo=!0}return typeof t=="function"?new bs(t,e,a):fa[t]?new bs(fa[t],e,a):t==="svg"||t==="head"?(ga||=ca(""),new le(t,e,[new bs(ga,{value:t},a)])):new le(t,e,a)};var yr={};js(yr,{button:()=>ki,clearCache:()=>Ac,composeRef:()=>gr,form:()=>bi,input:()=>vi,link:()=>fi,meta:()=>gi,script:()=>mi,style:()=>pi,title:()=>hi});var ba="_hp",hc={Change:"Input",DoubleClick:"DblClick"},mc={svg:"2000/svg",math:"1998/Math/MathML"},ye=[],ks=new WeakMap,Dt=void 0,ti=()=>Dt,Ce=t=>"t"in t,vs={onClick:["click",!1]},Wo=t=>{if(!t.startsWith("on"))return;if(vs[t])return vs[t];let e=t.match(/^on([A-Z][a-zA-Z]+?(?:PointerCapture)?)(Capture)?$/);if(e){let[,a,r]=e;return vs[t]=[(hc[a]||a).toLowerCase(),!!r]}},Qo=(t,e)=>Dt&&t instanceof SVGElement&&/[A-Z]/.test(e)&&(e in t.style||e.match(/^(?:o|pai|str|u|ve)/))?e.replace(/([A-Z])/g,"-$1").toLowerCase():e,pc=(t,e,a)=>{e||={};for(let r in e){let n=e[r];if(r!=="children"&&(!a||a[r]!==n)){r=Pt(r);let o=Wo(r);if(o){if(a?.[r]!==n&&(a&&t.removeEventListener(o[0],a[r],o[1]),n!=null)){if(typeof n!="function")throw new Error(`Event handler for "${r}" is not a function`);t.addEventListener(o[0],n,o[1])}}else if(r==="dangerouslySetInnerHTML"&&n)t.innerHTML=n.__html;else if(r==="ref"){let i;typeof n=="function"?i=n(t)||(()=>n(null)):n&&"current"in n&&(n.current=t,i=()=>n.current=null),ks.set(t,i)}else if(r==="style"){let i=t.style;typeof n=="string"?i.cssText=n:(i.cssText="",n!=null&&mr(n,i.setProperty.bind(i)))}else{if(r==="value"){let l=t.nodeName;if(l==="INPUT"||l==="TEXTAREA"||l==="SELECT"){if(t.value=n==null||n===!1?null:n,l==="TEXTAREA"){t.textContent=n;continue}else if(l==="SELECT"){t.selectedIndex===-1&&(t.selectedIndex=0);continue}}}else(r==="checked"&&t.nodeName==="INPUT"||r==="selected"&&t.nodeName==="OPTION")&&(t[r]=n);let i=Qo(t,r);n==null||n===!1?t.removeAttribute(i):n===!0?t.setAttribute(i,""):typeof n=="string"||typeof n=="number"?t.setAttribute(i,n):t.setAttribute(i,n.toString())}}}if(a)for(let r in a){let n=a[r];if(r!=="children"&&!(r in e)){r=Pt(r);let o=Wo(r);o?t.removeEventListener(o[0],n,o[1]):r==="ref"?ks.get(t)?.():t.removeAttribute(Qo(t,r))}}},fc=(t,e)=>{e[H][0]=0,ye.push([t,e]);let a=e.tag[ge]||e.tag,r=a.defaultProps?{...a.defaultProps,...e.props}:e.props;try{return[a.call(null,r)]}finally{ye.pop()}},ai=(t,e,a,r,n)=>{t.vR?.length&&(r.push(...t.vR),delete t.vR),typeof t.tag=="function"&&t[H][1][As]?.forEach(o=>n.push(o)),t.vC.forEach(o=>{if(Ce(o))a.push(o);else if(typeof o.tag=="function"||o.tag===""){o.c=e;let i=a.length;if(ai(o,e,a,r,n),o.s){for(let l=i;l<a.length;l++)a[l].s=!0;o.s=!1}}else a.push(o),o.vR?.length&&(r.push(...o.vR),delete o.vR)})},gc=t=>{for(;;t=t.tag===ba||!t.vC||!t.pP?t.nN:t.vC[0]){if(!t)return null;if(t.tag!==ba&&t.e)return t.e}},ri=t=>{Ce(t)||(t[H]?.[1][As]?.forEach(e=>e[2]?.()),ks.get(t.e)?.(),t.p===2&&t.vC?.forEach(e=>e.p=2),t.vC?.forEach(ri)),t.p||(t.e?.remove(),delete t.e),typeof t.tag=="function"&&(ya.delete(t),pr.delete(t),delete t[H][3],t.a=!0)},si=(t,e,a)=>{t.c=e,ni(t,e,a)},Yo=(t,e)=>{if(e){for(let a=0,r=t.length;a<r;a++)if(t[a]===e)return a}},Zo=Symbol(),ni=(t,e,a)=>{let r=[],n=[],o=[];ai(t,e,r,n,o),n.forEach(ri);let i=a?void 0:e.childNodes,l,d=null;if(a)l=-1;else if(!i.length)l=0;else{let u=Yo(i,gc(t.nN));u!==void 0?(d=i[u],l=u):l=Yo(i,r.find(h=>h.tag!==ba&&h.e)?.e)??-1,l===-1&&(a=!0)}for(let u=0,h=r.length;u<h;u++,l++){let c=r[u],m;if(c.s&&c.e)m=c.e,c.s=!1;else{let g=a||!c.e;Ce(c)?(c.e&&c.d&&(c.e.textContent=c.t),c.d=!1,m=c.e||=document.createTextNode(c.t)):(m=c.e||=c.n?document.createElementNS(c.n,c.tag):document.createElement(c.tag),pc(m,c.props,c.pP),ni(c,m,g))}c.tag===ba?l--:a?m.parentNode||e.appendChild(m):i[l]!==m&&i[l-1]!==m&&(i[l+1]===m?e.appendChild(i[l]):e.insertBefore(m,d||i[l]||null))}if(t.pP&&delete t.pP,o.length){let u=[],h=[];o.forEach(([,c,,m,g])=>{c&&u.push(c),m&&h.push(m),g?.()}),u.forEach(c=>c()),h.length&&requestAnimationFrame(()=>{h.forEach(c=>c())})}},yc=(t,e)=>!!(t&&t.length===e.length&&t.every((a,r)=>a[1]===e[r][1])),pr=new WeakMap,xs=(t,e,a)=>{let r=!a&&e.pC;a&&(e.pC||=e.vC);let n;try{a||=typeof e.tag=="function"?fc(t,e):et(e.props.children),a[0]?.tag===""&&a[0][Le]&&(n=a[0][Le],t[5].push([t,n,e]));let o=r?[...e.pC]:e.vC?[...e.vC]:void 0,i=[],l;for(let d=0;d<a.length;d++){Array.isArray(a[d])&&a.splice(d,1,...a[d].flat());let u=bc(a[d]);if(u){typeof u.tag=="function"&&!u.tag[ur]&&(Ee.length>0&&(u[H][2]=Ee.map(c=>[c,c.values.at(-1)])),t[5]?.length&&(u[H][3]=t[5].at(-1)));let h;if(o&&o.length){let c=o.findIndex(Ce(u)?m=>Ce(m):u.key!==void 0?m=>m.key===u.key&&m.tag===u.tag:m=>m.tag===u.tag);c!==-1&&(h=o[c],o.splice(c,1))}if(h)if(Ce(u))h.t!==u.t&&(h.t=u.t,h.d=!0),u=h;else{let c=h.pP=h.props;if(h.props=u.props,h.f||=u.f||e.f,typeof u.tag=="function"){let m=h[H][2];h[H][2]=u[H][2]||[],h[H][3]=u[H][3],!h.f&&((h.o||h)===u.o||h.tag[fs]?.(c,h.props))&&yc(m,h[H][2])&&(h.s=!0)}u=h}else if(!Ce(u)&&Dt){let c=ae(Dt);c&&(u.n=c)}if(!Ce(u)&&!u.s&&(xs(t,u),delete u.f),i.push(u),l&&!l.s&&!u.s)for(let c=l;c&&!Ce(c);c=c.vC?.at(-1))c.nN=u;l=u}}e.vR=r?[...e.vC,...o||[]]:o||[],e.vC=i,r&&delete e.pC}catch(o){if(e.f=!0,o===Zo){if(n)return;throw o}let[i,l,d]=e[H]?.[3]||[];if(l){let u=()=>wa([0,!1,t[2]],d),h=pr.get(d)||[];h.push(u),pr.set(d,h);let c=l(o,()=>{let m=pr.get(d);if(m){let g=m.indexOf(u);if(g!==-1)return m.splice(g,1),u()}});if(c){if(t[0]===1)t[1]=!0;else if(xs(t,d,[c]),(l.length===1||t!==i)&&d.c){si(d,d.c,!1);return}throw Zo}}throw o}finally{n&&t[5].pop()}},bc=t=>{if(!(t==null||typeof t=="boolean")){if(typeof t=="string"||typeof t=="number")return{t:t.toString(),d:!0};if("vR"in t&&(t={tag:t.tag,props:t.props,key:t.key,f:t.f,type:t.tag,ref:t.props.ref,o:t.o||t}),typeof t.tag=="function")t[H]=[0,[]];else{let e=mc[t.tag];e&&(Dt||=cr(""),t.props.children=[{tag:Dt,props:{value:t.n=`http://www.w3.org/${e}`,children:t.props.children}}])}return t}};var Xo=(t,e)=>{e[H][2]?.forEach(([a,r])=>{a.values.push(r)});try{xs(t,e,void 0)}catch{return}if(e.a){delete e.a;return}e[H][2]?.forEach(([a])=>{a.values.pop()}),(t[0]!==1||!t[1])&&si(e,e.c,!1)},ya=new WeakMap,ei=[],wa=async(t,e)=>{t[5]||=[];let a=ya.get(e);a&&a[0](void 0);let r,n=new Promise(o=>r=o);if(ya.set(e,[r,()=>{t[2]?t[2](t,e,o=>{Xo(o,e)}).then(()=>r(e)):(Xo(t,e),r(e))}]),ei.length)ei.at(-1).add(e);else{await Promise.resolve();let o=ya.get(e);o&&(ya.delete(e),o[1]())}return n};var oi=(t,e,a)=>({tag:ba,props:{children:t},key:a,e,p:1});var wc=0,As=1,vc=2,kc=3;var Ss=new WeakMap,li=(t,e)=>!t||!e||t.length!==e.length||e.some((a,r)=>a!==t[r]);var xc=void 0;var ii=[];var fr=t=>{let e=()=>typeof t=="function"?t():t,a=ye.at(-1);if(!a)return[e(),()=>{}];let[,r]=a,n=r[H][1][wc]||=[],o=r[H][0]++;return n[o]||=[e(),i=>{let l=xc,d=n[o];if(typeof i=="function"&&(i=i(d[0])),!Object.is(i,d[0]))if(d[0]=i,ii.length){let[u,h]=ii.at(-1);Promise.all([u===3?r:wa([u,!1,l],r),h]).then(([c])=>{if(!c||!(u===2||u===3))return;let m=c.vC;requestAnimationFrame(()=>{setTimeout(()=>{m===c.vC&&wa([u===3?1:0,!1,l],c)})})})}else wa([0,!1,l],r)}]};var Bt=(t,e)=>{let a=ye.at(-1);if(!a)return t;let[,r]=a,n=r[H][1][vc]||=[],o=r[H][0]++,i=n[o];return li(i?.[1],e)?n[o]=[t,e]:t=n[o][0],t};var Is=t=>{let e=Ss.get(t);if(e){if(e.length===2)throw e[1];return e[0]}throw t.then(a=>Ss.set(t,[a]),a=>Ss.set(t,[void 0,a])),t},Es=(t,e)=>{let a=ye.at(-1);if(!a)return t();let[,r]=a,n=r[H][1][kc]||=[],o=r[H][0]++,i=n[o];return li(i?.[1],e)&&(n[o]=[t(),e]),n[o][0]};var ui=cr({pending:!1,data:null,method:null,action:null}),di=new Set,ci=t=>{di.add(t),t.finally(()=>di.delete(t))};var Ac=()=>{Cs=Object.create(null),_s=Object.create(null)},gr=(t,e)=>Es(()=>a=>{let r;t&&(typeof t=="function"?r=t(a)||(()=>{t(null)}):t&&"current"in t&&(t.current=a,r=()=>{t.current=null}));let n=e(a);return()=>{n?.(),r?.()}},[t]),Cs=Object.create(null),_s=Object.create(null),va=(t,e,a,r,n)=>{if(e?.itemProp)return{tag:t,props:e,type:t,ref:e.ref};let o=document.head,{onLoad:i,onError:l,precedence:d,blocking:u,...h}=e,c=null,m=!1,g=Mt[t],k;if(g.length>0){let I=o.querySelectorAll(t);e:for(let q of I)for(let C of Mt[t])if(q.getAttribute(C)===e[C]){c=q;break e}if(!c){let q=g.reduce((C,T)=>e[T]===void 0?C:`${C}-${T}-${e[T]}`,t);m=!_s[q],c=_s[q]||=(()=>{let C=document.createElement(t);for(let T of g)e[T]!==void 0&&C.setAttribute(T,e[T]),e.rel&&C.setAttribute("rel",e.rel);return C})()}}else k=o.querySelectorAll(t);d=r?d??"":void 0,r&&(h[Tt]=d);let v=Bt(I=>{if(g.length>0){let q=!1;for(let C of o.querySelectorAll(t)){if(q&&C.getAttribute(Tt)!==d){o.insertBefore(I,C);return}C.getAttribute(Tt)===d&&(q=!0)}o.appendChild(I)}else if(k){let q=!1;for(let C of k)if(C===I){q=!0;break}q||o.insertBefore(I,o.contains(k[0])?k[0]:o.querySelector(t)),k=void 0}},[d]),A=gr(e.ref,I=>{let q=g[0];if(a===2&&(I.innerHTML=""),(m||k)&&v(I),!l&&!i)return;let C=Cs[I.getAttribute(q)]||=new Promise((T,W)=>{I.addEventListener("load",T),I.addEventListener("error",W)});i&&(C=C.then(i)),l&&(C=C.catch(l)),C.catch(()=>{})});if(n&&u==="render"){let I=Mt[t][0];if(e[I]){let q=e[I],C=Cs[q]||=new Promise((T,W)=>{v(c),c.addEventListener("load",T),c.addEventListener("error",W)});Is(C)}}let x={tag:t,type:t,props:{...h,ref:A},ref:A};return x.p=a,c&&(x.e=c),oi(x,o)},hi=t=>{let e=ti();return(e&&ae(e))?.endsWith("svg")?{tag:"title",props:t,type:"title",ref:t.ref}:va("title",t,void 0,!1,!1)},mi=t=>!t||["src","async"].some(e=>!t[e])?{tag:"script",props:t,type:"script",ref:t.ref}:va("script",t,1,!1,!0),pi=t=>!t||!["href","precedence"].every(e=>e in t)?{tag:"style",props:t,type:"style",ref:t.ref}:(t["data-href"]=t.href,delete t.href,va("style",t,2,!0,!0)),fi=t=>!t||["onLoad","onError"].some(e=>e in t)||t.rel==="stylesheet"&&(!("precedence"in t)||"disabled"in t)?{tag:"link",props:t,type:"link",ref:t.ref}:va("link",t,1,"precedence"in t,!0),gi=t=>va("meta",t,void 0,!1,!1),yi=Symbol(),bi=t=>{let{action:e,...a}=t;typeof e!="function"&&(a.action=e);let[r,n]=fr([null,!1]),o=Bt(async u=>{let h=u.isTrusted?e:u.detail[yi];if(typeof h!="function")return;u.preventDefault();let c=new FormData(u.target);n([c,!0]);let m=h(c);m instanceof Promise&&(ci(m),await m),n([null,!0])},[]),i=gr(t.ref,u=>(u.addEventListener("submit",o),()=>{u.removeEventListener("submit",o)})),[l,d]=r;return r[1]=!1,{tag:ui,props:{value:{pending:l!==null,data:l,method:l?"post":null,action:l?e:null},children:{tag:"form",props:{...a,ref:i},type:"form",ref:i}},f:d}},wi=(t,{formAction:e,...a})=>{if(typeof e=="function"){let r=Bt(n=>{n.preventDefault(),n.currentTarget.form.dispatchEvent(new CustomEvent("submit",{detail:{[yi]:e}}))},[]);a.ref=gr(a.ref,n=>(n.addEventListener("click",r),()=>{n.removeEventListener("click",r)}))}return{tag:t,props:a,type:t,ref:a.ref}},vi=t=>wi("input",t),ki=t=>wi("button",t);Object.assign(ha,{title:hi,script:mi,style:pi,link:fi,meta:gi,form:bi,input:vi,button:ki});var qs=(t,e,a)=>(typeof t=="string"&&yr[t]&&(t=yr[t]),{tag:t,type:t,props:e,key:a,ref:e.ref}),br=t=>qs("",t,void 0);var xi=(({children:t,fallback:e,fallbackRender:a,onError:r})=>{let n=br({children:t});return n[Le]=o=>{if(o instanceof Promise)throw o;return r?.(o),a?.(o)||e},n}),Ai=(({children:t,fallback:e})=>{let a=br({children:t});return a[Le]=(r,n)=>{if(!(r instanceof Promise))throw r;return r.finally(n),e},a});var Rs=ca(null),Sc=0,Si=async({children:t,fallback:e})=>{Array.isArray(t)||(t=[t]);let a=ae(Rs)?.scriptNonce,r=[],n={[H]:[0,[]]},o=i=>(ye.pop(),i);try{n[H][0]=0,ye.push([[],n]),r=t.map(i=>i==null||typeof i=="boolean"?"":i.toString())}catch(i){if(i instanceof Promise)r=[i.then(()=>(n[H][0]=0,ye.push([[],n]),wr(t).then(o)))];else throw i}finally{o()}if(r.some(i=>i instanceof Promise)){let i=Sc++,l=await e.toString();return z(`<template id="H:${i}"></template>${l}<!--/$-->`,[...l.callbacks||[],({phase:d,buffer:u,context:h})=>{if(d!==he.BeforeStream)return Promise.all(r).then(async c=>{c=c.flat();let m=c.join("");u&&(u[0]=u[0].replace(new RegExp(`<template id="H:${i}"></template>.*?<!--/\\$-->`),m));let g=u?"":`<template data-hono-target="H:${i}">${m}</template><script${a?` nonce="${a}"`:""}>
((d,c,n) => {
c=d.currentScript.previousSibling
d=d.getElementById('H:${i}')
if(!d)return
do{n=d.nextSibling;n.remove()}while(n.nodeType!=8||n.nodeValue!='/$')
d.replaceWith(c.content)
})(document)
</script>`,k=c.map(v=>v.callbacks||[]).flat();return k.length?(d===he.Stream&&(g=await je(g,he.BeforeStream,!0,h)),z(g,k)):g})}])}else return z(r.join(""))};Si[ge]=Ai;var v1=new TextEncoder;var Ic=0,wr=async t=>{try{return t.flat().map(e=>e==null||typeof e=="boolean"?"":e.toString())}catch(e){if(e instanceof Promise)return await e,wr(t);throw e}},Ii=async({children:t,fallback:e,fallbackRender:a,onError:r})=>{if(!t)return z("");Array.isArray(t)||(t=[t]);let n=ae(Rs)?.scriptNonce,o,i=d=>(r?.(d),(o||a?.(d)||"").toString()),l=[];try{l=t.map(d=>d==null||typeof d=="boolean"?"":d.toString())}catch(d){o=await e?.toString(),d instanceof Promise?l=[d.then(()=>wr(t)).catch(u=>i(u))]:l=[i(d)]}if(l.some(d=>d instanceof Promise)){o||=await e?.toString();let d=Ic++,u=RegExp(`(<template id="E:${d}"></template>.*?)(.*?)(<!--E:${d}-->)`),h=!1,c=({error:k,buffer:v})=>{if(h)return"";let A=i(k);return v&&(v[0]=v[0].replace(u,A)),v?"":`<template data-hono-target="E:${d}">${A}</template><script>
((d,c,n) => {
c=d.currentScript.previousSibling
d=d.getElementById('E:${d}')
if(!d)return
do{n=d.nextSibling;n.remove()}while(n.nodeType!=8||n.nodeValue!='E:${d}')
d.replaceWith(c.content)
})(document)
</script>`},m,g=Promise.all(l).catch(k=>m=k);return z(`<template id="E:${d}"></template><!--E:${d}-->`,[({phase:k,buffer:v,context:A})=>{if(k!==he.BeforeStream)return g.then(async x=>{if(m)throw m;x=x.flat();let I=x.join(""),q=v?"":`<template data-hono-target="E:${d}">${I}</template><script${n?` nonce="${n}"`:""}>
((d,c) => {
c=d.currentScript.previousSibling
d=d.getElementById('E:${d}')
if(!d)return
d.parentElement.insertBefore(c.content,d.nextSibling)
})(document)
</script>`;if(x.every(p=>!p.callbacks?.length))return v&&(v[0]=v[0].replace(u,I)),q;v&&(v[0]=v[0].replace(u,(p,b,f,y)=>`${b}${I}${y}`));let C=x.map(p=>p.callbacks||[]).flat();k===he.Stream&&(q=await je(q,he.BeforeStream,!0,A));let T=0,W=C.map(p=>(...b)=>p(...b)?.then(f=>(T++,v?(T===C.length&&(v[0]=v[0].replace(u,(y,w,S)=>S)),v[0]+=f,z("",f.callbacks)):z(f+(T!==C.length?"":`<script>
((d,c,n) => {
d=d.getElementById('E:${d}')
if(!d)return
n=d.nextSibling
while(n.nodeType!=8||n.nodeValue!='E:${d}'){n=n.nextSibling}
n.remove()
d.remove()
})(document)
</script>`),f.callbacks))).catch(f=>c({error:f,buffer:v})));return z(q,W)}).catch(x=>c({error:x,buffer:v}))}])}else return z(l.join(""))};Ii[ge]=xi;var Ei=()=>s("div",null,s("script",{dangerouslySetInnerHTML:{__html:`
        // Data pencarian
        var searchIndex = [
          { title: 'Introduction', path: '/docs#intro', category: 'General' },
          { title: 'Base URL', path: '/docs#intro', category: 'General' },
          { title: 'Al-Quran Indonesia', path: '/docs#quran', category: 'Quran' },
          { title: 'Daftar Surah', path: '/docs#quran', category: 'Quran', endpoint: '/surah' },
          { title: 'Detail Surah', path: '/docs#quran', category: 'Quran', endpoint: '/surah?surahId=114' },
          { title: 'Tafsir Kemenag', path: '/docs#quran', category: 'Quran', endpoint: '/tafsir?surahId=1' },
          { title: 'Ayat & Al-Quran', path: '/docs#ayah', category: 'Ayat' },
          { title: 'Ayat by Surah', path: '/docs#ayah', category: 'Ayat', endpoint: '/ayah/surah?surahId=1' },
          { title: 'Ayat by Juz', path: '/docs#ayah', category: 'Ayat', endpoint: '/ayah/juz?juzId=30' },
          { title: 'Ayat by Page', path: '/docs#ayah', category: 'Ayat', endpoint: '/ayah/page?page=604' },
          { title: 'Range Ayat', path: '/docs#ayah', category: 'Ayat', endpoint: '/ayah/range?surahId=1&start=1&end=7' },
          { title: 'Cari Ayat', path: '/docs#ayah', category: 'Ayat', endpoint: '/ayah/find?query=puasa' },
          { title: 'Resource Lainnya', path: '/other', category: 'Other' },
          { title: 'Asmaul Husna', path: '/other#asma', category: 'Other', endpoint: '/asma' },
          { title: 'Asbabun Nuzul', path: '/other#asbab', category: 'Other', endpoint: '/asbab' },
          { title: 'Juz Al-Quran', path: '/other#extra', category: 'Other', endpoint: '/juz' },
          { title: 'Detail Juz', path: '/other#extra', category: 'Other', endpoint: '/juz?juzId=30' },
          { title: 'Tema Al-Quran', path: '/other#extra', category: 'Other', endpoint: '/theme' },
          { title: 'Kata per Kata', path: '/other#extra', category: 'Other', endpoint: '/word?surahId=1' },
          { title: 'Kumpulan Doa', path: '/other#doa', category: 'Doa' },
          { title: 'Semua Doa', path: '/other#doa', category: 'Doa', endpoint: '/doa' },
          { title: 'Cari Doa', path: '/other#doa', category: 'Doa', endpoint: '/doa/find?query=makan' },
          { title: 'Dzikir Harian', path: '/other#dzikir', category: 'Dzikir' },
          { title: 'Dzikir by Type', path: '/other#dzikir', category: 'Dzikir', endpoint: '/dzikir?type=pagi' },
          { title: 'Hadits Arba\\'in', path: '/other#hadits', category: 'Hadits' },
          { title: 'Daftar Hadits', path: '/other#hadits', category: 'Hadits', endpoint: '/hadits' },
          { title: 'Detail Hadits', path: '/other#hadits', category: 'Hadits', endpoint: '/hadits?nomor=1' },
          { title: 'Cari Hadits', path: '/other#hadits', category: 'Hadits', endpoint: '/hadits/find?query=niat' },
          { title: 'Data Integrity', path: '/docs#integrity', category: 'Security' },
          { title: 'Integrity Chain', path: '/docs#integrity', category: 'Security', endpoint: '/integrity/chain' },
          { title: 'Verify Ayah', path: '/docs#integrity', category: 'Security', endpoint: '/integrity/verify/ayah?surahId=1&ayahId=1' },
          { title: 'Jadwal Sholat', path: '/other#sholat', category: 'Sholat' },
          { title: 'Daftar Kota Sholat', path: '/other#sholat', category: 'Sholat', endpoint: '/sholat/kota/semua' },
          { title: 'Cari Kota Sholat', path: '/other#sholat', category: 'Sholat', endpoint: '/sholat/kota/cari?nama=jakarta' },
          { title: 'Jadwal Sholat by Kota', path: '/other#sholat', category: 'Sholat', endpoint: '/sholat/jadwal?kotaId=1301' },
          { title: 'Jadwal Sholat by Koordinat', path: '/other#sholat', category: 'Sholat', endpoint: '/sholat/jadwal/koordinat?lat=-6.2&lon=106.8' },
          { title: 'Sejarah Islam', path: '/other#sejarah', category: 'Sejarah' },
          { title: 'Daftar Sejarah', path: '/other#sejarah', category: 'Sejarah', endpoint: '/sejarah' },
          { title: 'Detail Sejarah', path: '/other#sejarah', category: 'Sejarah', endpoint: '/sejarah/detail?id=1' },
          { title: 'Puasa & Fiqh', path: '/other#puasa', category: 'Puasa' },
          { title: 'Daftar Puasa (Wajib & Sunnah)', path: '/other#puasa', category: 'Puasa', endpoint: '/puasa' },
          { title: 'Cari Puasa', path: '/other#puasa', category: 'Puasa', endpoint: '/puasa/find?query=ramadhan' },
          { title: 'Filter Tipe Puasa', path: '/other#puasa', category: 'Puasa', endpoint: '/puasa/type/wajib' },
          { title: 'Fiqh & Adab Puasa (70 Masalah)', path: '/other#puasa', category: 'Puasa', endpoint: '/puasa/fiqh' },
          { title: 'Tools & Fitur Cerdas', path: '/other#tools', category: 'Tools' },
          { title: 'Kalkulator Waris (Faraidh)', path: '/other#tools', category: 'Tools', endpoint: '/tools/faraidh' },
          { title: 'Kalkulator Zakat', path: '/other#tools', category: 'Tools', endpoint: '/tools/zakat' },
          { title: 'Pencarian Semantik (Quran, Hadits, Puasa, Fiqh)', path: '/other#tools', category: 'Tools', endpoint: '/tools/semantic-search?query=ramadhan' },
          { title: 'Arah Kiblat', path: '/other#tools', category: 'Tools', endpoint: '/tools/qibla' },
          { title: 'Daily Quotes (Ayat/Hadits)', path: '/other#tools', category: 'Tools', endpoint: '/tools/quotes/daily' },
          { title: 'Murottal Audio', path: '/other#murottal', category: 'Other' },
          { title: 'Daftar Qari', path: '/other#murottal', category: 'Other', endpoint: '/murotal/qari' },
          { title: 'Murottal by Surah', path: '/other#murottal', category: 'Other', endpoint: '/murotal?surahId=1' },
          { title: 'FAQ', path: '/docs#faq', category: 'General' },
          { title: 'Other Resources', path: '/other', category: 'Resources' },
          { title: 'GitHub Repository', path: 'https://github.com/vrush2000/muslim-all-in-one-api', category: 'External' }
        ];

        var selectedIndex = -1;

        // Fungsi Global Handle Search
        window.handleSearch = function(query) {
          var dropdown = document.getElementById('search-results-dropdown');
          var container = document.getElementById('search-results-content');
          if (!dropdown || !container) return;

          if (!query || query.trim() === '') {
            container.innerHTML = '<div class="py-4 text-xs text-center text-slate-400">Type to search...</div>';
            dropdown.classList.add('hidden');
            selectedIndex = -1;
            return;
          }

          var q = query.toLowerCase();
          var filtered = searchIndex.filter(function(item) {
            return item.title.toLowerCase().indexOf(q) !== -1 || 
                   (item.endpoint && item.endpoint.toLowerCase().indexOf(q) !== -1) ||
                   item.category.toLowerCase().indexOf(q) !== -1;
          });

          if (filtered.length === 0) {
            container.innerHTML = '<div class="py-8 text-xs text-center text-slate-400">No results found for "' + query + '"</div>';
            dropdown.classList.remove('hidden');
            selectedIndex = -1;
            return;
          }

          var html = '';
          for (var i = 0; i < filtered.length; i++) {
            var item = filtered[i];
            var activeClass = (i === 0) ? 'bg-emerald-50' : '';
            html += '<a href="' + item.path + '" onclick="window.hideResults()" class="flex justify-between items-center p-2 rounded-lg transition-all duration-150 search-result-item hover:bg-emerald-50 group' + activeClass + '" data-index="' + i + '">' +
                      '<div class="flex gap-2 items-center">' +
                        '<div class="flex justify-center items-center w-6 h-6 rounded transition-colors bg-slate-100 text-slate-400 group-hover:bg-emerald-100 group-hover:text-emerald-600">' +
                          '<svg xmlns="http://www.w3.org/2000/svg" class="w-3 h-3" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /></svg>' +
                        '</div>' +
                        '<div>' +
                          '<div class="text-[9px] font-bold text-emerald-600 uppercase tracking-wider">' + item.category + '</div>' +
                          '<div class="text-xs font-semibold text-slate-900">' + item.title + '</div>' +
                        '</div>' +
                      '</div>' +
                      '<div class="text-slate-300 group-hover:text-emerald-500">' +
                        '<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" /></svg>' +
                      '</div>' +
                    '</a>';
          }
          container.innerHTML = html;
          dropdown.classList.remove('hidden');
          selectedIndex = 0;
        };

        window.hideResults = function() {
          setTimeout(function() {
            var dropdown = document.getElementById('search-results-dropdown');
            if (dropdown) dropdown.classList.add('hidden');
          }, 200);
        };

        // Keyboard Navigation di Input
        document.addEventListener('keydown', function(e) {
          var dropdown = document.getElementById('search-results-dropdown');
          if (!dropdown || dropdown.classList.contains('hidden')) return;

          var items = document.querySelectorAll('.search-result-item');
          if (items.length === 0) return;

          if (e.key === 'ArrowDown') {
            e.preventDefault();
            selectedIndex = (selectedIndex + 1) % items.length;
            updateSelection();
          } else if (e.key === 'ArrowUp') {
            e.preventDefault();
            selectedIndex = (selectedIndex - 1 + items.length) % items.length;
            updateSelection();
          } else if (e.key === 'Enter' && selectedIndex >= 0) {
            e.preventDefault();
            items[selectedIndex].click();
          } else if (e.key === 'Escape') {
            window.hideResults();
          }
        });

        function updateSelection() {
          var items = document.querySelectorAll('.search-result-item');
          for (var i = 0; i < items.length; i++) {
            if (i === selectedIndex) {
              items[i].classList.add('bg-emerald-50');
              items[i].scrollIntoView({ block: 'nearest' });
            } else {
              items[i].classList.remove('bg-emerald-50');
            }
          }
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', function(e) {
          var container = document.querySelector('.group.w-40.md\\\\:w-64');
          if (container && !container.contains(e.target)) {
            window.hideResults();
          }
        });
      `}}));import Ci from"node:fs";import Ec from"node:path";var Ms="";try{let t=Ec.resolve(process.cwd(),"src/compiled.css");Ci.existsSync(t)&&(Ms=Ci.readFileSync(t,"utf-8"))}catch(t){console.error("Failed to load compiled CSS:",t)}var Lt=({children:t,title:e})=>s("html",{lang:"en",class:"scroll-smooth"},s("head",null,s("meta",{charset:"UTF-8"}),s("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),s("title",null,e),s("link",{rel:"icon",href:"data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><rect width=%22100%22 height=%22100%22 rx=%2220%22 fill=%22%23059669%22/><path d=%22M30 35v40c10-5 20-5 20 0V35c0-5-10-5-20 0zM70 35v40c-10-5-20-5-20 0V35c0-5 10-5 20 0z%22 fill=%22white%22/></svg>"}),Ms?s("style",{dangerouslySetInnerHTML:{__html:Ms}}):s("script",{src:"https://cdn.tailwindcss.com"}),s("link",{href:"https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap",rel:"stylesheet"}),s("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/jsoneditor@9.10.0/dist/jsoneditor.min.css"}),s("script",{src:"https://cdn.jsdelivr.net/npm/jsoneditor@9.10.0/dist/jsoneditor.min.js"}),process.env.NODE_ENV==="development"&&s("script",{type:"module",src:"/@vite/client"}),s("style",null,`
          body {
            font-family: 'Plus Jakarta Sans', sans-serif;
          }
          .font-mono {
            font-family: 'JetBrains Mono', monospace;
          }
          .glass {
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
          }
          #mobile-menu {
            transition: all 0.3s ease-in-out;
            max-height: 0;
            overflow: hidden;
            opacity: 0;
          }
          #mobile-menu.open {
            max-height: 800px;
            opacity: 1;
            padding: 1rem 0;
          }
          pre {
            background: #1e293b;
            color: #f8fafc;
            padding: 1rem;
            border-radius: 0.5rem;
            overflow-x: auto;
          }
          code {
            font-family: 'JetBrains Mono', monospace;
          }

          /* JSONEditor Custom Style for Modal */
          #modal-json-editor {
            border: none !important;
            height: 100% !important;
            width: 100% !important;
          }
          #modal-json-editor .jsoneditor {
            border: none !important;
          }
          #modal-json-editor .jsoneditor-menu {
            background-color: #1e293b !important;
            border-bottom: 1px solid #334155 !important;
          }
          #modal-json-editor .jsoneditor-navigation-bar {
            background-color: #1e293b !important;
            border-bottom: 1px solid #334155 !important;
          }
          #modal-json-editor .jsoneditor-outer {
            background-color: #0f172a !important;
            overflow: auto !important;
            position: relative !important;
          }
          #modal-json-editor .jsoneditor-tree {
            background-color: #0f172a !important;
            min-width: 100% !important;
          }
          #modal-json-editor .jsoneditor-tree-inner {
            min-width: max-content !important;
            padding-bottom: 50px !important;
          }
          #modal-json-editor .jsoneditor-content-wrapper {
            overflow: visible !important;
          }
          #modal-json-editor .jsoneditor-field,
          #modal-json-editor .jsoneditor-value {
            white-space: nowrap !important;
          }
          #modal-json-editor .jsoneditor-separator {
            background-color: transparent !important;
          }
          #modal-json-editor .jsoneditor-values {
            color: #10b981 !important;
          }
          #modal-json-editor .jsoneditor-readonly {
            color: #94a3b8 !important;
          }
          #modal-json-editor .jsoneditor-string {
            color: #10b981 !important;
          }
          #modal-json-editor .jsoneditor-number {
            color: #3b82f6 !important;
          }
          #modal-json-editor .jsoneditor-boolean {
            color: #f59e0b !important;
          }
          #modal-json-editor .jsoneditor-null {
            color: #ef4444 !important;
          }
          #modal-json-editor .jsoneditor-field {
            color: #e2e8f0 !important;
          }

          /* Custom Scrollbar for both wrapper and JSONEditor internals */
          .custom-scrollbar::-webkit-scrollbar,
          #modal-json-editor .jsoneditor-outer::-webkit-scrollbar,
          #modal-json-editor .jsoneditor-tree::-webkit-scrollbar {
            width: 8px;
            height: 8px;
          }
          .custom-scrollbar::-webkit-scrollbar-track,
          #modal-json-editor .jsoneditor-outer::-webkit-scrollbar-track,
          #modal-json-editor .jsoneditor-tree::-webkit-scrollbar-track {
            background: #0f172a;
          }
          .custom-scrollbar::-webkit-scrollbar-thumb,
          #modal-json-editor .jsoneditor-outer::-webkit-scrollbar-thumb,
          #modal-json-editor .jsoneditor-tree::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 4px;
          }
          .custom-scrollbar::-webkit-scrollbar-thumb:hover,
          #modal-json-editor .jsoneditor-outer::-webkit-scrollbar-thumb:hover,
          #modal-json-editor .jsoneditor-tree::-webkit-scrollbar-thumb:hover {
            background: #475569;
          }
        `)),s("body",{class:"flex flex-col min-h-screen bg-slate-50 text-slate-900"},s(Ei,null),s("header",{class:"sticky top-0 z-50 border-b glass border-slate-200"},s("div",{class:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8"},s("div",{class:"flex justify-between items-center h-16"},s("a",{href:"/",class:"flex gap-2 items-center transition-all group shrink-0"},s("div",{class:"flex justify-center items-center w-8 h-8 bg-emerald-600 rounded-lg transition-all group-hover:shadow-lg group-hover:shadow-emerald-200"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"}))),s("span",{class:"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-emerald-600 to-teal-600 transition-all group-hover:from-emerald-500 group-hover:to-teal-500"},"Muslim API")),s("div",{class:"flex gap-1 items-center md:gap-4 lg:gap-4"},s("div",{class:"relative w-40 group md:w-64"},s("div",{class:"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4 transition-colors text-slate-400 group-focus-within:text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}))),s("input",{type:"text",id:"search-input-header",oninput:"window.handleSearch(this.value)",onfocus:"window.handleSearch(this.value)",autocomplete:"off",placeholder:"Search...",class:"block py-1.5 pr-3 pl-10 w-full text-sm rounded-lg border transition-all bg-slate-100 border-slate-200 placeholder-slate-400 focus:outline-none focus:bg-white focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500"}),s("div",{id:"search-results-dropdown",class:"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-slate-200 hidden overflow-hidden z-[100] max-h-[400px] overflow-y-auto"},s("div",{id:"search-results-content",class:"p-2"},s("div",{class:"py-4 text-xs text-center text-slate-400"},"Type to search...")))),s("nav",{class:"hidden items-center space-x-8 md:flex"},s("a",{href:"/",class:"font-medium transition-colors text-slate-600 hover:text-emerald-600"},"Home"),s("div",{class:"relative group"},s("button",{class:"flex gap-1 items-center py-4 font-medium transition-colors text-slate-600 group-hover:text-emerald-600"},"Documentation",s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4 transition-transform group-hover:rotate-180",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"}))),s("div",{class:"absolute top-full left-1/2 -translate-x-1/2 w-[500px] bg-white rounded-2xl shadow-2xl border border-slate-100 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 p-6 z-[100]"},s("div",{class:"grid grid-cols-3 gap-8"},s("div",null,s("h5",{class:"mb-4 text-xs font-bold tracking-wider uppercase text-slate-400"},"Internal Services"),s("ul",{class:"space-y-3"},s("li",null,s("a",{href:"/docs",class:"flex gap-3 items-start group/item"},s("div",{class:"flex justify-center items-center w-8 h-8 text-emerald-600 bg-emerald-50 rounded-lg transition-colors shrink-0 group-hover/item:bg-emerald-600 group-hover/item:text-white"},s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"}))),s("div",null,s("div",{class:"text-sm font-bold text-slate-900"},"Al-Quran API"),s("div",{class:"text-xs text-slate-500"},"Teks & Tafsir Kemenag")))),s("li",null,s("a",{href:"/other",class:"flex gap-3 items-start group/item"},s("div",{class:"flex justify-center items-center w-8 h-8 text-blue-600 bg-blue-50 rounded-lg transition-colors shrink-0 group-hover/item:bg-blue-600 group-hover/item:text-white"},s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"}))),s("div",null,s("div",{class:"text-sm font-bold text-slate-900"},"Jadwal Sholat"),s("div",{class:"text-xs text-slate-500"},"Seluruh Indonesia")))),s("li",null,s("a",{href:"/status",class:"flex gap-3 items-start group/item"},s("div",{class:"flex justify-center items-center w-8 h-8 text-amber-600 bg-amber-50 rounded-lg transition-colors shrink-0 group-hover/item:bg-amber-600 group-hover/item:text-white"},s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"}))),s("div",null,s("div",{class:"text-sm font-bold text-slate-900"},"System Status"),s("div",{class:"text-xs text-slate-500"},"Uptime & Latency")))))),s("div",{class:"col-span-2"},s("h5",{class:"mb-4 text-xs font-bold tracking-wider uppercase text-slate-400"},"Other API Resources"),s("ul",{class:"grid grid-cols-2 gap-y-4 gap-x-8"},s("li",null,s("a",{href:"/other#hadits",class:"flex gap-3 items-start group/item"},s("div",{class:"flex justify-center items-center w-8 h-8 text-rose-600 bg-rose-50 rounded-lg transition-colors shrink-0 group-hover/item:bg-rose-600 group-hover/item:text-white"},s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"}))),s("div",null,s("div",{class:"text-sm font-bold text-slate-900"},"Hadits & Tafsir"),s("div",{class:"text-xs text-slate-500"},"Kumpulan Kitab & Tafsir")))),s("li",null,s("a",{href:"/other#doa",class:"flex gap-3 items-start group/item"},s("div",{class:"flex justify-center items-center w-8 h-8 text-purple-600 bg-purple-50 rounded-lg transition-colors shrink-0 group-hover/item:bg-purple-600 group-hover/item:text-white"},s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"}))),s("div",null,s("div",{class:"text-sm font-bold text-slate-900"},"Doa & Dzikir"),s("div",{class:"text-xs text-slate-500"},"Harian & Pilihan")))),s("li",null,s("a",{href:"/other#calendar",class:"flex gap-3 items-start group/item"},s("div",{class:"flex justify-center items-center w-8 h-8 text-indigo-600 bg-indigo-50 rounded-lg transition-colors shrink-0 group-hover/item:bg-indigo-600 group-hover/item:text-white"},s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"}))),s("div",null,s("div",{class:"text-sm font-bold text-slate-900"},"Kalender Hijriah"),s("div",{class:"text-xs text-slate-500"},"Konversi & Jadwal")))),s("li",null,s("a",{href:"/other#asma",class:"flex gap-3 items-start group/item"},s("div",{class:"flex justify-center items-center w-8 h-8 text-amber-600 bg-amber-50 rounded-lg transition-colors shrink-0 group-hover/item:bg-amber-600 group-hover/item:text-white"},s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-7.714 2.143L11 21l-2.286-6.857L1 12l7.714-2.143L11 3z"}))),s("div",null,s("div",{class:"text-sm font-bold text-slate-900"},"Asmaul Husna"),s("div",{class:"text-xs text-slate-500"},"99 Nama Allah")))),s("li",null,s("a",{href:"/other#kemenag",class:"flex gap-3 items-start group/item"},s("div",{class:"flex justify-center items-center w-8 h-8 text-emerald-600 bg-emerald-50 rounded-lg transition-colors shrink-0 group-hover/item:bg-emerald-600 group-hover/item:text-white"},s("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"}))),s("div",null,s("div",{class:"text-sm font-bold text-slate-900"},"Layanan Kemenag"),s("div",{class:"text-xs text-slate-500"},"SIMAS, Pesantren & Libur"))))))))),s("a",{href:"/playground",class:"px-4 py-1.5 font-medium text-white bg-emerald-600 rounded-lg shadow-sm transition-all hover:bg-emerald-700 hover:shadow-emerald-200"},"Playground")),s("div",{class:"md:hidden"},s("button",{type:"button",onclick:"document.getElementById('mobile-menu').classList.toggle('open')",class:"p-2 rounded-lg transition-all text-slate-600 hover:text-emerald-600 hover:bg-slate-100"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})))))),s("div",{id:"mobile-menu",class:"border-t md:hidden border-slate-100"},s("nav",{class:"flex flex-col px-2 pb-4 space-y-1"},s("a",{href:"/",class:"px-3 py-2 font-medium rounded-lg transition-all text-slate-600 hover:text-emerald-600 hover:bg-emerald-50"},"Home"),s("div",{class:"px-3 py-2 mt-2 text-xs font-bold tracking-wider uppercase text-slate-400"},"Internal Services"),s("a",{href:"/docs",class:"flex gap-2 items-center px-3 py-2 font-medium rounded-lg transition-all text-slate-600 hover:text-emerald-600 hover:bg-emerald-50"},s("div",{class:"w-1.5 h-1.5 bg-emerald-500 rounded-full"})," ","Al-Quran API"),s("a",{href:"/other",class:"flex gap-2 items-center px-3 py-2 font-medium rounded-lg transition-all text-slate-600 hover:text-emerald-600 hover:bg-emerald-50"},s("div",{class:"w-1.5 h-1.5 bg-blue-500 rounded-full"})," Other APIs"),s("a",{href:"/status",class:"flex gap-2 items-center px-3 py-2 font-medium rounded-lg transition-all text-slate-600 hover:text-emerald-600 hover:bg-emerald-50"},s("div",{class:"w-1.5 h-1.5 bg-amber-500 rounded-full"})," ","System Status"),s("div",{class:"px-3 py-2 mt-2 text-xs font-bold tracking-wider uppercase text-slate-400"},"External Resources"),s("a",{href:"https://quran.kemenag.go.id/",target:"_blank",class:"px-3 py-2 font-medium rounded-lg transition-all text-slate-600 hover:text-emerald-600 hover:bg-emerald-50"},"Quran Kemenag"),s("a",{href:"https://github.com/vrush2000/muslim-all-in-one-api",target:"_blank",class:"px-3 py-2 font-medium rounded-lg transition-all text-slate-600 hover:text-emerald-600 hover:bg-emerald-50"},"GitHub Repository"),s("a",{href:"/playground",class:"px-3 py-2.5 mt-4 font-bold text-center text-white bg-emerald-600 rounded-xl shadow-lg transition-all shadow-emerald-100"},"Open Playground"))))),s("main",{class:"flex-grow"},t),s("div",{id:"api-preview-modal",class:"fixed inset-0 z-[200] hidden"},s("div",{class:"absolute inset-0 backdrop-blur-sm bg-slate-900/60",onclick:"window.closeApiModal()"}),s("div",{class:"flex absolute inset-0 justify-center items-center p-2 pointer-events-none sm:p-4"},s("div",{class:"bg-white w-full max-w-4xl h-full sm:h-auto sm:max-h-[90vh] rounded-xl sm:rounded-2xl shadow-2xl flex flex-col pointer-events-auto overflow-hidden border border-slate-200"},s("div",{class:"flex justify-between items-center px-4 py-3 border-b sm:px-6 sm:py-4 border-slate-100 bg-slate-50/50 shrink-0"},s("div",{class:"flex overflow-hidden gap-2 items-center sm:gap-3"},s("div",{class:"flex justify-center items-center w-8 h-8 text-emerald-600 bg-emerald-100 rounded-lg sm:w-10 sm:h-10 sm:rounded-xl shrink-0"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 sm:h-6 sm:w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))),s("div",{class:"overflow-hidden"},s("h3",{class:"text-sm font-bold truncate sm:text-lg text-slate-900"},"API Response Preview"),s("p",{id:"modal-endpoint-url",class:"text-[10px] sm:text-xs text-slate-500 font-mono mt-0.5 truncate max-w-[150px] sm:max-w-md md:max-w-xl"}))),s("button",{onclick:"window.closeApiModal()",class:"p-1.5 rounded-lg transition-all sm:p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 shrink-0"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 sm:h-6 sm:w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})))),s("div",{class:"flex overflow-hidden flex-col flex-grow gap-3 p-4 sm:p-6 sm:gap-4"},s("div",{class:"flex flex-col gap-3 justify-between sm:flex-row sm:items-center shrink-0"},s("div",{class:"flex gap-3 items-center"},s("span",{class:"inline-flex items-center px-2 py-0.5 rounded-md text-[10px] sm:text-xs font-bold bg-emerald-100 text-emerald-800 uppercase tracking-wider"},"GET"),s("span",{id:"modal-status-badge",class:"hidden inline-flex items-center px-2 py-0.5 rounded-md text-[10px] sm:text-xs font-bold uppercase tracking-wider"})),s("div",{class:"flex gap-2 items-center"},s("button",{onclick:"window.copyModalResponse()",class:"flex-1 sm:flex-none flex items-center justify-center gap-2 px-3 py-1.5 text-[11px] sm:text-sm font-medium text-slate-600 hover:text-emerald-600 hover:bg-emerald-50 border border-slate-200 sm:border-transparent rounded-lg transition-all"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3.5 h-3.5 sm:h-4 sm:w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})),"Copy JSON"),s("a",{id:"modal-full-playground",href:"#",class:"flex-1 sm:flex-none flex items-center justify-center gap-2 px-3 py-1.5 text-[11px] sm:text-sm font-medium text-emerald-600 hover:bg-emerald-50 border border-emerald-100 sm:border-transparent rounded-lg transition-all"},"Playground",s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3.5 h-3.5 sm:h-4 sm:w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7l5 5m0 0l-5 5m5-5H6"}))))),s("div",{class:"flex-grow overflow-hidden relative custom-scrollbar flex flex-col bg-[#0f172a] rounded-lg sm:rounded-xl border border-slate-700"},s("pre",{id:"modal-json-pure",class:"flex-grow h-full w-full p-4 sm:p-6 text-emerald-400 font-mono text-[11px] sm:text-sm overflow-auto custom-scrollbar whitespace-pre"}))),s("div",{class:"flex px-4 py-3 border-t sm:px-6 sm:py-4 border-slate-100 bg-slate-50/50 shrink-0"},s("button",{onclick:"window.closeApiModal()",class:"px-6 py-2 w-full font-bold text-white rounded-lg shadow-lg transition-all sm:w-auto sm:ml-auto bg-slate-900 sm:rounded-xl hover:bg-slate-800 shadow-slate-200"},"Close Preview"))))),s("script",{dangerouslySetInnerHTML:{__html:`
          let modalJsonData = null;
          
          window.openApiModal = async function(category, endpointId, url) {
            const modal = document.getElementById('api-preview-modal');
            const jsonDisplay = document.getElementById('modal-json-pure');
            const urlDisplay = document.getElementById('modal-endpoint-url');
            const playgroundLink = document.getElementById('modal-full-playground');
            const statusBadge = document.getElementById('modal-status-badge');
            
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            
            urlDisplay.textContent = url;
            playgroundLink.href = '/playground?category=' + category + '&endpoint=' + endpointId;
            
            jsonDisplay.textContent = 'Loading response...';
            statusBadge.classList.add('hidden');
            
            try {
              const start = performance.now();
              const response = await fetch(url);
              const data = await response.json();
              const end = performance.now();
              
              modalJsonData = data;
              jsonDisplay.textContent = JSON.stringify(data, null, 2);
              
              statusBadge.textContent = response.status + ' ' + response.statusText + ' (' + Math.round(end - start) + 'ms)';
              statusBadge.className = 'inline-flex items-center px-2.5 py-0.5 text-xs font-medium rounded-full' + 
                (response.ok ? 'bg-blue-100 text-blue-800' : 'bg-red-100 text-red-800');
              statusBadge.classList.remove('hidden');
            } catch (error) {
              jsonDisplay.textContent = JSON.stringify({ error: 'Failed to fetch API', details: error.message }, null, 2);
              statusBadge.textContent = 'Error';
              statusBadge.className = 'inline-flex items-center px-2.5 py-0.5 text-xs font-medium text-red-800 bg-red-100 rounded-full';
              statusBadge.classList.remove('hidden');
            }
          };
          
          window.closeApiModal = function() {
            const modal = document.getElementById('api-preview-modal');
            modal.classList.add('hidden');
            document.body.style.overflow = '';
          };
          
          window.copyModalResponse = function() {
            if (modalJsonData) {
              const json = JSON.stringify(modalJsonData, null, 2);
              navigator.clipboard.writeText(json).then(() => {
                const btn = event.currentTarget;
                const originalText = btn.innerHTML;
                btn.innerHTML = '<svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg> Copied!';
                setTimeout(() => btn.innerHTML = originalText, 2000);
              });
            }
          };
          
          // Close modal on ESC key
          document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape') {
              window.closeApiModal();
              window.closeDonationModal();
            }
          });

          window.openDonationModal = function() {
            const modal = document.getElementById('donation-modal');
            modal.classList.remove('hidden');
            document.body.style.overflow = 'hidden';
            window.resetDonationModal();
          };

          window.closeDonationModal = function() {
            const modal = document.getElementById('donation-modal');
            modal.classList.add('hidden');
            document.body.style.overflow = '';
          };

          window.resetDonationModal = function() {
            document.getElementById('qris-display-section').classList.add('hidden');
            document.getElementById('donation-options-section').classList.remove('hidden');
            document.getElementById('custom-amount').value = '';
            document.getElementById('qris-image').src = '';
          };

          window.selectPreset = function(amount) {
            document.getElementById('custom-amount').value = amount;
            window.generateDonationQR();
          };

          window.generateDonationQR = async function() {
            const amount = document.getElementById('custom-amount').value;
            if (!amount || amount < 1000) {
              alert('Pilih atau masukan nominal donasi');
              return;
            }

            const generateBtn = document.getElementById('generate-qris-btn');
            const originalText = generateBtn.innerHTML;
            generateBtn.disabled = true;
            generateBtn.innerHTML = 'Generating...';

            try {
              const response = await fetch("/api/qris/generate?amount=" + amount);
              const result = await response.json();

              if (result.status === 200) {
                document.getElementById('donation-options-section').classList.add('hidden');
                document.getElementById('qris-display-section').classList.remove('hidden');
                document.getElementById('qris-image').src = result.data.qr_image;
                document.getElementById('display-amount').textContent = new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', minimumFractionDigits: 0 }).format(amount);
              } else {
                alert('Gagal generate QRIS: ' + result.message);
              }
            } catch (error) {
              alert('Terjadi kesalahan: ' + error.message);
            } finally {
              generateBtn.disabled = false;
              generateBtn.innerHTML = originalText;
            }
          };
        `}}),s("footer",{class:"py-12 mt-12 bg-white border-t border-slate-200"},s("div",{class:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8"},s("div",{class:"grid grid-cols-1 gap-8 md:grid-cols-4 lg:grid-cols-4"},s("div",{class:"col-span-1 md:col-span-1"},s("div",{class:"flex gap-2 items-center mb-4"},s("div",{class:"flex justify-center items-center w-6 h-6 bg-emerald-600 rounded"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"}))),s("span",{class:"text-lg font-bold"},"Muslim API")),s("p",{class:"mb-4 text-sm leading-relaxed text-slate-500"},"Penyedia layanan API Muslim gratis untuk mempermudah pengembang dalam membangun aplikasi islami."),s("div",{class:"flex gap-3 items-center"},s("a",{href:"https://github.com/vrush2000/muslim-all-in-one-api",target:"_blank",class:"p-2 rounded-lg transition-all bg-slate-100 hover:bg-emerald-100 text-slate-600 hover:text-emerald-600",title:"GitHub Repository"},s("svg",{class:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24"},s("path",{d:"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"}))),s("a",{href:"/status",class:"p-2 rounded-lg transition-all bg-slate-100 hover:bg-emerald-100 text-slate-600 hover:text-emerald-600",title:"System Status"},s("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"}))))),s("div",null,s("h4",{class:"mb-4 font-semibold text-slate-900"},"API Documentation"),s("ul",{class:"space-y-2 text-sm text-slate-500"},s("li",null,s("a",{href:"/docs",class:"hover:text-emerald-600"},"Al-Quran API")),s("li",null,s("a",{href:"/other#hadits",class:"hover:text-emerald-600"},"Hadits & Doa")),s("li",null,s("a",{href:"/other#sholat",class:"hover:text-emerald-600"},"Jadwal Sholat")),s("li",null,s("a",{href:"/other#kemenag",class:"hover:text-emerald-600"},"Kemenag Data")),s("li",null,s("a",{href:"/other#sejarah",class:"hover:text-emerald-600"},"Sejarah Islam")),s("li",null,s("a",{href:"/playground",class:"font-semibold text-emerald-600 hover:underline"},"API Playground")))),s("div",null,s("h4",{class:"mb-4 font-semibold text-slate-900"},"Official Sources"),s("ul",{class:"space-y-2 text-sm text-slate-500"},s("li",null,s("a",{href:"https://quran.kemenag.go.id/",target:"_blank",class:"flex gap-1 items-center hover:text-emerald-600"},"Quran Kemenag"," ",s("svg",{class:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s("path",{d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"})))),s("li",null,s("a",{href:"https://equran.id/",target:"_blank",class:"hover:text-emerald-600"},"equran.id (Audio)")),s("li",null,s("a",{href:"https://api.myquran.com/",target:"_blank",class:"hover:text-emerald-600"},"MyQuran API (Jadwal Sholat)")))),s("div",null,s("h4",{class:"mb-4 font-semibold text-slate-900"},"Community Repos"),s("ul",{class:"space-y-2 text-sm text-slate-500"},s("li",null,s("a",{href:"https://github.com/Otangid/muslim-api",target:"_blank",class:"hover:text-emerald-600"},"Dataset keislaman")),s("li",null,s("a",{href:"https://github.com/nasrul21/data-pesantren-indonesia",target:"_blank",class:"hover:text-emerald-600"},"Data Pesantren")),s("li",null,s("a",{href:"https://github.com/kresnasatya/api-harilibur",target:"_blank",class:"hover:text-emerald-600"},"Libur Nasional")),s("li",null,s("a",{href:"https://github.com/gadingnst/hadith-api",target:"_blank",class:"hover:text-emerald-600"},"Koleksi Hadith")))),s("div",null,s("h4",{class:"mb-4 font-semibold text-slate-900"},"Inspiration"),s("p",{class:"text-sm leading-relaxed text-slate-500"},"Original template by"," ",s("a",{href:"http://www.designstub.com/",target:"_blank",class:"hover:text-emerald-600"},"Designstub"))),s("div",null,s("h4",{class:"mb-4 font-semibold text-slate-900"},"Support Project"),s("div",{onclick:"window.openDonationModal()",class:"flex gap-3 items-center p-3 mb-3 w-full bg-gradient-to-br from-emerald-50 to-teal-50 rounded-xl border border-emerald-100 shadow-sm transition-all cursor-pointer group hover:border-emerald-300 hover:shadow-md"},s("div",{class:"flex justify-center items-center w-10 h-10 text-white bg-emerald-600 rounded-lg shadow-lg transition-transform shadow-emerald-200 group-hover:scale-110"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))),s("div",{class:"text-left"},s("div",{class:"text-[10px] text-emerald-600 font-medium"},"Donasi via QRIS"),s("div",{class:"text-xs font-bold text-slate-900"},"Support Developer"))))),s("div",{class:"pt-8 mt-12 text-center border-t border-slate-100"},s("p",{class:"mb-4 text-sm text-slate-500"},"Dikembangkan dengan \u2764\uFE0F untuk Ummat."),s("p",{class:"text-xs text-slate-400"},"\xA9 ",new Date().getFullYear()," Muslim All-in-One API. Created by Vrush Studio.")))),s("div",{id:"donation-modal",class:"fixed inset-0 z-[100] hidden overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},s("div",{class:"flex justify-center items-center px-4 pt-4 pb-20 min-h-screen text-center sm:block sm:p-0"},s("div",{class:"fixed inset-0 backdrop-blur-sm transition-opacity bg-slate-900/60",onclick:"window.closeDonationModal()",style:"z-index: -1;"}),s("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"\u200B"),s("div",{class:"inline-block overflow-hidden relative z-10 text-left align-bottom bg-white rounded-3xl border shadow-2xl transition-all transform sm:my-8 sm:align-middle sm:max-w-md sm:w-full border-slate-100"},s("div",{class:"flex relative z-20 justify-between items-center px-6 py-4 bg-gradient-to-r from-emerald-600 to-teal-600"},s("div",{class:"flex gap-3 items-center text-white"},s("div",{class:"p-2 rounded-lg backdrop-blur-md bg-white/20"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"}))),s("h3",{class:"text-lg font-bold leading-6",id:"modal-title"},"Dukung Muslim API")),s("button",{onclick:"window.closeDonationModal()",class:"transition-colors text-white/80 hover:text-white"},s("svg",{class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})))),s("div",{class:"px-6 py-6"},s("div",{id:"donation-options-section"},s("p",{class:"mb-6 text-sm text-center text-slate-600"},"Pilih atau masukkan nominal donasi untuk mendukung pengembangan Muslim API."),s("div",{class:"grid grid-cols-3 gap-3 mb-6"},[5e3,1e4,2e4,5e4,1e5,25e4].map(a=>s("button",{onclick:`window.selectPreset(${a})`,class:"relative z-20 px-2 py-3 text-sm font-bold rounded-xl border transition-all preset-btn bg-slate-50 border-slate-200 text-slate-700 hover:border-emerald-500 hover:bg-emerald-50 focus:outline-none focus:ring-2 focus:ring-emerald-500/20"},new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(a)))),s("div",{class:"relative z-20 mb-6"},s("div",{class:"flex absolute inset-y-0 left-0 items-center pl-4 pointer-events-none"},s("span",{class:"font-bold text-slate-400"},"Rp")),s("input",{type:"number",id:"custom-amount",class:"block py-4 pr-4 pl-12 w-full text-lg font-bold rounded-2xl border transition-all bg-slate-50 border-slate-200 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500",placeholder:"Nominal lainnya..."})),s("button",{id:"generate-qris-btn",onclick:"window.generateDonationQR()",class:"flex relative z-20 gap-2 justify-center items-center py-4 w-full font-bold text-white rounded-2xl shadow-xl transition-all bg-slate-900 hover:bg-slate-800 shadow-slate-200"},"Generate QRIS")),s("div",{id:"qris-display-section",class:"hidden text-center"},s("div",{class:"mb-4"},s("div",{id:"display-amount",class:"text-2xl font-black text-slate-800"},"Rp 0"),s("div",{class:"text-xs font-medium text-slate-400"},"Scan QRIS untuk membayar"),s("div",{class:"text-xs font-medium text-slate-400"},"dan akan diarahkan ke Hariistimewa.com - DANA")),s("div",{class:"inline-block p-4 mb-6 bg-white rounded-2xl border-2 shadow-sm border-slate-100"},s("img",{id:"qris-image",src:"",alt:"QRIS",class:"w-64 h-64"})),s("div",{class:"p-4 mb-6 text-left rounded-xl bg-slate-50"},s("div",{class:"flex gap-3 items-start"},s("div",{class:"w-5 h-5 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center flex-shrink-0 text-[10px] font-bold"},"1"),s("p",{class:"text-xs text-slate-600"},"Buka aplikasi pembayaran (Gopay, OVO, Dana, LinkAja, atau Mobile Banking).")),s("div",{class:"flex gap-3 items-start mt-3"},s("div",{class:"w-5 h-5 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center flex-shrink-0 text-[10px] font-bold"},"2"),s("p",{class:"text-xs text-slate-600"},"Pilih menu ",s("b",null,"Scan/Bayar")," lalu arahkan kamera ke QR Code di atas.")),s("div",{class:"flex gap-3 items-start mt-3"},s("div",{class:"w-5 h-5 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center flex-shrink-0 text-[10px] font-bold"},"3"),s("p",{class:"text-xs text-slate-600"},"Pastikan nominal sesuai dan selesaikan pembayaran."))),s("button",{onclick:"window.resetDonationModal()",class:"text-sm font-bold text-emerald-600 hover:underline"},"Ganti Nominal")))))),s("script",{dangerouslySetInnerHTML:{__html:`
          window.openDonationModal = function() {
            document.getElementById('donation-modal').classList.remove('hidden');
            document.body.style.overflow = 'hidden';
          }

          window.closeDonationModal = function() {
            document.getElementById('donation-modal').classList.add('hidden');
            document.body.style.overflow = 'auto';
            window.resetDonationModal();
          }

          window.selectPreset = function(amount) {
            const input = document.getElementById('custom-amount');
            input.value = amount;
            
            // Highlight selected preset
            document.querySelectorAll('.preset-btn').forEach(btn => {
              btn.classList.remove('border-emerald-500', 'bg-emerald-50', 'ring-2', 'ring-emerald-500/20');
            });
            
            event.currentTarget.classList.add('border-emerald-500', 'bg-emerald-50', 'ring-2', 'ring-emerald-500/20');
          }

          window.generateDonationQR = async function() {
            const amountInput = document.getElementById('custom-amount');
            const amount = parseInt(amountInput.value);
            const btn = document.getElementById('generate-qris-btn');
            
            if (!amount || amount < 1000) {
              alert('Pilh atau masukkan nominal donasi');
              return;
            }

            btn.disabled = true;
            btn.innerHTML = '<svg class="w-5 h-5 text-white animate-spin" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> Generating...';

            try {
              const response = await fetch('/api/qris/generate?amount=' + amount);
              const result = await response.json();

              if (result.status === 200) {
                document.getElementById('donation-options-section').classList.add('hidden');
                document.getElementById('qris-display-section').classList.remove('hidden');
                
                document.getElementById('display-amount').innerText = new Intl.NumberFormat('id-ID', { 
                  style: 'currency', 
                  currency: 'IDR', 
                  minimumFractionDigits: 0 
                }).format(amount);
                
                document.getElementById('qris-image').src = result.data.qr_image;
              } else {
                alert('Gagal generate QRIS: ' + result.message);
              }
            } catch (error) {
              console.error('Error:', error);
              alert('Terjadi kesalahan saat generate QRIS');
            } finally {
              btn.disabled = false;
              btn.innerHTML = 'Generate QRIS';
            }
          }

          window.resetDonationModal = function() {
            document.getElementById('donation-options-section').classList.remove('hidden');
            document.getElementById('qris-display-section').classList.add('hidden');
            document.getElementById('custom-amount').value = '';
            document.querySelectorAll('.preset-btn').forEach(btn => {
              btn.classList.remove('border-emerald-500', 'bg-emerald-50', 'ring-2', 'ring-emerald-500/20');
            });
          }

          // Close on ESC
          document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
              window.closeDonationModal();
            }
          });
        `}})));var Z=({method:t,path:e,title:a,responseJson:r,category:n,endpointId:o})=>s("div",{class:"overflow-hidden mb-8 bg-white rounded-xl border shadow-sm transition-all duration-300 border-slate-200 hover:shadow-md"},s("div",{class:"flex justify-between items-center px-6 py-4 border-b border-slate-100 bg-slate-50/50"},s("h4",{class:"font-semibold text-slate-900"},a),s("div",{class:"flex gap-2"},s("span",{class:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider ${t==="GET"?"bg-emerald-100 text-emerald-700":"bg-blue-100 text-blue-700"}`},t))),s("div",{class:"p-6"},s("div",{class:"flex gap-2 items-center mb-6 group"},s("div",{class:"flex flex-grow gap-2 items-center px-3 py-2 rounded-lg border transition-colors bg-slate-100 border-slate-200 group-hover:border-emerald-200"},s("code",{class:"font-mono text-sm truncate text-slate-600"},e)),s("div",{class:"flex gap-2"},s("button",{onclick:`window.openApiModal('${n}', '${o}', '/v1${e}')`,class:"p-2 rounded-lg transition-all text-slate-400 hover:text-blue-600 hover:bg-blue-50",title:"Try in Playground"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))),s("button",{onclick:`navigator.clipboard.writeText(window.location.origin + '/v1${e}')`,class:"p-2 rounded-lg transition-all text-slate-400 hover:text-emerald-600 hover:bg-emerald-50",title:"Copy URL"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m-3 8.5V11a.5.5 0 00-.5-.5H9.75a.5.5 0 00-.5.5v1.5a.5.5 0 00.5.5h.75a.5.5 0 00.5-.5z"}))))),s("div",{class:"space-y-4"},s("details",{class:"group"},s("summary",{class:"flex gap-2 items-center text-sm font-medium list-none transition-colors cursor-pointer text-slate-500 hover:text-emerald-600"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4 transition-transform group-open:rotate-180",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})),"Example Response"),s("div",{class:"mt-4 duration-300 animate-in fade-in slide-in-from-top-2"},s("pre",{class:"text-[11px] leading-relaxed shadow-inner"},s("code",null,r))))))),ka=({title:t,icon:e,id:a,color:r="emerald"})=>s("div",{id:a,class:"flex gap-3 items-center mb-8 scroll-mt-24"},s("div",{class:`flex justify-center items-center w-10 h-10 rounded-lg shadow-lg bg-${r}-600 shadow-${r}-100`},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:e}))),s("h2",{class:"text-2xl font-bold text-slate-900"},t)),_i=({baseUrl:t})=>s("div",{class:"px-4 py-12 mx-auto max-w-7xl sm:px-6 lg:px-8"},s("div",{class:"grid grid-cols-1 gap-12 lg:grid-cols-4"},s("aside",{class:"hidden sticky top-28 col-span-1 self-start lg:block"},s("div",{class:"p-6 bg-white rounded-2xl border shadow-sm border-slate-200"},s("h3",{class:"px-3 mb-4 text-xs font-bold tracking-wider uppercase text-slate-400"},"Menu"),s("nav",{class:"space-y-1"},[{name:"Introduction",href:"#intro",icon:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"},{name:"Quran",href:"#quran",icon:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},{name:"Integrity",href:"#integrity",icon:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"},{name:"FAQ",href:"#faq",icon:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}].map((e,a)=>s("a",{key:a,href:e.href,class:"flex gap-3 items-center px-3 py-2 text-sm font-medium rounded-lg transition-all text-slate-600 hover:text-emerald-600 hover:bg-emerald-50 group"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4 transition-colors text-slate-400 group-hover:text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:e.icon})),e.name))))),s("div",{class:"col-span-1 lg:col-span-3"},s("section",{id:"intro",class:"mb-20 scroll-mt-24"},s("div",{class:"flex flex-wrap gap-3 mb-6"},s("div",{class:"inline-flex gap-2 items-center px-3 py-1 text-xs font-bold text-emerald-700 bg-emerald-100 rounded-full"},s("span",{class:"flex relative w-2 h-2"},s("span",{class:"inline-flex absolute w-full h-full bg-emerald-400 rounded-full opacity-75 animate-ping"}),s("span",{class:"inline-flex relative w-2 h-2 bg-emerald-500 rounded-full"})),"v1.0.0 Stable"),s("div",{class:"inline-flex gap-2 items-center px-3 py-1 text-xs font-bold text-blue-700 bg-blue-100 rounded-full"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04M12 2.944a11.955 11.955 0 01-8.618 3.04M12 2.944V12m0 9.472c-2.28 0-4.47-.636-6.342-1.742L12 12l6.342 7.73A11.955 11.955 0 0112 21.472z"})),"Verified Data Source: Kemenag RI")),s("h1",{class:"mb-6 text-4xl font-extrabold tracking-tight md:text-5xl text-slate-900"},"Muslim ",s("span",{class:"block text-emerald-600 md:inline"},"All-in-One API")),s("p",{class:"mb-10 max-w-3xl text-xl leading-relaxed text-slate-600"},"Akses data keislaman terlengkap dengan performa tinggi. Dibangun untuk pengembang yang ingin membuat aplikasi islami."),s("div",{class:"grid grid-cols-1 gap-6 mb-10 md:grid-cols-2"},s("div",{class:"p-6 bg-white rounded-2xl border shadow-sm border-slate-200"},s("div",{class:"flex justify-center items-center mb-4 w-10 h-10 text-emerald-600 bg-emerald-100 rounded-xl"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.828a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"}))),s("h3",{class:"mb-2 font-bold text-slate-900"},"Base URL"),s("div",{class:"flex gap-2 justify-between items-center p-2 rounded-lg border bg-slate-50 border-slate-100 group"},s("code",{class:"font-mono text-sm font-bold text-emerald-600 truncate"},t),s("button",{onclick:`navigator.clipboard.writeText('${t}')`,class:"p-1.5 rounded-md transition-all text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 shrink-0",title:"Copy Base URL"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"}))))),s("div",{class:"p-6 bg-white rounded-2xl border shadow-sm border-slate-200"},s("div",{class:"flex justify-center items-center mb-4 w-10 h-10 text-blue-600 bg-blue-100 rounded-xl"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"}))),s("h3",{class:"mb-2 font-bold text-slate-900"},"Format"),s("div",{class:"flex gap-2 items-center p-2 rounded-lg border bg-slate-50 border-slate-100"},s("code",{class:"font-mono text-sm font-bold text-blue-600"},"application/json"))))),s(ka,{id:"quran",title:"Al-Quran Indonesia",icon:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"}),s(Z,{title:"Daftar Surah",method:"GET",path:"/surah",category:"quran",endpointId:"list-surah",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan daftar surah.",
  "data": [
    {
      "number": "1",
      "name_id": "Al-Fatihah",
      "name_short": "\u0627\u0644\u0641\u0627\u062A\u062D\u0629",
      "number_of_verses": "7",
      "revelation_id": "Makkiyyah",
      "audio_full": {...}
    }
  ]
}`}),s(Z,{title:"Detail Surah",method:"GET",path:"/surah?surahId=1",category:"quran",endpointId:"detail-surah",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan detail surah Al-Fatihah.",
  "data": {
    "number": "1",
    "sequence": "5",
    "number_of_verses": "7",
    "name_short": "\u0627\u0644\u0641\u0627\u062A\u062D\u0629",
    "name_long": "\u0633\u064F\u0648\u0631\u064E\u0629\u064F \u0671\u0644\u0652\u0641\u064E\u0627\u062A\u0650\u062D\u064E\u0629\u0650",
    "name_en": "Al-Faatiha",
    "name_id": "Al-Fatihah",
    "translation_en": "The Opening",
    "translation_id": "Pembukaan",
    "revelation": "\u0645\u0643\u0629",
    "revelation_en": "Meccan",
    "revelation_id": "Makkiyyah",
    "tafsir": "...",
    "description": "...",
    "audio_url": "...",
    "audio_full": {
      "01": "https://cdn.equran.id/audio-full/Abdullah-Al-Juhany/001.mp3",
      "02": "https://cdn.equran.id/audio-full/Abdul-Muhsin-Al-Qasim/001.mp3",
      ...
    }
  }
}`}),s(Z,{title:"Tafsir Kemenag",method:"GET",path:"/tafsir?surahId=1",category:"quran",endpointId:"tafsir",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan tafsir surah 1.",
  "data": [
    {
      "id": "1",
      "ayah": "1",
      "wajiz": "...",
      "tahlili": "..."
    }
  ]
}`}),s(ka,{id:"ayah",title:"Ayat & Al-Quran",icon:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253",color:"emerald"}),s(Z,{title:"Ayat by Surah",method:"GET",path:"/ayah/surah?surahId=1",category:"quran",endpointId:"ayah-surah",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan daftar seluruh ayat surah 1.",
  "data": [
    {
      "id": "1",
      "surah": "1",
      "ayah": "1",
      "arab": "...",
      "latin": "...",
      "page": "1",
      "juz": "1",
      "hizb": null,
      "asbab": "0",
      "audio": "...",
      "audio_partial": {
        "01": "https://cdn.equran.id/audio-partial/Abdullah-Al-Juhany/001001.mp3",
        "02": "https://cdn.equran.id/audio-partial/Abdul-Muhsin-Al-Qasim/001001.mp3",
        ...
      },
      "theme": null,
      "text": "...",
      "notes": null
    }
  ]
}`}),s(Z,{title:"Spesifik Ayat",method:"GET",path:"/ayah/specific?surahId=1&ayahId=1",category:"quran",endpointId:"ayah-specific",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan ayat 1 surah 1.",
  "data": {
    "id": "1",
    "surah": "1",
    "ayah": "1",
    "arab": "...",
    "latin": "...",
    "page": "1",
    "juz": "1",
    "hizb": null,
    "asbab": "0",
    "audio": "...",
    "audio_partial": {
      "01": "https://cdn.equran.id/audio-partial/Abdullah-Al-Juhany/001001.mp3",
      ...
    },
    "theme": null,
    "text": "...",
    "notes": null
  }
}`}),s(Z,{title:"Ayat by Juz",method:"GET",path:"/ayah/juz?juzId=30",category:"quran",endpointId:"ayah-juz",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan seluruh ayat pada juz 30.",
  "data": [...]
}`}),s(Z,{title:"Ayat by Page",method:"GET",path:"/ayah/page?page=604",category:"quran",endpointId:"ayah-page",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan seluruh ayat pada halaman 604.",
  "data": [...]
}`}),s(Z,{title:"Range Ayat",method:"GET",path:"/ayah/range?surahId=1&start=1&end=7",category:"quran",endpointId:"ayah-range",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan ayat surah 1 dari ayat 1 sampai 7.",
  "data": [...]
}`}),s(Z,{title:"Cari Ayat",method:"GET",path:"/ayah/find?query=puasa",category:"quran",endpointId:"ayah-find",responseJson:`{
  "status": true,
  "message": "Berhasil mencari ayat dengan kata kunci 'puasa'.",
  "data": [...]
}`}),s(Z,{title:"Juz Al-Quran",method:"GET",path:"/juz",category:"quran",endpointId:"juz-list",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan daftar juz.",
  "data": [
    {
      "number": "1",
      "name": "Juz 1"
    }
  ]
}`}),s(Z,{title:"Detail Juz",method:"GET",path:"/juz?juzId=30",category:"quran",endpointId:"juz-detail",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan informasi juz 30.",
  "data": [...]
}`}),s(Z,{title:"Tema Al-Quran",method:"GET",path:"/theme",category:"quran",endpointId:"theme-list",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan daftar tema Al-Quran.",
  "data": [
    {
      "id": "1",
      "name": "Tiga Golongan Manusia..."
    }
  ]
}`}),s(Z,{title:"Detail Tema",method:"GET",path:"/theme?themeId=1",category:"quran",endpointId:"theme-detail",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan ayat dengan tema 1.",
  "data": [...]
}`}),s(Z,{title:"Al-Quran Kata per Kata",method:"GET",path:"/word?surahId=1",category:"quran",endpointId:"word-ayah",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan data kata per kata surah 1.",
  "data": [
    {
      "id": "id",
      "surah": "1",
      "ayah": "1",
      "word": "1",
      "arab": "\u0628\u0650\u0633\u0652\u0645\u0650",
      "indo": "dengan nama"
    }
  ]
}`}),s(Z,{title:"Word Spesifik Ayat",method:"GET",path:"/word?surahId=1&ayahId=1",category:"quran",endpointId:"word-ayah-specific",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan data kata per kata surah 1 ayat 1.",
  "data": [...]
}`}),s(ka,{id:"integrity",title:"Integrity Chain",icon:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z",color:"emerald"}),s("div",{className:"p-4 mb-6 bg-emerald-50 rounded-r-lg border-l-4 border-emerald-500"},s("p",{className:"mb-3 text-sm font-medium text-emerald-800"},"\u{1F6E1}\uFE0F ",s("strong",null,"Data Integrity Proof:"),' Kami menggunakan teknologi cryptographic hashing (SHA-256) untuk memastikan kemurnian teks Al-Quran. Setiap Surah dan Ayah memiliki "Digital Fingerprint" yang unik. Jika ada perubahan satu karakter saja pada data kami, maka hash integrity akan berubah.'),s("details",{class:"text-xs text-emerald-700 cursor-pointer"},s("summary",{class:"font-bold hover:underline"},"Cara Verifikasi Mandiri (Standard Industri)"),s("div",{class:"p-4 mt-3 space-y-3 rounded-lg bg-white/50"},s("p",null,"Anda dapat memverifikasi keaslian data secara manual:"),s("ol",{class:"space-y-1 list-decimal list-inside"},s("li",null,"Ambil data mentah dari ",s("code",{class:"px-1 bg-emerald-100 rounded"},"/v1/ayah/surah?surahId=1")),s("li",null,"Ekstrak field ",s("code",{class:"px-1 bg-emerald-100 rounded"},"arab")," dan ",s("code",{class:"px-1 bg-emerald-100 rounded"},"text")),s("li",null,"Lakukan hashing SHA-256 pada array tersebut"),s("li",null,"Bandingkan dengan ",s("code",{class:"px-1 bg-emerald-100 rounded"},"content_hash")," di ",s("code",{class:"px-1 bg-emerald-100 rounded"},"/v1/integrity/chain"))),s("div",{class:"mt-2"},s("p",{class:"mb-1 font-bold"},"Snippet Node.js:"),s("pre",{class:"overflow-x-auto p-2 text-emerald-400 rounded-md bg-slate-900"},`const crypto = require('crypto');
const data = ayahs.map(a => ({ arab: a.arab, text: a.text }));
const hash = crypto.createHash('sha256').update(JSON.stringify(data)).digest('hex');`))))),s(Z,{title:"Integrity Chain (Proof of Authenticity)",method:"GET",path:"/integrity/chain",category:"integrity",endpointId:"integrity-chain",responseJson:`{
  "status": true,
  "message": "Data Integrity Chain (Proof of Authenticity) berhasil dibuat.",
  "network": "Muslim-API Data Ledger",
  "root_hash": "4f8a...",
  "chain": [
    {
      "block_height": 1,
      "hash": "8d3e...",
      "surah_number": "1",
      "surah_name": "Al-Fatihah",
      "ayah_count": 7,
      "content_hash": "a1b2...",
      "previous_hash": "0000...",
      "timestamp": "2025-12-24T00:00:00Z"
    },
    ...
  ]
}`}),s(Z,{title:"Verifikasi Ayah Spesifik",method:"GET",path:"/integrity/verify/ayah?surahId=1&ayahId=1",category:"integrity",endpointId:"integrity-verify",responseJson:`{
  "status": true,
  "message": "Berhasil memverifikasi integritas ayat 1 pada surah 1.",
  "data": {
    "surahId": "1",
    "ayahId": "1",
    "local_data": {
      "arab": "\u0628\u0650\u0633\u0652\u0645\u0650 \u0627\u0644\u0644\u0651\u064E\u0647\u0650 \u0627\u0644\u0631" + "\u064E\u062D\u0652\u0645\u064E\u0670\u0646\u0650 \u0627\u0644\u0631\u0651\u064E\u062D\u0650\u064A\u0645\u0650",
      "text": "Dengan nama Allah Yang Maha Pengasih, Maha Penyayang."
    },
    "hash": "e3b0c442...",
    "comparison": {
      "status": "Success",
      "source": "Kemenag (via EQuran.id)",
      "is_match": true,
      "details": {
        "arab_match": true,
        "translation_match": true
      },
      "external_data": {
        "arab": "\u0628\u0650\u0633\u0652\u0645\u0650 \u0627\u0644\u0644\u0651\u064E\u0647\u0650 \u0627\u0644\u0631" + "\u064E\u062D\u0652\u0645\u064E\u0670\u0646\u0650 \u0627\u0644\u0631\u0651\u064E\u062D\u0650\u064A\u0645\u0650",
        "text": "Dengan nama Allah Yang Maha Pengasih, Maha Penyayang."
      }
    },
    "external_verification_url": "https://quran.kemenag.go.id/quran/per-ayat/surah/1?from=1&to=1",
    "timestamp": "2025-12-24T00:00:00Z"
  }
}`}),s("div",{class:"mt-12 mb-6"},s("h3",{class:"pl-4 text-2xl font-bold text-emerald-800 border-l-4 border-emerald-500"},"Spiritual Analytics (Global)"),s("p",{class:"mt-2 text-slate-600"},"Statistik penggunaan global untuk melihat tren pembacaan Al-Qur'an dan laporan khatam kolektif.")),s(Z,{title:"Global Analytics",method:"GET",path:"/analytics",category:"analytics",endpointId:"analytics-global",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan statistik spiritual global.",
  "data": {
    "total_reads": 1250,
    "global_khatam_count": 5,
    "trending_surahs": [
      { "id": "1", "name": "Al-Fatihah", "reads": 450 },
      { "id": "18", "name": "Al-Kahf", "reads": 320 }
    ],
    "last_updated": "2025-12-24T00:00:00Z"
  }
}`}),s(Z,{title:"Lapor Khatam (Post)",method:"POST",path:"/analytics/khatam",category:"analytics",endpointId:"analytics-khatam",responseJson:`{
  "status": true,
  "message": "Alhamdulillah! Satu khatam baru telah tercatat dalam statistik global. Semoga berkah."
}`}),s("div",{class:"overflow-hidden relative p-8 mb-20 text-white bg-gradient-to-br from-emerald-600 to-teal-700 rounded-2xl shadow-xl group"},s("div",{class:"absolute -right-10 -bottom-10 opacity-10 transition-transform duration-500 group-hover:scale-110"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-64 h-64",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"}))),s("div",{class:"relative z-10"},s("h3",{class:"mb-3 text-2xl font-bold"},"Butuh Resource Lainnya?"),s("p",{class:"mb-6 max-w-lg text-emerald-50"},"Temukan API tambahan seperti Murottal, Jadwal Sholat, Kalender Hijriah, Hadits, Asmaul Husna, dan banyak lagi di halaman Resources."),s("a",{href:"/other",class:"inline-flex gap-2 items-center px-6 py-3 font-bold text-emerald-700 bg-white rounded-xl shadow-lg transition-colors hover:bg-emerald-50"},"Eksplor Other Resources",s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 5l7 7-7 7"}))))),s(ka,{id:"widgets",title:"Widget Dashboard",icon:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z",color:"blue"}),s("div",{class:"p-8 mb-12 bg-white rounded-2xl border shadow-sm border-slate-200"},s("p",{class:"mb-8 text-slate-600"},"Ingin memasang jadwal sholat atau ayat harian di website Anda? Gunakan kode embed sederhana di bawah ini. Anda dapat menyesuaikan tampilan melalui parameter URL."),s("div",{class:"space-y-10"},s("div",null,s("h4",{class:"flex gap-2 items-center mb-4 font-bold text-slate-900"},s("span",{class:"flex justify-center items-center w-8 h-8 text-sm text-blue-600 bg-blue-100 rounded-lg"},"1"),"Widget Jadwal Sholat"),s("div",{class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},s("div",{class:"space-y-4"},s("p",{class:"text-sm text-slate-500"},"Salin kode di bawah ini ke dalam HTML Anda:"),s("div",{class:"relative group"},s("pre",{class:"overflow-x-auto p-4 text-xs rounded-xl bg-slate-900 text-slate-300"},`<iframe 
  src="${t.replace("/v1","")}/widget/sholat?city=jakarta" 
  width="300" 
  height="400" 
  frameborder="0"
></iframe>`),s("button",{onclick:`navigator.clipboard.writeText('<iframe src="${t.replace("/v1","")}/widget/sholat?city=jakarta" width="300" height="400" frameborder="0"></iframe>')`,class:"absolute top-2 right-2 p-2 text-white rounded-lg opacity-0 transition-all bg-white/10 hover:bg-white/20 group-hover:opacity-100"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2"}))))),s("div",{class:"bg-slate-50 rounded-xl p-2 border border-slate-200 flex items-center justify-center min-h-[420px] overflow-hidden"},s("iframe",{src:`${t.replace("/v1","")}/widget/sholat?city=jakarta`,width:"300",height:"400",frameborder:"0",class:"rounded-xl shadow-lg"})))),s("div",null,s("h4",{class:"flex gap-2 items-center mb-4 font-bold text-slate-900"},s("span",{class:"flex justify-center items-center w-8 h-8 text-sm text-emerald-600 bg-emerald-100 rounded-lg"},"2"),"Widget Ayat Harian"),s("div",{class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},s("div",{class:"space-y-4"},s("p",{class:"text-sm text-slate-500"},"Salin kode di bawah ini ke dalam HTML Anda:"),s("div",{class:"relative group"},s("pre",{class:"overflow-x-auto p-4 text-xs rounded-xl bg-slate-900 text-slate-300"},`<iframe 
  src="${t.replace("/v1","")}/widget/ayat" 
  width="400" 
  height="300" 
  frameborder="0"
></iframe>`),s("button",{onclick:`navigator.clipboard.writeText('<iframe src="${t.replace("/v1","")}/widget/ayat" width="400" height="300" frameborder="0"></iframe>')`,class:"absolute top-2 right-2 p-2 text-white rounded-lg opacity-0 transition-all bg-white/10 hover:bg-white/20 group-hover:opacity-100"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2"}))))),s("div",{class:"bg-slate-50 rounded-xl p-2 border border-slate-200 flex items-center justify-center min-h-[320px] overflow-hidden"},s("iframe",{src:`${t.replace("/v1","")}/widget/ayat`,width:"400",height:"300",frameborder:"0",class:"rounded-xl shadow-lg"})))))),s(ka,{id:"faq",title:"Pertanyaan Umum",icon:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z",color:"slate"}),s("div",{class:"mb-20 space-y-4"},[{q:"Apa itu Muslim All-in-One API?",a:"Muslim All-in-One API adalah proyek open-source yang bertujuan menyediakan akses data keislaman (Al-Quran, Jadwal Sholat, Hadits, dll) dalam satu platform yang cepat, gratis, dan mudah digunakan oleh pengembang aplikasi."},{q:"Bagaimana keaslian dan akurasi data Al-Quran?",a:"Kami menjamin keaslian data Al-Quran dalam API ini. Data teks, terjemahan, dan tafsir (Wajiz & Tahlili) diwarisi dari dataset muslim-api-three milik Otangid yang telah diverifikasi sesuai dengan data resmi Kemenag RI. Struktur data kami mencakup Tafsir Tahlili yang sangat mendalam, yang merupakan produk intelektual resmi dari Kementerian Agama RI dan mengikuti standar Mushaf Al-Quran Standar Indonesia (MSI)."},{q:"Bagaimana dengan performa dan keamanan?",a:"API ini sudah dilengkapi dengan 'Enterprise-grade Caching' (SWR) yang membuat respon sangat cepat lewat CDN. Kami juga menerapkan CORS policy and Rate Limiting untuk menjaga stabilitas server dari penggunaan berlebihan."},{q:"Apakah data ini sesuai dengan sumber resmi Kemenag?",a:"Ya, benar. Secara teknis, dataset kami menggunakan skema 'Wajiz' dan 'Tahlili' yang hanya dimiliki oleh publikasi resmi Kemenag RI. Teks Arab yang digunakan juga mengikuti kaidah rasm utsmani standar Indonesia dengan tanda waqaf dan harakat yang telah disesuaikan untuk pengguna di Indonesia. Anda dapat membandingkan output API kami dengan situs resmi quran.kemenag.go.id untuk verifikasi mandiri."},{q:"Apakah data Hadits yang disediakan sahih?",a:"Untuk Hadits Arbain, kami menggunakan dataset dari muslim-api-three milik Otangid yang telah terverifikasi. Untuk koleksi hadits besar (Bukhari, Muslim, dll), kami mengintegrasikan data dari api.hadith.gading.dev yang mengambil sumber dari kitab-kitab hadits terkemuka dengan teks Arab dan terjemahan Indonesia yang kredibel."},{q:"Dari mana sumber data lainnya?",a:"Jadwal sholat bersumber dari Kemenag RI (via MyQuran API). Dataset Al-Quran, Doa, dan Dzikir diwarisi dari project milik Otangid (muslim-api-three). Audio murottal disediakan melalui CDN equran.id."},{q:"Bagaimana jika saya menemukan perbedaan dengan mushaf resmi Kemenag?",a:"Meskipun kami berusaha 100% akurat, kesalahan manusia dalam entry data bisa saja terjadi. Jika Anda menemukan perbedaan teks atau tanda baca dengan quran.kemenag.go.id, silakan laporkan melalui GitHub Issues. Kami menyediakan endpoint Admin khusus untuk melakukan koreksi instan secara lokal sebelum di-push ke server, sehingga perbaikan dapat dilakukan dengan sangat cepat tanpa menunggu siklus rilis yang lama."},{q:"Bagaimana cara melakukan perubahan data atau memperbaiki typo?",a:"Data lokal seperti Al-Quran, Dzikir, dan Doa disimpan dalam format JSON di folder `src/data`. Anda dapat melakukan koreksi langsung pada file tersebut. Berkat sistem Integrity Chain kami, setiap perubahan pada teks Al-Quran akan secara otomatis mengubah 'Digital Fingerprint' (hash) pada sistem, sehingga transparansi data tetap terjaga."},{q:"Bagaimana jika saya menemukan kesalahan penulisan atau bug?",a:"Kami sangat menghargai laporan Anda. Jika Anda adalah pengguna API, silakan laporkan melalui Issue di repository GitHub kami. Jika Anda adalah pengembang, Anda dapat melakukan Pull Request atau memperbaiki data langsung di file JSON lokal."},{q:"Apakah API ini gratis untuk digunakan?",a:"Ya, API ini 100% gratis untuk digunakan baik untuk proyek personal, pendidikan, maupun komersial tanpa perlu kunci API (API Key)."},{q:"Apakah ada batasan rate limit?",a:"Saat ini tidak ada batasan rate limit yang ketat, namun kami menyarankan untuk melakukan caching di sisi aplikasi Anda untuk performa terbaik dan menjaga keberlangsungan layanan."}].map((e,a)=>s("details",{key:a,class:"overflow-hidden bg-white rounded-2xl border shadow-sm group border-slate-200"},s("summary",{class:"flex justify-between items-center p-6 list-none cursor-pointer"},s("span",{class:"font-bold text-slate-900"},e.q),s("span",{class:"text-emerald-500 transition-transform group-open:rotate-180"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})))),s("div",{class:"px-6 pt-4 pb-6 leading-relaxed border-t text-slate-600 border-slate-50"},e.a)))),s("div",{class:"p-10 mb-20 text-center text-white rounded-3xl bg-slate-900"},s("h2",{class:"mb-4 text-3xl font-bold"},"Siap untuk Membangun?"),s("p",{class:"mx-auto mb-8 max-w-xl text-slate-400"},"Mulai integrasikan Muslim API ke dalam aplikasi Anda hari ini. Gratis, cepat, dan terpercaya."),s("div",{class:"flex flex-wrap gap-4 justify-center"},s("a",{href:"/playground",class:"px-8 py-3 font-bold text-white bg-emerald-600 rounded-xl shadow-lg transition-all hover:bg-emerald-700 shadow-emerald-900/20"},"Coba di Playground"),s("a",{href:"https://github.com/vrush2000/muslim-all-in-one-api",target:"_blank",class:"px-8 py-3 font-bold text-white rounded-xl border transition-all bg-slate-800 hover:bg-slate-700 border-slate-700"},"GitHub Repository"))))));var D=({method:t,path:e,title:a,responseJson:r,category:n,endpointId:o})=>s("div",{class:"overflow-hidden mb-8 bg-white rounded-xl border shadow-sm transition-all duration-300 border-slate-200 hover:shadow-md"},s("div",{class:"flex justify-between items-center px-6 py-4 border-b border-slate-100 bg-slate-50/50"},s("h4",{class:"font-semibold text-slate-900"},a),s("div",{class:"flex gap-2"},s("span",{class:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider ${t==="GET"?"bg-emerald-100 text-emerald-700":"bg-blue-100 text-blue-700"}`},t))),s("div",{class:"p-6"},s("div",{class:"flex gap-2 items-center mb-6 group"},s("div",{class:"flex flex-grow gap-2 items-center px-3 py-2 rounded-lg border transition-colors bg-slate-100 border-slate-200 group-hover:border-emerald-200"},s("code",{class:"font-mono text-sm truncate text-slate-600"},e)),s("div",{class:"flex gap-2"},s("button",{onclick:`window.openApiModal('${n}', '${o}', '/v1${e}')`,class:"p-2 rounded-lg transition-all text-slate-400 hover:text-blue-600 hover:bg-blue-50",title:"Try in Playground"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))),s("button",{onclick:`navigator.clipboard.writeText(window.location.origin + '/v1${e}')`,class:"p-2 rounded-lg transition-all text-slate-400 hover:text-emerald-600 hover:bg-emerald-50",title:"Copy URL"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m-3 8.5V11a.5.5 0 00-.5-.5H9.75a.5.5 0 00-.5.5v1.5a.5.5 0 00.5.5h.75a.5.5 0 00.5-.5z"}))))),s("div",{class:"space-y-4"},s("details",{class:"group"},s("summary",{class:"flex gap-2 items-center text-sm font-medium list-none transition-colors cursor-pointer text-slate-500 hover:text-emerald-600"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4 transition-transform group-open:rotate-180",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})),"Example Response"),s("div",{class:"mt-4 duration-300 animate-in fade-in slide-in-from-top-2"},s("pre",{class:"text-[11px] leading-relaxed shadow-inner"},s("code",null,r))))))),se=({title:t,icon:e,id:a,color:r="emerald"})=>{let n={emerald:"bg-emerald-600 shadow-emerald-100",blue:"bg-blue-600 shadow-blue-100",amber:"bg-amber-600 shadow-amber-100",rose:"bg-rose-600 shadow-rose-100",purple:"bg-purple-600 shadow-purple-100",indigo:"bg-indigo-600 shadow-indigo-100",slate:"bg-slate-600 shadow-slate-100"};return s("div",{id:a,class:"flex gap-3 items-center mb-8 scroll-mt-24"},s("div",{class:`w-10 h-10 ${n[r]||n.emerald} rounded-lg flex items-center justify-center shadow-lg`},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:e}))),s("h2",{class:"text-2xl font-bold text-slate-900"},t))},qi=()=>s("div",{class:"px-4 py-12 mx-auto max-w-7xl sm:px-6 lg:px-8"},s("div",{class:"grid grid-cols-1 gap-12 lg:grid-cols-4"},s("aside",{class:"hidden sticky top-28 col-span-1 self-start lg:block"},s("div",{class:"p-6 bg-white rounded-2xl border shadow-sm border-slate-200"},s("h3",{class:"px-3 mb-4 text-xs font-bold tracking-wider uppercase text-slate-400"},"Menu Other API"),s("nav",{class:"space-y-1"},[{name:"Murottal",href:"#murottal",icon:"M11 5.882V19.118a3.63 3.63 0 01-5.12 3.574L1 18.817V5.183L5.88 1.309a3.63 3.63 0 015.12 3.573z M15 12a3 3 0 11-6 0 3 3 0 016 0z"},{name:"Sholat",href:"#sholat",icon:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},{name:"Kalender",href:"#calendar",icon:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"},{name:"Hadits",href:"#hadits",icon:"M16 4v12l-4-2-4 2V4M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"},{name:"Asmaul Husna",href:"#asma",icon:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-7.714 2.143L11 21l-2.286-6.857L1 12l7.714-2.143L11 3z"},{name:"Asbabun Nuzul",href:"#asbab",icon:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},{name:"Dzikir",href:"#dzikir",icon:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},{name:"Doa-doa",href:"#doa",icon:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"},{name:"Kemenag",href:"#kemenag",icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"},{name:"Sejarah",href:"#sejarah",icon:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"},{name:"Puasa Sunnah",href:"#puasa",icon:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},{name:"Juz & Tema",href:"#extra",icon:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"},{name:"Tools Cerdas",href:"#tools",icon:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"},{name:"Widget Dashboard",href:"#widgets",icon:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"},{name:"Resources",href:"#resources",icon:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"}].map((t,e)=>s("a",{key:e,href:t.href,class:"flex gap-3 items-center px-3 py-2 text-sm font-medium rounded-lg transition-all text-slate-600 hover:text-emerald-600 hover:bg-emerald-50 group"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4 transition-colors text-slate-400 group-hover:text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:t.icon})),t.name))))),s("div",{class:"col-span-1 lg:col-span-3"},s("div",{class:"mb-12 max-w-3xl"},s("h1",{class:"mb-4 text-4xl font-extrabold tracking-tight text-slate-900"},"Other Resources"),s("p",{class:"text-lg text-slate-600"},"Kumpulan resource dan API lainnya yang mungkin bermanfaat untuk pengembangan aplikasi Anda.")),s(se,{id:"murottal",title:"Murottal Audio",icon:"M11 5.882V19.118a3.63 3.63 0 01-5.12 3.574L1 18.817V5.183L5.88 1.309a3.63 3.63 0 015.12 3.573z M15 12a3 3 0 11-6 0 3 3 0 016 0z",color:"emerald"}),s(D,{title:"Daftar Qari",method:"GET",path:"/murotal/qari",category:"murottal",endpointId:"murottal-qari",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan daftar qari.",
  "data": [
    {
      "id": "01",
      "name": "Abdullah-Al-Juhany"
    },
    ...
  ]
}`}),s(D,{title:"Murottal by Surah",method:"GET",path:"/murotal?surahId=1",category:"murottal",endpointId:"murottal-surah",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan audio murottal surah 1.",
  "data": {
    "01": "https://cdn.equran.id/audio-full/Abdullah-Al-Juhany/001.mp3",
    "02": "https://cdn.equran.id/audio-full/Abdul-Muhsin-Al-Qasim/001.mp3",
    ...
  }
}`}),s(se,{id:"sholat",title:"Jadwal Sholat",icon:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",color:"blue"}),s(D,{title:"Cari Kota",method:"GET",path:"/sholat/kota/cari?nama=jakarta",category:"sholat",endpointId:"sholat-cari-kota",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan daftar kota.",
  "data": [
    {
      "id": "1301",
      "lokasi": "KOTA JAKARTA"
    }
  ]
}`}),s(D,{title:"Jadwal by Kota ID",method:"GET",path:"/sholat/jadwal?kotaId=1301&tanggal=2025-12-24",category:"sholat",endpointId:"sholat-jadwal-kota",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan jadwal sholat.",
  "data": {
    "id": "1301",
    "kabko": "KOTA JAKARTA",
    "prov": "DKI JAKARTA",
    "jadwal": {
      "2025-12-24": {
        "tanggal": "Rabu, 24/12/2025",
        "imsak": "04:05",
        "subuh": "04:15",
        "terbit": "05:34",
        "dhuha": "06:04",
        "dzuhur": "11:56",
        "ashar": "15:22",
        "maghrib": "18:10",
        "isya": "19:26"
      }
    }
  }
}`}),s(D,{title:"Jadwal by Koordinat",method:"GET",path:"/sholat/jadwal/koordinat?lat=-6.1751&lon=106.8272",category:"sholat",endpointId:"sholat-jadwal-koordinat",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan jadwal sholat berdasarkan koordinat.",
  "data": {
    "location": "Monumen Nasional, Jalan Medan Merdeka Barat, Gambir, Jakarta Pusat",
    "city_found": "Jakarta Pusat",
    "id": "1301",
    "kabko": "KOTA JAKARTA",
    "prov": "DKI JAKARTA",
    "jadwal": {
      "2025-12-24": {
        "tanggal": "Rabu, 24/12/2025",
        "imsak": "04:05",
        "subuh": "04:15",
        "terbit": "05:34",
        "dhuha": "06:04",
        "dzuhur": "11:56",
        "ashar": "15:22",
        "maghrib": "18:10",
        "isya": "19:26"
      }
    }
  }
}`}),s(se,{id:"calendar",title:"Kalender Hijriah",icon:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z",color:"emerald"}),s(D,{title:"Masehi ke Hijriah & Jawa",method:"GET",path:"/calendar/hijri?date=2024-03-11&adj=-1",category:"other",endpointId:"calendar-hijri",responseJson:`{
  "status": true,
  "message": "Berhasil konversi Masehi ke Hijriah.",
  "data": {
    "masehi": "2024-03-11",
    "adjustment": -1,
    "hijri": {
      "day": 1,
      "month": 9,
      "month_name": "Ramadan",
      ...
    }
  }
}`}),s(D,{title:"Hijriah ke Masehi",method:"GET",path:"/calendar/masehi?day=1&month=9&year=1445",category:"other",endpointId:"calendar-masehi",responseJson:`{
  "status": true,
  "message": "Berhasil konversi Hijriah ke Masehi.",
  "data": {
    "hijri": {
      "day": 1,
      "month": 9,
      "year": 1445
    },
    "masehi": {
      "day": 11,
      "day_name": "Senin",
      "month": 3,
      "month_name": "Maret",
      "year": 2024,
      "formatted": "Senin, 11 Maret 2024"
    }
  }
}`}),s(se,{id:"hadits",title:"Hadits",icon:"M16 4v12l-4-2-4 2V4M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z",color:"orange"}),s(D,{title:"Cari Hadits (Query)",method:"GET",path:"/hadits/find?query=puasa&book=bukhari",category:"hadits",endpointId:"hadits-find",responseJson:`{
  "status": true,
  "message": "Berhasil mencari hadits di kitab Sahih Bukhari dengan kata kunci: puasa.",
  "data": [
    {
      "no": 1901,
      "judul": "Sahih Bukhari",
      "arab": "...",
      "indo": "...",
      "sumber": "HR. Bukhari No. 1901"
    }
  ]
}`}),s(D,{title:"Daftar Kitab Hadits",method:"GET",path:"/hadits/books",category:"hadits",endpointId:"hadits-books",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan seluruh koleksi kitab hadits.",
  "data": [
    { "id": "arbain", "name": "Hadits Arbain Nawawi", "available": 42 },
    { "id": "bukhari", "name": "HR. Bukhari", "available": "Lokal (JSON)" },
    { "id": "muslim", "name": "HR. Muslim", "available": "Lokal (JSON)" }
  ]
}`}),s(D,{title:"Detail Hadits per Kitab",method:"GET",path:"/hadits/books/bukhari/1",category:"hadits",endpointId:"hadits-book-detail",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan detail hadits nomor 1 dari kitab Sahih Bukhari.",
  "data": {
    "number": 1,
    "arab": "...",
    "id": "Semua perbuatan tergantung niatnya...",
    "name": "HR. Bukhari"
  }
}`}),s(se,{id:"asma",title:"Asmaul Husna",icon:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-7.714 2.143L11 21l-2.286-6.857L1 12l7.714-2.143L11 3z",color:"indigo"}),s(D,{title:"Semua Asmaul Husna",method:"GET",path:"/asma",category:"other",endpointId:"asma-list",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan seluruh daftar Asmaul Husna.",
  "data": [
    {
      "id": "1",
      "latin": "Ar-Rahman",
      "arabic": "\u0627\u0644\u0631\u062D\u0645\u0646",
      "translation_id": "Yang Maha Pengasih"
    },
    ...
  ]
}`}),s(se,{id:"asbab",title:"Asbabun Nuzul",icon:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253",color:"amber"}),s(D,{title:"Daftar Asbabun Nuzul",method:"GET",path:"/asbab",category:"other",endpointId:"asbab-list",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan seluruh daftar asbabun nuzul.",
  "data": [
    {
      "id": "1",
      "surah": "1",
      "ayah": "1",
      "text": "..."
    },
    ...
  ]
}`}),s(se,{id:"dzikir",title:"Dzikir",icon:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z",color:"indigo"}),s(D,{title:"Daftar Dzikir",method:"GET",path:"/dzikir",category:"other",endpointId:"dzikir",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan seluruh daftar dzikir.",
  "data": [
    {
      "id": 1,
      "title": "Dzikir Pagi",
      "arabic": "\u0623\u064E\u0635\u0652\u0628\u064E\u062D\u0652\u0646\u064E\u0627 \u0648\u064E\u0623\u064E\u0635\u0652\u0628\u064E\u062D\u064E \u0627\u0644\u0652\u0645\u064F\u0644\u0652\u0643\u064F \u0644\u0650\u0644\u064E\u0651\u0647\u0650...",
      "translation": "Kami telah memasuki waktu pagi...",
      "type": "pagi"
    }
  ]
}`}),s(se,{id:"doa",title:"Doa-doa",icon:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z",color:"rose"}),s(D,{title:"Daftar Doa",method:"GET",path:"/doa",category:"other",endpointId:"doa-list",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan seluruh daftar doa.",
  "data": [
    {
      "id": 1,
      "judul": "Doa Sebelum Makan",
      "arab": "...",
      "latin": "...",
      "indo": "..."
    }
  ]
}`}),s(se,{id:"extra",title:"Juz, Tema & Word",icon:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10",color:"slate"}),s(D,{title:"Juz Al-Quran",method:"GET",path:"/juz",category:"quran",endpointId:"juz-list",responseJson:'{ "status": true, "message": "Berhasil mendapatkan daftar juz.", "data": [...] }'}),s(D,{title:"Tema Al-Quran",method:"GET",path:"/theme",category:"quran",endpointId:"theme-list",responseJson:'{ "status": true, "message": "Berhasil mendapatkan daftar tema Al-Quran.", "data": [...] }'}),s(D,{title:"Kata per Kata",method:"GET",path:"/word?surahId=1",category:"quran",endpointId:"word-ayah",responseJson:'{ "status": true, "message": "Berhasil mendapatkan data kata per kata surah 1.", "data": [...] }'}),s(se,{id:"kemenag",title:"Layanan Kemenag",icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4",color:"emerald"}),s(D,{title:"Daftar Masjid & Mushalla (Source: SIMAS)",method:"GET",path:"/kemenag/masjid",category:"kemenag",endpointId:"kemenag-masjid-list",responseJson:`{
  "status": true,
  "message": "Data masjid/mushalla berhasil diambil (Source: SIMAS Kemenag)",
  "total_data_source": "317.218 Masjid",
  "data": [
    {
      "id": 1,
      "nama": "Masjid Istiqlal",
      "jenis": "Masjid",
      "tipologi": "Nasional",
      "lokasi": "Jakarta Pusat, DKI Jakarta",
      "kapasitas": "200.000",
      "tahun_berdiri": "1978",
      "deskripsi": "Masjid terbesar di Asia Tenggara."
    }
  ]
}`}),s(D,{title:"Filter Masjid/Mushalla",method:"GET",path:"/kemenag/masjid?jenis=Masjid&tipologi=Agung&lokasi=semarang",category:"kemenag",endpointId:"kemenag-masjid-search",responseJson:`{
  "status": true,
  "message": "Data masjid/mushalla berhasil diambil (Source: SIMAS Kemenag)",
  "total_data_source": "317.218 Masjid",
  "data": [
    {
      "id": 5,
      "nama": "Masjid Agung Jawa Tengah",
      "jenis": "Masjid",
      "tipologi": "Agung",
      "lokasi": "Semarang, Jawa Tengah",
      "kapasitas": "15.000",
      "tahun_berdiri": "2006",
      "deskripsi": "Masjid dengan payung hidrolik raksasa seperti di Nabawi."
    }
  ]
}`}),s(D,{title:"Hari Libur Nasional",method:"GET",path:"/kemenag/libur?year=2025",category:"kemenag",endpointId:"kemenag-libur",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan daftar hari libur tahun 2025.",
  "data": {
    "year": "2025",
    "holidays": [
      {
        "tanggal": "2025-01-01",
        "keterangan": "Tahun Baru 2025 Masehi",
        "is_cuti": false
      }
    ]
  }
}`}),s(D,{title:"Daftar Provinsi (Pesantren)",method:"GET",path:"/kemenag/provinsi",category:"kemenag",endpointId:"kemenag-provinsi",responseJson:'{ "status": true, "message": "Berhasil mendapatkan daftar provinsi.", "data": [...] }'}),s(D,{title:"Daftar Kabupaten (Pesantren)",method:"GET",path:"/kemenag/kabupaten?provinsiId=32",category:"kemenag",endpointId:"kemenag-kabupaten",responseJson:'{ "status": true, "message": "Berhasil mendapatkan daftar kabupaten untuk provinsi 32.", "data": [...] }'}),s(D,{title:"Daftar Pesantren",method:"GET",path:"/kemenag/pesantren?kabupatenId=3201",category:"kemenag",endpointId:"kemenag-pesantren",responseJson:'{ "status": true, "message": "Berhasil mendapatkan daftar pesantren untuk kabupaten 3201.", "data": [...] }'}),s(se,{id:"sejarah",title:"Sejarah Islam",icon:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253",color:"blue"}),s(D,{title:"Sejarah Islam & Sirah Nabawiyah",method:"GET",path:"/sejarah",category:"sejarah",endpointId:"sejarah-list",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan seluruh daftar sejarah.",
  "data": [
    {
      "id": 1,
      "peristiwa": "Kelahiran Nabi Muhammad SAW",
      "tahun": "571 M",
      "kategori": "Sirah Nabawiyah",
      "sumber": "Ar-Rahiq Al-Makhtum"
    },
    ...
  ]
}`}),s(D,{title:"Detail Peristiwa Sejarah",method:"GET",path:"/sejarah/detail?id=1",category:"sejarah",endpointId:"sejarah-detail",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan detail sejarah.",
  "data": {
    "id": 1,
    "peristiwa": "Kelahiran Nabi Muhammad SAW",
    "tahun": "571 M (Tahun Gajah)",
    "deskripsi": "...",
    "kategori": "Sirah Nabawiyah",
    "sumber": "Ar-Rahiq Al-Makhtum"
  }
}`}),s(se,{id:"puasa",title:"Puasa & Fiqh",icon:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",color:"emerald"}),s(D,{title:"Daftar Puasa (Wajib & Sunnah)",method:"GET",path:"/puasa",category:"puasa",endpointId:"puasa-all",responseJson:`{
  "status": true,
  "message": "Berhasil mengambil daftar puasa.",
  "data": [
    {
      "id": 1,
      "nama": "Puasa Senin Kamis",
      "deskripsi": "Puasa sunnah yang dilaksanakan pada hari Senin dan Kamis setiap minggunya.",
      "hukum": "Sunnah",
      "dalil": "...",
      "type": "mingguan"
    },
    {
      "id": 8,
      "nama": "Puasa Ramadhan",
      "deskripsi": "Puasa wajib yang dilaksanakan selama satu bulan penuh di bulan Ramadhan.",
      "hukum": "Wajib (Fardhu 'Ain)",
      "dalil": "...",
      "type": "tahunan",
      "jadwal_hijri": "Ramadhan (sebulan penuh)"
    }
  ]
}`}),s(D,{title:"70 Masalah Terkait Puasa (Fiqh & Adab)",method:"GET",path:"/puasa/fiqh",category:"puasa",endpointId:"puasa-fiqh",responseJson:`{
  "status": true,
  "message": "Berhasil mengambil 70 Masalah Terkait Puasa (Fiqh & Adab).",
  "data": [
    {
      "category": "Definisi & Keutamaan",
      "points": [
        {
          "id": 1,
          "title": "Pengertian Puasa",
          "content": "..."
        }
      ]
    }
  ]
}`}),s(D,{title:"Cari Puasa",method:"GET",path:"/puasa/find?query=ramadhan",category:"puasa",endpointId:"puasa-find",responseJson:`{
  "status": true,
  "message": "Berhasil mencari puasa dengan kata kunci: ramadhan",
  "data": [
    {
      "id": 8,
      "nama": "Puasa Ramadhan",
      "deskripsi": "...",
      "hukum": "Wajib",
      "type": "tahunan"
    }
  ]
}`}),s(D,{title:"Filter by Tipe",method:"GET",path:"/puasa/type/mingguan",category:"puasa",endpointId:"puasa-type",responseJson:`{
  "status": true,
  "message": "Berhasil mendapatkan daftar puasa sunnah untuk tipe: mingguan",
  "data": [
    {
      "id": 1,
      "nama": "Puasa Senin Kamis",
      ...
    }
  ]
}`}),s(se,{id:"tools",title:"Tools & Fitur Cerdas",icon:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z",color:"purple"}),s(D,{title:"Kutipan Harian (Ayat & Hadits)",method:"GET",path:"/tools/quotes/daily",category:"tools",endpointId:"tools-quotes-daily",responseJson:`{
  "status": true,
  "message": "Berhasil mengambil kutipan harian.",
  "data": {
    "ayat": {
      "arab": "...",
      "text": "...",
      "sumber": "QS. Al-Baqarah: 153"
    },
    "hadits": {
      "arab": "...",
      "text": "...",
      "sumber": "Hadits Arbain No. 1: Amalan Bergantung pada Niat"
    }
  }
}`}),s(D,{title:"Kalkulator Waris (Faraidh)",method:"GET",path:"/tools/faraidh?totalHarta=120000000&suami=1&anakLk=1&anakPr=1",category:"tools",endpointId:"tools-faraidh",responseJson:`{
  "status": true,
  "message": "Kalkulasi waris berhasil.",
  "data": {
    "total_harta": 120000000,
    "rincian": [
      { "ahli_waris": "Suami", "jumlah": 1, "bagian_persen": "25.00%", "nominal": 30000000 },
      { "ahli_waris": "Anak Laki-laki", "jumlah": 1, "bagian_persen": "50.00%", "nominal": 60000000 },
      { "ahli_waris": "Anak Perempuan", "jumlah": 1, "bagian_persen": "25.00%", "nominal": 30000000 }
    ],
    "zakat_harta": 3000000,
    "keterangan": "Perhitungan ini menggunakan standar ilmu Faraidh (KHI)...",
    "sumber": "Kompilasi Hukum Islam (KHI) & Fiqh Mawaris"
  }
}`}),s(D,{title:"Kalkulator Zakat",method:"GET",path:"/tools/zakat?type=penghasilan&amount=10000000",category:"tools",endpointId:"tools-zakat",responseJson:`{
  "status": true,
  "message": "Kalkulasi zakat berhasil.",
  "data": {
    "type": "penghasilan",
    "amount": 10000000,
    "nishab": 8500000,
    "isWajib": true,
    "zakat": 250000,
    "keterangan": "Nishab Zakat Penghasilan setara 85 gram emas...",
    "sumber": "BAZNAS (Badan Amil Zakat Nasional)"
  }
}`}),s(D,{title:"Arah Kiblat (Qibla Direction)",method:"GET",path:"/tools/qibla?lat=-6.1751&lng=106.8272",category:"tools",endpointId:"tools-qibla",responseJson:`{
  "status": true,
  "message": "Berhasil menghitung arah kiblat.",
  "data": {
    "coordinates": { "lat": -6.1751, "lng": 106.8272 },
    "kaaba": { "lat": 21.4225, "lng": 39.8262 },
    "qibla_direction": 295.12,
    "unit": "degrees"
  }
}`}),s(D,{title:"Pencarian Semantik (Cross-Source)",method:"GET",path:"/tools/semantic-search?query=puasa",category:"tools",endpointId:"tools-semantic-search",responseJson:`{
  "status": true,
  "message": "Pencarian semantik untuk 'puasa' berhasil.",
  "data": {
    "query": "puasa",
    "quran": [
      {
        "arab": "...",
        "text": "Hai orang-orang yang beriman, diwajibkan atas kamu berpuasa...",
        "sumber": "QS. Al-Baqarah: 183"
      }
    ],
    "hadits": [
      {
        "arab": "...",
        "text": "Puasa adalah perisai...",
        "sumber": "HR. Bukhari No. 1894"
      }
    ],
    "puasa": [
      {
        "text": "Puasa Ramadhan: Puasa wajib yang dilaksanakan selama satu bulan penuh...",
        "dalil": "QS. Al-Baqarah: 183",
        "sumber": "Fitur Puasa (Wajib (Fardhu 'Ain))"
      }
    ],
    "fiqh": [
      {
        "text": "Keutamaan Puasa",
        "content": "Puasa memiliki banyak keutamaan, di antaranya adalah sebagai penghapus dosa...",
        "sumber": "70 Masalah Puasa - Sumber: islamqa.info"
      }
    ]
  }
}`}),s(se,{id:"widgets",title:"Widget Dashboard",icon:"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z",color:"blue"}),s("div",{class:"p-6 mb-12 bg-white rounded-2xl border shadow-sm border-slate-200"},s("div",{class:"flex flex-col gap-6 md:flex-row"},s("div",{class:"flex-1"},s("h3",{class:"mb-4 text-lg font-bold text-slate-800"},"Cara Menggunakan Widget"),s("p",{class:"mb-4 text-sm leading-relaxed text-slate-600"},"Anda dapat menyematkan widget Muslim API ke dalam website Anda sendiri dengan mudah. Cukup salin kode di samping dan tempelkan di bagian manapun di website Anda."),s("div",{class:"space-y-3"},s("div",{class:"flex gap-3 items-start"},s("div",{class:"flex justify-center items-center mt-1 w-5 h-5 font-bold text-white bg-blue-500 rounded-full text-[10px]"},"1"),s("p",{class:"text-xs text-slate-500"},"Pilih widget yang sesuai dengan kebutuhan Anda.")),s("div",{class:"flex gap-3 items-start"},s("div",{class:"flex justify-center items-center mt-1 w-5 h-5 font-bold text-white bg-blue-500 rounded-full text-[10px]"},"2"),s("p",{class:"text-xs text-slate-500"},"Sesuaikan parameter (kota, tema, dll) jika diperlukan.")),s("div",{class:"flex gap-3 items-start"},s("div",{class:"flex justify-center items-center mt-1 w-5 h-5 font-bold text-white bg-blue-500 rounded-full text-[10px]"},"3"),s("p",{class:"text-xs text-slate-500"},"Copy-paste kode IFrame ke dalam HTML website Anda.")))),s("div",{class:"flex-1"},s("div",{class:"p-4 rounded-xl bg-slate-900"},s("div",{class:"flex justify-between items-center mb-2"},s("span",{class:"text-[10px] font-medium text-slate-400 uppercase tracking-wider"},"Embed Code"),s("button",{class:"text-[10px] text-blue-400 hover:text-blue-300 transition-colors"},"Copy Code")),s("pre",{class:"overflow-x-auto text-[11px] text-blue-300 font-mono"},`<iframe 
  src="https://muslim-api.vercel.app/widget/jadwal-sholat?kota=jakarta" 
  width="100%" 
  height="400" 
  frameborder="0"
></iframe>`))))),s(se,{id:"resources",title:"Other Resources",icon:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1",color:"emerald"}),s("div",{class:"grid grid-cols-1 gap-4 mb-12 md:grid-cols-2"},[{name:"GitHub Repository",url:"https://github.com/vrush2000/muslim-all-in-one-api",desc:"Source code and documentation"},{name:"Quran Kemenag",url:"https://quran.kemenag.go.id/",desc:"Official Quran data from Kemenag RI"},{name:"MyQuran (Prayer Times)",url:"https://api.myquran.com/",desc:"Prayer times and Islamic schedule API"},{name:"equran.id (Audio)",url:"https://equran.id/",desc:"Quran audio and digital text"},{name:"Muslim API Dataset (Repo)",url:"https://github.com/Otangid/muslim-api",desc:"Alternative Muslim API provider"},{name:"Hadith Collection (Repo)",url:"https://github.com/gadingnst/hadith-api",desc:"Comprehensive Hadith collection API"},{name:"Data Pesantren (Repo)",url:"https://github.com/nasrul21/data-pesantren-indonesia",desc:"Kumpulan data pesantren se-Indonesia (Source)"},{name:"Libur Nasional (Repo)",url:"https://github.com/kresnasatya/api-harilibur",desc:"Data hari libur nasional Indonesia (Source)"},{name:"Puasa Sunnah (Source)",url:"https://github.com/granitebps/puasa-sunnah-api",desc:"Referensi data puasa sunnah"}].map(t=>s("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",class:"p-4 bg-white rounded-xl border transition-all border-slate-200 hover:border-emerald-500 hover:shadow-md group"},s("div",{class:"flex justify-between items-center mb-1"},s("h4",{class:"font-bold transition-colors text-slate-900 group-hover:text-emerald-600"},t.name),s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4 text-slate-400 group-hover:text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"}))),s("p",{class:"text-xs leading-relaxed text-slate-500"},t.desc)))))));var Ri=({sejarah:t})=>s("div",{class:"overflow-hidden relative"},s("section",{class:"relative pt-20 pb-24 bg-white md:pt-32 md:pb-40"},s("div",{class:"relative z-20 px-4 mx-auto max-w-7xl text-center sm:px-6 lg:px-8"},s("div",{class:"inline-flex relative z-30 gap-2 items-center px-4 py-2 mb-8 text-sm font-bold text-emerald-700 bg-emerald-50 rounded-full duration-700 animate-in fade-in slide-in-from-bottom-4"},s("span",{class:"flex w-2 h-2"},s("span",{class:"inline-flex relative w-2 h-2 bg-emerald-500 rounded-full"})),"Platform Data Islami Terlengkap"),s("h1",{class:"mb-8 text-4xl font-extrabold tracking-tight duration-1000 sm:text-5xl md:text-7xl text-slate-900 animate-in fade-in slide-in-from-bottom-6"},"Muslim API ",s("span",{class:"block text-emerald-600 md:inline-block"},s("span",{id:"dynamic-text"},"All-in-One"),s("span",{class:"animate-pulse"},"|"))),s("script",{dangerouslySetInnerHTML:{__html:`
            (function() {
              const phrases = [
                'All-in-One',
                'Data Al-Qur\\'an',
                'Pencarian AI',
                'Kalkulator Zakat',
                'Arah Kiblat',
                'Hadits Arba\\'in',
                'Tafsir Kemenag',
                'Jadwal Sholat',
                'Koleksi Doa',
                'Sejarah Islam'
              ];
              let i = 0;
              let j = 0;
              let currentPhrase = [];
              let isDeleting = false;
              let isEnd = false;
              
              function loop() {
                const el = document.getElementById('dynamic-text');
                if (!el) {
                  setTimeout(loop, 500);
                  return;
                }

                isEnd = false;
                
                if (i < phrases.length) {
                  if (!isDeleting && j <= phrases[i].length) {
                    currentPhrase.push(phrases[i][j]);
                    j++;
                    el.innerHTML = currentPhrase.join('');
                  }

                  if (isDeleting && j >= 0) {
                    currentPhrase.pop();
                    j--;
                    el.innerHTML = currentPhrase.join('');
                  }

                  if (j == phrases[i].length) {
                    isEnd = true;
                    isDeleting = true;
                  }

                  if (isDeleting && j <= 0) {
                    currentPhrase = [];
                    isDeleting = false;
                    i++;
                    if (i == phrases.length) i = 0;
                    j = 0;
                  }
                }
                const spedUp = Math.random() * (50 - 30) + 30;
                const normalSpeed = Math.random() * (150 - 100) + 100;
                const time = isEnd ? 2000 : isDeleting ? spedUp : normalSpeed;
                setTimeout(loop, time);
              }

              // Start the loop after a short delay to ensure DOM is ready
              setTimeout(loop, 100);
            })();
          `}}),s("p",{class:"mx-auto mb-12 max-w-3xl text-xl leading-relaxed duration-1000 delay-200 md:text-2xl text-slate-600 animate-in fade-in slide-in-from-bottom-8"},"Infrastruktur data keislaman digital yang cepat, gratis, dan andal. Dirancang untuk mempercepat inovasi dalam dakwah teknologi."),s("div",{class:"flex flex-col gap-4 justify-center items-center duration-1000 delay-300 sm:flex-row animate-in fade-in slide-in-from-bottom-10"},s("a",{href:"/docs",class:"flex gap-2 justify-center items-center px-8 py-4 w-full text-lg font-bold text-white bg-emerald-600 rounded-2xl shadow-xl transition-all sm:w-auto hover:bg-emerald-700 shadow-emerald-200 hover:shadow-emerald-300"},"Mulai Dokumentasi",s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 5l7 7-7 7"}))),s("a",{href:"https://github.com/vrush2000/muslim-all-in-one-api",target:"_blank",class:"flex gap-2 justify-center items-center px-8 py-4 w-full text-lg font-bold rounded-2xl transition-all sm:w-auto bg-slate-100 text-slate-900 hover:bg-slate-200"},"GitHub Project"))),s("div",{class:"overflow-hidden absolute inset-0 z-0 pointer-events-none"},s("div",{class:"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-emerald-50 rounded-full blur-[120px] opacity-60"}),s("div",{class:"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-teal-50 rounded-full blur-[120px] opacity-60"}))),s("section",{class:"py-24 bg-slate-50 border-y border-slate-200"},s("div",{class:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8"},s("div",{class:"grid grid-cols-1 gap-16 items-center lg:grid-cols-2"},s("div",{class:"space-y-8"},s("div",{class:"inline-block px-4 py-1.5 text-sm font-bold tracking-wider text-emerald-700 uppercase bg-emerald-100 rounded-lg"},"Visi & Latar Belakang"),s("h2",{class:"text-3xl font-bold md:text-4xl text-slate-900"},"Mengapa Muslim API?"),s("div",{class:"space-y-6 text-lg leading-relaxed text-slate-600"},s("p",null,"Di era digital saat ini, akses terhadap data keislaman yang akurat, cepat, dan mudah diintegrasikan adalah sebuah kebutuhan fundamental. Banyak pengembang menghadapi kesulitan dalam menemukan API yang menyediakan data lengkap tanpa batasan yang memberatkan."),s("div",{class:"grid grid-cols-1 gap-8 mt-8 md:grid-cols-2"},s("div",{class:"space-y-3"},s("h4",{class:"flex gap-2 items-center text-xl font-bold text-slate-900"},s("span",{class:"w-2 h-2 bg-emerald-500 rounded-full"}),"Misi Kami"),s("p",{class:"text-base"},"Menjadi ",s("span",{class:"font-semibold text-emerald-600"},'"Single Source of Truth"')," untuk data keislaman digital di Indonesia. Kami menyediakan infrastruktur data yang andal bagi siapapun yang ingin berdakwah melalui teknologi.")),s("div",{class:"space-y-3"},s("h4",{class:"flex gap-2 items-center text-xl font-bold text-slate-900"},s("span",{class:"w-2 h-2 bg-emerald-500 rounded-full"}),"Filosofi Terbuka"),s("p",{class:"text-base"},"Muslim API dibangun dengan semangat ",s("span",{class:"font-semibold text-emerald-600"},"Open Source"),". Kami percaya bahwa ilmu agama harus dapat diakses seluas-luasnya tanpa ada penghalang teknis atau biaya."))),s("div",{class:"pt-8 mt-8 italic text-center border-t border-slate-200 text-slate-500 md:text-left"},'"Sebaik-baik manusia adalah yang paling bermanfaat bagi orang lain."'))),s("div",{class:"relative"},s("div",{class:"relative z-10 p-8 bg-white rounded-3xl border shadow-2xl border-slate-200"},s("div",{class:"space-y-6"},s("div",{class:"flex gap-4 items-start"},s("div",{class:"flex justify-center items-center w-10 h-10 bg-emerald-100 rounded-xl shrink-0"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 text-emerald-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}))),s("div",null,s("h4",{class:"mb-1 font-bold text-slate-900"},"Data Terverifikasi"),s("p",{class:"text-sm text-slate-500"},"Sumber data Al-Quran kami mengikuti standar Mushaf Al-Quran Standar Indonesia (MSI) Kemenag RI."))),s("div",{class:"flex gap-4 items-start"},s("div",{class:"flex justify-center items-center w-10 h-10 bg-emerald-100 rounded-xl shrink-0"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 text-emerald-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"}))),s("div",null,s("h4",{class:"mb-1 font-bold text-slate-900"},"High Availability"),s("p",{class:"text-sm text-slate-500"},"Dibangun di atas infrastruktur serverless untuk memastikan API selalu tersedia kapanpun dibutuhkan."))),s("div",{class:"flex gap-4 items-start"},s("div",{class:"flex justify-center items-center w-10 h-10 bg-emerald-100 rounded-xl shrink-0"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 text-emerald-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"}))),s("div",null,s("h4",{class:"mb-1 font-bold text-slate-900"},"Data Integrity Chain"),s("p",{class:"text-sm text-slate-500"},"Keaslian data dijamin melalui cryptographic hashing untuk menjaga kemurnian teks suci secara transparan."))))),s("div",{class:"absolute -right-6 -bottom-6 w-full h-full rounded-3xl bg-emerald-600/5 -z-0"}))))),s("section",{class:"py-24 bg-white"},s("div",{class:"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8"},s("div",{class:"mb-16 text-center"},s("h2",{class:"mb-4 text-3xl font-bold md:text-4xl text-slate-900"},"Layanan API Kami"),s("p",{class:"mx-auto max-w-2xl text-lg text-slate-600"},"Berbagai kategori API yang siap Anda integrasikan ke dalam aplikasi Anda secara instan.")),s("div",{class:"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3"},[{title:"Al-Quran Indonesia",description:"Akses 114 Surah lengkap dengan teks Arab, Latin, Terjemahan, dan Tafsir Kemenag (Wajiz & Tahlili).",icon:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253",color:"emerald",link:"/docs#quran"},{title:"Jadwal Sholat",description:"Jadwal waktu sholat harian berdasarkan kota atau koordinat lokasi di seluruh Indonesia.",icon:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",color:"blue",link:"/other#sholat"},{title:"Hadits Arba'in",description:"Kumpulan Hadits Arba'in Nawawi lengkap dengan teks Arab, terjemahan Indonesia, dan penjelasan.",icon:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253",color:"amber",link:"/other#hadits"},{title:"Doa Harian",description:"Kumpulan doa-doa harian, dzikir pagi petang, dan doa setelah sholat.",icon:"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z",color:"rose",link:"/other#doa"},{title:"Murottal Audio",description:"Streaming audio murottal dari berbagai Qari ternama dunia dengan kualitas tinggi.",icon:"M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z",color:"purple",link:"/other#murottal"},{title:"Asmaul Husna",description:"Daftar 99 nama Allah yang indah beserta arti, makna, dan dalilnya.",icon:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-7.714 2.143L11 21l-2.286-6.857L1 12l7.714-2.143L11 3z",color:"indigo",link:"/other#asma"},{title:"Kemenag Open Data",description:"Akses data publik Kemenag seperti daftar pesantren, masjid, dan hari libur nasional.",icon:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4",color:"teal",link:"/other#kemenag"},{title:"Sejarah Islam",description:"Akses data sejarah Islam dan Sirah Nabawiyah yang autentik dan terpercaya.",icon:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253",color:"blue",link:"/other#sejarah"},{title:"Fitur Cerdas & Tools",description:"Kalkulator zakat, pencarian semantik AI, arah kiblat, dan kutipan harian otomatis.",icon:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4.343 4.343l.707.707m1.286 1.286L4.343 4.343M12 21v-1m0-1c-2.761 0-5-2.239-5-5a5 5 0 015-5 5 5 0 015 5c0 2.761-2.239 5-5 5z",color:"emerald",link:"/playground?category=tools"}].map((a,r)=>s("a",{key:r,href:a.link,class:"overflow-hidden relative p-8 bg-white rounded-3xl border transition-all duration-300 group border-slate-200 hover:border-emerald-500/30 hover:shadow-2xl hover:shadow-emerald-100"},s("div",{class:`absolute top-0 right-0 w-24 h-24 bg-${a.color}-50 rounded-bl-full -mr-12 -mt-12 group-hover:scale-150 transition-transform duration-500`}),s("div",{class:`w-14 h-14 bg-${a.color}-100 rounded-2xl flex items-center justify-center text-${a.color}-600 mb-6 group-hover:scale-110 transition-transform duration-300 relative z-10`},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-8 h-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:a.icon}))),s("h3",{class:"relative z-10 mb-3 text-xl font-bold text-slate-900"},a.title),s("p",{class:"relative z-10 mb-6 leading-relaxed text-slate-600"},a.description),s("div",{class:`flex items-center gap-2 text-${a.color}-600 font-bold relative z-10`},"Lihat Dokumentasi",s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-4 h-4 transition-transform group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})))))),s("div",{class:"mt-32 mb-20"},s("div",{class:"mb-16 text-center"},s("div",{class:"inline-block px-4 py-1.5 mb-4 text-sm font-bold tracking-wider text-blue-700 uppercase bg-blue-100 rounded-lg"},"Timeline Peradaban"),s("h2",{class:"mb-6 text-3xl font-bold md:text-5xl text-slate-900"},"Sejarah & Sirah Nabawiyah"),s("p",{class:"mx-auto max-w-2xl text-lg text-slate-600"},"Telusuri jejak sejarah Islam melalui timeline interaktif yang bersumber dari Sirah Nabawiyah yang autentik.")),s("div",{class:"relative"},s("div",{class:"hidden absolute left-1/2 w-0.5 h-full transform -translate-x-1/2 bg-slate-200 md:block"}),s("div",{class:"relative space-y-12"},t&&t.slice(0,8).map((a,r)=>s("div",{key:a.id,class:`flex flex-col md:flex-row items-center gap-8 ${r%2===1?"md:flex-row-reverse":""}`},s("div",{class:"w-full md:w-1/2"},s("div",{class:`p-8 bg-white rounded-3xl border border-slate-200 shadow-sm hover:shadow-xl transition-all duration-300 relative ${r%2===1?"md:text-right":"md:text-left"}`},s("div",{class:`inline-block px-3 py-1 rounded-full text-xs font-bold mb-4 ${r%2===0?"bg-emerald-100 text-emerald-700":"bg-blue-100 text-blue-700"}`},a.tahun),s("h3",{class:"mb-3 text-2xl font-bold text-slate-900"},a.peristiwa),s("p",{class:"mb-4 leading-relaxed text-slate-600"},a.deskripsi),s("div",{class:"text-xs italic font-medium text-slate-400"},"Sumber: ",a.sumber),s("div",{class:`absolute top-1/2 w-4 h-4 bg-white border-4 border-emerald-500 rounded-full z-10 hidden md:block ${r%2===0?"-right-10":"-left-10"} transform -translate-y-1/2`}))),s("div",{class:"w-full md:w-1/2"},s("div",{class:"relative group overflow-hidden rounded-3xl aspect-[16/9] shadow-lg"},s("img",{src:a.image_url||"https://images.unsplash.com/photo-1591604129939-f1efa4d9f7fa?auto=format&fit=crop&q=80&w=800",alt:a.peristiwa,class:"object-cover w-full h-full transition-transform duration-700 group-hover:scale-110"}),s("div",{class:"absolute inset-0 bg-gradient-to-t to-transparent opacity-60 from-slate-900/60"})))))),s("div",{class:"mt-12 text-center"},s("a",{href:"/other#sejarah",class:"inline-flex gap-2 items-center px-8 py-4 font-bold text-white bg-blue-600 rounded-2xl transition-all hover:bg-blue-700 hover:shadow-lg hover:shadow-blue-200"},"Lihat Seluruh Timeline",s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 8l4 4m0 0l-4 4m4-4H3"}))))),s("div",{class:"mt-40 p-12 bg-slate-900 rounded-[3rem] relative overflow-hidden"},s("div",{class:"absolute top-0 right-0 -mt-32 -mr-32 w-64 h-64 rounded-full blur-3xl bg-emerald-500/10"}),s("div",{class:"absolute bottom-0 left-0 -mb-32 -ml-32 w-64 h-64 rounded-full blur-3xl bg-blue-500/10"}),s("div",{class:"grid relative z-10 grid-cols-1 gap-16 items-center lg:grid-cols-2"},s("div",null,s("div",{class:"inline-block px-4 py-1.5 mb-6 text-sm font-bold tracking-wider text-emerald-400 uppercase rounded-lg bg-emerald-500/10"},"Integrasi Mudah"),s("h2",{class:"mb-6 text-4xl font-bold text-white md:text-5xl"},"Pasang Widget Islami di Website Anda"),s("p",{class:"mb-10 text-xl leading-relaxed text-slate-400"},"Tingkatkan engagement pengunjung website Anda dengan memasang widget Jadwal Sholat dan Ayat Harian yang elegan, ringan, dan responsif. Cukup copy-paste kode embed."),s("ul",{class:"mb-10 space-y-4"},["Desain Modern & Minimalis","Ringan & Cepat (Tanpa library berat)","Otomatis Update Setiap Hari","Responsif di Semua Ukuran Layar"].map((a,r)=>s("li",{key:r,class:"flex gap-3 items-center text-slate-300"},s("svg",{class:"w-6 h-6 text-emerald-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})),a))),s("a",{href:"/docs",class:"inline-flex gap-2 items-center px-8 py-4 font-bold text-white bg-emerald-600 rounded-2xl transition-all hover:bg-emerald-700 hover:shadow-lg hover:shadow-emerald-900/40"},"Dapatkan Kode Embed",s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"})))),s("div",{class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},s("div",{class:"p-6 rounded-3xl border backdrop-blur-sm bg-white/5 border-white/10"},s("div",{class:"w-full aspect-[3/4] bg-emerald-600/20 rounded-2xl mb-4 flex items-center justify-center overflow-hidden"},s("div",{class:"p-4 w-full h-full"},s("div",{class:"mb-4 w-full h-8 bg-emerald-600 rounded-lg"}),s("div",{class:"space-y-3"},[1,2,3,4,5].map(a=>s("div",{key:a,class:"flex justify-between items-center px-2 w-full h-6 rounded-md bg-white/10"},s("div",{class:"w-12 h-2 rounded bg-white/20"}),s("div",{class:"w-8 h-2 rounded bg-white/30"})))))),s("h4",{class:"font-bold text-center text-white"},"Widget Sholat")),s("div",{class:"p-6 rounded-3xl border backdrop-blur-sm bg-white/5 border-white/10"},s("div",{class:"w-full aspect-[3/4] bg-blue-600/20 rounded-2xl mb-4 flex items-center justify-center"},s("div",{class:"flex flex-col justify-center p-6 w-full h-full text-center"},s("div",{class:"mb-8 w-full h-4 bg-blue-600 rounded-lg"}),s("div",{class:"mx-auto mb-3 w-3/4 h-2 rounded bg-white/20"}),s("div",{class:"mx-auto w-1/2 h-2 rounded bg-white/10"}))),s("h4",{class:"font-bold text-center text-white"},"Widget Ayat")))))),s("div",{class:"mt-20 bg-slate-900 rounded-[3rem] p-8 md:p-16 relative overflow-hidden"},s("div",{class:"absolute top-0 right-0 w-1/2 h-full opacity-20 pointer-events-none"},s("svg",{viewBox:"0 0 400 400",xmlns:"http://www.w3.org/2000/svg",class:"w-full h-full"},s("path",{fill:"#10B981",d:"M47.7,-63.9C61.1,-55.8,70.8,-41,75.9,-25.1C81,-9.1,81.6,7.9,76.5,23.1C71.4,38.3,60.6,51.6,47.2,60.4C33.8,69.1,17.9,73.3,1.4,71.4C-15.1,69.4,-30.2,61.4,-44.2,52.5C-58.1,43.7,-70.9,34.1,-76.3,21.1C-81.8,8,-79.9,-8.5,-73.3,-22.9C-66.7,-37.3,-55.4,-49.6,-42.4,-57.8C-29.4,-66,-14.7,-70.1,0.6,-71C15.9,-71.8,31.8,-69.5,47.7,-63.9Z",transform:"translate(200 200)"}))),s("div",{class:"grid relative z-10 grid-cols-1 gap-12 items-center lg:grid-cols-2"},s("div",null,s("h2",{class:"mb-6 text-3xl font-bold leading-tight text-white md:text-5xl"},"Coba API secara langsung di ",s("span",{class:"text-emerald-400"},"Playground")),s("p",{class:"mb-10 text-xl leading-relaxed text-slate-400"},"Tidak perlu setup environment. Cukup pilih endpoint, masukkan parameter, dan lihat hasilnya dalam sekejap. Rasakan kemudahan integrasi Muslim API sekarang juga."),s("a",{href:"/playground",class:"inline-flex gap-3 items-center px-8 py-4 text-lg font-bold text-white bg-emerald-500 rounded-2xl shadow-xl transition-all hover:bg-emerald-400 shadow-emerald-500/20"},"Buka Playground",s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})))),s("div",{class:"hidden lg:block"},s("div",{class:"p-6 rounded-3xl border shadow-2xl backdrop-blur-xl bg-slate-800/50 border-slate-700"},s("div",{class:"flex gap-2 items-center mb-4"},s("div",{class:"flex gap-1.5"},s("div",{class:"w-3 h-3 bg-rose-500 rounded-full"}),s("div",{class:"w-3 h-3 bg-amber-500 rounded-full"}),s("div",{class:"w-3 h-3 bg-emerald-500 rounded-full"}))),s("pre",{class:"p-0 font-mono text-sm leading-relaxed text-emerald-400 bg-transparent"},`{
  "status": true,
  "message": "Berhasil mengambil data surah.",
  "data": {
    "surah": "Al-Fatihah",
    "ayat": 7,
    "revelation": "Makkiyah",
    "translation": "Pembukaan"
  }
} `))))))),s("section",{class:"overflow-hidden relative py-24 bg-slate-900"},s("div",{class:"relative z-10 px-4 mx-auto max-w-7xl text-center sm:px-6 lg:px-8"},s("h2",{class:"mb-8 text-3xl font-bold text-white md:text-5xl"},"Siap Membangun Masa Depan Dakwah Digital?"),s("p",{class:"mx-auto mb-12 max-w-2xl text-xl text-slate-400"},"Bergabunglah dengan ribuan pengembang lainnya yang telah menggunakan Muslim API. Mulai secara gratis hari ini."),s("div",{class:"flex flex-col gap-4 justify-center items-center sm:flex-row"},s("a",{href:"/docs",class:"flex gap-2 justify-center items-center px-10 py-4 w-full text-lg font-bold text-white bg-emerald-600 rounded-2xl shadow-xl transition-all sm:w-auto hover:bg-emerald-500 shadow-emerald-900/20"},"Dapatkan Akses API"),s("a",{href:"/other",class:"flex gap-2 justify-center items-center px-10 py-4 w-full text-lg font-bold text-white rounded-2xl border backdrop-blur-sm transition-all sm:w-auto bg-white/10 border-white/20 hover:bg-white/20"},"Lihat Contoh"))),s("div",{class:"absolute top-0 left-0 w-full h-full opacity-30 pointer-events-none"},s("div",{class:"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-emerald-900 rounded-full blur-[150px]"}),s("div",{class:"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] bg-emerald-900 rounded-full blur-[150px]"}))));var Mi=({baseUrl:t})=>s("div",{class:"px-4 py-12 mx-auto max-w-7xl sm:px-6 lg:px-8"},s("div",{class:"mb-12"},s("h1",{class:"mb-4 text-4xl font-extrabold tracking-tight text-slate-900"},"API Playground"),s("p",{class:"text-lg text-slate-600"},"Uji coba API secara interaktif. Pilih endpoint, masukkan parameter, dan lihat hasilnya secara langsung.")),s("div",{class:"grid grid-cols-1 gap-8 lg:grid-cols-2"},s("div",{class:"space-y-6"},s("div",{class:"p-8 bg-white rounded-3xl border shadow-sm border-slate-200"},s("h3",{class:"flex gap-2 items-center mb-6 text-xl font-bold text-slate-900"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6 text-emerald-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})),"Konfigurasi Request"),s("div",{class:"space-y-4"},s("div",null,s("label",{class:"block mb-2 text-sm font-semibold text-slate-700"},"Pilih Kategori"),s("select",{id:"category-select",class:"px-4 py-3 w-full rounded-xl border transition-all cursor-pointer bg-slate-50 border-slate-200 focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500",onchange:"window.updateEndpoints(this.value)"},s("option",{value:"quran"},"Al-Quran Indonesia"),s("option",{value:"sholat"},"Jadwal Sholat"),s("option",{value:"hadits"},"Hadits"),s("option",{value:"murottal"},"Murottal Audio"),s("option",{value:"kemenag"},"Kemenag Open Data"),s("option",{value:"sejarah"},"Sejarah Islam"),s("option",{value:"puasa"},"Puasa & Fiqh"),s("option",{value:"tools"},"Tools & Fitur Cerdas"),s("option",{value:"integrity"},"Integrity Chain"),s("option",{value:"analytics"},"Spiritual Analytics"),s("option",{value:"other"},"Lainnya (Asmaul Husna, Doa, dll)"))),s("div",null,s("label",{class:"block mb-2 text-sm font-semibold text-slate-700"},"Endpoint"),s("select",{id:"endpoint-select",class:"px-4 py-3 w-full font-mono text-sm rounded-xl border transition-all cursor-pointer bg-slate-50 border-slate-200 focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500",onchange:"window.updateParams(this.value)"})),s("div",{id:"params-container",class:"hidden pt-4 space-y-4 border-t border-slate-100"},s("label",{class:"block text-sm font-semibold text-slate-700"},"Parameter"),s("div",{id:"params-fields",class:"grid grid-cols-1 gap-4 md:grid-cols-2"})),s("div",{class:"pt-6"},s("button",{id:"send-request",onclick:"window.sendRequest()",class:"flex gap-2 justify-center items-center py-4 w-full text-lg font-bold text-white bg-emerald-600 rounded-2xl shadow-xl transition-all hover:bg-emerald-700 shadow-emerald-200 group"},"Kirim Request",s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5 transition-transform group-hover:translate-x-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 5l7 7-7 7"})))))),s("div",{class:"p-6 bg-emerald-50 rounded-2xl border border-emerald-100"},s("h4",{class:"flex gap-2 items-center mb-2 font-bold text-emerald-800"},s("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})),"Tips"),s("p",{class:"text-sm leading-relaxed text-emerald-700"},"Gunakan playground ini untuk memahami struktur response JSON sebelum mengimplementasikannya di aplikasi Anda. Base URL yang digunakan adalah ",s("code",{class:"font-bold"},t),"."))),s("div",{class:"flex flex-col h-full lg:max-h-[700px]"},s("div",{class:"flex overflow-hidden flex-col flex-grow h-full rounded-3xl shadow-2xl bg-slate-900"},s("div",{class:"flex justify-between items-center px-6 py-4 border-b bg-slate-800 border-slate-700 shrink-0"},s("div",{class:"flex gap-3 items-center"},s("div",{class:"flex gap-1.5"},s("div",{class:"w-3 h-3 bg-rose-500 rounded-full"}),s("div",{class:"w-3 h-3 bg-amber-500 rounded-full"}),s("div",{class:"w-3 h-3 bg-emerald-500 rounded-full"})),s("span",{class:"ml-2 text-xs font-bold tracking-widest uppercase text-slate-400"},"JSON Response")),s("div",{id:"status-badge",class:"hidden"},s("span",{class:"px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider bg-emerald-500/20 text-emerald-400 border border-emerald-500/30"},"200 OK"))),s("div",{class:"flex overflow-hidden relative flex-col flex-grow custom-scrollbar"},s("div",{id:"loader",class:"flex hidden absolute inset-0 z-10 justify-center items-center backdrop-blur-sm bg-slate-900/80"},s("div",{class:"flex flex-col gap-4 items-center"},s("div",{class:"w-10 h-10 rounded-full border-4 animate-spin border-emerald-500/20 border-t-emerald-500"}),s("span",{class:"font-medium text-emerald-500 animate-pulse"},"Memuat data..."))),s("div",{id:"json-viewer-container",class:"flex-grow w-full h-full"})),s("div",{class:"px-6 py-3 bg-slate-800 border-t border-slate-700 flex justify-between items-center text-[10px] text-slate-500 font-mono shrink-0"},s("span",{id:"response-time"},"Time: 0ms"),s("span",{id:"response-size"},"Size: 0B"))))),s("style",{dangerouslySetInnerHTML:{__html:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 8px;
          height: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: #0f172a;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: #334155;
          border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: #475569;
        }

        /* JSONEditor Custom Style */
        .jsoneditor {
          border: none !important;
        }
        .jsoneditor-menu {
          background-color: #1e293b !important;
          border-bottom: 1px solid #334155 !important;
        }
        .jsoneditor-navigation-bar {
          background-color: #1e293b !important;
          border-bottom: 1px solid #334155 !important;
        }
        .jsoneditor-outer {
          background-color: #0f172a !important;
        }
        .jsoneditor-tree {
          background-color: #0f172a !important;
        }
        .jsoneditor-separator {
          background-color: transparent !important;
        }
        .jsoneditor-values {
          color: #10b981 !important;
        }
        .jsoneditor-readonly {
          color: #94a3b8 !important;
        }
        .jsoneditor-string {
          color: #10b981 !important;
        }
        .jsoneditor-number {
          color: #3b82f6 !important;
        }
        .jsoneditor-boolean {
          color: #f59e0b !important;
        }
        .jsoneditor-null {
          color: #ef4444 !important;
        }
        .jsoneditor-field {
          color: #e2e8f0 !important;
        }
        div.jsoneditor-tree-inner {
          padding-bottom: 50px !important;
        }
      `}}),s("script",{dangerouslySetInnerHTML:{__html:`
        let editor = null;
        
        // Initialize JSONEditor
        const container = document.getElementById('json-viewer-container');
        const options = {
          mode: 'view',
          mainMenuBar: false,
          navigationBar: false,
          statusBar: false,
          onEditable: function (node) {
            return false;
          }
        };
        
        if (typeof JSONEditor !== 'undefined') {
          editor = new JSONEditor(container, options);
          editor.set({ message: "Response akan muncul di sini..." });
          editor.expandAll();
        }

        const endpoints = {
          quran: [
            { id: 'list-surah', path: '/surah', name: 'Daftar Surah', params: [] },
            { id: 'detail-surah', path: '/surah', name: 'Detail Surah', params: [{ name: 'surahId', placeholder: '1-114', type: 'number', default: '1', hint: 'Contoh: 1 (Al-Fatihah), 114 (An-Nas)' }] },
            { id: 'tafsir', path: '/tafsir', name: 'Tafsir Kemenag', params: [{ name: 'surahId', placeholder: '1-114', type: 'number', default: '1', hint: 'ID Surah (1-114)' }] },
            { id: 'ayah-surah', path: '/ayah/surah', name: 'Ayat by Surah', params: [{ name: 'surahId', placeholder: '1-114', type: 'number', default: '1', hint: 'ID Surah (1-114)' }] },
            { id: 'ayah-specific', path: '/ayah/specific', name: 'Spesifik Ayat', params: [{ name: 'surahId', placeholder: '1', type: 'number', default: '1', hint: 'ID Surah' }, { name: 'ayahId', placeholder: '1', type: 'number', default: '1', hint: 'Nomor Ayat' }] },
            { id: 'ayah-juz', path: '/ayah/juz', name: 'Ayat by Juz', params: [{ name: 'juzId', placeholder: '1-30', type: 'number', default: '30', hint: 'Nomor Juz (1-30)' }] },
            { id: 'ayah-page', path: '/ayah/page', name: 'Ayat by Halaman', params: [{ name: 'page', placeholder: '1-604', type: 'number', default: '604', hint: 'Halaman Al-Quran (1-604)' }] },
            { id: 'ayah-range', path: '/ayah/range', name: 'Range Ayat', params: [{ name: 'surahId', placeholder: '1', type: 'number', default: '1' }, { name: 'start', placeholder: '1', type: 'number', default: '1' }, { name: 'end', placeholder: '7', type: 'number', default: '7' }] },
            { id: 'ayah-find', path: '/ayah/find', name: 'Cari Ayat (Query)', params: [{ name: 'query', placeholder: 'puasa', type: 'text', default: 'puasa', hint: 'Kata kunci pencarian' }] },
            { id: 'juz-list', path: '/juz', name: 'Daftar Juz', params: [] },
            { id: 'juz-detail', path: '/juz', name: 'Detail Juz', params: [{ name: 'juzId', placeholder: '1-30', type: 'number', default: '30', hint: 'Nomor Juz (1-30)' }] },
            { id: 'theme-list', path: '/theme', name: 'Daftar Tema', params: [] },
            { id: 'theme-detail', path: '/theme', name: 'Detail Tema', params: [{ name: 'themeId', placeholder: '1', type: 'number', default: '1', hint: 'ID Tema' }] },
            { id: 'word-ayah', path: '/word', name: 'Kata per Kata', params: [{ name: 'surahId', placeholder: '1', type: 'number', default: '1' }, { name: 'ayahId', placeholder: '1', type: 'number', default: '1' }] },
          ],
          sholat: [
            { id: 'sholat-semua-kota', path: '/sholat/kota/semua', name: 'Semua Kota', params: [] },
            { id: 'sholat-cari-kota', path: '/sholat/kota/cari', name: 'Cari Kota', params: [{ name: 'nama', placeholder: 'jakarta', type: 'text', default: 'jakarta', hint: 'Nama kota yang dicari' }] },
            { id: 'sholat-jadwal-kota', path: '/sholat/jadwal', name: 'Jadwal by Kota ID', params: [
              { 
                name: 'kotaId', 
                type: 'select', 
                default: '1301', 
                options: [
                  { value: '1301', label: '1301 - KOTA JAKARTA' },
                  { value: '1206', label: '1206 - KOTA BANDUNG' },
                  { value: '1638', label: '1638 - KOTA SURABAYA' },
                  { value: '1210', label: '1210 - KOTA BOGOR' },
                  { value: '1505', label: '1505 - KOTA SEMARANG' },
                  { value: '1412', label: '1412 - KOTA YOGYAKARTA' },
                  { value: '1433', label: '1433 - KOTA SURAKARTA (SOLO)' },
                  { value: '1107', label: '1107 - KOTA MALANG' },
                  { value: '0228', label: '0228 - KOTA MEDAN' },
                  { value: '2218', label: '2218 - KOTA MAKASSAR' },
                  { value: '1810', label: '1810 - KOTA BANJARMASIN' },
                  { value: '0412', label: '0412 - KOTA PEKANBARU' },
                  { value: '0816', label: '0816 - KOTA PALEMBANG' },
                  { value: '1708', label: '1708 - KOTA DENPASAR' },
                  { value: '1214', label: '1214 - KOTA BEKASI' },
                  { value: '1211', label: '1211 - KOTA DEPOK' },
                  { value: '1217', label: '1217 - KOTA TANGERANG' },
                  { value: '1218', label: '1218 - KOTA TANGERANG SELATAN' },
                ] 
              }, 
              { name: 'tanggal', placeholder: '2025-12-25', type: 'date', default: new Date().toISOString().split('T')[0] }
            ] },
            { id: 'sholat-jadwal-koordinat', path: '/sholat/jadwal/koordinat', name: 'Jadwal by Koordinat', params: [{ name: 'lat', placeholder: '-6.1751', type: 'text', default: '-6.1751' }, { name: 'lon', placeholder: '106.8272', type: 'text', default: '106.8272' }] },
            { id: 'sholat-next', path: '/sholat/next', name: 'Waktu Sholat Terdekat', params: [{ name: 'lat', placeholder: '-6.1751', type: 'text', default: '-6.1751' }, { name: 'lon', placeholder: '106.8272', type: 'text', default: '106.8272' }] },
          ],
          hadits: [
            { id: 'hadits-list', path: '/hadits', name: 'Daftar Hadits Arbain', params: [] },
            { id: 'hadits-detail', path: '/hadits', name: 'Detail Hadits Arbain', params: [{ name: 'nomor', placeholder: '1-42', type: 'number', default: '1', hint: 'Nomor Hadits (1-42)' }] },
            { id: 'hadits-books', path: '/hadits/books', name: 'Daftar Kitab Hadits', params: [] },
            { id: 'hadits-by-book', path: '/hadits/books/abu-daud', name: 'Hadits by Kitab', params: [{ name: 'range', placeholder: '1-10', type: 'text', default: '1-10', hint: 'Contoh: 1-10 (Hadits nomor 1 sampai 10)' }] },
            { id: 'hadits-cari', path: '/hadits/find', name: 'Cari Hadits (Query)', params: [{ name: 'query', placeholder: 'puasa', type: 'text', default: 'puasa' }] },
          ],
          murottal: [
            { id: 'murottal-qari', path: '/murotal/qari', name: 'Daftar Qari', params: [] },
            { id: 'murottal-surah', path: '/murotal', name: 'Audio by Surah', params: [
              { name: 'surahId', placeholder: '1-114', type: 'number', default: '1', hint: 'ID Surah (1-114)' }, 
              { 
                name: 'qariId', 
                type: 'select', 
                default: '05', 
                options: [
                  { value: '01', label: '01 - Abdullah Al-Juhany' },
                  { value: '02', label: '02 - Abdul-Muhsin Al-Qasim' },
                  { value: '03', label: '03 - Abdurrahman as-Sudais' },
                  { value: '04', label: '04 - Ibrahim Al-Dossari' },
                  { value: '05', label: '05 - Misyari Rasyid Al-Afasi' },
                  { value: '06', label: '06 - Yasser Al-Dosari' },
                ]
              }
            ] },
          ],
          kemenag: [
            { id: 'kemenag-libur', path: '/kemenag/libur', name: 'Hari Libur Nasional', params: [{ name: 'year', type: 'number', default: '2025', placeholder: '2025' }] },
            { id: 'kemenag-provinsi', path: '/kemenag/provinsi', name: 'Daftar Provinsi (Pesantren)', params: [] },
            { id: 'kemenag-kabupaten', path: '/kemenag/kabupaten', name: 'Daftar Kabupaten (Pesantren)', params: [{ name: 'provinsiId', type: 'number', default: '32', placeholder: '32', hint: 'ID Provinsi (Contoh: 32 untuk Jabar)' }] },
            { id: 'kemenag-pesantren', path: '/kemenag/pesantren', name: 'Daftar Pesantren', params: [{ name: 'kabupatenId', type: 'number', default: '3201', placeholder: '3201', hint: 'ID Kabupaten (Contoh: 3201 untuk Bogor)' }] },
            { id: 'kemenag-masjid', path: '/kemenag/masjid', name: 'Daftar Masjid Utama', params: [] },
            { id: 'kemenag-masjid-nearby', path: '/kemenag/masjid/nearby', name: 'Masjid Terdekat (Geo)', params: [{ name: 'lat', type: 'text', default: '-6.1751' }, { name: 'lng', type: 'text', default: '106.8272' }, { name: 'radius', type: 'number', default: '5', hint: 'Radius dalam KM' }] },
          ],
          sejarah: [
            { id: 'sejarah-list', path: '/sejarah', name: 'Daftar Sirah Nabawiyah', params: [] },
            { id: 'sejarah-today', path: '/sejarah/today', name: 'Peristiwa Hari Ini', params: [] },
            { id: 'sejarah-detail', path: '/sejarah/detail', name: 'Detail Sejarah', params: [{ name: 'id', type: 'number', default: '1', placeholder: '1' }] },
          ],
          puasa: [
            { id: 'puasa-all', path: '/puasa', name: 'Daftar Puasa (Wajib & Sunnah)', params: [] },
            { id: 'puasa-fiqh', path: '/puasa/fiqh', name: 'Fiqh & Adab Puasa (70 Masalah)', params: [] },
            { id: 'puasa-find', path: '/puasa/find', name: 'Cari Puasa', params: [{ name: 'query', type: 'text', default: 'bidh', placeholder: 'bidh' }] },
            { id: 'puasa-type', path: '/puasa/type/mingguan', name: 'Filter by Tipe', params: [
              { name: 'type', type: 'select', default: 'mingguan', options: [
                { value: 'mingguan', label: 'Mingguan' },
                { value: 'bulanan', label: 'Bulanan' },
                { value: 'tahunan', label: 'Tahunan' }
              ]}
            ]},
          ],
          tools: [
            { id: 'tools-quotes', path: '/tools/quotes/daily', name: 'Daily Quotes', params: [] },
            { id: 'tools-zakat', path: '/tools/zakat', name: 'Kalkulator Zakat', params: [
              { name: 'type', type: 'select', default: 'maal', options: [{value:'maal', label:'Zakat Maal'}, {value:'penghasilan', label:'Zakat Penghasilan'}, {value:'fitrah', label:'Zakat Fitrah'}] },
              { name: 'amount', type: 'number', default: '100000000', hint: 'Jumlah harta/pendapatan' },
              { name: 'hargaEmas', type: 'number', default: '1200000', hint: 'Harga emas per gram (opsional)' },
              { name: 'hargaBeras', type: 'number', default: '15000', hint: 'Harga beras per kg (Zakat Fitrah)' },
              { name: 'jumlahOrang', type: 'number', default: '1', hint: 'Jumlah jiwa (Zakat Fitrah)' }
            ]},
            { id: 'tools-faraidh', path: '/tools/faraidh', name: 'Kalkulator Waris (Faraidh)', params: [
              { name: 'totalHarta', type: 'number', default: '120000000', hint: 'Total harta warisan' },
              { name: 'suami', type: 'number', default: '1', hint: 'Jumlah suami (0-1)' },
              { name: 'istri', type: 'number', default: '0', hint: 'Jumlah istri' },
              { name: 'anakLk', type: 'number', default: '1', hint: 'Jumlah anak laki-laki' },
              { name: 'anakPr', type: 'number', default: '1', hint: 'Jumlah anak perempuan' },
              { name: 'ayah', type: 'select', default: 'false', options: [{value:'true', label:'Ada'}, {value:'false', label:'Tidak Ada'}] },
              { name: 'ibu', type: 'select', default: 'false', options: [{value:'true', label:'Ada'}, {value:'false', label:'Tidak Ada'}] }
            ]},
            { id: 'tools-qibla', path: '/tools/qibla', name: 'Arah Kiblat', params: [{ name: 'lat', type: 'text', default: '-6.1751' }, { name: 'lng', type: 'text', default: '106.8272' }] },
            { id: 'tools-search', path: '/tools/semantic-search', name: 'Pencarian Semantik (AI)', params: [{ name: 'query', type: 'text', default: 'sabar', hint: 'Cari di Quran & Hadits' }] },
          ],
          integrity: [
            { id: 'integrity-chain', path: '/integrity/chain', name: 'Integrity Chain', params: [] },
            { id: 'integrity-verify', path: '/integrity/verify/ayah', name: 'Verifikasi Ayah', params: [{ name: 'surahId', placeholder: '1', type: 'number', default: '1' }, { name: 'ayahId', placeholder: '1', type: 'number', default: '1' }] },
          ],
          analytics: [
            { id: 'analytics-global', path: '/analytics', name: 'Global Spiritual Analytics', params: [] },
            { id: 'analytics-khatam', path: '/analytics/khatam', name: 'Lapor Khatam (Post)', params: [], method: 'POST' },
          ],
          other: [
            { id: 'asma-list', path: '/asma', name: 'Semua Asmaul Husna', params: [] },
            { id: 'asma-detail', path: '/asma', name: 'Detail Asmaul Husna', params: [{ name: 'id', placeholder: '1-99', type: 'number', default: '1', hint: 'Nomor 1-99' }] },
            { id: 'doa-list', path: '/doa', name: 'Daftar Doa', params: [] },
            { id: 'doa-detail', path: '/doa', name: 'Detail Doa', params: [{ name: 'id', placeholder: '1-30', type: 'number', default: '1', hint: 'ID Doa (1-30+)' }] },
            { id: 'dzikir', path: '/dzikir', name: 'Dzikir Pagi Petang', params: [] },
            { id: 'asbab-list', path: '/asbab', name: 'Daftar Asbabun Nuzul', params: [] },
            { id: 'asbab-detail', path: '/asbab', name: 'Detail Asbabun Nuzul', params: [{ name: 'id', placeholder: 'ID', type: 'number', default: '1' }] },
            { id: 'calendar-hijri', path: '/calendar/hijri', name: 'Konversi ke Hijriah', params: [{ name: 'date', placeholder: '2025-12-25', type: 'date', default: new Date().toISOString().split('T')[0], hint: 'Format: YYYY-MM-DD' }, { name: 'adj', placeholder: '0', type: 'number', default: '0', hint: 'Koreksi hari (-2 s/d 2)' }] },
            { id: 'calendar-masehi', path: '/calendar/masehi', name: 'Konversi ke Masehi', params: [{ name: 'day', placeholder: '1', type: 'number', default: '1' }, { name: 'month', placeholder: '1', type: 'number', default: '1' }, { name: 'year', placeholder: '1447', type: 'number', default: '1447' }] },
          ]
        };

        let currentCategory = 'quran';
        let currentEndpoint = null;
        let isInitialLoad = true;

        window.updateEndpoints = (category) => {
          currentCategory = category;
          const select = document.getElementById('endpoint-select');
          const data = endpoints[category];
          select.innerHTML = data.map(ep => '<option value="' + ep.id + '">' + ep.name + ' (' + ep.path + ')</option>').join('');
          window.updateParams(data[0].id);
        };

        window.updateParams = (endpointId) => {
          const endpoint = endpoints[currentCategory].find(ep => ep.id === endpointId);
          currentEndpoint = endpoint;
          const container = document.getElementById('params-container');
          const fields = document.getElementById('params-fields');
          
          if (endpoint.params.length > 0) {
            container.classList.remove('hidden');
            fields.innerHTML = endpoint.params.map(param => {
              if (param.type === 'select') {
                const optionsHtml = param.options.map(opt => 
                  '<option value="' + opt.value + '" ' + (opt.value === param.default ? 'selected' : '') + '>' + opt.label + '</option>'
                ).join('');

                return '<div class="space-y-1">' +
                    '<label class="block text-[10px] font-bold text-slate-500 uppercase tracking-wider">' + param.name + '</label>' +
                    '<div class="relative">' +
                      '<select name="' + param.name + '" class="px-3 py-2 pr-8 w-full text-sm bg-white rounded-lg border transition-all appearance-none cursor-pointer border-slate-200 focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500">' +
                        optionsHtml +
                      '</select>' +
                      '<div class="flex absolute inset-y-0 right-0 items-center px-2 pointer-events-none text-slate-400">' +
                        '<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>' +
                      '</div>' +
                    '</div>' +
                    (param.hint ? '<p class="text-[10px] text-slate-400 italic leading-tight">' + param.hint + '</p>' : '') +
                  '</div>';
              }
              return '<div class="space-y-1">' +
                  '<label class="block text-[10px] font-bold text-slate-500 uppercase tracking-wider">' + param.name + '</label>' +
                  '<input type="' + param.type + '" name="' + param.name + '" value="' + (param.default || '') + '" placeholder="' + param.placeholder + '" class="px-3 py-2 w-full text-sm bg-white rounded-lg border transition-all border-slate-200 focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500" />' +
                  (param.hint ? '<p class="text-[10px] text-slate-400 italic leading-tight">' + param.hint + '</p>' : '') +
                '</div>';
            }).join('');
          } else {
            container.classList.add('hidden');
            fields.innerHTML = '';
          }
        };

        window.sendRequest = async () => {
          const loader = document.getElementById('loader');
          const statusBadge = document.getElementById('status-badge');
          const responseTime = document.getElementById('response-time');
          const responseSize = document.getElementById('response-size');
          
          loader.classList.remove('hidden');
          const startTime = performance.now();

          try {
            const inputs = document.querySelectorAll('#params-fields input, #params-fields select');
            let path = currentEndpoint.path;
            const queryParams = new URLSearchParams();

            inputs.forEach(input => {
              if (path.includes(':' + input.name)) {
                path = path.replace(':' + input.name, encodeURIComponent(input.value));
              } else if (input.value) {
                queryParams.append(input.name, input.value);
              }
            });

            const queryString = queryParams.toString();
            const fullUrl = \`\${window.location.origin}/v1\${path}\${queryString ? '?' + queryString : ''}\`;
            
            const fetchOptions = {
              method: currentEndpoint.method || 'GET',
              headers: {
                'Content-Type': 'application/json'
              }
            };
            
            const response = await fetch(fullUrl, fetchOptions);
            const data = await response.json();
            const endTime = performance.now();

            if (editor) {
              editor.set(data);
              editor.expandAll();
            }

            // Update stats
            statusBadge.innerHTML = \`<span class="px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider \${response.ok ? 'bg-emerald-500/20 text-emerald-400 border border-emerald-500/30' : 'bg-rose-500/20 text-rose-400 border border-rose-500/30'}">\${response.status} \${response.statusText}</span>\`;
            statusBadge.classList.remove('hidden');
            responseTime.textContent = \`Time: \${Math.round(endTime - startTime)}ms\`;
            responseSize.textContent = \`Size: \${(JSON.stringify(data).length / 1024).toFixed(2)}KB\`;

          } catch (error) {
            if (editor) {
              editor.set({ error: error.message });
              editor.expandAll();
            }
          } finally {
            loader.classList.add('hidden');
          }
        };

        // Initialize from URL params if exists
        window.addEventListener('load', () => {
          const urlParams = new URLSearchParams(window.location.search);
          const category = urlParams.get('category') || 'quran';
          const endpointId = urlParams.get('endpoint');

          document.getElementById('category-select').value = category;
          window.updateEndpoints(category);

          if (endpointId) {
            document.getElementById('endpoint-select').value = endpointId;
            window.updateParams(endpointId);
            // Auto send request if directed from other pages
            setTimeout(() => window.sendRequest(), 500);
          }
        });
      `}}),s("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/jsoneditor/9.10.2/jsoneditor.min.js"}),s("link",{href:"https://cdnjs.cloudflare.com/ajax/libs/jsoneditor/9.10.2/jsoneditor.min.css",rel:"stylesheet",type:"text/css"}));var Ti=({baseUrl:t})=>s("div",{class:"min-h-screen bg-slate-50 pb-20"},s("div",{class:"bg-gradient-to-b from-emerald-600 to-emerald-800 text-white pt-20 pb-32"},s("div",{class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center"},s("div",{class:"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-emerald-500/20 border border-emerald-400/30 text-emerald-100 text-xs font-bold mb-6 backdrop-blur-sm"},s("span",{class:"relative flex h-2 w-2"},s("span",{class:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75"}),s("span",{class:"relative inline-flex rounded-full h-2 w-2 bg-emerald-400"})),"SYSTEM STATUS: OPERATIONAL"),s("h1",{class:"text-4xl md:text-5xl font-extrabold mb-6 tracking-tight"},"API System Monitoring"),s("p",{class:"text-emerald-100/80 text-lg max-w-2xl mx-auto leading-relaxed"},"Real-time monitoring and health checks for all Muslim API services and external providers."))),s("div",{class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-20"},s("div",{id:"status-grid",class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},s("div",{class:"col-span-full mb-4"},s("h2",{class:"text-xl font-bold text-slate-900 flex items-center gap-2"},s("div",{class:"w-2 h-6 bg-emerald-500 rounded-full"}),"Core & Internal Services")),s(be,{name:"Core API Engine",endpoint:"/health",description:"Status inti sistem",type:"internal"}),s(be,{name:"Al-Quran API",endpoint:"/surah",description:"Teks, terjemahan, dan tafsir Al-Quran",type:"internal"}),s(be,{name:"Jadwal Sholat API",endpoint:"/sholat/kota/semua",description:"Layanan data waktu sholat",type:"internal"}),s(be,{name:"Hadits API",endpoint:"/hadits?nomor=1",description:"Koleksi Hadits Arbain & 9 Imam",type:"internal"}),s(be,{name:"Sejarah API",endpoint:"/sejarah",description:"Sejarah Islam & Sirah Nabawiyah",type:"internal"}),s(be,{name:"Kemenag API",endpoint:"/kemenag/masjid",description:"Data Masjid, Pesantren, & Libur",type:"internal"}),s(be,{name:"Integrity System",endpoint:"/integrity/verify",description:"Data integrity verification chain",type:"internal"}),s("div",{class:"col-span-full mt-8 mb-4"},s("h2",{class:"text-xl font-bold text-slate-900 flex items-center gap-2"},s("div",{class:"w-2 h-6 bg-blue-500 rounded-full"}),"External Data Providers")),s(be,{name:"equran.id",endpoint:"https://equran.id/api/v2/surat",description:"Audio Murottal & Quran v2",type:"external"}),s(be,{name:"MyQuran API",endpoint:"https://api.myquran.com/v2/sholat/kota/semua",description:"Source data Jadwal Sholat",type:"external"}),s(be,{name:"Hadith Gading",endpoint:"https://api.hadith.gading.dev/books",description:"Source data Hadits Besar",type:"external"}))),s("script",{dangerouslySetInnerHTML:{__html:`
        (function() {
          window.baseUrl = "${t}";
          
          async function checkStatus(card) {
            const endpoint = card.dataset.endpoint;
            const type = card.dataset.type;
            
            let fullUrl;
            if (type === 'internal') {
              // Use relative paths to avoid Mixed Content issues
              fullUrl = endpoint === '/health' ? '/health' : '/v1' + endpoint;
            } else {
              fullUrl = endpoint;
            }
            
            const statusEl = card.querySelector('.status-indicator');
            const textEl = card.querySelector('.status-text');
            const latencyEl = card.querySelector('.latency-text');
            const uptimeEl = card.querySelector('.uptime-bar');
            
            const start = performance.now();
            try {
              const fetchOptions = type === 'internal' ? { mode: 'cors' } : { mode: 'no-cors' };
              const response = await fetch(fullUrl, fetchOptions);
              const latency = Math.round(performance.now() - start);
              
              const isOnline = type === 'internal' ? response.ok : true;
              
              if (isOnline) {
                statusEl.className = 'status-indicator w-3 h-3 rounded-full bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.5)]';
                textEl.innerText = 'Online';
                textEl.className = 'status-text text-sm font-bold text-emerald-600';
                latencyEl.innerText = latency + 'ms';
                updateUptimeBar(uptimeEl, true);
              } else {
                throw new Error('Offline');
              }
            } catch (error) {
              statusEl.className = 'status-indicator w-3 h-3 rounded-full bg-red-500 shadow-[0_0_10px_rgba(239,68,68,0.5)]';
              textEl.innerText = 'Offline';
              textEl.className = 'status-text text-sm font-bold text-red-600';
              latencyEl.innerText = '-- ms';
              updateUptimeBar(uptimeEl, false);
            }
          }

          function updateUptimeBar(el, isOnline) {
            const dots = el.querySelectorAll('.uptime-dot');
            const lastIndex = dots.length - 1;
            for(let i = 0; i < lastIndex; i++) {
              dots[i].className = dots[i+1].className;
            }
            dots[lastIndex].className = 'uptime-dot h-4 w-1 rounded-full ' + (isOnline ? 'bg-emerald-500' : 'bg-red-500');
          }

          function initStatus() {
            const cards = document.querySelectorAll('.status-card');
            cards.forEach(card => {
              checkStatus(card);
              setInterval(() => checkStatus(card), 30000);
            });
          }

          if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initStatus);
          } else {
            initStatus();
          }
          
          window.addEventListener('load', function() {
            const cards = document.querySelectorAll('.status-card');
            const firstCard = cards[0];
            if (firstCard) {
              const textEl = firstCard.querySelector('.status-text');
              if (textEl && textEl.innerText === 'Checking...') {
                initStatus();
              }
            }
          });
        })();
      `}})),be=({name:t,endpoint:e,description:a,type:r})=>s("div",{class:"status-card bg-white rounded-2xl border border-slate-200 p-6 shadow-sm hover:shadow-md transition-all group","data-endpoint":e,"data-type":r},s("div",{class:"flex justify-between items-start mb-4"},s("div",null,s("h3",{class:"font-bold text-slate-900 group-hover:text-emerald-600 transition-colors"},t),s("p",{class:"text-xs text-slate-500 mt-1"},a)),s("div",{class:"flex flex-col items-end"},s("div",{class:"flex items-center gap-2 bg-slate-50 px-3 py-1 rounded-full border border-slate-100"},s("div",{class:"status-indicator w-3 h-3 rounded-full bg-slate-300 animate-pulse"}),s("span",{class:"status-text text-sm font-bold text-slate-400 italic"},"Checking...")),s("span",{class:"latency-text text-[10px] font-mono text-slate-400 mt-2"},"-- ms"))),s("div",{class:"space-y-3"},s("div",{class:"flex justify-between items-center text-[10px] text-slate-400 font-bold uppercase tracking-wider"},s("span",null,"Uptime (Last 24h)"),s("span",null,"99.9%")),s("div",{class:"uptime-bar flex gap-0.5 h-4"},[...Array(40)].map((n,o)=>s("div",{key:o,class:"uptime-dot h-4 w-1 rounded-full bg-emerald-500/20"}))),s("div",{class:"flex justify-between text-[10px] text-slate-300"},s("span",null,"24h ago"),s("span",null,"Just now"))),s("div",{class:"mt-6 pt-4 border-t border-slate-50"},s("div",{class:"flex items-center justify-between"},s("span",{class:"text-[10px] text-slate-400 font-mono truncate max-w-[180px]"},e),s("div",{class:"flex gap-2"},s("div",{class:"w-1.5 h-1.5 rounded-full bg-emerald-400"}),s("div",{class:"w-1.5 h-1.5 rounded-full bg-emerald-400"}),s("div",{class:"w-1.5 h-1.5 rounded-full bg-emerald-400"})))));var Ot=new E,Ts=t=>{let e=new URL(t.req.url);return`${t.req.header("x-forwarded-proto")||e.protocol.split(":")[0]}://${e.host}/v1`};Ot.get("/",async t=>{let e=await Et();return t.html(s(Lt,{title:"Muslim All-In-One API | Platform Data Islami Terlengkap"},s(Ri,{sejarah:e})))});Ot.get("/docs",t=>{let e=Ts(t);return t.html(s(Lt,{title:"Muslim API | Documentation"},s(_i,{baseUrl:e})))});Ot.get("/other",t=>t.html(s(Lt,{title:"Muslim All-in-One API | Resources"},s(qi,null))));Ot.get("/playground",t=>{let e=Ts(t);return t.html(s(Lt,{title:"Muslim API | Playground"},s(Mi,{baseUrl:e})))});Ot.get("/status",t=>{let e=Ts(t);return t.html(s(Lt,{title:"Muslim API | System Status"},s(Ti,{baseUrl:e})))});var Pi=Ot;var Di=new E;Di.get("/",async t=>{try{let e=t.req.query("asbabId")||t.req.query("id"),a=await No();if(!a)return t.json({status:!1,message:"Daftar Asbabun Nuzul tidak tersedia.",data:[]},404);if(e==null){let r=[...a].sort((n,o)=>parseInt(n.id)-parseInt(o.id));return t.json({status:!0,message:"Berhasil mendapatkan daftar Asbabun Nuzul.",data:r})}else{let r=a.find(n=>n.id==e);return r?t.json({status:!0,message:"Berhasil mendapatkan detail Asbabun Nuzul.",data:r}):t.json({status:!1,message:"Asbabun Nuzul tidak ditemukan.",data:{}},404)}}catch(e){return t.json({status:!1,message:"Gagal mendapatkan data Asbabun Nuzul: "+e.message},500)}});var Bi=Di;var Li=new E;Li.get("/",async t=>{try{let e=t.req.query("asmaId")||t.req.query("id"),a=await Do();if(!a)return t.json({status:!1,message:"Daftar Asmaul Husna tidak tersedia.",data:[]},404);if(e!=null){let r=a.find(n=>n.id==e);return r?t.json({status:!0,message:"Berhasil mendapatkan detail Asmaul Husna.",data:r}):t.json({status:!1,message:"Asmaul Husna tidak ditemukan.",data:{}},404)}else{let r=[...a].sort((n,o)=>parseInt(n.id)-parseInt(o.id));return t.json({status:!0,message:"Berhasil mendapatkan daftar Asmaul Husna.",data:r})}}catch(e){return t.json({status:!1,message:"Gagal mendapatkan data Asmaul Husna: "+e.message},500)}});var Oi=Li;var Oe=new E,tt=t=>t&&{...t,audio_partial:typeof t.audio_partial=="string"?JSON.parse(t.audio_partial):t.audio_partial||{}};Oe.get("/",async t=>{try{let e=await N(),a=[];for(let r of e){let n=await V(r.number);n&&a.push(...n)}return t.json({status:!0,message:"Berhasil mendapatkan daftar seluruh ayat.",data:a.map(tt)})}catch(e){return t.json({status:!1,message:"Gagal mendapatkan daftar ayat: "+e.message},500)}});Oe.get("/range",async t=>{try{let e=t.req.query("surahId")||t.req.query("id"),a=parseInt(t.req.query("start")),r=parseInt(t.req.query("end"));if(e!=null&&!isNaN(a)&&!isNaN(r)){let n=await V(e);if(!n)return t.json({status:!1,message:"Surah tidak ditemukan."},404);let o=n.filter(i=>{let l=parseInt(i.ayah);return l>=a&&l<=r});return t.json({status:!0,message:`Berhasil mendapatkan ayat dari surah ${e} rentang ${a}-${r}.`,data:o.map(tt)})}else return t.json({status:!1,message:"Parameter diperlukan (surahId, start, end)."},400)}catch(e){return t.json({status:!1,message:"Gagal mendapatkan rentang ayat: "+e.message},500)}});Oe.get("/surah",async t=>{try{let e=t.req.query("surahId")||t.req.query("id");if(e!=null){let a=await V(e);return a?t.json({status:!0,message:`Berhasil mendapatkan daftar ayat untuk surah ${e}.`,data:a.map(tt)}):t.json({status:!1,message:`Surah ${e} tidak ditemukan.`,data:[]},404)}else return t.json({status:!1,message:"Parameter diperlukan (surahId)."},400)}catch(e){return t.json({status:!1,message:"Gagal mendapatkan ayat surah: "+e.message},500)}});Oe.get("/juz",async t=>{try{let e=t.req.query("juzId")||t.req.query("id");if(e!=null){let a=await N(),r=[];for(let n of a){let o=await V(n.number);if(o){let i=o.filter(l=>l.juz==e);r.push(...i)}}return t.json({status:!0,message:`Berhasil mendapatkan daftar ayat untuk juz ${e}.`,data:r.map(tt)})}else return t.json({status:!1,message:"Parameter diperlukan (juzId)."},400)}catch(e){return t.json({status:!1,message:"Gagal mendapatkan ayat juz: "+e.message},500)}});Oe.get("/page",async t=>{try{let e=t.req.query("page")||t.req.query("id");if(e!=null){let a=await N(),r=[];for(let n of a){let o=await V(n.number);if(o){let i=o.filter(l=>l.page==e);r.push(...i)}}return t.json({status:!0,message:`Berhasil mendapatkan daftar ayat untuk halaman ${e}.`,data:r.map(tt)})}else return t.json({status:!1,message:"Parameter diperlukan (page)."},400)}catch(e){return t.json({status:!1,message:e.message},500)}});Oe.get("/specific",async t=>{try{let e=t.req.query("surahId")||t.req.query("id"),a=t.req.query("ayahId");if(e!=null&&a!=null){let r=await V(e);if(!r)return t.json({status:!1,message:`Surah ${e} tidak ditemukan.`,data:{}},404);let n=r.find(o=>o.ayah==a);if(n){let o=tt(n);return o.external_verification=`https://quran.kemenag.go.id/quran/per-ayat/surah/${e}?from=${a}&to=${a}`,_t("ayah",`${e}:${a}`).catch(i=>console.error("Analytics error:",i)),t.json({status:!0,message:`Berhasil mendapatkan detail ayat ${a} pada surah ${e}.`,data:o})}else return t.json({status:!1,message:`Ayat ${a} pada surah ${e} tidak ditemukan.`,data:{}},404)}else return t.json({status:!1,message:"Parameter diperlukan (surahId, ayahId)."},400)}catch(e){return t.json({status:!1,message:"Gagal mendapatkan detail ayat: "+e.message},500)}});Oe.get("/find",async t=>{try{let e=t.req.query("query");if(e!=null&&e.length>3){let a=await N(),r=[],n=e.toLowerCase();for(let o of a){let i=await V(o.number);if(i){let l=i.filter(d=>d.text&&d.text.toLowerCase().includes(n));r.push(...l)}if(r.length>=100)break}return r.length===0?t.json({status:!1,message:`Tidak ada ayat yang ditemukan dengan kata kunci: ${e}.`,data:[]},404):t.json({status:!0,message:`Berhasil mencari ayat dengan kata kunci: ${e}.`,data:r.map(tt)})}else return t.json({status:!1,message:"Parameter diperlukan (query). Harus lebih dari 3 karakter."},400)}catch(e){return t.json({status:!1,message:"Gagal mencari ayat: "+e.message},500)}});var Hi=Oe;var Ps=new E,Ni=async()=>{let t=await $o(),e=await zo();if(!t||!e)throw new Error("Data kalender tidak tersedia.");return{islamicMonths:t.filter(a=>a.type==="islamic").sort((a,r)=>a.month_index-r.month_index).map(a=>a.name),jawaMonths:t.filter(a=>a.type==="jawa").sort((a,r)=>a.month_index-r.month_index).map(a=>a.name),gregorianMonths:t.filter(a=>a.type==="gregorian").sort((a,r)=>a.month_index-r.month_index).map(a=>a.name),pasaran:e.filter(a=>a.type==="pasaran").sort((a,r)=>a.day_index-r.day_index).map(a=>a.name),jawaDays:e.filter(a=>a.type==="jawa").sort((a,r)=>a.day_index-r.day_index).map(a=>a.name),gregorianDays:e.filter(a=>a.type==="gregorian").sort((a,r)=>a.day_index-r.day_index).map(a=>a.name)}},Cc=(t,e=0,a)=>{let r=new Date(t);e!==0&&r.setDate(r.getDate()+e);let n=r.getDate(),o=r.getMonth()+1,i=r.getFullYear();o<3&&(i-=1,o+=12);let l=Math.floor(i/100),d=2-l+Math.floor(l/4),h=Math.floor(365.25*(i+4716))+Math.floor(30.6001*(o+1))+n+d-1524-1948440+10632,c=Math.floor((h-1)/10631);h=h-10631*c+354;let m=Math.floor((10985-h)/5316)*Math.floor(50*h/17719)+Math.floor(h/5670)*Math.floor(43*h/15238);h=h-Math.floor((30-m)/15)*Math.floor(17719*m/50)-Math.floor(m/16)*Math.floor(15238*m/43)+29;let g=Math.floor(24*h/709),k=h-Math.floor(709*g/24),v=30*c+m-30,{islamicMonths:A,jawaMonths:x,pasaran:I,jawaDays:q}=a,C=new Date(1970,0,1),W=((Math.floor((t.getTime()-C.getTime())/(1e3*60*60*24))+3)%5+5)%5,p=t.getDay();return{day:k,month:g,month_name:A[g-1],year:v,jawa:{day:k,month:g,month_name:x[g-1],year:v+512,pasaran:I[W],day_name:q[p],formatted:`${q[p]} ${I[W]}, ${k} ${x[g-1]} ${v+512}`},formatted:`${k} ${A[g-1]} ${v} AH`}},_c=(t,e,a,r)=>{let o=Math.floor((11*a+3)/30)+354*a+30*e-Math.floor((e-1)/2)+t+1948440-385+68569,i=Math.floor(4*o/146097);o=o-Math.floor((146097*i+3)/4);let l=Math.floor(4e3*(o+1)/1461001);o=o-Math.floor(1461*l/4)+31;let d=Math.floor(80*o/2447),u=o-Math.floor(2447*d/80);o=Math.floor(d/11);let h=d+2-12*o,c=100*(i-49)+l+o,m=new Date(c,h-1,u),{gregorianDays:g,gregorianMonths:k}=r;return{day:u,day_name:g[m.getDay()],month:h,month_name:k[h-1],year:c,formatted:`${g[m.getDay()]}, ${u} ${k[h-1]} ${c}`}};Ps.get("/hijri",async t=>{try{let e=t.req.query("date"),a=parseInt(t.req.query("adj"))||0,r;if(e?r=new Date(e):r=new Date,isNaN(r.getTime()))return t.json({status:!1,message:"Format tanggal tidak valid. Gunakan YYYY-MM-DD."},400);let n=await Ni(),o=Cc(r,a,n);return t.json({status:!0,message:"Berhasil mengonversi tanggal Masehi ke Hijriah.",data:{masehi:r.toISOString().split("T")[0],adjustment:a,hijri:o}})}catch(e){return t.json({status:!1,message:"Gagal mengonversi tanggal: "+e.message},500)}});Ps.get("/masehi",async t=>{try{let e=parseInt(t.req.query("day")),a=parseInt(t.req.query("month")),r=parseInt(t.req.query("year"));if(isNaN(e)||isNaN(a)||isNaN(r))return t.json({status:!1,message:"Parameter tidak lengkap atau tidak valid. Membutuhkan day, month, dan year."},400);if(a<1||a>12||e<1||e>30)return t.json({status:!1,message:"Nilai tanggal Hijriah tidak valid."},400);let n=await Ni(),o=_c(e,a,r,n);return t.json({status:!0,message:"Berhasil mengonversi tanggal Hijriah ke Masehi.",data:{hijri:{day:e,month:a,year:r},masehi:o}})}catch(e){return t.json({status:!1,message:"Gagal mengonversi tanggal: "+e.message},500)}});var $i=Ps;var Ds=new E;Ds.get("/",async t=>{try{let e=t.req.query("source"),a=await da();if(!a)return t.json({status:!1,message:"Daftar doa tidak tersedia.",data:[]},404);if(e!=null){let r=a.filter(n=>n.source===e).sort((n,o)=>n.judul.localeCompare(o.judul));return t.json({status:!0,message:`Berhasil mendapatkan doa dari sumber: ${e}.`,data:r})}else{let r=[...a].sort((n,o)=>n.judul.localeCompare(o.judul));return t.json({status:!0,message:"Berhasil mendapatkan daftar doa.",data:r})}}catch(e){return t.json({status:!1,message:"Gagal mendapatkan data doa: "+e.message},500)}});Ds.get("/find",async t=>{try{let e=t.req.query("query");if(e!=null){let a=await da();if(!a)return t.json({status:!1,message:"Daftar doa tidak tersedia.",data:[]},404);let r=e.toLowerCase(),n=a.filter(o=>o.judul.toLowerCase().includes(r)).sort((o,i)=>o.judul.localeCompare(i.judul));return n.length===0?t.json({status:!1,message:`Tidak ada doa yang ditemukan dengan kata kunci: ${e}.`,data:[]},404):t.json({status:!0,message:`Berhasil mencari doa dengan kata kunci: ${e}.`,data:n})}else return t.json({status:!1,message:"Parameter diperlukan (query)."},400)}catch(e){return t.json({status:!1,message:"Gagal mencari doa: "+e.message},500)}});var zi=Ds;var Ui=new E;Ui.get("/",async t=>{try{let e=t.req.query("type"),a=await lr();if(!a)return t.json({status:!1,message:"Daftar dzikir tidak tersedia.",data:[]},404);if(e!=null){let r=a.filter(n=>n.type===e);return t.json({status:!0,message:`Berhasil mendapatkan dzikir tipe: ${e}.`,data:r})}else return t.json({status:!0,message:"Berhasil mendapatkan daftar dzikir.",data:a})}catch(e){return t.json({status:!1,message:"Gagal mendapatkan data dzikir: "+e.message},500)}});var Ki=Ui;var Ht=new E,Bs={bukhari:"bukhari",muslim:"muslim","abu-daud":"abu-daud",abudawud:"abu-daud","ibnu-majah":"ibnu-majah",ibnmajah:"ibnu-majah",tirmidzi:"tirmidzi",tirmidhi:"tirmidzi",ahmad:"ahmad",darimi:"darimi",malik:"malik",nasai:"nasai"},vr={bukhari:"Sahih Bukhari",muslim:"Sahih Muslim","abu-daud":"Sunan Abu Daud","ibnu-majah":"Sunan Ibnu Majah",tirmidzi:"Sunan Tirmidzi",ahmad:"Musnad Ahmad",darimi:"Sunan Darimi",malik:"Muwatha Malik",nasai:"Sunan Nasai"};Ht.get("/",async t=>{try{let e=t.req.query("nomor"),a=await It();if(!a)return t.json({status:!1,message:"Daftar hadits tidak tersedia.",data:[]},404);if(e!=null){let r=a.find(n=>n.no==e);return r?t.json({status:!0,message:"Berhasil mendapatkan detail Hadits Arbain.",data:r}):t.json({status:!1,message:"Hadits tidak ditemukan.",data:{}},404)}else{let r=[...a].sort((n,o)=>parseInt(n.no)-parseInt(o.no));return t.json({status:!0,message:"Berhasil mendapatkan daftar Hadits Arbain.",data:r})}}catch(e){return t.json({status:!1,message:"Gagal mendapatkan data hadits: "+e.message},500)}});Ht.get("/books",t=>{let e=Object.entries(vr).map(([a,r])=>({id:a,name:`HR. ${r.replace("Sahih ","").replace("Sunan ","").replace("Musnad ","").replace("Muwatha ","")}`,available:"Lokal (JSON)"}));return t.json({status:!0,message:"Berhasil mendapatkan seluruh koleksi kitab hadits.",data:[{id:"arbain",name:"Hadits Arbain Nawawi",available:42},...e]})});Ht.get("/books/:name",async t=>{try{let e=t.req.param("name").toLowerCase(),a=parseInt(t.req.query("page")||1),r=50,n=(a-1)*r,o=Bs[e];if(!o)return t.json({status:!1,message:`Kitab ${e} tidak ditemukan.`},404);let i=await qt(o);if(!i)return t.json({status:!1,message:`Gagal memuat data kitab ${e}.`},500);let l=vr[o]||e,d=i.slice(n,n+r).map(u=>({number:u.number,arab:u.arab,id:u.id,name:`HR. ${l.replace("Sahih ","").replace("Sunan ","").replace("Musnad ","").replace("Muwatha ","")}`}));return t.json({status:!0,message:`Berhasil mendapatkan daftar hadits dari kitab ${l} (Halaman ${a}).`,data:{book:l,total:i.length,page:a,limit:r,hadiths:d}})}catch(e){return t.json({status:!1,message:"Gagal mendapatkan daftar hadits: "+e.message},500)}});Ht.get("/books/:name/:number",async t=>{try{let e=t.req.param("name").toLowerCase(),a=parseInt(t.req.param("number")),r=Bs[e];if(!r)return t.json({status:!1,message:`Kitab ${e} tidak ditemukan.`},404);let n=await qt(r);if(!n)return t.json({status:!1,message:`Gagal memuat data kitab ${e}.`},500);let o=n.find(l=>l.number===a);if(!o)return t.json({status:!1,message:`Hadits nomor ${a} tidak ditemukan di kitab ${e}.`},404);let i=vr[r]||e;return t.json({status:!0,message:`Berhasil mendapatkan detail hadits nomor ${a} dari kitab ${i}.`,data:{number:o.number,arab:o.arab,id:o.id,name:`HR. ${i.replace("Sahih ","").replace("Sunan ","").replace("Musnad ","").replace("Muwatha ","")}`}})}catch(e){return t.json({status:!1,message:"Gagal mendapatkan detail hadits: "+e.message},500)}});Ht.get("/find",async t=>{try{let e=t.req.query("query"),a=t.req.query("book");if(!e)return t.json({status:!1,message:"Parameter query diperlukan."},400);if(!a||a.toLowerCase()==="arbain"){let r=await It();if(!r||r.length===0)return t.json({status:!1,message:"Daftar hadits Arbain tidak tersedia.",data:[]},404);let n=e.toLowerCase(),o=r.filter(i=>i.judul&&i.judul.toLowerCase().includes(n)||i.indo&&i.indo.toLowerCase().includes(n));return o.length===0?t.json({status:!1,message:`Tidak ada hadits Arbain yang ditemukan dengan kata kunci: ${e}.`,data:[]},404):t.json({status:!0,message:`Berhasil mencari hadits Arbain dengan kata kunci: ${e}.`,data:o.map(i=>({...i,sumber:`Hadits Arbain No. ${i.no}: ${i.judul}`}))})}else{let r=Bs[a.toLowerCase()];if(!r)return t.json({status:!1,message:`Pencarian untuk buku '${a}' belum didukung. Gunakan: arbain, bukhari, muslim, abu-daud, ibnu-majah, tirmidzi, ahmad, darimi, malik, atau nasai.`},400);let n=await qt(r);if(!n)return t.json({status:!1,message:`Gagal membaca data hadits untuk kitab ${a}.`},500);let o=e.toLowerCase().split(" "),i=n.filter(d=>{let u=(d.id||"").toLowerCase();return o.every(h=>u.includes(h))}).slice(0,50);if(i.length===0)return t.json({status:!1,message:`Tidak ada hadits ditemukan di kitab ${a} dengan kata kunci: ${e}.`,data:[]},404);let l=vr[r]||a;return t.json({status:!0,message:`Berhasil mencari hadits di kitab ${l} dengan kata kunci: ${e}.`,data:i.map(d=>({no:d.number,judul:l,arab:d.arab,indo:d.id,sumber:`HR. ${l.replace("Sahih ","").replace("Sunan ","").replace("Musnad ","").replace("Muwatha ","")} No. ${d.number}`}))})}}catch(e){return t.json({status:!1,message:"Gagal mencari hadits: "+e.message},500)}});var ji=Ht;var Gi=new E;Gi.get("/",async t=>{try{let e=t.req.query("juzId")||t.req.query("id"),a=await Lo();if(!a)return t.json({status:!1,message:"Daftar juz tidak tersedia.",data:[]},404);if(e!=null){let r=a.find(n=>n.number==e);return r?t.json({status:!0,message:"Berhasil mendapatkan detail juz.",data:r}):t.json({status:!1,message:"Juz tidak ditemukan.",data:{}},404)}else{let r=[...a].sort((n,o)=>parseInt(n.number)-parseInt(o.number));return t.json({status:!0,message:"Berhasil mendapatkan daftar seluruh juz.",data:r})}}catch(e){return t.json({status:!1,message:"Gagal mendapatkan data juz: "+e.message},500)}});var Fi=Gi;var Ls=new E;Ls.get("/qari",async t=>{try{let e=await ps();return e?t.json({status:!0,message:"Berhasil mendapatkan daftar qari.",data:e}):t.json({status:!1,message:"Daftar qari tidak tersedia.",data:[]},404)}catch(e){return t.json({status:!1,message:"Gagal mendapatkan daftar qari: "+e.message},500)}});Ls.get("/",async t=>{try{let e=t.req.query("qariId")||"05",a=t.req.query("surahId"),r=await ps(),n=r?r.find(l=>l.id==e):null;if(a){let l=await N(),d=l?l.find(h=>h.number==a):null;if(!d)return t.json({status:!1,message:"Surah tidak ditemukan."},404);let u=typeof d.audio_full=="string"?JSON.parse(d.audio_full||"{}"):d.audio_full||{};return t.json({status:!0,message:`Berhasil mendapatkan murotal surah ${d.name_id} untuk qari ${n?n.name:e}.`,data:{surahId:d.number,name:d.name_id,name_short:d.name_short,qariId:e,audio_url:u[e]||null}})}let o=await N();if(!o)return t.json({status:!1,message:"Daftar surah tidak tersedia.",data:[]},404);let i=o.sort((l,d)=>parseInt(l.number)-parseInt(d.number)).map(l=>{let d=typeof l.audio_full=="string"?JSON.parse(l.audio_full||"{}"):l.audio_full||{};return{surahId:l.number,name:l.name_id,name_short:l.name_short,audio_url:d[e]||null}});return t.json({status:!0,message:`Berhasil mendapatkan daftar murotal untuk qari ${n?n.name:e}.`,qari:n||{id:e,name:"Unknown"},data:i})}catch(e){return t.json({status:!1,message:"Gagal mendapatkan data murotal: "+e.message},500)}});var Ji=Ls;import qc from"crypto";var kr=new E,Os=t=>qc.createHash("sha256").update(JSON.stringify(t)).digest("hex");kr.get("/chain",async t=>{try{let e=await N();if(!e)return t.json({status:!1,message:"Data surah tidak tersedia."},404);let a=[...e].sort((o,i)=>parseInt(o.number)-parseInt(i.number)),r=[],n="0".repeat(64);for(let o of a){let i=await V(o.number);if(!i)continue;let l=i.sort((h,c)=>parseInt(h.ayah)-parseInt(c.ayah)).map(h=>({arab:h.arab,text:h.text})),d={surah_number:o.number,surah_name:o.name_id,ayah_count:l.length,content_hash:Os(l),previous_hash:n,version:"1.0.0",timestamp:"2025-12-24T00:00:00Z"},u=Os(d);r.push({block_height:r.length+1,hash:u,...d}),n=u}return t.json({status:!0,message:"Data Integrity Chain (Proof of Authenticity) berhasil dibuat.",algorithm:"SHA-256",structure:"Array of Objects { arab, text }",network:"Muslim-API Data Ledger",root_hash:n,chain:r})}catch(e){return t.json({status:!1,message:"Gagal mendapatkan data integrity chain: "+e.message},500)}});kr.get("/verify",async t=>{try{let e=await N(),a=e?e.find(o=>o.number==1):null,r=await V(1),n=a&&r&&r.length>0;return t.json({status:!0,message:n?"Integritas sistem terverifikasi.":"Sistem Online (Pengecekan data tertunda).",check:"Surah Al-Fatihah",integrity:n?"Healthy":"Warning",timestamp:new Date().toISOString()})}catch(e){return t.json({status:!0,message:"Sistem Online (Error pada pengecekan integritas).",integrity:"Error",error:e.message,timestamp:new Date().toISOString()})}});kr.get("/verify/ayah",async t=>{let e=t.req.query("surahId"),a=t.req.query("ayahId");if(!e||!a)return t.json({status:!1,message:"Parameter surahId dan ayahId diperlukan."},400);try{let r=await V(e),n=r?r.find(l=>l.ayah==a):null;if(!n)return t.json({status:!1,message:`Ayat ${a} pada surah ${e} tidak ditemukan.`,data:{}},404);let o={arab:n.arab,text:n.text},i={status:"Comparison source unavailable",source:"Kemenag (via EQuran.id)",is_match:null,external_data:null};try{let l=new AbortController,d=setTimeout(()=>l.abort(),3e3),u=await fetch(`https://equran.id/api/v2/surat/${e}`,{signal:l.signal});if(clearTimeout(d),u.ok){let h=await u.json(),c=h.data&&h.data.ayat?h.data.ayat.find(m=>m.nomorAyat==a):null;if(c){let m=v=>v.replace(/\s+/g," ").trim(),g=m(c.teksArab)===m(n.arab),k=m(c.teksIndonesia)===m(n.text);i={status:"Success",source:"Kemenag (via EQuran.id)",is_match:g&&k,details:{arab_match:g,translation_match:k},external_data:{arab:c.teksArab,text:c.teksIndonesia}}}}}catch(l){i.status="Error: "+l.message}return t.json({status:!0,message:`Berhasil memverifikasi integritas ayat ${a} pada surah ${e}.`,data:{surahId:e,ayahId:a,local_data:o,hash:Os(o),comparison:i,external_verification_url:`https://quran.kemenag.go.id/quran/per-ayat/surah/${e}?from=${a}&to=${a}`,timestamp:new Date().toISOString()}})}catch(r){return t.json({status:!1,message:"Gagal memverifikasi integritas ayat: "+r.message},500)}});var Vi=kr;var fe={SHOLAT:{MYQURAN:"https://api.myquran.com/v2/sholat",NOMINATIM:"https://nominatim.openstreetmap.org/reverse"},HADITS:{GADING:"https://api.hadith.gading.dev"},KEMENAG:{HARI_LIBUR:"https://api-harilibur.vercel.app/api",PESANTREN:"https://api-pesantren-indonesia.vercel.app"}};var Nt=new E,at=fe.SHOLAT.MYQURAN,Hs=null;Nt.get("/kota/semua",async t=>{try{if(Hs)return t.json({status:!0,message:"Berhasil mendapatkan daftar kota (dari cache).",data:Hs});let a=await(await fetch(`${at}/kota/semua`)).json();return a.status?(Hs=a.data,t.json({status:!0,message:"Berhasil mendapatkan daftar kota.",data:a.data})):t.json({status:!1,message:"Gagal mengambil data kota dari API sumber."},502)}catch(e){return t.json({status:!1,message:"Gagal mendapatkan daftar kota: "+e.message},500)}});Nt.get("/kota/cari",async t=>{let e=t.req.query("nama");if(!e)return t.json({status:!1,message:"Parameter nama diperlukan."},400);try{let a=await fetch(`${at}/kota/cari/${e}`),r=await a.json();return!a.ok||!r.status?t.json({status:!1,message:`Gagal mencari kota dengan kata kunci: ${e} dari API sumber.`,error:r.message||"Unknown error"},a.status||502):!r.data||r.data.length===0?t.json({status:!1,message:`Tidak ada kota yang ditemukan dengan kata kunci: ${e}.`,data:[]},404):t.json({status:!0,message:`Berhasil mencari kota dengan kata kunci: ${e}.`,data:r.data||[]})}catch(a){return t.json({status:!1,message:"Gagal mencari kota: "+a.message},500)}});Nt.get("/jadwal",async t=>{let e=t.req.query("kotaId"),a=t.req.query("tanggal")||new Date().toISOString().split("T")[0];if(!e)return t.json({status:!1,message:"Parameter kotaId diperlukan."},400);try{let r=await fetch(`${at}/jadwal/${e}/${a}`),n=await r.json();return!r.ok||!n.status?t.json({status:!1,message:`Gagal mengambil jadwal sholat untuk kota ID ${e} dari API sumber.`,error:n.message||"Unknown error"},r.status||502):t.json({status:!0,message:`Berhasil mendapatkan jadwal sholat untuk kota ID ${e} pada tanggal ${a}.`,data:n.data?n.data.jadwal:null})}catch(r){return t.json({status:!1,message:"Gagal mendapatkan jadwal sholat: "+r.message},500)}});Nt.get("/jadwal/koordinat",async t=>{let e=t.req.query("lat"),a=t.req.query("lon"),r=t.req.query("tanggal")||new Date().toISOString().split("T")[0];if(!e||!a)return t.json({status:!1,message:"Parameter lat dan lon diperlukan."},400);try{let n=await fetch(`${fe.SHOLAT.NOMINATIM}?format=json&lat=${e}&lon=${a}&zoom=10`,{headers:{"User-Agent":"Muslim-API/1.0"}});if(!n.ok)return t.json({status:!1,message:"Gagal mendapatkan data lokasi dari Nominatim."},502);let i=(await n.json()).address||{},l=i.city||i.town||i.municipality||i.county;if(!l)return t.json({status:!1,message:"Lokasi tidak ditemukan."},404);let d=l.replace(/Kota Adm. |Kota |Kabupaten |Kab. /g,"").trim(),u=await fetch(`${at}/kota/cari/${d}`),h=await u.json();if(!u.ok||!h.status||!h.data||h.data.length===0)return t.json({status:!1,message:`Kota ${d} tidak ditemukan dalam daftar wilayah Kemenag.`,location:l},404);let c=h.data[0].id,m=await fetch(`${at}/jadwal/${c}/${r}`),g=await m.json();return!m.ok||!g.status?t.json({status:!1,message:"Gagal mengambil jadwal dari API sumber."},502):t.json({status:!0,message:`Berhasil mendapatkan jadwal sholat untuk lokasi ${l} (${e}, ${a}).`,data:{location:l,coordinates:{lat:e,lon:a},jadwal:g.data?g.data.jadwal:null}})}catch(n){return t.json({status:!1,message:"Gagal mendapatkan jadwal sholat berdasarkan koordinat: "+n.message},500)}});Nt.get("/next",async t=>{let e=t.req.query("lat"),a=t.req.query("lon");if(!e||!a)return t.json({status:!1,message:"Parameter lat dan lon diperlukan."},400);try{let r=new Date().toISOString().split("T")[0],n=await fetch(`${fe.SHOLAT.NOMINATIM}?format=json&lat=${e}&lon=${a}&zoom=10`,{headers:{"User-Agent":"Muslim-API/1.0"}});if(!n.ok)return t.json({status:!1,message:"Gagal mendapatkan data lokasi dari Nominatim."},502);let i=(await n.json()).address||{},l=i.city||i.town||i.municipality||i.county;if(!l)return t.json({status:!1,message:"Lokasi tidak ditemukan."},404);let d=l.replace(/Kota Adm. |Kota |Kabupaten |Kab. /g,"").trim(),u=await fetch(`${at}/kota/cari/${d}`),h=await u.json();if(!u.ok||!h.status||!h.data||h.data.length===0)return t.json({status:!1,message:`Kota ${d} tidak terdaftar.`},404);let c=h.data[0].id,m=await fetch(`${at}/jadwal/${c}/${r}`),g=await m.json();if(!m.ok||!g.status)return t.json({status:!1,message:"Gagal mengambil jadwal dari API sumber."},502);let k=g.data.jadwal,v=new Date,A=v.getHours()*60+v.getMinutes(),x=[{name:"Imsak",time:k.imsak},{name:"Subuh",time:k.subuh},{name:"Terbit",time:k.terbit},{name:"Dhuha",time:k.dhuha},{name:"Dzuhur",time:k.dzuhur},{name:"Ashar",time:k.ashar},{name:"Maghrib",time:k.maghrib},{name:"Isya",time:k.isya}],I=null;for(let q of x){let[C,T]=q.time.split(":").map(Number),W=C*60+T;if(W>A){let p=W-A;I={name:q.name,time:q.time,remaining_minutes:p,remaining_hours:Math.floor(p/60),remaining_minutes_only:p%60};break}}return I||(I={name:"Subuh (Besok)",time:x[1].time,message:"Waktu Isya telah lewat"}),t.json({status:!0,message:"Waktu sholat terdekat berhasil didapatkan.",data:{current_time:v.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"}),next_prayer:I,location:l,jadwal_today:k}})}catch(r){return t.json({status:!1,message:"Gagal mendapatkan waktu sholat terdekat: "+r.message},500)}});var Wi=Nt;var Yi=new E,Qi=t=>t&&{...t,audio_full:typeof t.audio_full=="string"?JSON.parse(t.audio_full):t.audio_full||{}};Yi.get("/",async t=>{try{let e=t.req.query("surahId")||t.req.query("id");if(e!=null){let a=await Po(e);return a?(_t("surah",e).catch(r=>console.error("Analytics error:",r)),t.json({status:!0,message:"Berhasil mendapatkan detail surah.",data:Qi(a)})):t.json({status:!1,message:"Surah tidak ditemukan.",data:{}},404)}else{let a=await N();if(a){let r=[...a].sort((n,o)=>parseInt(n.number)-parseInt(o.number));return t.json({status:!0,message:"Berhasil mendapatkan daftar surah.",data:r.map(Qi)})}else return t.json({status:!1,message:"Daftar surah tidak tersedia.",data:[]},404)}}catch(e){return t.json({status:!1,message:"Gagal mendapatkan data surah: "+e.message},500)}});var Zi=Yi;var Xi=new E;Xi.get("/",async t=>{try{let e=t.req.query("surahId")||t.req.query("id"),a=await Oo();if(!a)return t.json({status:!1,message:"Daftar tafsir tidak tersedia.",data:[]},404);if(e!=null){let r=a.find(n=>n.id==e);return r?t.json({status:!0,message:"Berhasil mendapatkan detail tafsir surah.",data:r}):t.json({status:!1,message:"Tafsir surah tidak ditemukan.",data:{}},404)}else{let r=[...a].sort((n,o)=>parseInt(n.id)-parseInt(o.id));return t.json({status:!0,message:"Berhasil mendapatkan daftar tafsir surah.",data:r})}}catch(e){return t.json({status:!1,message:"Gagal mendapatkan data tafsir: "+e.message},500)}});var el=Xi;var tl=new E;tl.get("/",async t=>{try{let e=t.req.query("themeId")||t.req.query("id"),a=await Bo();if(!a)return t.json({status:!1,message:"Daftar tema tidak tersedia.",data:[]},404);if(e!=null){let r=a.find(l=>l.id==e);if(!r)return t.json({status:!1,message:"Tema tidak ditemukan.",data:[]},404);let n=await N(),o=[];for(let l of n){let d=await V(l.number);if(d){let u=d.filter(h=>h.theme?h.theme.split(",").map(m=>m.trim()).includes(e.toString()):!1);o.push(...u)}}let i=l=>({...l,audio_partial:typeof l.audio_partial=="string"?JSON.parse(l.audio_partial):l.audio_partial||{}});return t.json({status:!0,message:`Berhasil mendapatkan ayat dengan tema: ${r.name}.`,data:o.map(i)})}else{let r=[...a].sort((n,o)=>parseInt(n.id)-parseInt(o.id));return t.json({status:!0,message:"Berhasil mendapatkan daftar seluruh tema.",data:r})}}catch(e){return t.json({status:!1,message:"Gagal mendapatkan data tema: "+e.message},500)}});var al=tl;var rl=new E;rl.get("/",async t=>{try{let e=t.req.query("surahId")||t.req.query("id"),a=t.req.query("ayahId"),r=await Ho();if(!r)return t.json({status:!1,message:"Daftar kata tidak tersedia.",data:[]},404);let n=r;e!=null&&a!=null?n=r.filter(i=>i.surah==e&&i.ayah==a):e!=null&&(n=r.filter(i=>i.surah==e));let o=[...n].sort((i,l)=>{let d=parseInt(i.surah)-parseInt(l.surah);if(d!==0)return d;let u=parseInt(i.ayah)-parseInt(l.ayah);return u!==0?u:parseInt(i.word)-parseInt(l.word)});return t.json({status:!0,message:"Berhasil mendapatkan daftar kata.",data:o})}catch(e){return t.json({status:!1,message:"Gagal mendapatkan data kata: "+e.message},500)}});var sl=rl;var xa=new E,Rc=process.env.ADMIN_API_KEY||"muslim-api-admin-secret";xa.use("*",async(t,e)=>{if(process.env.VERCEL==="1"||process.env.NODE_ENV==="production")return t.json({status:!1,message:"Pembaruan admin dinonaktifkan di Vercel Production. Harap gunakan strategi Pembaruan Lokal + Git Push."},403);if(t.req.header("x-api-key")!==Rc)return t.json({status:!1,message:"Tidak diizinkan: API Key tidak valid atau tidak ada."},401);await e()});xa.patch("/ayah",async t=>{try{let{surahId:e,ayahId:a,arab:r,text:n,latin:o}=await t.req.json();if(!e||!a)return t.json({status:!1,message:"surahId dan ayahId diperlukan."},400);let i=await V(e);if(!i)return t.json({status:!1,message:"Surah tidak ditemukan."},404);let l=i.findIndex(h=>h.ayah==a);if(l===-1)return t.json({status:!1,message:"Ayat tidak ditemukan."},404);let d={...i[l]};return r&&(i[l].arab=r),n&&(i[l].text=n),o&&(i[l].latin=o),await ir(`quran/ayah/${e}.json`,i)?t.json({status:!0,message:"Berhasil memperbarui ayat.",diff:{before:{arab:d.arab,text:d.text,latin:d.latin},after:{arab:i[l].arab,text:i[l].text,latin:i[l].latin}},integrity_status:"Hash akan diperbarui otomatis pada pengecekan integritas berikutnya."}):t.json({status:!1,message:"Gagal menyimpan perubahan ke file JSON."},500)}catch(e){return t.json({status:!1,message:"Gagal memperbarui ayat: "+e.message},500)}});xa.patch("/dzikir",async t=>{try{let{id:e,title:a,arabic:r,translation:n}=await t.req.json();if(!e)return t.json({status:!1,message:"Parameter id diperlukan."},400);let o=await lr();if(!o)return t.json({status:!1,message:"Daftar dzikir tidak tersedia."},500);let i=o.findIndex(u=>u.id==e);if(i===-1)return t.json({status:!1,message:"Dzikir tidak ditemukan."},404);let l={...o[i]};return a&&(o[i].title=a),r&&(o[i].arabic=r),n&&(o[i].translation=n),await ir("common/dzikir.json",o)?t.json({status:!0,message:"Berhasil memperbarui dzikir.",diff:{before:{title:l.title,arabic:l.arabic,translation:l.translation},after:{title:o[i].title,arabic:o[i].arabic,translation:o[i].translation}}}):t.json({status:!1,message:"Gagal menyimpan perubahan ke file JSON."},500)}catch(e){return t.json({status:!1,message:"Gagal memperbarui dzikir: "+e.message},500)}});xa.patch("/doa",async t=>{try{let{id:e,title:a,arabic:r,translation:n}=await t.req.json();if(!e)return t.json({status:!1,message:"Parameter id diperlukan."},400);let o=await da();if(!o)return t.json({status:!1,message:"Daftar doa tidak tersedia."},500);let i=o.findIndex(u=>u.id==e);if(i===-1)return t.json({status:!1,message:"Doa tidak ditemukan."},404);let l={...o[i]};return a&&(o[i].title=a),r&&(o[i].arabic=r),n&&(o[i].translation=n),await ir("common/doa.json",o)?t.json({status:!0,message:"Berhasil memperbarui doa.",diff:{before:{title:l.title,arabic:l.arabic,translation:l.translation},after:{title:o[i].title,arabic:o[i].arabic,translation:o[i].translation}}}):t.json({status:!1,message:"Gagal menyimpan perubahan ke file JSON."},500)}catch(e){return t.json({status:!1,message:"Gagal memperbarui doa: "+e.message},500)}});var nl=xa;var _e=new E;function Mc(t,e,a,r){let o=(a-t)*Math.PI/180,i=(r-e)*Math.PI/180,l=Math.sin(o/2)*Math.sin(o/2)+Math.cos(t*Math.PI/180)*Math.cos(a*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return 6371*(2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)))}_e.get("/libur",async t=>{let e=t.req.query("year")||new Date().getFullYear().toString();try{let a=await fetch(`${fe.KEMENAG.HARI_LIBUR}?year=${e}`);if(!a.ok)return t.json({status:!1,message:`Data libur tahun ${e} tidak ditemukan`},404);let n=(await a.json()).map(o=>({tanggal:o.holiday_date,keterangan:o.holiday_name,is_cuti:!o.is_national_holiday}));return t.json({status:!0,message:`Berhasil mendapatkan daftar hari libur tahun ${e}.`,data:{year:e,holidays:n}})}catch(a){return t.json({status:!1,message:"Gagal mendapatkan data libur: "+a.message},500)}});_e.get("/provinsi",async t=>{try{let e=await fetch(`${fe.KEMENAG.PESANTREN}/provinsi.json`);if(!e.ok)return t.json({status:!1,message:"Gagal mengambil data provinsi."},e.status);let a=await e.json();return t.json({status:!0,message:"Berhasil mendapatkan daftar provinsi.",data:a})}catch(e){return t.json({status:!1,message:"Gagal mendapatkan data provinsi: "+e.message},500)}});_e.get("/kabupaten",async t=>{let e=t.req.query("provinsiId");if(!e)return t.json({status:!1,message:"Parameter provinsiId diperlukan."},400);try{let a=await fetch(`${fe.KEMENAG.PESANTREN}/kabupaten/${e}.json`);if(!a.ok)return t.json({status:!1,message:`Gagal mengambil data kabupaten untuk provinsi ID ${e}.`},a.status);let r=await a.json();return t.json({status:!0,message:`Berhasil mendapatkan daftar kabupaten untuk provinsi ${e}.`,data:r})}catch(a){return t.json({status:!1,message:"Gagal mendapatkan data kabupaten: "+a.message},500)}});_e.get("/pesantren",async t=>{let e=t.req.query("kabupatenId");if(!e)return t.json({status:!1,message:"Parameter kabupatenId diperlukan."},400);try{let a=await fetch(`${fe.KEMENAG.PESANTREN}/pesantren/${e}.json`);if(!a.ok)return t.json({status:!1,message:`Data pesantren untuk kabupaten ID ${e} tidak ditemukan.`},a.status);let r=await a.json();return t.json({status:!0,message:`Berhasil mendapatkan daftar pesantren untuk kabupaten ${e}.`,data:r})}catch(a){return t.json({status:!1,message:"Gagal mendapatkan data pesantren: "+a.message},500)}});_e.get("/masjid",async t=>{try{let e=t.req.query("search"),a=t.req.query("lokasi"),r=t.req.query("jenis"),n=t.req.query("tipologi"),o=await ua();if(!o)return t.json({status:!1,message:"Daftar masjid tidak tersedia.",data:[]},404);let i=o;if(e){let l=e.toLowerCase();i=i.filter(d=>d.nama&&d.nama.toLowerCase().includes(l)||d.deskripsi&&d.deskripsi.toLowerCase().includes(l))}if(a){let l=a.toLowerCase();i=i.filter(d=>d.lokasi&&d.lokasi.toLowerCase().includes(l))}return r&&(i=i.filter(l=>l.jenis===r)),n&&(i=i.filter(l=>l.tipologi===n)),t.json({status:!0,message:e||a||r||n?"Berhasil mencari masjid dengan kriteria tertentu.":"Berhasil mendapatkan daftar seluruh masjid.",data:i})}catch(e){return t.json({status:!1,message:"Gagal mendapatkan daftar masjid: "+e.message},500)}});_e.get("/masjid/detail",async t=>{let e=t.req.query("id");if(!e)return t.json({status:!1,message:"Parameter id diperlukan."},400);try{let a=await ua(),r=a?a.find(n=>n.id==e):null;return r?t.json({status:!0,message:"Berhasil mendapatkan detail masjid.",data:r}):t.json({status:!1,message:"Masjid tidak ditemukan.",data:{}},404)}catch(a){return t.json({status:!1,message:"Gagal mendapatkan detail masjid: "+a.message},500)}});_e.get("/masjid/:id",async t=>{try{let e=t.req.param("id"),a=await ua(),r=a?a.find(n=>n.id==e):null;return r?t.json({status:!0,message:"Berhasil mendapatkan detail masjid.",data:r}):t.json({status:!1,message:"Masjid tidak ditemukan.",data:{}},404)}catch(e){return t.json({status:!1,message:"Gagal mendapatkan detail masjid: "+e.message},500)}});_e.get("/masjid/nearby",async t=>{try{let e=parseFloat(t.req.query("lat")),a=parseFloat(t.req.query("lng")),r=parseFloat(t.req.query("radius")||5);if(isNaN(e)||isNaN(a))return t.json({status:!1,message:"Parameter lat dan lng diperlukan."},400);let n=await ua();if(!n)return t.json({status:!1,message:"Daftar masjid tidak tersedia.",data:[]},404);let o=n.map(i=>{let l=Mc(e,a,parseFloat(i.latitude),parseFloat(i.longitude));return{...i,distance:l}}).filter(i=>i.distance<=r).sort((i,l)=>i.distance-l.distance).slice(0,20);return t.json({status:!0,message:`Berhasil menemukan masjid dalam radius ${r}km.`,data:o})}catch(e){return t.json({status:!1,message:"Gagal mencari masjid terdekat: "+e.message},500)}});var ol=_e;var xr=new E;xr.get("/",async t=>{try{let e=t.req.query("kategori"),a=await Et();if(!a)return t.json({status:!1,message:"Daftar sejarah tidak tersedia.",data:[]},404);let r=a;if(e){let n=e.toLowerCase();r=a.filter(o=>o.kategori&&o.kategori.toLowerCase().includes(n))}return t.json({status:!0,message:e?`Berhasil mendapatkan daftar sejarah kategori ${e}.`:"Berhasil mendapatkan seluruh daftar sejarah.",data:r})}catch(e){return t.json({status:!1,message:"Gagal mendapatkan daftar sejarah: "+e.message},500)}});xr.get("/detail",async t=>{try{let e=t.req.query("id");if(!e)return t.json({status:!1,message:"Parameter id diperlukan."},400);let a=await Et();if(!a)return t.json({status:!1,message:"Daftar sejarah tidak tersedia.",data:{}},404);let r=a.find(n=>n.id==e||n.id&&n.id.toString()===e.toString());return r?t.json({status:!0,message:"Berhasil mendapatkan detail sejarah.",data:r}):t.json({status:!1,message:`Data sejarah dengan ID ${e} tidak ditemukan.`,data:{}},404)}catch(e){return t.json({status:!1,message:"Gagal mendapatkan detail sejarah: "+e.message},500)}});xr.get("/today",async t=>{try{let e=new Date,a=e.getDate(),n=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"][e.getMonth()],o=await Et();if(!o)return t.json({status:!1,message:"Daftar sejarah tidak tersedia.",data:[]},404);let i=`${a} ${n}`,l=n,u=o.filter(h=>{let c=(h.deskripsi||"").toLowerCase(),m=(h.tahun||"").toLowerCase(),g=i.toLowerCase(),k=l.toLowerCase();return m.includes(g)||m.includes(k)||c.includes(g)});return u.length===0&&(u=o.filter(h=>h.tahun&&h.tahun.toLowerCase().includes(n.toLowerCase())||h.deskripsi&&h.deskripsi.toLowerCase().includes(n.toLowerCase()))),t.json({status:!0,message:`Berhasil mendapatkan peristiwa sejarah untuk hari ini (${a} ${n}).`,data:{events:u.slice(0,10),today:`${a} ${n}`}})}catch(e){return t.json({status:!1,message:"Gagal mendapatkan peristiwa sejarah hari ini: "+e.message},500)}});var il=xr;var $t=new E;$t.get("/quotes/daily",async t=>{try{let e=await N();if(!e)throw new Error("Daftar surah tidak tersedia");let a=e[Math.floor(Math.random()*e.length)],r=await V(a.number);if(!r)throw new Error("Daftar ayat tidak tersedia");let n=r[Math.floor(Math.random()*r.length)],o=a.name_id||a.name_en||a.name_long,i=await It(),l=i?i[Math.floor(Math.random()*i.length)]:null;return t.json({status:!0,message:"Berhasil mengambil kutipan harian.",data:{ayat:{arab:n.arab,text:n.text,sumber:`QS. ${o}: ${n.ayah}`},hadits:l?{arab:l.arab,text:l.indo,sumber:`Hadits Arbain No. ${l.no}: ${l.judul}`}:null}})}catch(e){return t.json({status:!1,message:"Gagal mengambil kutipan harian: "+e.message},500)}});$t.get("/zakat",t=>{let e=t.req.query("type"),a=parseFloat(t.req.query("amount")||0),r=parseFloat(t.req.query("hargaEmas")||12e5);if(!e)return t.json({status:!1,message:"Parameter type (maal/penghasilan/fitrah) diperlukan."},400);if(isNaN(a)||a<=0)return t.json({status:!1,message:"Parameter amount harus berupa angka valid dan lebih besar dari 0."},400);let n={status:!0,message:"Kalkulasi zakat berhasil.",data:{type:e,amount:a,nishab:0,isWajib:!1,zakat:0}};if(e==="maal"){let o=85*r;n.data.nishab=o,n.data.isWajib=a>=o,n.data.zakat=n.data.isWajib?a*.025:0,n.data.keterangan="Nishab Zakat Maal adalah setara 85 gram emas per tahun. Tarif zakat 2,5%.",n.data.sumber="BAZNAS (Badan Amil Zakat Nasional)"}else if(e==="penghasilan"){let o=85*r/12;n.data.nishab=o,n.data.isWajib=a>=o,n.data.zakat=n.data.isWajib?a*.025:0,n.data.keterangan="Nishab Zakat Penghasilan setara 85 gram emas per tahun (dibagi 12 bulan). Tarif 2,5%.",n.data.sumber="Peraturan Menteri Agama No. 31 Tahun 2019 & BAZNAS"}else if(e==="fitrah"){let o=parseFloat(t.req.query("hargaBeras")||15e3),i=parseInt(t.req.query("jumlahOrang")||1),l=2.5*o;n.data.nishab=0,n.data.isWajib=!0,n.data.zakat=l*i,n.data.keterangan=`Zakat Fitrah adalah 2.5kg beras per jiwa. Estimasi Rp${l.toLocaleString("id-ID")} per jiwa.`,n.data.sumber="Ketentuan Fiqh (Zakat Fitrah 2.5kg/3.5 liter beras)"}else return t.json({status:!1,message:"Tipe zakat tidak valid. Gunakan: maal, penghasilan, atau fitrah."},400);return t.json(n)});$t.get("/qibla",async t=>{let e=parseFloat(t.req.query("lat")),a=parseFloat(t.req.query("lng"));if(isNaN(e)||isNaN(a))return t.json({status:!1,message:"Parameter lat dan lng diperlukan dan harus berupa angka."},400);let r=21.4225,n=39.8262,o=(n-a)*Math.PI/180,i=e*Math.PI/180,l=r*Math.PI/180,u=(Math.atan2(Math.sin(o),Math.cos(i)*Math.tan(l)-Math.sin(i)*Math.cos(o))*180/Math.PI+360)%360;return t.json({status:!0,message:"Berhasil menghitung arah kiblat.",data:{coordinates:{lat:e,lng:a},kaaba:{lat:r,lng:n},qibla_direction:u,unit:"degrees"}})});$t.get("/semantic-search",async t=>{let e=t.req.query("query");if(!e)return t.json({status:!1,message:"Parameter query diperlukan."},400);try{let r=e.toLowerCase().split(" "),n=await N(),o=[];for(let x of n){let I=await V(x.number);if(I){let q=I.filter(C=>{let T=(C.text||"").toLowerCase();return r.every(W=>T.includes(W))}).slice(0,5);if(q.length>0){let C=x.name_id||x.name_en||x.name_long;o.push(...q.map(T=>({arab:T.arab,text:T.text,sumber:`QS. ${C}: ${T.ayah}`})))}}if(o.length>=10)break}let i=await It(),d=(i?i.filter(x=>{let I=(x.judul+" "+x.indo).toLowerCase();return r.every(q=>I.includes(q))}).slice(0,5):[]).map(x=>({arab:x.arab,text:x.indo,sumber:`Hadits Arbain No. ${x.no}: ${x.judul}`})),u=[],h=["bukhari","muslim","abu-daud","tirmidzi","nasai","ibnu-majah","ahmad","darimi","malik"];for(let x of h){let I=await qt(x);if(I){let q=I.filter(T=>{let W=(T.id||"").toLowerCase();return r.every(p=>W.includes(p))}).slice(0,2),C=x.split("-").map(T=>T.charAt(0).toUpperCase()+T.slice(1)).join(" ");u.push(...q.map(T=>({arab:T.arab,text:T.id,sumber:`HR. ${C} No. ${T.number}`})))}if(u.length>=15)break}let c=[...d,...u],m=await Ct(),k=(m?m.filter(x=>{let I=(x.nama+" "+x.deskripsi+" "+x.dalil).toLowerCase();return r.every(q=>I.includes(q))}).slice(0,5):[]).map(x=>({text:`${x.nama}: ${x.deskripsi}`,dalil:x.dalil,sumber:`Fitur Puasa (${x.hukum})`})),v=await dr(),A=[];if(v)for(let x of v){let I=x.points.filter(q=>{let C=(q.title+" "+q.content).toLowerCase();return r.every(T=>C.includes(T))}).slice(0,3);if(A.push(...I.map(q=>({text:q.title,content:q.content,sumber:"70 Masalah Puasa - Sumber: islamqa.info"}))),A.length>=10)break}return o.length===0&&c.length===0&&k.length===0&&A.length===0?t.json({status:!1,message:`Tidak ada hasil pencarian semantik untuk '${e}'.`,data:{query:e,quran:[],hadits:[],puasa:[],fiqh:[]}},404):t.json({status:!0,message:`Pencarian semantik untuk '${e}' berhasil.`,data:{query:e,quran:o,hadits:c,puasa:k,fiqh:A}})}catch(a){return t.json({status:!1,message:"Pencarian semantik gagal: "+a.message},500)}});$t.get("/faraidh",t=>{try{let e=parseFloat(t.req.query("totalHarta")||0),a=parseInt(t.req.query("suami")||0),r=parseInt(t.req.query("istri")||0),n=parseInt(t.req.query("anakLk")||0),o=parseInt(t.req.query("anakPr")||0),i=t.req.query("ayah")==="true",l=t.req.query("ibu")==="true";if(e<=0)return t.json({status:!1,message:"Total harta harus lebih besar dari 0."},400);if(a>0&&r>0)return t.json({status:!1,message:"Tidak mungkin ada suami dan istri secara bersamaan dalam satu kasus waris."},400);let d=[],u=[],h=n>0||o>0,c={suami:0,istri:0,ibu:0,ayah:0,anakPr:0};a>0&&(c.suami=h?1/4:1/2),r>0&&(c.istri=h?1/8:1/4),l&&(c.ibu=h?1/6:1/3),i&&(n>0||o>0?c.ayah=1/6:c.ayah=0),n===0&&o>0&&(o===1?c.anakPr=1/2:c.anakPr=2/3);let m=c.suami+c.istri+c.ibu+c.ayah+c.anakPr,g=1-m,k={ayah:0,anakLk:0,anakPr:0};if(g>0){if(i&&n===0)k.ayah=g,g=0;else if(n>0){let A=n*2+o,x=g/A;k.anakLk=x*2*n,k.anakPr=x*o,g=0}}if(m>1){let A=1/m;c.suami*=A,c.istri*=A,c.ibu*=A,c.ayah*=A,c.anakPr*=A,m=1}if(m<1&&n===0&&!i){let A=c.ibu+c.anakPr;if(A>0){let x=(1-(c.suami+c.istri))/A;c.ibu*=x,c.anakPr*=x}}let v=(A,x,I=1)=>{x>0&&d.push({ahli_waris:A,jumlah:I,bagian_persen:(x*100).toFixed(2)+"%",nominal:Math.floor(e*x)})};return v("Suami",c.suami),v("Istri",c.istri,r),v("Ibu",c.ibu),v("Ayah",c.ayah+k.ayah),v("Anak Laki-laki",k.anakLk,n),v("Anak Perempuan",c.anakPr+k.anakPr,o),t.json({status:!0,message:"Kalkulasi waris berhasil.",data:{total_harta:e,rincian:d,zakat_harta:e>=85e6?Math.floor(e*.025):0,keterangan:"Perhitungan ini menggunakan standar ilmu Faraidh (KHI). Sangat disarankan untuk berkonsultasi dengan ahli agama/KUA setempat.",sumber:"Kompilasi Hukum Islam (KHI) & Fiqh Mawaris"}})}catch(e){return t.json({status:!1,message:"Gagal menghitung waris: "+e.message},500)}});var ll=$t;var Ns=new E;Ns.get("/",async t=>{try{let e=await Uo(),a=await N(),r=Object.entries(e.trending_surahs).map(([n,o])=>{let i=a?a.find(l=>l.number==n):null;return{id:n,name:i?i.name_id:"Unknown",reads:o}}).sort((n,o)=>o.reads-n.reads).slice(0,10);return t.json({status:!0,message:"Berhasil mendapatkan statistik spiritual global.",data:{total_reads:e.total_reads,global_khatam_count:e.global_khatam,trending_surahs:r,last_updated:e.last_updated}})}catch(e){return t.json({status:!1,message:"Gagal mendapatkan data analitik: "+e.message},500)}});Ns.post("/khatam",async t=>{try{return await _t("khatam")?t.json({status:!0,message:"Alhamdulillah! Satu khatam baru telah tercatat dalam statistik global. Semoga berkah."}):t.json({status:!1,message:"Gagal mencatat khatam."},500)}catch(e){return t.json({status:!1,message:e.message},500)}});var dl=Ns;var Aa=new E;Aa.get("/",async t=>{try{let e=await Ct();if(!e)throw new Error("Data puasa tidak tersedia");return t.json({status:!0,message:"Berhasil mengambil daftar puasa.",data:e})}catch(e){return t.json({status:!1,message:"Gagal mengambil data puasa: "+e.message},500)}});Aa.get("/fiqh",async t=>{try{let e=await dr();if(!e)throw new Error("Data fiqh puasa tidak tersedia");return t.json({status:!0,message:"Berhasil mengambil 70 Masalah Terkait Puasa (Fiqh & Adab).",data:e})}catch(e){return t.json({status:!1,message:"Gagal mengambil data fiqh puasa: "+e.message},500)}});Aa.get("/find",async t=>{let e=t.req.query("query");if(!e)return t.json({status:!1,message:"Parameter query diperlukan."},400);try{let r=(await Ct()).filter(n=>n.nama.toLowerCase().includes(e.toLowerCase())||n.deskripsi.toLowerCase().includes(e.toLowerCase()));return t.json({status:!0,message:`Berhasil mencari puasa dengan query: ${e}`,data:r})}catch(a){return t.json({status:!1,message:"Gagal mencari data puasa: "+a.message},500)}});Aa.get("/type/:type",async t=>{let e=t.req.param("type");try{let r=(await Ct()).filter(n=>n.type===e);return t.json({status:!0,message:`Berhasil mengambil daftar puasa tipe: ${e}`,data:r})}catch(a){return t.json({status:!1,message:"Gagal mengambil data puasa: "+a.message},500)}});var ul=Aa;var j=new E;j.route("/asbab",Bi);j.route("/asma",Oi);j.route("/ayah",Hi);j.route("/calendar",$i);j.route("/doa",zi);j.route("/dzikir",Ki);j.route("/hadits",ji);j.route("/juz",Fi);j.route("/murotal",Ji);j.route("/integrity",Vi);j.route("/sholat",Wi);j.route("/surah",Zi);j.route("/tafsir",el);j.route("/theme",al);j.route("/word",sl);j.route("/admin",nl);j.route("/kemenag",ol);j.route("/sejarah",il);j.route("/tools",ll);j.route("/analytics",dl);j.route("/puasa",ul);j.get("/",t=>t.json({status:!0,message:"Selamat datang di Muslim API v1. Berikut adalah daftar endpoint yang tersedia.",data:{quran:{surah:{daftarSurah:{pattern:"/v1/surah"},infoSurah:{pattern:"/v1/surah?surahId={surahId}",contoh:"/v1/surah?surahId=114"}},ayah:{range:{pattern:"/v1/ayah/range?surahId={surahId}&start={start}&end={end}",contoh:"/v1/ayah/range?surahId=1&start=1&end=7"},spesifikSurah:{pattern:"/v1/ayah/surah?surahId={surahId}",contoh:"/v1/ayah/surah?surahId=1"},spesifikJuz:{pattern:"/v1/ayah/juz?juzId={juzId}",contoh:"/v1/ayah/juz?juzId=30"},spesifikHalaman:{pattern:"/v1/ayah/page?page={page}",contoh:"/v1/ayah/page?page=604"},spesifikAyat:{pattern:"/v1/ayah/specific?surahId={surahId}&ayahId={ayahId}",contoh:"/v1/ayah/specific?surahId=1&ayahId=1"},cari:{pattern:"/v1/ayah/find?query={query}",contoh:"/v1/ayah/find?query=puasa"}},juz:{semua:{pattern:"/v1/juz"},spesifik:{pattern:"/v1/juz?juzId={juzId}",contoh:"/v1/juz?juzId=30"}},asbabNujul:{semua:{pattern:"/v1/asbab"},spesifik:{pattern:"/v1/asbab?id={asbabId}",contoh:"/v1/asbab?id=1"}},asmaulHusna:{semua:{pattern:"/v1/asma"},spesifik:{pattern:"/v1/asma?id={asmaId}",contoh:"/v1/asma?id=1"}},murotal:{qari:{pattern:"/v1/murotal/qari"},semua:{pattern:"/v1/murotal"},spesifikQari:{pattern:"/v1/murotal?qariId={qariId}",contoh:"/v1/murotal?qariId=05"},spesifikSurah:{pattern:"/v1/murotal?surahId={surahId}&qariId={qariId}",contoh:"/v1/murotal?surahId=1&qariId=05"}},jadwalSholat:{semuaKota:{pattern:"/v1/sholat/kota/semua"},cariKota:{pattern:"/v1/sholat/kota/cari?nama={namaKota}",contoh:"/v1/sholat/kota/cari?nama=jakarta"},jadwalByKota:{pattern:"/v1/sholat/jadwal?kotaId={kotaId}&tanggal={YYYY-MM-DD}",contoh:"/v1/sholat/jadwal?kotaId=58a2fc6ed39fd083f55d4182bf88826d&tanggal=2025-12-24"},jadwalByKoordinat:{pattern:"/v1/sholat/jadwal/koordinat?lat={latitude}&lon={longitude}",contoh:"/v1/sholat/jadwal/koordinat?lat=-6.1751&lon=106.8272"},sholatTerdekat:{pattern:"/v1/sholat/next?lat={lat}&lon={lon}",contoh:"/v1/sholat/next?lat=-6.1751&lon=106.8272"}},calendar:{masehiToHijri:{pattern:"/v1/calendar/hijri?date={YYYY-MM-DD}",contoh:"/v1/calendar/hijri?date=2024-03-11"},hijriToMasehi:{pattern:"/v1/calendar/masehi?day={day}&month={month}&year={year}",contoh:"/v1/calendar/masehi?day=1&month=9&year=1445"}},tafsir:{semua:{pattern:"/v1/tafsir"},spesifikSurah:{pattern:"/v1/tafsir?surahId={surahId}",contoh:"/v1/tafsir?surahId=1"}},theme:{semua:{pattern:"/v1/theme"},spesifik:{pattern:"/v1/theme?themeId={themeId}",contoh:"/v1/theme?themeId=1"}},kataPerKata:{semua:{pattern:"/v1/word"},spesifikSurah:{pattern:"/v1/word?surahId={surahId}",contoh:"/v1/word?surahId=1"},spesifikAyat:{pattern:"/v1/word?surahId={surahId}&ayahId={ayahId}",contoh:"/v1/word?surahId=1&ayahId=1"}}},doa:{semua:{pattern:"/v1/doa"},spesifikSumber:{pattern:"/v1/doa?source={source}",contoh:"/v1/doa?source=quran"},cari:{pattern:"/v1/doa/find?query={query}",contoh:"/v1/doa/find?query=makan"}},dzikir:{semua:{pattern:"/v1/dzikir"},spesifikTipe:{pattern:"/v1/dzikir?type={type}",contoh:"/v1/dzikir?type=pagi"}},hadits:{semua:{pattern:"/v1/hadits"},spesifikNomor:{pattern:"/v1/hadits?nomor={nomor}",contoh:"/v1/hadits?nomor=1"},cari:{pattern:"/v1/hadits/find?query={query}",contoh:"/v1/hadits/find?query=niat"}},sejarah:{semua:{pattern:"/v1/sejarah"},spesifik:{pattern:"/v1/sejarah?id={sejarahId}",contoh:"/v1/sejarah?id=1"}},puasa:{semua:{pattern:"/v1/puasa"},fiqh:{pattern:"/v1/puasa/fiqh"},cari:{pattern:"/v1/puasa/find?query={query}",contoh:"/v1/puasa/find?query=bidh"},filterTipe:{pattern:"/v1/puasa/type/{type}",contoh:"/v1/puasa/type/mingguan"}},kemenag:{hariLibur:{pattern:"/v1/kemenag/libur?year={year}",contoh:"/v1/kemenag/libur?year=2025"},pesantren:{provinsi:{pattern:"/v1/kemenag/provinsi"},kabupaten:{pattern:"/v1/kemenag/kabupaten?provinsiId={provinsiId}",contoh:"/v1/kemenag/kabupaten?provinsiId=13"},daftar:{pattern:"/v1/kemenag/pesantren?kabupatenId={kabupatenId}",contoh:"/v1/kemenag/pesantren?kabupatenId=1301"}},masjid:{daftar:{pattern:"/v1/kemenag/masjid?search={query}&lokasi={lokasi}",contoh:"/v1/kemenag/masjid?search=istiqlal"},detail:{pattern:"/v1/kemenag/masjid/detail?id={id}",contoh:"/v1/kemenag/masjid/detail?id=1"},terdekat:{pattern:"/v1/kemenag/masjid/nearby?lat={lat}&lng={lng}&radius={radius}",contoh:"/v1/kemenag/masjid/nearby?lat=-6.1702&lng=106.8315"}}},tools:{quotesHarian:{pattern:"/v1/tools/quotes/daily"},zakat:{pattern:"/v1/tools/zakat?type={type}&amount={amount}&hargaEmas={hargaEmas}&hargaBeras={hargaBeras}&jumlahOrang={jumlahOrang}",contoh:"/v1/tools/zakat?type=maal&amount=100000000"},faraidh:{pattern:"/v1/tools/faraidh?totalHarta={totalHarta}&suami={suami}&istri={istri}&anakLk={anakLk}&anakPr={anakPr}&ayah={ayah}&ibu={ibu}",contoh:"/v1/tools/faraidh?totalHarta=120000000&suami=1&anakLk=1&anakPr=1"},qibla:{pattern:"/v1/tools/qibla?lat={lat}&lng={lng}",contoh:"/v1/tools/qibla?lat=-6.1751&lng=106.8272"},semanticSearch:{pattern:"/v1/tools/semantic-search?query={query}",contoh:"/v1/tools/semantic-search?query=sabar"}},analytics:{global:{pattern:"/v1/analytics"},laporKhatam:{pattern:"/v1/analytics/khatam",method:"POST"}},integrity:{chain:{pattern:"/v1/integrity/chain"},verify:{pattern:"/v1/integrity/verify"},verifyAyah:{pattern:"/v1/integrity/verify/ayah?surahId={surahId}&ayahId={ayahId}",contoh:"/v1/integrity/verify/ayah?surahId=1&ayahId=1"}}}}));var cl=j;function Tc(t){let e=65535;for(let a=0;a<t.length;a++){e^=t.charCodeAt(a)<<8;for(let r=0;r<8;r++)(e&32768)!==0?e=(e<<1^4129)&65535:e=e<<1&65535}return e.toString(16).toUpperCase().padStart(4,"0")}function hl(t,e){if(!t)throw new Error("QRIS statis diperlukan");let a=t.slice(0,-4);a.endsWith("6304")&&(a=a.slice(0,-4));let r=[],n=0;for(;n<a.length;){let h=a.substring(n,n+2),c=parseInt(a.substring(n+2,n+4)),m=a.substring(n+4,n+4+c);r.push({tag:h,len:c,val:m}),n+=4+c}let o=r.find(h=>h.tag==="01");o&&(o.val="12",o.len=2);let i=e.toString(),l=r.find(h=>h.tag==="54");if(l)l.val=i,l.len=i.length;else{let h=r.findIndex(m=>parseInt(m.tag)>54),c={tag:"54",len:i.length,val:i};h!==-1?r.splice(h,0,c):r.push(c)}let d=r.sort((h,c)=>h.tag.localeCompare(c.tag)).map(h=>h.tag+h.len.toString().padStart(2,"0")+h.val).join("");d+="6304";let u=Tc(d);return d+u}var zt=function(t,e){let n=t,o=Sa[e],i=null,l=0,d=null,u=[],h={},c=function(p,b){l=n*4+17,i=(function(f){let y=new Array(f);for(let w=0;w<f;w+=1){y[w]=new Array(f);for(let S=0;S<f;S+=1)y[w][S]=null}return y})(l),m(0,0),m(l-7,0),m(0,l-7),v(),k(),x(p,b),n>=7&&A(p),d==null&&(d=C(n,o,u)),I(d,b)},m=function(p,b){for(let f=-1;f<=7;f+=1)if(!(p+f<=-1||l<=p+f))for(let y=-1;y<=7;y+=1)b+y<=-1||l<=b+y||(0<=f&&f<=6&&(y==0||y==6)||0<=y&&y<=6&&(f==0||f==6)||2<=f&&f<=4&&2<=y&&y<=4?i[p+f][b+y]=!0:i[p+f][b+y]=!1)},g=function(){let p=0,b=0;for(let f=0;f<8;f+=1){c(!0,f);let y=Ne.getLostPoint(h);(f==0||p>y)&&(p=y,b=f)}return b},k=function(){for(let p=8;p<l-8;p+=1)i[p][6]==null&&(i[p][6]=p%2==0);for(let p=8;p<l-8;p+=1)i[6][p]==null&&(i[6][p]=p%2==0)},v=function(){let p=Ne.getPatternPosition(n);for(let b=0;b<p.length;b+=1)for(let f=0;f<p.length;f+=1){let y=p[b],w=p[f];if(i[y][w]==null)for(let S=-2;S<=2;S+=1)for(let _=-2;_<=2;_+=1)S==-2||S==2||_==-2||_==2||S==0&&_==0?i[y+S][w+_]=!0:i[y+S][w+_]=!1}},A=function(p){let b=Ne.getBCHTypeNumber(n);for(let f=0;f<18;f+=1){let y=!p&&(b>>f&1)==1;i[Math.floor(f/3)][f%3+l-8-3]=y}for(let f=0;f<18;f+=1){let y=!p&&(b>>f&1)==1;i[f%3+l-8-3][Math.floor(f/3)]=y}},x=function(p,b){let f=o<<3|b,y=Ne.getBCHTypeInfo(f);for(let w=0;w<15;w+=1){let S=!p&&(y>>w&1)==1;w<6?i[w][8]=S:w<8?i[w+1][8]=S:i[l-15+w][8]=S}for(let w=0;w<15;w+=1){let S=!p&&(y>>w&1)==1;w<8?i[8][l-w-1]=S:w<9?i[8][15-w-1+1]=S:i[8][15-w-1]=S}i[l-8][8]=!p},I=function(p,b){let f=-1,y=l-1,w=7,S=0,_=Ne.getMaskFunction(b);for(let O=l-1;O>0;O-=2)for(O==6&&(O-=1);;){for(let $=0;$<2;$+=1)if(i[y][O-$]==null){let J=!1;S<p.length&&(J=(p[S]>>>w&1)==1),_(y,O-$)&&(J=!J),i[y][O-$]=J,w-=1,w==-1&&(S+=1,w=7)}if(y+=f,y<0||l<=y){y-=f,f=-f;break}}},q=function(p,b){let f=0,y=0,w=0,S=new Array(b.length),_=new Array(b.length);for(let M=0;M<b.length;M+=1){let K=b[M].dataCount,oe=b[M].totalCount-K;y=Math.max(y,K),w=Math.max(w,oe),S[M]=new Array(K);for(let we=0;we<S[M].length;we+=1)S[M][we]=255&p.getBuffer()[we+f];f+=K;let Sr=Ne.getErrorCorrectPolynomial(oe),Us=Ia(S[M],Sr.getLength()-1).mod(Sr);_[M]=new Array(Sr.getLength()-1);for(let we=0;we<_[M].length;we+=1){let Ks=we+Us.getLength()-_[M].length;_[M][we]=Ks>=0?Us.getAt(Ks):0}}let O=0;for(let M=0;M<b.length;M+=1)O+=b[M].totalCount;let $=new Array(O),J=0;for(let M=0;M<y;M+=1)for(let K=0;K<b.length;K+=1)M<S[K].length&&($[J]=S[K][M],J+=1);for(let M=0;M<w;M+=1)for(let K=0;K<b.length;K+=1)M<_[K].length&&($[J]=_[K][M],J+=1);return $},C=function(p,b,f){let y=ml.getRSBlocks(p,b),w=pl();for(let _=0;_<f.length;_+=1){let O=f[_];w.put(O.getMode(),4),w.put(O.getLength(),Ne.getLengthInBits(O.getMode(),p)),O.write(w)}let S=0;for(let _=0;_<y.length;_+=1)S+=y[_].dataCount;if(w.getLengthInBits()>S*8)throw"code length overflow. ("+w.getLengthInBits()+">"+S*8+")";for(w.getLengthInBits()+4<=S*8&&w.put(0,4);w.getLengthInBits()%8!=0;)w.putBit(!1);for(;!(w.getLengthInBits()>=S*8||(w.put(236,8),w.getLengthInBits()>=S*8));)w.put(17,8);return q(w,y)};h.addData=function(p,b){b=b||"Byte";let f=null;switch(b){case"Numeric":f=Pc(p);break;case"Alphanumeric":f=Dc(p);break;case"Byte":f=Bc(p);break;case"Kanji":f=Lc(p);break;default:throw"mode:"+b}u.push(f),d=null},h.isDark=function(p,b){if(p<0||l<=p||b<0||l<=b)throw p+","+b;return i[p][b]},h.getModuleCount=function(){return l},h.make=function(){if(n<1){let p=1;for(;p<40;p++){let b=ml.getRSBlocks(p,o),f=pl();for(let w=0;w<u.length;w++){let S=u[w];f.put(S.getMode(),4),f.put(S.getLength(),Ne.getLengthInBits(S.getMode(),p)),S.write(f)}let y=0;for(let w=0;w<b.length;w++)y+=b[w].dataCount;if(f.getLengthInBits()<=y*8)break}n=p}c(!1,g())},h.createTableTag=function(p,b){p=p||2,b=typeof b>"u"?p*4:b;let f="";f+='<table style="',f+=" border-width: 0px; border-style: none;",f+=" border-collapse: collapse;",f+=" padding: 0px; margin: "+b+"px;",f+='">',f+="<tbody>";for(let y=0;y<h.getModuleCount();y+=1){f+="<tr>";for(let w=0;w<h.getModuleCount();w+=1)f+='<td style="',f+=" border-width: 0px; border-style: none;",f+=" border-collapse: collapse;",f+=" padding: 0px; margin: 0px;",f+=" width: "+p+"px;",f+=" height: "+p+"px;",f+=" background-color: ",f+=h.isDark(y,w)?"#000000":"#ffffff",f+=";",f+='"/>';f+="</tr>"}return f+="</tbody>",f+="</table>",f},h.createSvgTag=function(p,b,f,y){let w={};typeof arguments[0]=="object"&&(w=arguments[0],p=w.cellSize,b=w.margin,f=w.alt,y=w.title),p=p||2,b=typeof b>"u"?p*4:b,f=typeof f=="string"?{text:f}:f||{},f.text=f.text||null,f.id=f.text?f.id||"qrcode-description":null,y=typeof y=="string"?{text:y}:y||{},y.text=y.text||null,y.id=y.text?y.id||"qrcode-title":null;let S=h.getModuleCount()*p+b*2,_,O,$,J,M="",K;for(K="l"+p+",0 0,"+p+" -"+p+",0 0,-"+p+"z ",M+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',M+=w.scalable?"":' width="'+S+'px" height="'+S+'px"',M+=' viewBox="0 0 '+S+" "+S+'" ',M+=' preserveAspectRatio="xMinYMin meet"',M+=y.text||f.text?' role="img" aria-labelledby="'+T([y.id,f.id].join(" ").trim())+'"':"",M+=">",M+=y.text?'<title id="'+T(y.id)+'">'+T(y.text)+"</title>":"",M+=f.text?'<description id="'+T(f.id)+'">'+T(f.text)+"</description>":"",M+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',M+='<path d="',$=0;$<h.getModuleCount();$+=1)for(J=$*p+b,_=0;_<h.getModuleCount();_+=1)h.isDark($,_)&&(O=_*p+b,M+="M"+O+","+J+K);return M+='" stroke="transparent" fill="black"/>',M+="</svg>",M},h.createDataURL=function(p,b){p=p||2,b=typeof b>"u"?p*4:b;let f=h.getModuleCount()*p+b*2,y=b,w=f-b;return $c(f,f,function(S,_){if(y<=S&&S<w&&y<=_&&_<w){let O=Math.floor((S-y)/p),$=Math.floor((_-y)/p);return h.isDark($,O)?0:1}else return 1})},h.createImgTag=function(p,b,f){p=p||2,b=typeof b>"u"?p*4:b;let y=h.getModuleCount()*p+b*2,w="";return w+="<img",w+=' src="',w+=h.createDataURL(p,b),w+='"',w+=' width="',w+=y,w+='"',w+=' height="',w+=y,w+='"',f&&(w+=' alt="',w+=T(f),w+='"'),w+="/>",w};let T=function(p){let b="";for(let f=0;f<p.length;f+=1){let y=p.charAt(f);switch(y){case"<":b+="&lt;";break;case">":b+="&gt;";break;case"&":b+="&amp;";break;case'"':b+="&quot;";break;default:b+=y;break}}return b},W=function(p){p=typeof p>"u"?2:p;let f=h.getModuleCount()*1+p*2,y=p,w=f-p,S,_,O,$,J,M={"\u2588\u2588":"\u2588","\u2588 ":"\u2580"," \u2588":"\u2584","  ":" "},K={"\u2588\u2588":"\u2580","\u2588 ":"\u2580"," \u2588":" ","  ":" "},oe="";for(S=0;S<f;S+=2){for(O=Math.floor((S-y)/1),$=Math.floor((S+1-y)/1),_=0;_<f;_+=1)J="\u2588",y<=_&&_<w&&y<=S&&S<w&&h.isDark(O,Math.floor((_-y)/1))&&(J=" "),y<=_&&_<w&&y<=S+1&&S+1<w&&h.isDark($,Math.floor((_-y)/1))?J+=" ":J+="\u2588",oe+=p<1&&S+1>=w?K[J]:M[J];oe+=`
`}return f%2&&p>0?oe.substring(0,oe.length-f-1)+Array(f+1).join("\u2580"):oe.substring(0,oe.length-1)};return h.createASCII=function(p,b){if(p=p||1,p<2)return W(b);p-=1,b=typeof b>"u"?p*2:b;let f=h.getModuleCount()*p+b*2,y=b,w=f-b,S,_,O,$,J=Array(p+1).join("\u2588\u2588"),M=Array(p+1).join("  "),K="",oe="";for(S=0;S<f;S+=1){for(O=Math.floor((S-y)/p),oe="",_=0;_<f;_+=1)$=1,y<=_&&_<w&&y<=S&&S<w&&h.isDark(O,Math.floor((_-y)/p))&&($=0),oe+=$?J:M;for(O=0;O<p;O+=1)K+=oe+`
`}return K.substring(0,K.length-1)},h.renderTo2dContext=function(p,b){b=b||2;let f=h.getModuleCount();for(let y=0;y<f;y++)for(let w=0;w<f;w++)p.fillStyle=h.isDark(y,w)?"black":"white",p.fillRect(w*b,y*b,b,b)},h};zt.stringToBytes=function(t){let e=[];for(let a=0;a<t.length;a+=1){let r=t.charCodeAt(a);e.push(r&255)}return e};zt.createStringToBytes=function(t,e){let a=(function(){let n=Hc(t),o=function(){let d=n.read();if(d==-1)throw"eof";return d},i=0,l={};for(;;){let d=n.read();if(d==-1)break;let u=o(),h=o(),c=o(),m=String.fromCharCode(d<<8|u),g=h<<8|c;l[m]=g,i+=1}if(i!=e)throw i+" != "+e;return l})(),r=63;return function(n){let o=[];for(let i=0;i<n.length;i+=1){let l=n.charCodeAt(i);if(l<128)o.push(l);else{let d=a[n.charAt(i)];typeof d=="number"?(d&255)==d?o.push(d):(o.push(d>>>8),o.push(d&255)):o.push(r)}}return o}};var re={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},Sa={L:1,M:0,Q:3,H:2},He={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},Ne=(function(){let t=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],e=1335,a=7973,r=21522,n={},o=function(i){let l=0;for(;i!=0;)l+=1,i>>>=1;return l};return n.getBCHTypeInfo=function(i){let l=i<<10;for(;o(l)-o(e)>=0;)l^=e<<o(l)-o(e);return(i<<10|l)^r},n.getBCHTypeNumber=function(i){let l=i<<12;for(;o(l)-o(a)>=0;)l^=a<<o(l)-o(a);return i<<12|l},n.getPatternPosition=function(i){return t[i-1]},n.getMaskFunction=function(i){switch(i){case He.PATTERN000:return function(l,d){return(l+d)%2==0};case He.PATTERN001:return function(l,d){return l%2==0};case He.PATTERN010:return function(l,d){return d%3==0};case He.PATTERN011:return function(l,d){return(l+d)%3==0};case He.PATTERN100:return function(l,d){return(Math.floor(l/2)+Math.floor(d/3))%2==0};case He.PATTERN101:return function(l,d){return l*d%2+l*d%3==0};case He.PATTERN110:return function(l,d){return(l*d%2+l*d%3)%2==0};case He.PATTERN111:return function(l,d){return(l*d%3+(l+d)%2)%2==0};default:throw"bad maskPattern:"+i}},n.getErrorCorrectPolynomial=function(i){let l=Ia([1],0);for(let d=0;d<i;d+=1)l=l.multiply(Ia([1,$e.gexp(d)],0));return l},n.getLengthInBits=function(i,l){if(1<=l&&l<10)switch(i){case re.MODE_NUMBER:return 10;case re.MODE_ALPHA_NUM:return 9;case re.MODE_8BIT_BYTE:return 8;case re.MODE_KANJI:return 8;default:throw"mode:"+i}else if(l<27)switch(i){case re.MODE_NUMBER:return 12;case re.MODE_ALPHA_NUM:return 11;case re.MODE_8BIT_BYTE:return 16;case re.MODE_KANJI:return 10;default:throw"mode:"+i}else if(l<41)switch(i){case re.MODE_NUMBER:return 14;case re.MODE_ALPHA_NUM:return 13;case re.MODE_8BIT_BYTE:return 16;case re.MODE_KANJI:return 12;default:throw"mode:"+i}else throw"type:"+l},n.getLostPoint=function(i){let l=i.getModuleCount(),d=0;for(let c=0;c<l;c+=1)for(let m=0;m<l;m+=1){let g=0,k=i.isDark(c,m);for(let v=-1;v<=1;v+=1)if(!(c+v<0||l<=c+v))for(let A=-1;A<=1;A+=1)m+A<0||l<=m+A||v==0&&A==0||k==i.isDark(c+v,m+A)&&(g+=1);g>5&&(d+=3+g-5)}for(let c=0;c<l-1;c+=1)for(let m=0;m<l-1;m+=1){let g=0;i.isDark(c,m)&&(g+=1),i.isDark(c+1,m)&&(g+=1),i.isDark(c,m+1)&&(g+=1),i.isDark(c+1,m+1)&&(g+=1),(g==0||g==4)&&(d+=3)}for(let c=0;c<l;c+=1)for(let m=0;m<l-6;m+=1)i.isDark(c,m)&&!i.isDark(c,m+1)&&i.isDark(c,m+2)&&i.isDark(c,m+3)&&i.isDark(c,m+4)&&!i.isDark(c,m+5)&&i.isDark(c,m+6)&&(d+=40);for(let c=0;c<l;c+=1)for(let m=0;m<l-6;m+=1)i.isDark(m,c)&&!i.isDark(m+1,c)&&i.isDark(m+2,c)&&i.isDark(m+3,c)&&i.isDark(m+4,c)&&!i.isDark(m+5,c)&&i.isDark(m+6,c)&&(d+=40);let u=0;for(let c=0;c<l;c+=1)for(let m=0;m<l;m+=1)i.isDark(m,c)&&(u+=1);let h=Math.abs(100*u/l/l-50)/5;return d+=h*10,d},n})(),$e=(function(){let t=new Array(256),e=new Array(256);for(let r=0;r<8;r+=1)t[r]=1<<r;for(let r=8;r<256;r+=1)t[r]=t[r-4]^t[r-5]^t[r-6]^t[r-8];for(let r=0;r<255;r+=1)e[t[r]]=r;let a={};return a.glog=function(r){if(r<1)throw"glog("+r+")";return e[r]},a.gexp=function(r){for(;r<0;)r+=255;for(;r>=256;)r-=255;return t[r]},a})(),Ia=function(t,e){if(typeof t.length>"u")throw t.length+"/"+e;let a=(function(){let n=0;for(;n<t.length&&t[n]==0;)n+=1;let o=new Array(t.length-n+e);for(let i=0;i<t.length-n;i+=1)o[i]=t[i+n];return o})(),r={};return r.getAt=function(n){return a[n]},r.getLength=function(){return a.length},r.multiply=function(n){let o=new Array(r.getLength()+n.getLength()-1);for(let i=0;i<r.getLength();i+=1)for(let l=0;l<n.getLength();l+=1)o[i+l]^=$e.gexp($e.glog(r.getAt(i))+$e.glog(n.getAt(l)));return Ia(o,0)},r.mod=function(n){if(r.getLength()-n.getLength()<0)return r;let o=$e.glog(r.getAt(0))-$e.glog(n.getAt(0)),i=new Array(r.getLength());for(let l=0;l<r.getLength();l+=1)i[l]=r.getAt(l);for(let l=0;l<n.getLength();l+=1)i[l]^=$e.gexp($e.glog(n.getAt(l))+o);return Ia(i,0).mod(n)},r},ml=(function(){let t=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e=function(n,o){let i={};return i.totalCount=n,i.dataCount=o,i},a={},r=function(n,o){switch(o){case Sa.L:return t[(n-1)*4+0];case Sa.M:return t[(n-1)*4+1];case Sa.Q:return t[(n-1)*4+2];case Sa.H:return t[(n-1)*4+3];default:return}};return a.getRSBlocks=function(n,o){let i=r(n,o);if(typeof i>"u")throw"bad rs block @ typeNumber:"+n+"/errorCorrectionLevel:"+o;let l=i.length/3,d=[];for(let u=0;u<l;u+=1){let h=i[u*3+0],c=i[u*3+1],m=i[u*3+2];for(let g=0;g<h;g+=1)d.push(e(c,m))}return d},a})(),pl=function(){let t=[],e=0,a={};return a.getBuffer=function(){return t},a.getAt=function(r){let n=Math.floor(r/8);return(t[n]>>>7-r%8&1)==1},a.put=function(r,n){for(let o=0;o<n;o+=1)a.putBit((r>>>n-o-1&1)==1)},a.getLengthInBits=function(){return e},a.putBit=function(r){let n=Math.floor(e/8);t.length<=n&&t.push(0),r&&(t[n]|=128>>>e%8),e+=1},a},Pc=function(t){let e=re.MODE_NUMBER,a=t,r={};r.getMode=function(){return e},r.getLength=function(i){return a.length},r.write=function(i){let l=a,d=0;for(;d+2<l.length;)i.put(n(l.substring(d,d+3)),10),d+=3;d<l.length&&(l.length-d==1?i.put(n(l.substring(d,d+1)),4):l.length-d==2&&i.put(n(l.substring(d,d+2)),7))};let n=function(i){let l=0;for(let d=0;d<i.length;d+=1)l=l*10+o(i.charAt(d));return l},o=function(i){if("0"<=i&&i<="9")return i.charCodeAt(0)-48;throw"illegal char :"+i};return r},Dc=function(t){let e=re.MODE_ALPHA_NUM,a=t,r={};r.getMode=function(){return e},r.getLength=function(o){return a.length},r.write=function(o){let i=a,l=0;for(;l+1<i.length;)o.put(n(i.charAt(l))*45+n(i.charAt(l+1)),11),l+=2;l<i.length&&o.put(n(i.charAt(l)),6)};let n=function(o){if("0"<=o&&o<="9")return o.charCodeAt(0)-48;if("A"<=o&&o<="Z")return o.charCodeAt(0)-65+10;switch(o){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+o}};return r},Bc=function(t){let e=re.MODE_8BIT_BYTE,a=t,r=zt.stringToBytes(t),n={};return n.getMode=function(){return e},n.getLength=function(o){return r.length},n.write=function(o){for(let i=0;i<r.length;i+=1)o.put(r[i],8)},n},Lc=function(t){let e=re.MODE_KANJI,a=t,r=zt.stringToBytes;(function(i,l){let d=r(i);if(d.length!=2||(d[0]<<8|d[1])!=l)throw"sjis not supported."})("\u53CB",38726);let n=r(t),o={};return o.getMode=function(){return e},o.getLength=function(i){return~~(n.length/2)},o.write=function(i){let l=n,d=0;for(;d+1<l.length;){let u=(255&l[d])<<8|255&l[d+1];if(33088<=u&&u<=40956)u-=33088;else if(57408<=u&&u<=60351)u-=49472;else throw"illegal char at "+(d+1)+"/"+u;u=(u>>>8&255)*192+(u&255),i.put(u,13),d+=2}if(d<l.length)throw"illegal char at "+(d+1)},o},fl=function(){let t=[],e={};return e.writeByte=function(a){t.push(a&255)},e.writeShort=function(a){e.writeByte(a),e.writeByte(a>>>8)},e.writeBytes=function(a,r,n){r=r||0,n=n||a.length;for(let o=0;o<n;o+=1)e.writeByte(a[o+r])},e.writeString=function(a){for(let r=0;r<a.length;r+=1)e.writeByte(a.charCodeAt(r))},e.toByteArray=function(){return t},e.toString=function(){let a="";a+="[";for(let r=0;r<t.length;r+=1)r>0&&(a+=","),a+=t[r];return a+="]",a},e},Oc=function(){let t=0,e=0,a=0,r="",n={},o=function(l){r+=String.fromCharCode(i(l&63))},i=function(l){if(l<0)throw"n:"+l;if(l<26)return 65+l;if(l<52)return 97+(l-26);if(l<62)return 48+(l-52);if(l==62)return 43;if(l==63)return 47;throw"n:"+l};return n.writeByte=function(l){for(t=t<<8|l&255,e+=8,a+=1;e>=6;)o(t>>>e-6),e-=6},n.flush=function(){if(e>0&&(o(t<<6-e),t=0,e=0),a%3!=0){let l=3-a%3;for(let d=0;d<l;d+=1)r+="="}},n.toString=function(){return r},n},Hc=function(t){let e=t,a=0,r=0,n=0,o={};o.read=function(){for(;n<8;){if(a>=e.length){if(n==0)return-1;throw"unexpected end of file./"+n}let d=e.charAt(a);if(a+=1,d=="=")return n=0,-1;if(d.match(/^\s$/))continue;r=r<<6|i(d.charCodeAt(0)),n+=6}let l=r>>>n-8&255;return n-=8,l};let i=function(l){if(65<=l&&l<=90)return l-65;if(97<=l&&l<=122)return l-97+26;if(48<=l&&l<=57)return l-48+52;if(l==43)return 62;if(l==47)return 63;throw"c:"+l};return o},Nc=function(t,e){let a=t,r=e,n=new Array(t*e),o={};o.setPixel=function(u,h,c){n[h*a+u]=c},o.write=function(u){u.writeString("GIF87a"),u.writeShort(a),u.writeShort(r),u.writeByte(128),u.writeByte(0),u.writeByte(0),u.writeByte(0),u.writeByte(0),u.writeByte(0),u.writeByte(255),u.writeByte(255),u.writeByte(255),u.writeString(","),u.writeShort(0),u.writeShort(0),u.writeShort(a),u.writeShort(r),u.writeByte(0);let h=2,c=l(h);u.writeByte(h);let m=0;for(;c.length-m>255;)u.writeByte(255),u.writeBytes(c,m,255),m+=255;u.writeByte(c.length-m),u.writeBytes(c,m,c.length-m),u.writeByte(0),u.writeString(";")};let i=function(u){let h=u,c=0,m=0,g={};return g.write=function(k,v){if(k>>>v)throw"length over";for(;c+v>=8;)h.writeByte(255&(k<<c|m)),v-=8-c,k>>>=8-c,m=0,c=0;m=k<<c|m,c=c+v},g.flush=function(){c>0&&h.writeByte(m)},g},l=function(u){let h=1<<u,c=(1<<u)+1,m=u+1,g=d();for(let I=0;I<h;I+=1)g.add(String.fromCharCode(I));g.add(String.fromCharCode(h)),g.add(String.fromCharCode(c));let k=fl(),v=i(k);v.write(h,m);let A=0,x=String.fromCharCode(n[A]);for(A+=1;A<n.length;){let I=String.fromCharCode(n[A]);A+=1,g.contains(x+I)?x=x+I:(v.write(g.indexOf(x),m),g.size()<4095&&(g.size()==1<<m&&(m+=1),g.add(x+I)),x=I)}return v.write(g.indexOf(x),m),v.write(c,m),v.flush(),k.toByteArray()},d=function(){let u={},h=0,c={};return c.add=function(m){if(c.contains(m))throw"dup key:"+m;u[m]=h,h+=1},c.size=function(){return h},c.indexOf=function(m){return u[m]},c.contains=function(m){return typeof u[m]<"u"},c};return o},$c=function(t,e,a){let r=Nc(t,e);for(let l=0;l<e;l+=1)for(let d=0;d<t;d+=1)r.setPixel(d,l,a(d,l));let n=fl();r.write(n);let o=Oc(),i=n.toByteArray();for(let l=0;l<i.length;l+=1)o.writeByte(i[l]);return o.flush(),"data:image/gif;base64,"+o},gl=zt,g2=zt.stringToBytes;var yl=new E,zc="00020101021126570011ID.DANA.WWW011893600915314378691502091437869150303UMI51440014ID.CO.QRIS.WWW0215ID10210738442970303UMI5204899953033605802ID5916Hariistimewa.com6015Kota Jakarta Se6105128206304D1F0";yl.get("/generate",async t=>{let e=parseInt(t.req.query("amount"));if(!e||isNaN(e))return t.json({status:400,message:"Amount is required and must be a number"},400);try{let a=hl(zc,e),r=gl(0,"M");r.addData(a),r.make();let n=r.createSvgTag(6,2),o=`data:image/svg+xml;base64,${Buffer.from(n).toString("base64")}`;return t.json({status:200,data:{amount:e,qris_string:a,qr_image:o}})}catch(a){return console.error("QRIS Error:",a),t.json({status:500,message:a.message},500)}});var bl=yl;var Ut=({children:t,title:e})=>s("html",{lang:"id"},s("head",null,s("meta",{charset:"UTF-8"}),s("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),s("title",null,e),s("script",{src:"https://cdn.tailwindcss.com"}),s("link",{href:"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Amiri&display=swap",rel:"stylesheet"}),s("style",null,`
          body { font-family: 'Inter', sans-serif; }
          .font-arabic { font-family: 'Amiri', serif; }
        `)),s("body",{class:"bg-transparent m-0 p-0 overflow-hidden"},t));var Ar=({data:t,city:e,baseUrl:a})=>{let r=a?a.replace(/^https?:\/\//,""):"muslim-api.vercel.app",n=a||"https://muslim-api.vercel.app";if(!t)return s("div",{class:"flex justify-center items-center p-4 h-screen font-medium text-center text-emerald-800 bg-emerald-50"},"Gagal memuat jadwal sholat. Pastikan parameter kota benar.");let o=[{name:"Imsak",time:t.imsak},{name:"Subuh",time:t.subuh},{name:"Terbit",time:t.terbit},{name:"Dzuhur",time:t.dzuhur},{name:"Ashar",time:t.ashar},{name:"Maghrib",time:t.maghrib},{name:"Isya",time:t.isya}];return s("div",{class:"min-h-screen font-sans bg-white"},s("div",{class:"p-4 text-white bg-emerald-600"},s("h2",{class:"text-lg font-bold"},"Jadwal Sholat"),s("p",{class:"text-xs opacity-90"},e," - ",t.tanggal)),s("div",{class:"p-3 space-y-2"},o.map(i=>s("div",{key:i.name,class:"flex justify-between items-center pb-1.5 border-b border-slate-50 last:border-0"},s("span",{class:"text-sm font-medium text-slate-600"},i.name),s("span",{class:"text-sm font-bold text-emerald-700"},i.time)))),s("div",{class:"p-2 mt-auto text-center bg-slate-50"},s("a",{href:n,target:"_blank",class:"text-[10px] text-slate-400 hover:text-emerald-600 transition-colors"},r)))};var $s=({data:t,baseUrl:e})=>{let a=e?e.replace(/^https?:\/\//,""):"muslim-api.vercel.app",r=e||"https://muslim-api.vercel.app";return t?s("div",{class:"flex flex-col min-h-screen font-sans bg-white"},s("div",{class:"p-4 text-white bg-blue-600"},s("h2",{class:"text-lg font-bold"},"Ayat Harian"),s("p",{class:"text-xs opacity-90"},t.surah_name," : ",t.ayah)),s("div",{class:"flex flex-col flex-grow justify-center p-4 text-center"},s("p",{class:"mb-2 font-serif text-xl leading-loose text-slate-900",dir:"rtl"},t.arab),s("p",{class:"text-xs italic leading-relaxed text-slate-600"},'"',t.translation,'"')),s("div",{class:"p-2 mt-auto text-center bg-slate-50"},s("a",{href:r,target:"_blank",class:"text-[10px] text-slate-400 hover:text-blue-600 transition-colors"},a))):s("div",{class:"flex justify-center items-center p-4 h-screen font-medium text-center text-blue-800 bg-blue-50"},"Gagal memuat ayat harian.")};var zs=new E;zs.get("/sholat",async t=>{let e=t.req.query("city")||"jakarta",a=fe.SHOLAT.MYQURAN;try{let n=await(await fetch(`${a}/kota/cari/${e}`)).json();if(!n.status||!n.data||n.data.length===0)return t.html(s(Ut,{title:"Jadwal Sholat Widget"},s(Ar,{data:null,city:e})));let o=n.data[0],i=new Date().toISOString().split("T")[0],d=await(await fetch(`${a}/jadwal/${o.id}/${i}`)).json();if(!d.status||!d.data||!d.data.jadwal)throw new Error("Jadwal tidak ditemukan");return t.html(s(Ut,{title:`Jadwal Sholat ${o.lokasi}`},s(Ar,{data:d.data.jadwal,city:o.lokasi,baseUrl:new URL(t.req.url).origin})))}catch{return t.html(s(Ut,{title:"Jadwal Sholat Widget"},s(Ar,{data:null,city:e,baseUrl:new URL(t.req.url).origin})))}});zs.get("/ayat",async t=>{let e=new URL(t.req.url).origin;try{let a=await N(),r=a[Math.floor(Math.random()*a.length)],n=await V(r.number),o=n[Math.floor(Math.random()*n.length)],i={surah_name:r.name_id,surah_number:r.number,ayah:o.ayah,arab:o.arab,translation:o.translation_id||o.text};return t.html(s(Ut,{title:"Ayat Harian Widget"},s($s,{data:i,baseUrl:e})))}catch(a){return console.error("Widget Ayat Error:",a),t.html(s(Ut,{title:"Ayat Harian Widget"},s($s,{data:null,baseUrl:e})))}});var wl=zs;var de=new E;de.use("*",In());de.use("*",_n());de.use("*",qn());de.get("/health",async t=>{let e="disconnected";try{await N()&&(e="connected")}catch(a){e="error: "+a.message}return t.json({status:"ok",timestamp:new Date().toISOString(),version:"1.0.0",services:{storage:e,uptime:process.uptime()},env:process.env.NODE_ENV||"development"})});de.get("/v1/*",async(t,e)=>{await e(),t.res.ok&&t.req.method==="GET"&&t.res.headers.set("Cache-Control","public, s-maxage=3600, stale-while-revalidate=86400")});var vl=new Map;de.use("/v1/*",async(t,e)=>{let a=t.req.header("x-forwarded-for")||t.req.header("x-real-ip")||"local",r=t.req.header("user-agent")||"unknown",n=t.req.method,o=t.req.path;if(process.env.NODE_ENV==="production")return console.log(`[HIT] ${new Date().toISOString()} | IP: ${a} | Path: ${o} | UA: ${r}`),await e();let i=Date.now(),l=60*1e3,d=100,u=vl.get(a)||{count:0,resetTime:i+l};if(i>u.resetTime?(u.count=1,u.resetTime=i+l):u.count++,vl.set(a,u),u.count>d)return console.warn(`[BLOCKED] ${new Date().toISOString()} | IP: ${a} | Reason: Rate Limit Exceeded`),t.json({status:429,message:"Anda diblokir sementara karena melakukan terlalu banyak permintaan (spamming). Silakan coba lagi dalam 1 menit.",reason:"Rate limit exceeded",client_info:{ip:a,user_agent:r}},429);console.log(`[HIT] ${new Date().toISOString()} | IP: ${a} | Method: ${n} | Path: ${o}`),await e()});de.route("/v1",cl);de.route("/api/qris",bl);de.route("/widget",wl);de.route("/",Pi);de.notFound(t=>t.json({status:404,message:"Not Found"},404));de.onError((t,e)=>(console.error(`${t}`),e.json({status:500,message:t.message},500)));var kl=de;var V2=tn(kl);export{V2 as default};
//# sourceMappingURL=index.js.map
