{
  "version": 3,
  "sources": ["../node_modules/promise-limit/index.js", "../node_modules/@hono/node-server/dist/vercel.mjs", "../node_modules/hono/dist/compose.js", "../node_modules/hono/dist/request/constants.js", "../node_modules/hono/dist/utils/body.js", "../node_modules/hono/dist/utils/url.js", "../node_modules/hono/dist/request.js", "../node_modules/hono/dist/utils/html.js", "../node_modules/hono/dist/context.js", "../node_modules/hono/dist/router.js", "../node_modules/hono/dist/utils/constants.js", "../node_modules/hono/dist/hono-base.js", "../node_modules/hono/dist/router/reg-exp-router/matcher.js", "../node_modules/hono/dist/router/reg-exp-router/node.js", "../node_modules/hono/dist/router/reg-exp-router/trie.js", "../node_modules/hono/dist/router/reg-exp-router/router.js", "../node_modules/hono/dist/router/smart-router/router.js", "../node_modules/hono/dist/router/trie-router/node.js", "../node_modules/hono/dist/router/trie-router/router.js", "../node_modules/hono/dist/hono.js", "../node_modules/hono/dist/middleware/trailing-slash/index.js", "../node_modules/hono/dist/utils/color.js", "../node_modules/hono/dist/middleware/logger/index.js", "../node_modules/hono/dist/middleware/cors/index.js", "../src/utils/jsonHandler.js", "../node_modules/@libsql/core/lib-esm/api.js", "../node_modules/@libsql/core/lib-esm/uri.js", "../node_modules/js-base64/base64.mjs", "../node_modules/@libsql/core/lib-esm/util.js", "../node_modules/@libsql/core/lib-esm/config.js", "../node_modules/@libsql/isomorphic-ws/node.mjs", "../node_modules/@libsql/hrana-client/lib-esm/client.js", "../node_modules/@libsql/hrana-client/lib-esm/errors.js", "../node_modules/@libsql/hrana-client/lib-esm/encoding/json/decode.js", "../node_modules/@libsql/hrana-client/lib-esm/encoding/json/encode.js", "../node_modules/@libsql/hrana-client/lib-esm/encoding/protobuf/decode.js", "../node_modules/@libsql/hrana-client/lib-esm/encoding/protobuf/encode.js", "../node_modules/@libsql/hrana-client/lib-esm/id_alloc.js", "../node_modules/@libsql/hrana-client/lib-esm/util.js", "../node_modules/@libsql/hrana-client/lib-esm/value.js", "../node_modules/@libsql/hrana-client/lib-esm/result.js", "../node_modules/@libsql/hrana-client/lib-esm/sql.js", "../node_modules/@libsql/hrana-client/lib-esm/queue.js", "../node_modules/@libsql/hrana-client/lib-esm/stmt.js", "../node_modules/@libsql/hrana-client/lib-esm/batch.js", "../node_modules/@libsql/hrana-client/lib-esm/describe.js", "../node_modules/@libsql/hrana-client/lib-esm/stream.js", "../node_modules/@libsql/hrana-client/lib-esm/cursor.js", "../node_modules/@libsql/hrana-client/lib-esm/ws/cursor.js", "../node_modules/@libsql/hrana-client/lib-esm/ws/stream.js", "../node_modules/@libsql/hrana-client/lib-esm/shared/json_encode.js", "../node_modules/@libsql/hrana-client/lib-esm/ws/json_encode.js", "../node_modules/@libsql/hrana-client/lib-esm/shared/protobuf_encode.js", "../node_modules/@libsql/hrana-client/lib-esm/ws/protobuf_encode.js", "../node_modules/@libsql/hrana-client/lib-esm/shared/json_decode.js", "../node_modules/@libsql/hrana-client/lib-esm/ws/json_decode.js", "../node_modules/@libsql/hrana-client/lib-esm/shared/protobuf_decode.js", "../node_modules/@libsql/hrana-client/lib-esm/ws/protobuf_decode.js", "../node_modules/@libsql/hrana-client/lib-esm/ws/client.js", "../node_modules/@libsql/isomorphic-fetch/node.js", "../node_modules/@libsql/hrana-client/lib-esm/queue_microtask.js", "../node_modules/@libsql/hrana-client/lib-esm/byte_queue.js", "../node_modules/@libsql/hrana-client/lib-esm/http/json_decode.js", "../node_modules/@libsql/hrana-client/lib-esm/http/protobuf_decode.js", "../node_modules/@libsql/hrana-client/lib-esm/http/cursor.js", "../node_modules/@libsql/hrana-client/lib-esm/http/json_encode.js", "../node_modules/@libsql/hrana-client/lib-esm/http/protobuf_encode.js", "../node_modules/@libsql/hrana-client/lib-esm/http/stream.js", "../node_modules/@libsql/hrana-client/lib-esm/http/client.js", "../node_modules/@libsql/hrana-client/lib-esm/index.js", "../node_modules/@libsql/client/lib-esm/hrana.js", "../node_modules/@libsql/client/lib-esm/sql_cache.js", "../node_modules/@libsql/client/lib-esm/ws.js", "../node_modules/@libsql/client/lib-esm/http.js", "../node_modules/@libsql/client/lib-esm/web.js", "../src/utils/db.js", "../node_modules/hono/dist/jsx/constants.js", "../node_modules/hono/dist/jsx/dom/utils.js", "../node_modules/hono/dist/jsx/dom/context.js", "../node_modules/hono/dist/jsx/context.js", "../node_modules/hono/dist/jsx/intrinsic-element/common.js", "../node_modules/hono/dist/jsx/intrinsic-element/components.js", "../node_modules/hono/dist/jsx/children.js", "../node_modules/hono/dist/jsx/utils.js", "../node_modules/hono/dist/jsx/base.js", "../node_modules/hono/dist/jsx/dom/intrinsic-element/components.js", "../node_modules/hono/dist/jsx/dom/render.js", "../node_modules/hono/dist/jsx/hooks/index.js", "../node_modules/hono/dist/jsx/dom/hooks/index.js", "../node_modules/hono/dist/jsx/dom/jsx-dev-runtime.js", "../node_modules/hono/dist/jsx/dom/components.js", "../node_modules/hono/dist/jsx/streaming.js", "../node_modules/hono/dist/jsx/components.js", "../src/components/Search.jsx", "../src/components/Layout.jsx", "../src/components/Home.jsx", "../src/components/Other.jsx", "../src/components/Landing.jsx", "../src/components/Playground.jsx", "../src/components/Status.jsx", "../src/routes/index.jsx", "../src/routes/muslim/v1/asbab.js", "../src/routes/muslim/v1/asma.js", "../src/routes/muslim/v1/ayah.js", "../src/routes/muslim/v1/calendar.js", "../src/routes/muslim/v1/doa.js", "../src/routes/muslim/v1/dzikir.js", "../src/routes/muslim/v1/hadits.js", "../src/routes/muslim/v1/juz.js", "../src/routes/muslim/v1/murotal.js", "../src/routes/muslim/v1/integrity.js", "../src/config.js", "../src/routes/muslim/v1/sholat.js", "../src/routes/muslim/v1/surah.js", "../src/routes/muslim/v1/tafsir.js", "../src/routes/muslim/v1/theme.js", "../src/routes/muslim/v1/word.js", "../src/routes/muslim/v1/admin.js", "../src/routes/muslim/v1/kemenag.js", "../src/routes/muslim/v1/sejarah.js", "../src/routes/muslim/v1/tools.js", "../src/routes/muslim/v1/analytics.js", "../src/routes/muslim/v1/puasa.js", "../src/routes/muslim/v1/index.js", "../src/utils/qris.js", "../node_modules/qrcode-generator/dist/qrcode.mjs", "../src/routes/qris.js", "../src/components/widgets/WidgetLayout.jsx", "../src/components/widgets/SholatWidget.jsx", "../src/components/widgets/AyatWidget.jsx", "../src/routes/widget.jsx", "../src/app.jsx", "../vercel-entry.js"],
  "sourcesContent": ["function limiter (count) {\n  var outstanding = 0\n  var jobs = []\n\n  function remove () {\n    outstanding--\n\n    if (outstanding < count) {\n      dequeue()\n    }\n  }\n\n  function dequeue () {\n    var job = jobs.shift()\n    semaphore.queue = jobs.length\n\n    if (job) {\n      run(job.fn).then(job.resolve).catch(job.reject)\n    }\n  }\n\n  function queue (fn) {\n    return new Promise(function (resolve, reject) {\n      jobs.push({fn: fn, resolve: resolve, reject: reject})\n      semaphore.queue = jobs.length\n    })\n  }\n\n  function run (fn) {\n    outstanding++\n    try {\n      return Promise.resolve(fn()).then(function (result) {\n        remove()\n        return result\n      }, function (error) {\n        remove()\n        throw error\n      })\n    } catch (err) {\n      remove()\n      return Promise.reject(err)\n    }\n  }\n\n  var semaphore = function (fn) {\n    if (outstanding >= count) {\n      return queue(fn)\n    } else {\n      return run(fn)\n    }\n  }\n\n  return semaphore\n}\n\nfunction map (items, mapper) {\n  var failed = false\n\n  var limit = this\n\n  return Promise.all(items.map(function () {\n    var args = arguments\n    return limit(function () {\n      if (!failed) {\n        return mapper.apply(undefined, args).catch(function (e) {\n          failed = true\n          throw e\n        })\n      }\n    })\n  }))\n}\n\nfunction addExtras (fn) {\n  fn.queue = 0\n  fn.map = map\n  return fn\n}\n\nmodule.exports = function (count) {\n  if (count) {\n    return addExtras(limiter(count))\n  } else {\n    return addExtras(function (fn) {\n      return fn()\n    })\n  }\n}\n", "// src/listener.ts\nimport { Http2ServerRequest as Http2ServerRequest2 } from \"http2\";\n\n// src/request.ts\nimport { Http2ServerRequest } from \"http2\";\nimport { Readable } from \"stream\";\nvar RequestError = class extends Error {\n  constructor(message, options) {\n    super(message, options);\n    this.name = \"RequestError\";\n  }\n};\nvar toRequestError = (e) => {\n  if (e instanceof RequestError) {\n    return e;\n  }\n  return new RequestError(e.message, { cause: e });\n};\nvar GlobalRequest = global.Request;\nvar Request = class extends GlobalRequest {\n  constructor(input, options) {\n    if (typeof input === \"object\" && getRequestCache in input) {\n      input = input[getRequestCache]();\n    }\n    if (typeof options?.body?.getReader !== \"undefined\") {\n      ;\n      options.duplex ??= \"half\";\n    }\n    super(input, options);\n  }\n};\nvar newHeadersFromIncoming = (incoming) => {\n  const headerRecord = [];\n  const rawHeaders = incoming.rawHeaders;\n  for (let i = 0; i < rawHeaders.length; i += 2) {\n    const { [i]: key, [i + 1]: value } = rawHeaders;\n    if (key.charCodeAt(0) !== /*:*/\n    58) {\n      headerRecord.push([key, value]);\n    }\n  }\n  return new Headers(headerRecord);\n};\nvar wrapBodyStream = Symbol(\"wrapBodyStream\");\nvar newRequestFromIncoming = (method, url, headers, incoming, abortController) => {\n  const init = {\n    method,\n    headers,\n    signal: abortController.signal\n  };\n  if (method === \"TRACE\") {\n    init.method = \"GET\";\n    const req = new Request(url, init);\n    Object.defineProperty(req, \"method\", {\n      get() {\n        return \"TRACE\";\n      }\n    });\n    return req;\n  }\n  if (!(method === \"GET\" || method === \"HEAD\")) {\n    if (\"rawBody\" in incoming && incoming.rawBody instanceof Buffer) {\n      init.body = new ReadableStream({\n        start(controller) {\n          controller.enqueue(incoming.rawBody);\n          controller.close();\n        }\n      });\n    } else if (incoming[wrapBodyStream]) {\n      let reader;\n      init.body = new ReadableStream({\n        async pull(controller) {\n          try {\n            reader ||= Readable.toWeb(incoming).getReader();\n            const { done, value } = await reader.read();\n            if (done) {\n              controller.close();\n            } else {\n              controller.enqueue(value);\n            }\n          } catch (error) {\n            controller.error(error);\n          }\n        }\n      });\n    } else {\n      init.body = Readable.toWeb(incoming);\n    }\n  }\n  return new Request(url, init);\n};\nvar getRequestCache = Symbol(\"getRequestCache\");\nvar requestCache = Symbol(\"requestCache\");\nvar incomingKey = Symbol(\"incomingKey\");\nvar urlKey = Symbol(\"urlKey\");\nvar headersKey = Symbol(\"headersKey\");\nvar abortControllerKey = Symbol(\"abortControllerKey\");\nvar getAbortController = Symbol(\"getAbortController\");\nvar requestPrototype = {\n  get method() {\n    return this[incomingKey].method || \"GET\";\n  },\n  get url() {\n    return this[urlKey];\n  },\n  get headers() {\n    return this[headersKey] ||= newHeadersFromIncoming(this[incomingKey]);\n  },\n  [getAbortController]() {\n    this[getRequestCache]();\n    return this[abortControllerKey];\n  },\n  [getRequestCache]() {\n    this[abortControllerKey] ||= new AbortController();\n    return this[requestCache] ||= newRequestFromIncoming(\n      this.method,\n      this[urlKey],\n      this.headers,\n      this[incomingKey],\n      this[abortControllerKey]\n    );\n  }\n};\n[\n  \"body\",\n  \"bodyUsed\",\n  \"cache\",\n  \"credentials\",\n  \"destination\",\n  \"integrity\",\n  \"mode\",\n  \"redirect\",\n  \"referrer\",\n  \"referrerPolicy\",\n  \"signal\",\n  \"keepalive\"\n].forEach((k) => {\n  Object.defineProperty(requestPrototype, k, {\n    get() {\n      return this[getRequestCache]()[k];\n    }\n  });\n});\n[\"arrayBuffer\", \"blob\", \"clone\", \"formData\", \"json\", \"text\"].forEach((k) => {\n  Object.defineProperty(requestPrototype, k, {\n    value: function() {\n      return this[getRequestCache]()[k]();\n    }\n  });\n});\nObject.setPrototypeOf(requestPrototype, Request.prototype);\nvar newRequest = (incoming, defaultHostname) => {\n  const req = Object.create(requestPrototype);\n  req[incomingKey] = incoming;\n  const incomingUrl = incoming.url || \"\";\n  if (incomingUrl[0] !== \"/\" && // short-circuit for performance. most requests are relative URL.\n  (incomingUrl.startsWith(\"http://\") || incomingUrl.startsWith(\"https://\"))) {\n    if (incoming instanceof Http2ServerRequest) {\n      throw new RequestError(\"Absolute URL for :path is not allowed in HTTP/2\");\n    }\n    try {\n      const url2 = new URL(incomingUrl);\n      req[urlKey] = url2.href;\n    } catch (e) {\n      throw new RequestError(\"Invalid absolute URL\", { cause: e });\n    }\n    return req;\n  }\n  const host = (incoming instanceof Http2ServerRequest ? incoming.authority : incoming.headers.host) || defaultHostname;\n  if (!host) {\n    throw new RequestError(\"Missing host header\");\n  }\n  let scheme;\n  if (incoming instanceof Http2ServerRequest) {\n    scheme = incoming.scheme;\n    if (!(scheme === \"http\" || scheme === \"https\")) {\n      throw new RequestError(\"Unsupported scheme\");\n    }\n  } else {\n    scheme = incoming.socket && incoming.socket.encrypted ? \"https\" : \"http\";\n  }\n  const url = new URL(`${scheme}://${host}${incomingUrl}`);\n  if (url.hostname.length !== host.length && url.hostname !== host.replace(/:\\d+$/, \"\")) {\n    throw new RequestError(\"Invalid host header\");\n  }\n  req[urlKey] = url.href;\n  return req;\n};\n\n// src/response.ts\nvar responseCache = Symbol(\"responseCache\");\nvar getResponseCache = Symbol(\"getResponseCache\");\nvar cacheKey = Symbol(\"cache\");\nvar GlobalResponse = global.Response;\nvar Response2 = class _Response {\n  #body;\n  #init;\n  [getResponseCache]() {\n    delete this[cacheKey];\n    return this[responseCache] ||= new GlobalResponse(this.#body, this.#init);\n  }\n  constructor(body, init) {\n    let headers;\n    this.#body = body;\n    if (init instanceof _Response) {\n      const cachedGlobalResponse = init[responseCache];\n      if (cachedGlobalResponse) {\n        this.#init = cachedGlobalResponse;\n        this[getResponseCache]();\n        return;\n      } else {\n        this.#init = init.#init;\n        headers = new Headers(init.#init.headers);\n      }\n    } else {\n      this.#init = init;\n    }\n    if (typeof body === \"string\" || typeof body?.getReader !== \"undefined\" || body instanceof Blob || body instanceof Uint8Array) {\n      headers ||= init?.headers || { \"content-type\": \"text/plain; charset=UTF-8\" };\n      this[cacheKey] = [init?.status || 200, body, headers];\n    }\n  }\n  get headers() {\n    const cache = this[cacheKey];\n    if (cache) {\n      if (!(cache[2] instanceof Headers)) {\n        cache[2] = new Headers(cache[2]);\n      }\n      return cache[2];\n    }\n    return this[getResponseCache]().headers;\n  }\n  get status() {\n    return this[cacheKey]?.[0] ?? this[getResponseCache]().status;\n  }\n  get ok() {\n    const status = this.status;\n    return status >= 200 && status < 300;\n  }\n};\n[\"body\", \"bodyUsed\", \"redirected\", \"statusText\", \"trailers\", \"type\", \"url\"].forEach((k) => {\n  Object.defineProperty(Response2.prototype, k, {\n    get() {\n      return this[getResponseCache]()[k];\n    }\n  });\n});\n[\"arrayBuffer\", \"blob\", \"clone\", \"formData\", \"json\", \"text\"].forEach((k) => {\n  Object.defineProperty(Response2.prototype, k, {\n    value: function() {\n      return this[getResponseCache]()[k]();\n    }\n  });\n});\nObject.setPrototypeOf(Response2, GlobalResponse);\nObject.setPrototypeOf(Response2.prototype, GlobalResponse.prototype);\n\n// src/utils.ts\nasync function readWithoutBlocking(readPromise) {\n  return Promise.race([readPromise, Promise.resolve().then(() => Promise.resolve(void 0))]);\n}\nfunction writeFromReadableStreamDefaultReader(reader, writable, currentReadPromise) {\n  const cancel = (error) => {\n    reader.cancel(error).catch(() => {\n    });\n  };\n  writable.on(\"close\", cancel);\n  writable.on(\"error\", cancel);\n  (currentReadPromise ?? reader.read()).then(flow, handleStreamError);\n  return reader.closed.finally(() => {\n    writable.off(\"close\", cancel);\n    writable.off(\"error\", cancel);\n  });\n  function handleStreamError(error) {\n    if (error) {\n      writable.destroy(error);\n    }\n  }\n  function onDrain() {\n    reader.read().then(flow, handleStreamError);\n  }\n  function flow({ done, value }) {\n    try {\n      if (done) {\n        writable.end();\n      } else if (!writable.write(value)) {\n        writable.once(\"drain\", onDrain);\n      } else {\n        return reader.read().then(flow, handleStreamError);\n      }\n    } catch (e) {\n      handleStreamError(e);\n    }\n  }\n}\nfunction writeFromReadableStream(stream, writable) {\n  if (stream.locked) {\n    throw new TypeError(\"ReadableStream is locked.\");\n  } else if (writable.destroyed) {\n    return;\n  }\n  return writeFromReadableStreamDefaultReader(stream.getReader(), writable);\n}\nvar buildOutgoingHttpHeaders = (headers) => {\n  const res = {};\n  if (!(headers instanceof Headers)) {\n    headers = new Headers(headers ?? void 0);\n  }\n  const cookies = [];\n  for (const [k, v] of headers) {\n    if (k === \"set-cookie\") {\n      cookies.push(v);\n    } else {\n      res[k] = v;\n    }\n  }\n  if (cookies.length > 0) {\n    res[\"set-cookie\"] = cookies;\n  }\n  res[\"content-type\"] ??= \"text/plain; charset=UTF-8\";\n  return res;\n};\n\n// src/utils/response/constants.ts\nvar X_ALREADY_SENT = \"x-hono-already-sent\";\n\n// src/globals.ts\nimport crypto from \"crypto\";\nvar webFetch = global.fetch;\nif (typeof global.crypto === \"undefined\") {\n  global.crypto = crypto;\n}\nglobal.fetch = (info, init) => {\n  init = {\n    // Disable compression handling so people can return the result of a fetch\n    // directly in the loader without messing with the Content-Encoding header.\n    compress: false,\n    ...init\n  };\n  return webFetch(info, init);\n};\n\n// src/listener.ts\nvar outgoingEnded = Symbol(\"outgoingEnded\");\nvar handleRequestError = () => new Response(null, {\n  status: 400\n});\nvar handleFetchError = (e) => new Response(null, {\n  status: e instanceof Error && (e.name === \"TimeoutError\" || e.constructor.name === \"TimeoutError\") ? 504 : 500\n});\nvar handleResponseError = (e, outgoing) => {\n  const err = e instanceof Error ? e : new Error(\"unknown error\", { cause: e });\n  if (err.code === \"ERR_STREAM_PREMATURE_CLOSE\") {\n    console.info(\"The user aborted a request.\");\n  } else {\n    console.error(e);\n    if (!outgoing.headersSent) {\n      outgoing.writeHead(500, { \"Content-Type\": \"text/plain\" });\n    }\n    outgoing.end(`Error: ${err.message}`);\n    outgoing.destroy(err);\n  }\n};\nvar flushHeaders = (outgoing) => {\n  if (\"flushHeaders\" in outgoing && outgoing.writable) {\n    outgoing.flushHeaders();\n  }\n};\nvar responseViaCache = async (res, outgoing) => {\n  let [status, body, header] = res[cacheKey];\n  if (header instanceof Headers) {\n    header = buildOutgoingHttpHeaders(header);\n  }\n  if (typeof body === \"string\") {\n    header[\"Content-Length\"] = Buffer.byteLength(body);\n  } else if (body instanceof Uint8Array) {\n    header[\"Content-Length\"] = body.byteLength;\n  } else if (body instanceof Blob) {\n    header[\"Content-Length\"] = body.size;\n  }\n  outgoing.writeHead(status, header);\n  if (typeof body === \"string\" || body instanceof Uint8Array) {\n    outgoing.end(body);\n  } else if (body instanceof Blob) {\n    outgoing.end(new Uint8Array(await body.arrayBuffer()));\n  } else {\n    flushHeaders(outgoing);\n    await writeFromReadableStream(body, outgoing)?.catch(\n      (e) => handleResponseError(e, outgoing)\n    );\n  }\n  ;\n  outgoing[outgoingEnded]?.();\n};\nvar isPromise = (res) => typeof res.then === \"function\";\nvar responseViaResponseObject = async (res, outgoing, options = {}) => {\n  if (isPromise(res)) {\n    if (options.errorHandler) {\n      try {\n        res = await res;\n      } catch (err) {\n        const errRes = await options.errorHandler(err);\n        if (!errRes) {\n          return;\n        }\n        res = errRes;\n      }\n    } else {\n      res = await res.catch(handleFetchError);\n    }\n  }\n  if (cacheKey in res) {\n    return responseViaCache(res, outgoing);\n  }\n  const resHeaderRecord = buildOutgoingHttpHeaders(res.headers);\n  if (res.body) {\n    const reader = res.body.getReader();\n    const values = [];\n    let done = false;\n    let currentReadPromise = void 0;\n    if (resHeaderRecord[\"transfer-encoding\"] !== \"chunked\") {\n      let maxReadCount = 2;\n      for (let i = 0; i < maxReadCount; i++) {\n        currentReadPromise ||= reader.read();\n        const chunk = await readWithoutBlocking(currentReadPromise).catch((e) => {\n          console.error(e);\n          done = true;\n        });\n        if (!chunk) {\n          if (i === 1) {\n            await new Promise((resolve) => setTimeout(resolve));\n            maxReadCount = 3;\n            continue;\n          }\n          break;\n        }\n        currentReadPromise = void 0;\n        if (chunk.value) {\n          values.push(chunk.value);\n        }\n        if (chunk.done) {\n          done = true;\n          break;\n        }\n      }\n      if (done && !(\"content-length\" in resHeaderRecord)) {\n        resHeaderRecord[\"content-length\"] = values.reduce((acc, value) => acc + value.length, 0);\n      }\n    }\n    outgoing.writeHead(res.status, resHeaderRecord);\n    values.forEach((value) => {\n      ;\n      outgoing.write(value);\n    });\n    if (done) {\n      outgoing.end();\n    } else {\n      if (values.length === 0) {\n        flushHeaders(outgoing);\n      }\n      await writeFromReadableStreamDefaultReader(reader, outgoing, currentReadPromise);\n    }\n  } else if (resHeaderRecord[X_ALREADY_SENT]) {\n  } else {\n    outgoing.writeHead(res.status, resHeaderRecord);\n    outgoing.end();\n  }\n  ;\n  outgoing[outgoingEnded]?.();\n};\nvar getRequestListener = (fetchCallback, options = {}) => {\n  const autoCleanupIncoming = options.autoCleanupIncoming ?? true;\n  if (options.overrideGlobalObjects !== false && global.Request !== Request) {\n    Object.defineProperty(global, \"Request\", {\n      value: Request\n    });\n    Object.defineProperty(global, \"Response\", {\n      value: Response2\n    });\n  }\n  return async (incoming, outgoing) => {\n    let res, req;\n    try {\n      req = newRequest(incoming, options.hostname);\n      let incomingEnded = !autoCleanupIncoming || incoming.method === \"GET\" || incoming.method === \"HEAD\";\n      if (!incomingEnded) {\n        ;\n        incoming[wrapBodyStream] = true;\n        incoming.on(\"end\", () => {\n          incomingEnded = true;\n        });\n        if (incoming instanceof Http2ServerRequest2) {\n          ;\n          outgoing[outgoingEnded] = () => {\n            if (!incomingEnded) {\n              setTimeout(() => {\n                if (!incomingEnded) {\n                  setTimeout(() => {\n                    incoming.destroy();\n                    outgoing.destroy();\n                  });\n                }\n              });\n            }\n          };\n        }\n      }\n      outgoing.on(\"close\", () => {\n        const abortController = req[abortControllerKey];\n        if (abortController) {\n          if (incoming.errored) {\n            req[abortControllerKey].abort(incoming.errored.toString());\n          } else if (!outgoing.writableFinished) {\n            req[abortControllerKey].abort(\"Client connection prematurely closed.\");\n          }\n        }\n        if (!incomingEnded) {\n          setTimeout(() => {\n            if (!incomingEnded) {\n              setTimeout(() => {\n                incoming.destroy();\n              });\n            }\n          });\n        }\n      });\n      res = fetchCallback(req, { incoming, outgoing });\n      if (cacheKey in res) {\n        return responseViaCache(res, outgoing);\n      }\n    } catch (e) {\n      if (!res) {\n        if (options.errorHandler) {\n          res = await options.errorHandler(req ? e : toRequestError(e));\n          if (!res) {\n            return;\n          }\n        } else if (!req) {\n          res = handleRequestError();\n        } else {\n          res = handleFetchError(e);\n        }\n      } else {\n        return handleResponseError(e, outgoing);\n      }\n    }\n    try {\n      return await responseViaResponseObject(res, outgoing, options);\n    } catch (e) {\n      return handleResponseError(e, outgoing);\n    }\n  };\n};\n\n// src/vercel.ts\nvar handle = (app) => {\n  return getRequestListener(app.fetch);\n};\nexport {\n  handle\n};\n", "// src/compose.ts\nvar compose = (middleware, onError, onNotFound) => {\n  return (context, next) => {\n    let index = -1;\n    return dispatch(0);\n    async function dispatch(i) {\n      if (i <= index) {\n        throw new Error(\"next() called multiple times\");\n      }\n      index = i;\n      let res;\n      let isError = false;\n      let handler;\n      if (middleware[i]) {\n        handler = middleware[i][0][0];\n        context.req.routeIndex = i;\n      } else {\n        handler = i === middleware.length && next || void 0;\n      }\n      if (handler) {\n        try {\n          res = await handler(context, () => dispatch(i + 1));\n        } catch (err) {\n          if (err instanceof Error && onError) {\n            context.error = err;\n            res = await onError(err, context);\n            isError = true;\n          } else {\n            throw err;\n          }\n        }\n      } else {\n        if (context.finalized === false && onNotFound) {\n          res = await onNotFound(context);\n        }\n      }\n      if (res && (context.finalized === false || isError)) {\n        context.res = res;\n      }\n      return context;\n    }\n  };\n};\nexport {\n  compose\n};\n", "// src/request/constants.ts\nvar GET_MATCH_RESULT = /* @__PURE__ */ Symbol();\nexport {\n  GET_MATCH_RESULT\n};\n", "// src/utils/body.ts\nimport { HonoRequest } from \"../request.js\";\nvar parseBody = async (request, options = /* @__PURE__ */ Object.create(null)) => {\n  const { all = false, dot = false } = options;\n  const headers = request instanceof HonoRequest ? request.raw.headers : request.headers;\n  const contentType = headers.get(\"Content-Type\");\n  if (contentType?.startsWith(\"multipart/form-data\") || contentType?.startsWith(\"application/x-www-form-urlencoded\")) {\n    return parseFormData(request, { all, dot });\n  }\n  return {};\n};\nasync function parseFormData(request, options) {\n  const formData = await request.formData();\n  if (formData) {\n    return convertFormDataToBodyData(formData, options);\n  }\n  return {};\n}\nfunction convertFormDataToBodyData(formData, options) {\n  const form = /* @__PURE__ */ Object.create(null);\n  formData.forEach((value, key) => {\n    const shouldParseAllValues = options.all || key.endsWith(\"[]\");\n    if (!shouldParseAllValues) {\n      form[key] = value;\n    } else {\n      handleParsingAllValues(form, key, value);\n    }\n  });\n  if (options.dot) {\n    Object.entries(form).forEach(([key, value]) => {\n      const shouldParseDotValues = key.includes(\".\");\n      if (shouldParseDotValues) {\n        handleParsingNestedValues(form, key, value);\n        delete form[key];\n      }\n    });\n  }\n  return form;\n}\nvar handleParsingAllValues = (form, key, value) => {\n  if (form[key] !== void 0) {\n    if (Array.isArray(form[key])) {\n      ;\n      form[key].push(value);\n    } else {\n      form[key] = [form[key], value];\n    }\n  } else {\n    if (!key.endsWith(\"[]\")) {\n      form[key] = value;\n    } else {\n      form[key] = [value];\n    }\n  }\n};\nvar handleParsingNestedValues = (form, key, value) => {\n  let nestedForm = form;\n  const keys = key.split(\".\");\n  keys.forEach((key2, index) => {\n    if (index === keys.length - 1) {\n      nestedForm[key2] = value;\n    } else {\n      if (!nestedForm[key2] || typeof nestedForm[key2] !== \"object\" || Array.isArray(nestedForm[key2]) || nestedForm[key2] instanceof File) {\n        nestedForm[key2] = /* @__PURE__ */ Object.create(null);\n      }\n      nestedForm = nestedForm[key2];\n    }\n  });\n};\nexport {\n  parseBody\n};\n", "// src/utils/url.ts\nvar splitPath = (path) => {\n  const paths = path.split(\"/\");\n  if (paths[0] === \"\") {\n    paths.shift();\n  }\n  return paths;\n};\nvar splitRoutingPath = (routePath) => {\n  const { groups, path } = extractGroupsFromPath(routePath);\n  const paths = splitPath(path);\n  return replaceGroupMarks(paths, groups);\n};\nvar extractGroupsFromPath = (path) => {\n  const groups = [];\n  path = path.replace(/\\{[^}]+\\}/g, (match, index) => {\n    const mark = `@${index}`;\n    groups.push([mark, match]);\n    return mark;\n  });\n  return { groups, path };\n};\nvar replaceGroupMarks = (paths, groups) => {\n  for (let i = groups.length - 1; i >= 0; i--) {\n    const [mark] = groups[i];\n    for (let j = paths.length - 1; j >= 0; j--) {\n      if (paths[j].includes(mark)) {\n        paths[j] = paths[j].replace(mark, groups[i][1]);\n        break;\n      }\n    }\n  }\n  return paths;\n};\nvar patternCache = {};\nvar getPattern = (label, next) => {\n  if (label === \"*\") {\n    return \"*\";\n  }\n  const match = label.match(/^\\:([^\\{\\}]+)(?:\\{(.+)\\})?$/);\n  if (match) {\n    const cacheKey = `${label}#${next}`;\n    if (!patternCache[cacheKey]) {\n      if (match[2]) {\n        patternCache[cacheKey] = next && next[0] !== \":\" && next[0] !== \"*\" ? [cacheKey, match[1], new RegExp(`^${match[2]}(?=/${next})`)] : [label, match[1], new RegExp(`^${match[2]}$`)];\n      } else {\n        patternCache[cacheKey] = [label, match[1], true];\n      }\n    }\n    return patternCache[cacheKey];\n  }\n  return null;\n};\nvar tryDecode = (str, decoder) => {\n  try {\n    return decoder(str);\n  } catch {\n    return str.replace(/(?:%[0-9A-Fa-f]{2})+/g, (match) => {\n      try {\n        return decoder(match);\n      } catch {\n        return match;\n      }\n    });\n  }\n};\nvar tryDecodeURI = (str) => tryDecode(str, decodeURI);\nvar getPath = (request) => {\n  const url = request.url;\n  const start = url.indexOf(\"/\", url.indexOf(\":\") + 4);\n  let i = start;\n  for (; i < url.length; i++) {\n    const charCode = url.charCodeAt(i);\n    if (charCode === 37) {\n      const queryIndex = url.indexOf(\"?\", i);\n      const path = url.slice(start, queryIndex === -1 ? void 0 : queryIndex);\n      return tryDecodeURI(path.includes(\"%25\") ? path.replace(/%25/g, \"%2525\") : path);\n    } else if (charCode === 63) {\n      break;\n    }\n  }\n  return url.slice(start, i);\n};\nvar getQueryStrings = (url) => {\n  const queryIndex = url.indexOf(\"?\", 8);\n  return queryIndex === -1 ? \"\" : \"?\" + url.slice(queryIndex + 1);\n};\nvar getPathNoStrict = (request) => {\n  const result = getPath(request);\n  return result.length > 1 && result.at(-1) === \"/\" ? result.slice(0, -1) : result;\n};\nvar mergePath = (base, sub, ...rest) => {\n  if (rest.length) {\n    sub = mergePath(sub, ...rest);\n  }\n  return `${base?.[0] === \"/\" ? \"\" : \"/\"}${base}${sub === \"/\" ? \"\" : `${base?.at(-1) === \"/\" ? \"\" : \"/\"}${sub?.[0] === \"/\" ? sub.slice(1) : sub}`}`;\n};\nvar checkOptionalParameter = (path) => {\n  if (path.charCodeAt(path.length - 1) !== 63 || !path.includes(\":\")) {\n    return null;\n  }\n  const segments = path.split(\"/\");\n  const results = [];\n  let basePath = \"\";\n  segments.forEach((segment) => {\n    if (segment !== \"\" && !/\\:/.test(segment)) {\n      basePath += \"/\" + segment;\n    } else if (/\\:/.test(segment)) {\n      if (/\\?/.test(segment)) {\n        if (results.length === 0 && basePath === \"\") {\n          results.push(\"/\");\n        } else {\n          results.push(basePath);\n        }\n        const optionalSegment = segment.replace(\"?\", \"\");\n        basePath += \"/\" + optionalSegment;\n        results.push(basePath);\n      } else {\n        basePath += \"/\" + segment;\n      }\n    }\n  });\n  return results.filter((v, i, a) => a.indexOf(v) === i);\n};\nvar _decodeURI = (value) => {\n  if (!/[%+]/.test(value)) {\n    return value;\n  }\n  if (value.indexOf(\"+\") !== -1) {\n    value = value.replace(/\\+/g, \" \");\n  }\n  return value.indexOf(\"%\") !== -1 ? tryDecode(value, decodeURIComponent_) : value;\n};\nvar _getQueryParam = (url, key, multiple) => {\n  let encoded;\n  if (!multiple && key && !/[%+]/.test(key)) {\n    let keyIndex2 = url.indexOf(\"?\", 8);\n    if (keyIndex2 === -1) {\n      return void 0;\n    }\n    if (!url.startsWith(key, keyIndex2 + 1)) {\n      keyIndex2 = url.indexOf(`&${key}`, keyIndex2 + 1);\n    }\n    while (keyIndex2 !== -1) {\n      const trailingKeyCode = url.charCodeAt(keyIndex2 + key.length + 1);\n      if (trailingKeyCode === 61) {\n        const valueIndex = keyIndex2 + key.length + 2;\n        const endIndex = url.indexOf(\"&\", valueIndex);\n        return _decodeURI(url.slice(valueIndex, endIndex === -1 ? void 0 : endIndex));\n      } else if (trailingKeyCode == 38 || isNaN(trailingKeyCode)) {\n        return \"\";\n      }\n      keyIndex2 = url.indexOf(`&${key}`, keyIndex2 + 1);\n    }\n    encoded = /[%+]/.test(url);\n    if (!encoded) {\n      return void 0;\n    }\n  }\n  const results = {};\n  encoded ??= /[%+]/.test(url);\n  let keyIndex = url.indexOf(\"?\", 8);\n  while (keyIndex !== -1) {\n    const nextKeyIndex = url.indexOf(\"&\", keyIndex + 1);\n    let valueIndex = url.indexOf(\"=\", keyIndex);\n    if (valueIndex > nextKeyIndex && nextKeyIndex !== -1) {\n      valueIndex = -1;\n    }\n    let name = url.slice(\n      keyIndex + 1,\n      valueIndex === -1 ? nextKeyIndex === -1 ? void 0 : nextKeyIndex : valueIndex\n    );\n    if (encoded) {\n      name = _decodeURI(name);\n    }\n    keyIndex = nextKeyIndex;\n    if (name === \"\") {\n      continue;\n    }\n    let value;\n    if (valueIndex === -1) {\n      value = \"\";\n    } else {\n      value = url.slice(valueIndex + 1, nextKeyIndex === -1 ? void 0 : nextKeyIndex);\n      if (encoded) {\n        value = _decodeURI(value);\n      }\n    }\n    if (multiple) {\n      if (!(results[name] && Array.isArray(results[name]))) {\n        results[name] = [];\n      }\n      ;\n      results[name].push(value);\n    } else {\n      results[name] ??= value;\n    }\n  }\n  return key ? results[key] : results;\n};\nvar getQueryParam = _getQueryParam;\nvar getQueryParams = (url, key) => {\n  return _getQueryParam(url, key, true);\n};\nvar decodeURIComponent_ = decodeURIComponent;\nexport {\n  checkOptionalParameter,\n  decodeURIComponent_,\n  getPath,\n  getPathNoStrict,\n  getPattern,\n  getQueryParam,\n  getQueryParams,\n  getQueryStrings,\n  mergePath,\n  splitPath,\n  splitRoutingPath,\n  tryDecode\n};\n", "// src/request.ts\nimport { HTTPException } from \"./http-exception.js\";\nimport { GET_MATCH_RESULT } from \"./request/constants.js\";\nimport { parseBody } from \"./utils/body.js\";\nimport { decodeURIComponent_, getQueryParam, getQueryParams, tryDecode } from \"./utils/url.js\";\nvar tryDecodeURIComponent = (str) => tryDecode(str, decodeURIComponent_);\nvar HonoRequest = class {\n  /**\n   * `.raw` can get the raw Request object.\n   *\n   * @see {@link https://hono.dev/docs/api/request#raw}\n   *\n   * @example\n   * ```ts\n   * // For Cloudflare Workers\n   * app.post('/', async (c) => {\n   *   const metadata = c.req.raw.cf?.hostMetadata?\n   *   ...\n   * })\n   * ```\n   */\n  raw;\n  #validatedData;\n  // Short name of validatedData\n  #matchResult;\n  routeIndex = 0;\n  /**\n   * `.path` can get the pathname of the request.\n   *\n   * @see {@link https://hono.dev/docs/api/request#path}\n   *\n   * @example\n   * ```ts\n   * app.get('/about/me', (c) => {\n   *   const pathname = c.req.path // `/about/me`\n   * })\n   * ```\n   */\n  path;\n  bodyCache = {};\n  constructor(request, path = \"/\", matchResult = [[]]) {\n    this.raw = request;\n    this.path = path;\n    this.#matchResult = matchResult;\n    this.#validatedData = {};\n  }\n  param(key) {\n    return key ? this.#getDecodedParam(key) : this.#getAllDecodedParams();\n  }\n  #getDecodedParam(key) {\n    const paramKey = this.#matchResult[0][this.routeIndex][1][key];\n    const param = this.#getParamValue(paramKey);\n    return param && /\\%/.test(param) ? tryDecodeURIComponent(param) : param;\n  }\n  #getAllDecodedParams() {\n    const decoded = {};\n    const keys = Object.keys(this.#matchResult[0][this.routeIndex][1]);\n    for (const key of keys) {\n      const value = this.#getParamValue(this.#matchResult[0][this.routeIndex][1][key]);\n      if (value !== void 0) {\n        decoded[key] = /\\%/.test(value) ? tryDecodeURIComponent(value) : value;\n      }\n    }\n    return decoded;\n  }\n  #getParamValue(paramKey) {\n    return this.#matchResult[1] ? this.#matchResult[1][paramKey] : paramKey;\n  }\n  query(key) {\n    return getQueryParam(this.url, key);\n  }\n  queries(key) {\n    return getQueryParams(this.url, key);\n  }\n  header(name) {\n    if (name) {\n      return this.raw.headers.get(name) ?? void 0;\n    }\n    const headerData = {};\n    this.raw.headers.forEach((value, key) => {\n      headerData[key] = value;\n    });\n    return headerData;\n  }\n  async parseBody(options) {\n    return this.bodyCache.parsedBody ??= await parseBody(this, options);\n  }\n  #cachedBody = (key) => {\n    const { bodyCache, raw } = this;\n    const cachedBody = bodyCache[key];\n    if (cachedBody) {\n      return cachedBody;\n    }\n    const anyCachedKey = Object.keys(bodyCache)[0];\n    if (anyCachedKey) {\n      return bodyCache[anyCachedKey].then((body) => {\n        if (anyCachedKey === \"json\") {\n          body = JSON.stringify(body);\n        }\n        return new Response(body)[key]();\n      });\n    }\n    return bodyCache[key] = raw[key]();\n  };\n  /**\n   * `.json()` can parse Request body of type `application/json`\n   *\n   * @see {@link https://hono.dev/docs/api/request#json}\n   *\n   * @example\n   * ```ts\n   * app.post('/entry', async (c) => {\n   *   const body = await c.req.json()\n   * })\n   * ```\n   */\n  json() {\n    return this.#cachedBody(\"text\").then((text) => JSON.parse(text));\n  }\n  /**\n   * `.text()` can parse Request body of type `text/plain`\n   *\n   * @see {@link https://hono.dev/docs/api/request#text}\n   *\n   * @example\n   * ```ts\n   * app.post('/entry', async (c) => {\n   *   const body = await c.req.text()\n   * })\n   * ```\n   */\n  text() {\n    return this.#cachedBody(\"text\");\n  }\n  /**\n   * `.arrayBuffer()` parse Request body as an `ArrayBuffer`\n   *\n   * @see {@link https://hono.dev/docs/api/request#arraybuffer}\n   *\n   * @example\n   * ```ts\n   * app.post('/entry', async (c) => {\n   *   const body = await c.req.arrayBuffer()\n   * })\n   * ```\n   */\n  arrayBuffer() {\n    return this.#cachedBody(\"arrayBuffer\");\n  }\n  /**\n   * Parses the request body as a `Blob`.\n   * @example\n   * ```ts\n   * app.post('/entry', async (c) => {\n   *   const body = await c.req.blob();\n   * });\n   * ```\n   * @see https://hono.dev/docs/api/request#blob\n   */\n  blob() {\n    return this.#cachedBody(\"blob\");\n  }\n  /**\n   * Parses the request body as `FormData`.\n   * @example\n   * ```ts\n   * app.post('/entry', async (c) => {\n   *   const body = await c.req.formData();\n   * });\n   * ```\n   * @see https://hono.dev/docs/api/request#formdata\n   */\n  formData() {\n    return this.#cachedBody(\"formData\");\n  }\n  /**\n   * Adds validated data to the request.\n   *\n   * @param target - The target of the validation.\n   * @param data - The validated data to add.\n   */\n  addValidatedData(target, data) {\n    this.#validatedData[target] = data;\n  }\n  valid(target) {\n    return this.#validatedData[target];\n  }\n  /**\n   * `.url()` can get the request url strings.\n   *\n   * @see {@link https://hono.dev/docs/api/request#url}\n   *\n   * @example\n   * ```ts\n   * app.get('/about/me', (c) => {\n   *   const url = c.req.url // `http://localhost:8787/about/me`\n   *   ...\n   * })\n   * ```\n   */\n  get url() {\n    return this.raw.url;\n  }\n  /**\n   * `.method()` can get the method name of the request.\n   *\n   * @see {@link https://hono.dev/docs/api/request#method}\n   *\n   * @example\n   * ```ts\n   * app.get('/about/me', (c) => {\n   *   const method = c.req.method // `GET`\n   * })\n   * ```\n   */\n  get method() {\n    return this.raw.method;\n  }\n  get [GET_MATCH_RESULT]() {\n    return this.#matchResult;\n  }\n  /**\n   * `.matchedRoutes()` can return a matched route in the handler\n   *\n   * @deprecated\n   *\n   * Use matchedRoutes helper defined in \"hono/route\" instead.\n   *\n   * @see {@link https://hono.dev/docs/api/request#matchedroutes}\n   *\n   * @example\n   * ```ts\n   * app.use('*', async function logger(c, next) {\n   *   await next()\n   *   c.req.matchedRoutes.forEach(({ handler, method, path }, i) => {\n   *     const name = handler.name || (handler.length < 2 ? '[handler]' : '[middleware]')\n   *     console.log(\n   *       method,\n   *       ' ',\n   *       path,\n   *       ' '.repeat(Math.max(10 - path.length, 0)),\n   *       name,\n   *       i === c.req.routeIndex ? '<- respond from here' : ''\n   *     )\n   *   })\n   * })\n   * ```\n   */\n  get matchedRoutes() {\n    return this.#matchResult[0].map(([[, route]]) => route);\n  }\n  /**\n   * `routePath()` can retrieve the path registered within the handler\n   *\n   * @deprecated\n   *\n   * Use routePath helper defined in \"hono/route\" instead.\n   *\n   * @see {@link https://hono.dev/docs/api/request#routepath}\n   *\n   * @example\n   * ```ts\n   * app.get('/posts/:id', (c) => {\n   *   return c.json({ path: c.req.routePath })\n   * })\n   * ```\n   */\n  get routePath() {\n    return this.#matchResult[0].map(([[, route]]) => route)[this.routeIndex].path;\n  }\n};\nvar cloneRawRequest = async (req) => {\n  if (!req.raw.bodyUsed) {\n    return req.raw.clone();\n  }\n  const cacheKey = Object.keys(req.bodyCache)[0];\n  if (!cacheKey) {\n    throw new HTTPException(500, {\n      message: \"Cannot clone request: body was already consumed and not cached. Please use HonoRequest methods (e.g., req.json(), req.text()) instead of consuming req.raw directly.\"\n    });\n  }\n  const requestInit = {\n    body: await req[cacheKey](),\n    cache: req.raw.cache,\n    credentials: req.raw.credentials,\n    headers: req.header(),\n    integrity: req.raw.integrity,\n    keepalive: req.raw.keepalive,\n    method: req.method,\n    mode: req.raw.mode,\n    redirect: req.raw.redirect,\n    referrer: req.raw.referrer,\n    referrerPolicy: req.raw.referrerPolicy,\n    signal: req.raw.signal\n  };\n  return new Request(req.url, requestInit);\n};\nexport {\n  HonoRequest,\n  cloneRawRequest\n};\n", "// src/utils/html.ts\nvar HtmlEscapedCallbackPhase = {\n  Stringify: 1,\n  BeforeStream: 2,\n  Stream: 3\n};\nvar raw = (value, callbacks) => {\n  const escapedString = new String(value);\n  escapedString.isEscaped = true;\n  escapedString.callbacks = callbacks;\n  return escapedString;\n};\nvar escapeRe = /[&<>'\"]/;\nvar stringBufferToString = async (buffer, callbacks) => {\n  let str = \"\";\n  callbacks ||= [];\n  const resolvedBuffer = await Promise.all(buffer);\n  for (let i = resolvedBuffer.length - 1; ; i--) {\n    str += resolvedBuffer[i];\n    i--;\n    if (i < 0) {\n      break;\n    }\n    let r = resolvedBuffer[i];\n    if (typeof r === \"object\") {\n      callbacks.push(...r.callbacks || []);\n    }\n    const isEscaped = r.isEscaped;\n    r = await (typeof r === \"object\" ? r.toString() : r);\n    if (typeof r === \"object\") {\n      callbacks.push(...r.callbacks || []);\n    }\n    if (r.isEscaped ?? isEscaped) {\n      str += r;\n    } else {\n      const buf = [str];\n      escapeToBuffer(r, buf);\n      str = buf[0];\n    }\n  }\n  return raw(str, callbacks);\n};\nvar escapeToBuffer = (str, buffer) => {\n  const match = str.search(escapeRe);\n  if (match === -1) {\n    buffer[0] += str;\n    return;\n  }\n  let escape;\n  let index;\n  let lastIndex = 0;\n  for (index = match; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34:\n        escape = \"&quot;\";\n        break;\n      case 39:\n        escape = \"&#39;\";\n        break;\n      case 38:\n        escape = \"&amp;\";\n        break;\n      case 60:\n        escape = \"&lt;\";\n        break;\n      case 62:\n        escape = \"&gt;\";\n        break;\n      default:\n        continue;\n    }\n    buffer[0] += str.substring(lastIndex, index) + escape;\n    lastIndex = index + 1;\n  }\n  buffer[0] += str.substring(lastIndex, index);\n};\nvar resolveCallbackSync = (str) => {\n  const callbacks = str.callbacks;\n  if (!callbacks?.length) {\n    return str;\n  }\n  const buffer = [str];\n  const context = {};\n  callbacks.forEach((c) => c({ phase: HtmlEscapedCallbackPhase.Stringify, buffer, context }));\n  return buffer[0];\n};\nvar resolveCallback = async (str, phase, preserveCallbacks, context, buffer) => {\n  if (typeof str === \"object\" && !(str instanceof String)) {\n    if (!(str instanceof Promise)) {\n      str = str.toString();\n    }\n    if (str instanceof Promise) {\n      str = await str;\n    }\n  }\n  const callbacks = str.callbacks;\n  if (!callbacks?.length) {\n    return Promise.resolve(str);\n  }\n  if (buffer) {\n    buffer[0] += str;\n  } else {\n    buffer = [str];\n  }\n  const resStr = Promise.all(callbacks.map((c) => c({ phase, buffer, context }))).then(\n    (res) => Promise.all(\n      res.filter(Boolean).map((str2) => resolveCallback(str2, phase, false, context, buffer))\n    ).then(() => buffer[0])\n  );\n  if (preserveCallbacks) {\n    return raw(await resStr, callbacks);\n  } else {\n    return resStr;\n  }\n};\nexport {\n  HtmlEscapedCallbackPhase,\n  escapeToBuffer,\n  raw,\n  resolveCallback,\n  resolveCallbackSync,\n  stringBufferToString\n};\n", "// src/context.ts\nimport { HonoRequest } from \"./request.js\";\nimport { HtmlEscapedCallbackPhase, resolveCallback } from \"./utils/html.js\";\nvar TEXT_PLAIN = \"text/plain; charset=UTF-8\";\nvar setDefaultContentType = (contentType, headers) => {\n  return {\n    \"Content-Type\": contentType,\n    ...headers\n  };\n};\nvar Context = class {\n  #rawRequest;\n  #req;\n  /**\n   * `.env` can get bindings (environment variables, secrets, KV namespaces, D1 database, R2 bucket etc.) in Cloudflare Workers.\n   *\n   * @see {@link https://hono.dev/docs/api/context#env}\n   *\n   * @example\n   * ```ts\n   * // Environment object for Cloudflare Workers\n   * app.get('*', async c => {\n   *   const counter = c.env.COUNTER\n   * })\n   * ```\n   */\n  env = {};\n  #var;\n  finalized = false;\n  /**\n   * `.error` can get the error object from the middleware if the Handler throws an error.\n   *\n   * @see {@link https://hono.dev/docs/api/context#error}\n   *\n   * @example\n   * ```ts\n   * app.use('*', async (c, next) => {\n   *   await next()\n   *   if (c.error) {\n   *     // do something...\n   *   }\n   * })\n   * ```\n   */\n  error;\n  #status;\n  #executionCtx;\n  #res;\n  #layout;\n  #renderer;\n  #notFoundHandler;\n  #preparedHeaders;\n  #matchResult;\n  #path;\n  /**\n   * Creates an instance of the Context class.\n   *\n   * @param req - The Request object.\n   * @param options - Optional configuration options for the context.\n   */\n  constructor(req, options) {\n    this.#rawRequest = req;\n    if (options) {\n      this.#executionCtx = options.executionCtx;\n      this.env = options.env;\n      this.#notFoundHandler = options.notFoundHandler;\n      this.#path = options.path;\n      this.#matchResult = options.matchResult;\n    }\n  }\n  /**\n   * `.req` is the instance of {@link HonoRequest}.\n   */\n  get req() {\n    this.#req ??= new HonoRequest(this.#rawRequest, this.#path, this.#matchResult);\n    return this.#req;\n  }\n  /**\n   * @see {@link https://hono.dev/docs/api/context#event}\n   * The FetchEvent associated with the current request.\n   *\n   * @throws Will throw an error if the context does not have a FetchEvent.\n   */\n  get event() {\n    if (this.#executionCtx && \"respondWith\" in this.#executionCtx) {\n      return this.#executionCtx;\n    } else {\n      throw Error(\"This context has no FetchEvent\");\n    }\n  }\n  /**\n   * @see {@link https://hono.dev/docs/api/context#executionctx}\n   * The ExecutionContext associated with the current request.\n   *\n   * @throws Will throw an error if the context does not have an ExecutionContext.\n   */\n  get executionCtx() {\n    if (this.#executionCtx) {\n      return this.#executionCtx;\n    } else {\n      throw Error(\"This context has no ExecutionContext\");\n    }\n  }\n  /**\n   * @see {@link https://hono.dev/docs/api/context#res}\n   * The Response object for the current request.\n   */\n  get res() {\n    return this.#res ||= new Response(null, {\n      headers: this.#preparedHeaders ??= new Headers()\n    });\n  }\n  /**\n   * Sets the Response object for the current request.\n   *\n   * @param _res - The Response object to set.\n   */\n  set res(_res) {\n    if (this.#res && _res) {\n      _res = new Response(_res.body, _res);\n      for (const [k, v] of this.#res.headers.entries()) {\n        if (k === \"content-type\") {\n          continue;\n        }\n        if (k === \"set-cookie\") {\n          const cookies = this.#res.headers.getSetCookie();\n          _res.headers.delete(\"set-cookie\");\n          for (const cookie of cookies) {\n            _res.headers.append(\"set-cookie\", cookie);\n          }\n        } else {\n          _res.headers.set(k, v);\n        }\n      }\n    }\n    this.#res = _res;\n    this.finalized = true;\n  }\n  /**\n   * `.render()` can create a response within a layout.\n   *\n   * @see {@link https://hono.dev/docs/api/context#render-setrenderer}\n   *\n   * @example\n   * ```ts\n   * app.get('/', (c) => {\n   *   return c.render('Hello!')\n   * })\n   * ```\n   */\n  render = (...args) => {\n    this.#renderer ??= (content) => this.html(content);\n    return this.#renderer(...args);\n  };\n  /**\n   * Sets the layout for the response.\n   *\n   * @param layout - The layout to set.\n   * @returns The layout function.\n   */\n  setLayout = (layout) => this.#layout = layout;\n  /**\n   * Gets the current layout for the response.\n   *\n   * @returns The current layout function.\n   */\n  getLayout = () => this.#layout;\n  /**\n   * `.setRenderer()` can set the layout in the custom middleware.\n   *\n   * @see {@link https://hono.dev/docs/api/context#render-setrenderer}\n   *\n   * @example\n   * ```tsx\n   * app.use('*', async (c, next) => {\n   *   c.setRenderer((content) => {\n   *     return c.html(\n   *       <html>\n   *         <body>\n   *           <p>{content}</p>\n   *         </body>\n   *       </html>\n   *     )\n   *   })\n   *   await next()\n   * })\n   * ```\n   */\n  setRenderer = (renderer) => {\n    this.#renderer = renderer;\n  };\n  /**\n   * `.header()` can set headers.\n   *\n   * @see {@link https://hono.dev/docs/api/context#header}\n   *\n   * @example\n   * ```ts\n   * app.get('/welcome', (c) => {\n   *   // Set headers\n   *   c.header('X-Message', 'Hello!')\n   *   c.header('Content-Type', 'text/plain')\n   *\n   *   return c.body('Thank you for coming')\n   * })\n   * ```\n   */\n  header = (name, value, options) => {\n    if (this.finalized) {\n      this.#res = new Response(this.#res.body, this.#res);\n    }\n    const headers = this.#res ? this.#res.headers : this.#preparedHeaders ??= new Headers();\n    if (value === void 0) {\n      headers.delete(name);\n    } else if (options?.append) {\n      headers.append(name, value);\n    } else {\n      headers.set(name, value);\n    }\n  };\n  status = (status) => {\n    this.#status = status;\n  };\n  /**\n   * `.set()` can set the value specified by the key.\n   *\n   * @see {@link https://hono.dev/docs/api/context#set-get}\n   *\n   * @example\n   * ```ts\n   * app.use('*', async (c, next) => {\n   *   c.set('message', 'Hono is hot!!')\n   *   await next()\n   * })\n   * ```\n   */\n  set = (key, value) => {\n    this.#var ??= /* @__PURE__ */ new Map();\n    this.#var.set(key, value);\n  };\n  /**\n   * `.get()` can use the value specified by the key.\n   *\n   * @see {@link https://hono.dev/docs/api/context#set-get}\n   *\n   * @example\n   * ```ts\n   * app.get('/', (c) => {\n   *   const message = c.get('message')\n   *   return c.text(`The message is \"${message}\"`)\n   * })\n   * ```\n   */\n  get = (key) => {\n    return this.#var ? this.#var.get(key) : void 0;\n  };\n  /**\n   * `.var` can access the value of a variable.\n   *\n   * @see {@link https://hono.dev/docs/api/context#var}\n   *\n   * @example\n   * ```ts\n   * const result = c.var.client.oneMethod()\n   * ```\n   */\n  // c.var.propName is a read-only\n  get var() {\n    if (!this.#var) {\n      return {};\n    }\n    return Object.fromEntries(this.#var);\n  }\n  #newResponse(data, arg, headers) {\n    const responseHeaders = this.#res ? new Headers(this.#res.headers) : this.#preparedHeaders ?? new Headers();\n    if (typeof arg === \"object\" && \"headers\" in arg) {\n      const argHeaders = arg.headers instanceof Headers ? arg.headers : new Headers(arg.headers);\n      for (const [key, value] of argHeaders) {\n        if (key.toLowerCase() === \"set-cookie\") {\n          responseHeaders.append(key, value);\n        } else {\n          responseHeaders.set(key, value);\n        }\n      }\n    }\n    if (headers) {\n      for (const [k, v] of Object.entries(headers)) {\n        if (typeof v === \"string\") {\n          responseHeaders.set(k, v);\n        } else {\n          responseHeaders.delete(k);\n          for (const v2 of v) {\n            responseHeaders.append(k, v2);\n          }\n        }\n      }\n    }\n    const status = typeof arg === \"number\" ? arg : arg?.status ?? this.#status;\n    return new Response(data, { status, headers: responseHeaders });\n  }\n  newResponse = (...args) => this.#newResponse(...args);\n  /**\n   * `.body()` can return the HTTP response.\n   * You can set headers with `.header()` and set HTTP status code with `.status`.\n   * This can also be set in `.text()`, `.json()` and so on.\n   *\n   * @see {@link https://hono.dev/docs/api/context#body}\n   *\n   * @example\n   * ```ts\n   * app.get('/welcome', (c) => {\n   *   // Set headers\n   *   c.header('X-Message', 'Hello!')\n   *   c.header('Content-Type', 'text/plain')\n   *   // Set HTTP status code\n   *   c.status(201)\n   *\n   *   // Return the response body\n   *   return c.body('Thank you for coming')\n   * })\n   * ```\n   */\n  body = (data, arg, headers) => this.#newResponse(data, arg, headers);\n  /**\n   * `.text()` can render text as `Content-Type:text/plain`.\n   *\n   * @see {@link https://hono.dev/docs/api/context#text}\n   *\n   * @example\n   * ```ts\n   * app.get('/say', (c) => {\n   *   return c.text('Hello!')\n   * })\n   * ```\n   */\n  text = (text, arg, headers) => {\n    return !this.#preparedHeaders && !this.#status && !arg && !headers && !this.finalized ? new Response(text) : this.#newResponse(\n      text,\n      arg,\n      setDefaultContentType(TEXT_PLAIN, headers)\n    );\n  };\n  /**\n   * `.json()` can render JSON as `Content-Type:application/json`.\n   *\n   * @see {@link https://hono.dev/docs/api/context#json}\n   *\n   * @example\n   * ```ts\n   * app.get('/api', (c) => {\n   *   return c.json({ message: 'Hello!' })\n   * })\n   * ```\n   */\n  json = (object, arg, headers) => {\n    return this.#newResponse(\n      JSON.stringify(object),\n      arg,\n      setDefaultContentType(\"application/json\", headers)\n    );\n  };\n  html = (html, arg, headers) => {\n    const res = (html2) => this.#newResponse(html2, arg, setDefaultContentType(\"text/html; charset=UTF-8\", headers));\n    return typeof html === \"object\" ? resolveCallback(html, HtmlEscapedCallbackPhase.Stringify, false, {}).then(res) : res(html);\n  };\n  /**\n   * `.redirect()` can Redirect, default status code is 302.\n   *\n   * @see {@link https://hono.dev/docs/api/context#redirect}\n   *\n   * @example\n   * ```ts\n   * app.get('/redirect', (c) => {\n   *   return c.redirect('/')\n   * })\n   * app.get('/redirect-permanently', (c) => {\n   *   return c.redirect('/', 301)\n   * })\n   * ```\n   */\n  redirect = (location, status) => {\n    const locationString = String(location);\n    this.header(\n      \"Location\",\n      // Multibyes should be encoded\n      // eslint-disable-next-line no-control-regex\n      !/[^\\x00-\\xFF]/.test(locationString) ? locationString : encodeURI(locationString)\n    );\n    return this.newResponse(null, status ?? 302);\n  };\n  /**\n   * `.notFound()` can return the Not Found Response.\n   *\n   * @see {@link https://hono.dev/docs/api/context#notfound}\n   *\n   * @example\n   * ```ts\n   * app.get('/notfound', (c) => {\n   *   return c.notFound()\n   * })\n   * ```\n   */\n  notFound = () => {\n    this.#notFoundHandler ??= () => new Response();\n    return this.#notFoundHandler(this);\n  };\n};\nexport {\n  Context,\n  TEXT_PLAIN\n};\n", "// src/router.ts\nvar METHOD_NAME_ALL = \"ALL\";\nvar METHOD_NAME_ALL_LOWERCASE = \"all\";\nvar METHODS = [\"get\", \"post\", \"put\", \"delete\", \"options\", \"patch\"];\nvar MESSAGE_MATCHER_IS_ALREADY_BUILT = \"Can not add a route since the matcher is already built.\";\nvar UnsupportedPathError = class extends Error {\n};\nexport {\n  MESSAGE_MATCHER_IS_ALREADY_BUILT,\n  METHODS,\n  METHOD_NAME_ALL,\n  METHOD_NAME_ALL_LOWERCASE,\n  UnsupportedPathError\n};\n", "// src/utils/constants.ts\nvar COMPOSED_HANDLER = \"__COMPOSED_HANDLER\";\nexport {\n  COMPOSED_HANDLER\n};\n", "// src/hono-base.ts\nimport { compose } from \"./compose.js\";\nimport { Context } from \"./context.js\";\nimport { METHODS, METHOD_NAME_ALL, METHOD_NAME_ALL_LOWERCASE } from \"./router.js\";\nimport { COMPOSED_HANDLER } from \"./utils/constants.js\";\nimport { getPath, getPathNoStrict, mergePath } from \"./utils/url.js\";\nvar notFoundHandler = (c) => {\n  return c.text(\"404 Not Found\", 404);\n};\nvar errorHandler = (err, c) => {\n  if (\"getResponse\" in err) {\n    const res = err.getResponse();\n    return c.newResponse(res.body, res);\n  }\n  console.error(err);\n  return c.text(\"Internal Server Error\", 500);\n};\nvar Hono = class _Hono {\n  get;\n  post;\n  put;\n  delete;\n  options;\n  patch;\n  all;\n  on;\n  use;\n  /*\n    This class is like an abstract class and does not have a router.\n    To use it, inherit the class and implement router in the constructor.\n  */\n  router;\n  getPath;\n  // Cannot use `#` because it requires visibility at JavaScript runtime.\n  _basePath = \"/\";\n  #path = \"/\";\n  routes = [];\n  constructor(options = {}) {\n    const allMethods = [...METHODS, METHOD_NAME_ALL_LOWERCASE];\n    allMethods.forEach((method) => {\n      this[method] = (args1, ...args) => {\n        if (typeof args1 === \"string\") {\n          this.#path = args1;\n        } else {\n          this.#addRoute(method, this.#path, args1);\n        }\n        args.forEach((handler) => {\n          this.#addRoute(method, this.#path, handler);\n        });\n        return this;\n      };\n    });\n    this.on = (method, path, ...handlers) => {\n      for (const p of [path].flat()) {\n        this.#path = p;\n        for (const m of [method].flat()) {\n          handlers.map((handler) => {\n            this.#addRoute(m.toUpperCase(), this.#path, handler);\n          });\n        }\n      }\n      return this;\n    };\n    this.use = (arg1, ...handlers) => {\n      if (typeof arg1 === \"string\") {\n        this.#path = arg1;\n      } else {\n        this.#path = \"*\";\n        handlers.unshift(arg1);\n      }\n      handlers.forEach((handler) => {\n        this.#addRoute(METHOD_NAME_ALL, this.#path, handler);\n      });\n      return this;\n    };\n    const { strict, ...optionsWithoutStrict } = options;\n    Object.assign(this, optionsWithoutStrict);\n    this.getPath = strict ?? true ? options.getPath ?? getPath : getPathNoStrict;\n  }\n  #clone() {\n    const clone = new _Hono({\n      router: this.router,\n      getPath: this.getPath\n    });\n    clone.errorHandler = this.errorHandler;\n    clone.#notFoundHandler = this.#notFoundHandler;\n    clone.routes = this.routes;\n    return clone;\n  }\n  #notFoundHandler = notFoundHandler;\n  // Cannot use `#` because it requires visibility at JavaScript runtime.\n  errorHandler = errorHandler;\n  /**\n   * `.route()` allows grouping other Hono instance in routes.\n   *\n   * @see {@link https://hono.dev/docs/api/routing#grouping}\n   *\n   * @param {string} path - base Path\n   * @param {Hono} app - other Hono instance\n   * @returns {Hono} routed Hono instance\n   *\n   * @example\n   * ```ts\n   * const app = new Hono()\n   * const app2 = new Hono()\n   *\n   * app2.get(\"/user\", (c) => c.text(\"user\"))\n   * app.route(\"/api\", app2) // GET /api/user\n   * ```\n   */\n  route(path, app) {\n    const subApp = this.basePath(path);\n    app.routes.map((r) => {\n      let handler;\n      if (app.errorHandler === errorHandler) {\n        handler = r.handler;\n      } else {\n        handler = async (c, next) => (await compose([], app.errorHandler)(c, () => r.handler(c, next))).res;\n        handler[COMPOSED_HANDLER] = r.handler;\n      }\n      subApp.#addRoute(r.method, r.path, handler);\n    });\n    return this;\n  }\n  /**\n   * `.basePath()` allows base paths to be specified.\n   *\n   * @see {@link https://hono.dev/docs/api/routing#base-path}\n   *\n   * @param {string} path - base Path\n   * @returns {Hono} changed Hono instance\n   *\n   * @example\n   * ```ts\n   * const api = new Hono().basePath('/api')\n   * ```\n   */\n  basePath(path) {\n    const subApp = this.#clone();\n    subApp._basePath = mergePath(this._basePath, path);\n    return subApp;\n  }\n  /**\n   * `.onError()` handles an error and returns a customized Response.\n   *\n   * @see {@link https://hono.dev/docs/api/hono#error-handling}\n   *\n   * @param {ErrorHandler} handler - request Handler for error\n   * @returns {Hono} changed Hono instance\n   *\n   * @example\n   * ```ts\n   * app.onError((err, c) => {\n   *   console.error(`${err}`)\n   *   return c.text('Custom Error Message', 500)\n   * })\n   * ```\n   */\n  onError = (handler) => {\n    this.errorHandler = handler;\n    return this;\n  };\n  /**\n   * `.notFound()` allows you to customize a Not Found Response.\n   *\n   * @see {@link https://hono.dev/docs/api/hono#not-found}\n   *\n   * @param {NotFoundHandler} handler - request handler for not-found\n   * @returns {Hono} changed Hono instance\n   *\n   * @example\n   * ```ts\n   * app.notFound((c) => {\n   *   return c.text('Custom 404 Message', 404)\n   * })\n   * ```\n   */\n  notFound = (handler) => {\n    this.#notFoundHandler = handler;\n    return this;\n  };\n  /**\n   * `.mount()` allows you to mount applications built with other frameworks into your Hono application.\n   *\n   * @see {@link https://hono.dev/docs/api/hono#mount}\n   *\n   * @param {string} path - base Path\n   * @param {Function} applicationHandler - other Request Handler\n   * @param {MountOptions} [options] - options of `.mount()`\n   * @returns {Hono} mounted Hono instance\n   *\n   * @example\n   * ```ts\n   * import { Router as IttyRouter } from 'itty-router'\n   * import { Hono } from 'hono'\n   * // Create itty-router application\n   * const ittyRouter = IttyRouter()\n   * // GET /itty-router/hello\n   * ittyRouter.get('/hello', () => new Response('Hello from itty-router'))\n   *\n   * const app = new Hono()\n   * app.mount('/itty-router', ittyRouter.handle)\n   * ```\n   *\n   * @example\n   * ```ts\n   * const app = new Hono()\n   * // Send the request to another application without modification.\n   * app.mount('/app', anotherApp, {\n   *   replaceRequest: (req) => req,\n   * })\n   * ```\n   */\n  mount(path, applicationHandler, options) {\n    let replaceRequest;\n    let optionHandler;\n    if (options) {\n      if (typeof options === \"function\") {\n        optionHandler = options;\n      } else {\n        optionHandler = options.optionHandler;\n        if (options.replaceRequest === false) {\n          replaceRequest = (request) => request;\n        } else {\n          replaceRequest = options.replaceRequest;\n        }\n      }\n    }\n    const getOptions = optionHandler ? (c) => {\n      const options2 = optionHandler(c);\n      return Array.isArray(options2) ? options2 : [options2];\n    } : (c) => {\n      let executionContext = void 0;\n      try {\n        executionContext = c.executionCtx;\n      } catch {\n      }\n      return [c.env, executionContext];\n    };\n    replaceRequest ||= (() => {\n      const mergedPath = mergePath(this._basePath, path);\n      const pathPrefixLength = mergedPath === \"/\" ? 0 : mergedPath.length;\n      return (request) => {\n        const url = new URL(request.url);\n        url.pathname = url.pathname.slice(pathPrefixLength) || \"/\";\n        return new Request(url, request);\n      };\n    })();\n    const handler = async (c, next) => {\n      const res = await applicationHandler(replaceRequest(c.req.raw), ...getOptions(c));\n      if (res) {\n        return res;\n      }\n      await next();\n    };\n    this.#addRoute(METHOD_NAME_ALL, mergePath(path, \"*\"), handler);\n    return this;\n  }\n  #addRoute(method, path, handler) {\n    method = method.toUpperCase();\n    path = mergePath(this._basePath, path);\n    const r = { basePath: this._basePath, path, method, handler };\n    this.router.add(method, path, [handler, r]);\n    this.routes.push(r);\n  }\n  #handleError(err, c) {\n    if (err instanceof Error) {\n      return this.errorHandler(err, c);\n    }\n    throw err;\n  }\n  #dispatch(request, executionCtx, env, method) {\n    if (method === \"HEAD\") {\n      return (async () => new Response(null, await this.#dispatch(request, executionCtx, env, \"GET\")))();\n    }\n    const path = this.getPath(request, { env });\n    const matchResult = this.router.match(method, path);\n    const c = new Context(request, {\n      path,\n      matchResult,\n      env,\n      executionCtx,\n      notFoundHandler: this.#notFoundHandler\n    });\n    if (matchResult[0].length === 1) {\n      let res;\n      try {\n        res = matchResult[0][0][0][0](c, async () => {\n          c.res = await this.#notFoundHandler(c);\n        });\n      } catch (err) {\n        return this.#handleError(err, c);\n      }\n      return res instanceof Promise ? res.then(\n        (resolved) => resolved || (c.finalized ? c.res : this.#notFoundHandler(c))\n      ).catch((err) => this.#handleError(err, c)) : res ?? this.#notFoundHandler(c);\n    }\n    const composed = compose(matchResult[0], this.errorHandler, this.#notFoundHandler);\n    return (async () => {\n      try {\n        const context = await composed(c);\n        if (!context.finalized) {\n          throw new Error(\n            \"Context is not finalized. Did you forget to return a Response object or `await next()`?\"\n          );\n        }\n        return context.res;\n      } catch (err) {\n        return this.#handleError(err, c);\n      }\n    })();\n  }\n  /**\n   * `.fetch()` will be entry point of your app.\n   *\n   * @see {@link https://hono.dev/docs/api/hono#fetch}\n   *\n   * @param {Request} request - request Object of request\n   * @param {Env} Env - env Object\n   * @param {ExecutionContext} - context of execution\n   * @returns {Response | Promise<Response>} response of request\n   *\n   */\n  fetch = (request, ...rest) => {\n    return this.#dispatch(request, rest[1], rest[0], request.method);\n  };\n  /**\n   * `.request()` is a useful method for testing.\n   * You can pass a URL or pathname to send a GET request.\n   * app will return a Response object.\n   * ```ts\n   * test('GET /hello is ok', async () => {\n   *   const res = await app.request('/hello')\n   *   expect(res.status).toBe(200)\n   * })\n   * ```\n   * @see https://hono.dev/docs/api/hono#request\n   */\n  request = (input, requestInit, Env, executionCtx) => {\n    if (input instanceof Request) {\n      return this.fetch(requestInit ? new Request(input, requestInit) : input, Env, executionCtx);\n    }\n    input = input.toString();\n    return this.fetch(\n      new Request(\n        /^https?:\\/\\//.test(input) ? input : `http://localhost${mergePath(\"/\", input)}`,\n        requestInit\n      ),\n      Env,\n      executionCtx\n    );\n  };\n  /**\n   * `.fire()` automatically adds a global fetch event listener.\n   * This can be useful for environments that adhere to the Service Worker API, such as non-ES module Cloudflare Workers.\n   * @deprecated\n   * Use `fire` from `hono/service-worker` instead.\n   * ```ts\n   * import { Hono } from 'hono'\n   * import { fire } from 'hono/service-worker'\n   *\n   * const app = new Hono()\n   * // ...\n   * fire(app)\n   * ```\n   * @see https://hono.dev/docs/api/hono#fire\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API\n   * @see https://developers.cloudflare.com/workers/reference/migrate-to-module-workers/\n   */\n  fire = () => {\n    addEventListener(\"fetch\", (event) => {\n      event.respondWith(this.#dispatch(event.request, event, void 0, event.request.method));\n    });\n  };\n};\nexport {\n  Hono as HonoBase\n};\n", "// src/router/reg-exp-router/matcher.ts\nimport { METHOD_NAME_ALL } from \"../../router.js\";\nvar emptyParam = [];\nfunction match(method, path) {\n  const matchers = this.buildAllMatchers();\n  const match2 = ((method2, path2) => {\n    const matcher = matchers[method2] || matchers[METHOD_NAME_ALL];\n    const staticMatch = matcher[2][path2];\n    if (staticMatch) {\n      return staticMatch;\n    }\n    const match3 = path2.match(matcher[0]);\n    if (!match3) {\n      return [[], emptyParam];\n    }\n    const index = match3.indexOf(\"\", 1);\n    return [matcher[1][index], match3];\n  });\n  this.match = match2;\n  return match2(method, path);\n}\nexport {\n  emptyParam,\n  match\n};\n", "// src/router/reg-exp-router/node.ts\nvar LABEL_REG_EXP_STR = \"[^/]+\";\nvar ONLY_WILDCARD_REG_EXP_STR = \".*\";\nvar TAIL_WILDCARD_REG_EXP_STR = \"(?:|/.*)\";\nvar PATH_ERROR = /* @__PURE__ */ Symbol();\nvar regExpMetaChars = new Set(\".\\\\+*[^]$()\");\nfunction compareKey(a, b) {\n  if (a.length === 1) {\n    return b.length === 1 ? a < b ? -1 : 1 : -1;\n  }\n  if (b.length === 1) {\n    return 1;\n  }\n  if (a === ONLY_WILDCARD_REG_EXP_STR || a === TAIL_WILDCARD_REG_EXP_STR) {\n    return 1;\n  } else if (b === ONLY_WILDCARD_REG_EXP_STR || b === TAIL_WILDCARD_REG_EXP_STR) {\n    return -1;\n  }\n  if (a === LABEL_REG_EXP_STR) {\n    return 1;\n  } else if (b === LABEL_REG_EXP_STR) {\n    return -1;\n  }\n  return a.length === b.length ? a < b ? -1 : 1 : b.length - a.length;\n}\nvar Node = class _Node {\n  #index;\n  #varIndex;\n  #children = /* @__PURE__ */ Object.create(null);\n  insert(tokens, index, paramMap, context, pathErrorCheckOnly) {\n    if (tokens.length === 0) {\n      if (this.#index !== void 0) {\n        throw PATH_ERROR;\n      }\n      if (pathErrorCheckOnly) {\n        return;\n      }\n      this.#index = index;\n      return;\n    }\n    const [token, ...restTokens] = tokens;\n    const pattern = token === \"*\" ? restTokens.length === 0 ? [\"\", \"\", ONLY_WILDCARD_REG_EXP_STR] : [\"\", \"\", LABEL_REG_EXP_STR] : token === \"/*\" ? [\"\", \"\", TAIL_WILDCARD_REG_EXP_STR] : token.match(/^\\:([^\\{\\}]+)(?:\\{(.+)\\})?$/);\n    let node;\n    if (pattern) {\n      const name = pattern[1];\n      let regexpStr = pattern[2] || LABEL_REG_EXP_STR;\n      if (name && pattern[2]) {\n        if (regexpStr === \".*\") {\n          throw PATH_ERROR;\n        }\n        regexpStr = regexpStr.replace(/^\\((?!\\?:)(?=[^)]+\\)$)/, \"(?:\");\n        if (/\\((?!\\?:)/.test(regexpStr)) {\n          throw PATH_ERROR;\n        }\n      }\n      node = this.#children[regexpStr];\n      if (!node) {\n        if (Object.keys(this.#children).some(\n          (k) => k !== ONLY_WILDCARD_REG_EXP_STR && k !== TAIL_WILDCARD_REG_EXP_STR\n        )) {\n          throw PATH_ERROR;\n        }\n        if (pathErrorCheckOnly) {\n          return;\n        }\n        node = this.#children[regexpStr] = new _Node();\n        if (name !== \"\") {\n          node.#varIndex = context.varIndex++;\n        }\n      }\n      if (!pathErrorCheckOnly && name !== \"\") {\n        paramMap.push([name, node.#varIndex]);\n      }\n    } else {\n      node = this.#children[token];\n      if (!node) {\n        if (Object.keys(this.#children).some(\n          (k) => k.length > 1 && k !== ONLY_WILDCARD_REG_EXP_STR && k !== TAIL_WILDCARD_REG_EXP_STR\n        )) {\n          throw PATH_ERROR;\n        }\n        if (pathErrorCheckOnly) {\n          return;\n        }\n        node = this.#children[token] = new _Node();\n      }\n    }\n    node.insert(restTokens, index, paramMap, context, pathErrorCheckOnly);\n  }\n  buildRegExpStr() {\n    const childKeys = Object.keys(this.#children).sort(compareKey);\n    const strList = childKeys.map((k) => {\n      const c = this.#children[k];\n      return (typeof c.#varIndex === \"number\" ? `(${k})@${c.#varIndex}` : regExpMetaChars.has(k) ? `\\\\${k}` : k) + c.buildRegExpStr();\n    });\n    if (typeof this.#index === \"number\") {\n      strList.unshift(`#${this.#index}`);\n    }\n    if (strList.length === 0) {\n      return \"\";\n    }\n    if (strList.length === 1) {\n      return strList[0];\n    }\n    return \"(?:\" + strList.join(\"|\") + \")\";\n  }\n};\nexport {\n  Node,\n  PATH_ERROR\n};\n", "// src/router/reg-exp-router/trie.ts\nimport { Node } from \"./node.js\";\nvar Trie = class {\n  #context = { varIndex: 0 };\n  #root = new Node();\n  insert(path, index, pathErrorCheckOnly) {\n    const paramAssoc = [];\n    const groups = [];\n    for (let i = 0; ; ) {\n      let replaced = false;\n      path = path.replace(/\\{[^}]+\\}/g, (m) => {\n        const mark = `@\\\\${i}`;\n        groups[i] = [mark, m];\n        i++;\n        replaced = true;\n        return mark;\n      });\n      if (!replaced) {\n        break;\n      }\n    }\n    const tokens = path.match(/(?::[^\\/]+)|(?:\\/\\*$)|./g) || [];\n    for (let i = groups.length - 1; i >= 0; i--) {\n      const [mark] = groups[i];\n      for (let j = tokens.length - 1; j >= 0; j--) {\n        if (tokens[j].indexOf(mark) !== -1) {\n          tokens[j] = tokens[j].replace(mark, groups[i][1]);\n          break;\n        }\n      }\n    }\n    this.#root.insert(tokens, index, paramAssoc, this.#context, pathErrorCheckOnly);\n    return paramAssoc;\n  }\n  buildRegExp() {\n    let regexp = this.#root.buildRegExpStr();\n    if (regexp === \"\") {\n      return [/^$/, [], []];\n    }\n    let captureIndex = 0;\n    const indexReplacementMap = [];\n    const paramReplacementMap = [];\n    regexp = regexp.replace(/#(\\d+)|@(\\d+)|\\.\\*\\$/g, (_, handlerIndex, paramIndex) => {\n      if (handlerIndex !== void 0) {\n        indexReplacementMap[++captureIndex] = Number(handlerIndex);\n        return \"$()\";\n      }\n      if (paramIndex !== void 0) {\n        paramReplacementMap[Number(paramIndex)] = ++captureIndex;\n        return \"\";\n      }\n      return \"\";\n    });\n    return [new RegExp(`^${regexp}`), indexReplacementMap, paramReplacementMap];\n  }\n};\nexport {\n  Trie\n};\n", "// src/router/reg-exp-router/router.ts\nimport {\n  MESSAGE_MATCHER_IS_ALREADY_BUILT,\n  METHOD_NAME_ALL,\n  UnsupportedPathError\n} from \"../../router.js\";\nimport { checkOptionalParameter } from \"../../utils/url.js\";\nimport { match, emptyParam } from \"./matcher.js\";\nimport { PATH_ERROR } from \"./node.js\";\nimport { Trie } from \"./trie.js\";\nvar nullMatcher = [/^$/, [], /* @__PURE__ */ Object.create(null)];\nvar wildcardRegExpCache = /* @__PURE__ */ Object.create(null);\nfunction buildWildcardRegExp(path) {\n  return wildcardRegExpCache[path] ??= new RegExp(\n    path === \"*\" ? \"\" : `^${path.replace(\n      /\\/\\*$|([.\\\\+*[^\\]$()])/g,\n      (_, metaChar) => metaChar ? `\\\\${metaChar}` : \"(?:|/.*)\"\n    )}$`\n  );\n}\nfunction clearWildcardRegExpCache() {\n  wildcardRegExpCache = /* @__PURE__ */ Object.create(null);\n}\nfunction buildMatcherFromPreprocessedRoutes(routes) {\n  const trie = new Trie();\n  const handlerData = [];\n  if (routes.length === 0) {\n    return nullMatcher;\n  }\n  const routesWithStaticPathFlag = routes.map(\n    (route) => [!/\\*|\\/:/.test(route[0]), ...route]\n  ).sort(\n    ([isStaticA, pathA], [isStaticB, pathB]) => isStaticA ? 1 : isStaticB ? -1 : pathA.length - pathB.length\n  );\n  const staticMap = /* @__PURE__ */ Object.create(null);\n  for (let i = 0, j = -1, len = routesWithStaticPathFlag.length; i < len; i++) {\n    const [pathErrorCheckOnly, path, handlers] = routesWithStaticPathFlag[i];\n    if (pathErrorCheckOnly) {\n      staticMap[path] = [handlers.map(([h]) => [h, /* @__PURE__ */ Object.create(null)]), emptyParam];\n    } else {\n      j++;\n    }\n    let paramAssoc;\n    try {\n      paramAssoc = trie.insert(path, j, pathErrorCheckOnly);\n    } catch (e) {\n      throw e === PATH_ERROR ? new UnsupportedPathError(path) : e;\n    }\n    if (pathErrorCheckOnly) {\n      continue;\n    }\n    handlerData[j] = handlers.map(([h, paramCount]) => {\n      const paramIndexMap = /* @__PURE__ */ Object.create(null);\n      paramCount -= 1;\n      for (; paramCount >= 0; paramCount--) {\n        const [key, value] = paramAssoc[paramCount];\n        paramIndexMap[key] = value;\n      }\n      return [h, paramIndexMap];\n    });\n  }\n  const [regexp, indexReplacementMap, paramReplacementMap] = trie.buildRegExp();\n  for (let i = 0, len = handlerData.length; i < len; i++) {\n    for (let j = 0, len2 = handlerData[i].length; j < len2; j++) {\n      const map = handlerData[i][j]?.[1];\n      if (!map) {\n        continue;\n      }\n      const keys = Object.keys(map);\n      for (let k = 0, len3 = keys.length; k < len3; k++) {\n        map[keys[k]] = paramReplacementMap[map[keys[k]]];\n      }\n    }\n  }\n  const handlerMap = [];\n  for (const i in indexReplacementMap) {\n    handlerMap[i] = handlerData[indexReplacementMap[i]];\n  }\n  return [regexp, handlerMap, staticMap];\n}\nfunction findMiddleware(middleware, path) {\n  if (!middleware) {\n    return void 0;\n  }\n  for (const k of Object.keys(middleware).sort((a, b) => b.length - a.length)) {\n    if (buildWildcardRegExp(k).test(path)) {\n      return [...middleware[k]];\n    }\n  }\n  return void 0;\n}\nvar RegExpRouter = class {\n  name = \"RegExpRouter\";\n  #middleware;\n  #routes;\n  constructor() {\n    this.#middleware = { [METHOD_NAME_ALL]: /* @__PURE__ */ Object.create(null) };\n    this.#routes = { [METHOD_NAME_ALL]: /* @__PURE__ */ Object.create(null) };\n  }\n  add(method, path, handler) {\n    const middleware = this.#middleware;\n    const routes = this.#routes;\n    if (!middleware || !routes) {\n      throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);\n    }\n    if (!middleware[method]) {\n      ;\n      [middleware, routes].forEach((handlerMap) => {\n        handlerMap[method] = /* @__PURE__ */ Object.create(null);\n        Object.keys(handlerMap[METHOD_NAME_ALL]).forEach((p) => {\n          handlerMap[method][p] = [...handlerMap[METHOD_NAME_ALL][p]];\n        });\n      });\n    }\n    if (path === \"/*\") {\n      path = \"*\";\n    }\n    const paramCount = (path.match(/\\/:/g) || []).length;\n    if (/\\*$/.test(path)) {\n      const re = buildWildcardRegExp(path);\n      if (method === METHOD_NAME_ALL) {\n        Object.keys(middleware).forEach((m) => {\n          middleware[m][path] ||= findMiddleware(middleware[m], path) || findMiddleware(middleware[METHOD_NAME_ALL], path) || [];\n        });\n      } else {\n        middleware[method][path] ||= findMiddleware(middleware[method], path) || findMiddleware(middleware[METHOD_NAME_ALL], path) || [];\n      }\n      Object.keys(middleware).forEach((m) => {\n        if (method === METHOD_NAME_ALL || method === m) {\n          Object.keys(middleware[m]).forEach((p) => {\n            re.test(p) && middleware[m][p].push([handler, paramCount]);\n          });\n        }\n      });\n      Object.keys(routes).forEach((m) => {\n        if (method === METHOD_NAME_ALL || method === m) {\n          Object.keys(routes[m]).forEach(\n            (p) => re.test(p) && routes[m][p].push([handler, paramCount])\n          );\n        }\n      });\n      return;\n    }\n    const paths = checkOptionalParameter(path) || [path];\n    for (let i = 0, len = paths.length; i < len; i++) {\n      const path2 = paths[i];\n      Object.keys(routes).forEach((m) => {\n        if (method === METHOD_NAME_ALL || method === m) {\n          routes[m][path2] ||= [\n            ...findMiddleware(middleware[m], path2) || findMiddleware(middleware[METHOD_NAME_ALL], path2) || []\n          ];\n          routes[m][path2].push([handler, paramCount - len + i + 1]);\n        }\n      });\n    }\n  }\n  match = match;\n  buildAllMatchers() {\n    const matchers = /* @__PURE__ */ Object.create(null);\n    Object.keys(this.#routes).concat(Object.keys(this.#middleware)).forEach((method) => {\n      matchers[method] ||= this.#buildMatcher(method);\n    });\n    this.#middleware = this.#routes = void 0;\n    clearWildcardRegExpCache();\n    return matchers;\n  }\n  #buildMatcher(method) {\n    const routes = [];\n    let hasOwnRoute = method === METHOD_NAME_ALL;\n    [this.#middleware, this.#routes].forEach((r) => {\n      const ownRoute = r[method] ? Object.keys(r[method]).map((path) => [path, r[method][path]]) : [];\n      if (ownRoute.length !== 0) {\n        hasOwnRoute ||= true;\n        routes.push(...ownRoute);\n      } else if (method !== METHOD_NAME_ALL) {\n        routes.push(\n          ...Object.keys(r[METHOD_NAME_ALL]).map((path) => [path, r[METHOD_NAME_ALL][path]])\n        );\n      }\n    });\n    if (!hasOwnRoute) {\n      return null;\n    } else {\n      return buildMatcherFromPreprocessedRoutes(routes);\n    }\n  }\n};\nexport {\n  RegExpRouter\n};\n", "// src/router/smart-router/router.ts\nimport { MESSAGE_MATCHER_IS_ALREADY_BUILT, UnsupportedPathError } from \"../../router.js\";\nvar SmartRouter = class {\n  name = \"SmartRouter\";\n  #routers = [];\n  #routes = [];\n  constructor(init) {\n    this.#routers = init.routers;\n  }\n  add(method, path, handler) {\n    if (!this.#routes) {\n      throw new Error(MESSAGE_MATCHER_IS_ALREADY_BUILT);\n    }\n    this.#routes.push([method, path, handler]);\n  }\n  match(method, path) {\n    if (!this.#routes) {\n      throw new Error(\"Fatal error\");\n    }\n    const routers = this.#routers;\n    const routes = this.#routes;\n    const len = routers.length;\n    let i = 0;\n    let res;\n    for (; i < len; i++) {\n      const router = routers[i];\n      try {\n        for (let i2 = 0, len2 = routes.length; i2 < len2; i2++) {\n          router.add(...routes[i2]);\n        }\n        res = router.match(method, path);\n      } catch (e) {\n        if (e instanceof UnsupportedPathError) {\n          continue;\n        }\n        throw e;\n      }\n      this.match = router.match.bind(router);\n      this.#routers = [router];\n      this.#routes = void 0;\n      break;\n    }\n    if (i === len) {\n      throw new Error(\"Fatal error\");\n    }\n    this.name = `SmartRouter + ${this.activeRouter.name}`;\n    return res;\n  }\n  get activeRouter() {\n    if (this.#routes || this.#routers.length !== 1) {\n      throw new Error(\"No active router has been determined yet.\");\n    }\n    return this.#routers[0];\n  }\n};\nexport {\n  SmartRouter\n};\n", "// src/router/trie-router/node.ts\nimport { METHOD_NAME_ALL } from \"../../router.js\";\nimport { getPattern, splitPath, splitRoutingPath } from \"../../utils/url.js\";\nvar emptyParams = /* @__PURE__ */ Object.create(null);\nvar Node = class _Node {\n  #methods;\n  #children;\n  #patterns;\n  #order = 0;\n  #params = emptyParams;\n  constructor(method, handler, children) {\n    this.#children = children || /* @__PURE__ */ Object.create(null);\n    this.#methods = [];\n    if (method && handler) {\n      const m = /* @__PURE__ */ Object.create(null);\n      m[method] = { handler, possibleKeys: [], score: 0 };\n      this.#methods = [m];\n    }\n    this.#patterns = [];\n  }\n  insert(method, path, handler) {\n    this.#order = ++this.#order;\n    let curNode = this;\n    const parts = splitRoutingPath(path);\n    const possibleKeys = [];\n    for (let i = 0, len = parts.length; i < len; i++) {\n      const p = parts[i];\n      const nextP = parts[i + 1];\n      const pattern = getPattern(p, nextP);\n      const key = Array.isArray(pattern) ? pattern[0] : p;\n      if (key in curNode.#children) {\n        curNode = curNode.#children[key];\n        if (pattern) {\n          possibleKeys.push(pattern[1]);\n        }\n        continue;\n      }\n      curNode.#children[key] = new _Node();\n      if (pattern) {\n        curNode.#patterns.push(pattern);\n        possibleKeys.push(pattern[1]);\n      }\n      curNode = curNode.#children[key];\n    }\n    curNode.#methods.push({\n      [method]: {\n        handler,\n        possibleKeys: possibleKeys.filter((v, i, a) => a.indexOf(v) === i),\n        score: this.#order\n      }\n    });\n    return curNode;\n  }\n  #getHandlerSets(node, method, nodeParams, params) {\n    const handlerSets = [];\n    for (let i = 0, len = node.#methods.length; i < len; i++) {\n      const m = node.#methods[i];\n      const handlerSet = m[method] || m[METHOD_NAME_ALL];\n      const processedSet = {};\n      if (handlerSet !== void 0) {\n        handlerSet.params = /* @__PURE__ */ Object.create(null);\n        handlerSets.push(handlerSet);\n        if (nodeParams !== emptyParams || params && params !== emptyParams) {\n          for (let i2 = 0, len2 = handlerSet.possibleKeys.length; i2 < len2; i2++) {\n            const key = handlerSet.possibleKeys[i2];\n            const processed = processedSet[handlerSet.score];\n            handlerSet.params[key] = params?.[key] && !processed ? params[key] : nodeParams[key] ?? params?.[key];\n            processedSet[handlerSet.score] = true;\n          }\n        }\n      }\n    }\n    return handlerSets;\n  }\n  search(method, path) {\n    const handlerSets = [];\n    this.#params = emptyParams;\n    const curNode = this;\n    let curNodes = [curNode];\n    const parts = splitPath(path);\n    const curNodesQueue = [];\n    for (let i = 0, len = parts.length; i < len; i++) {\n      const part = parts[i];\n      const isLast = i === len - 1;\n      const tempNodes = [];\n      for (let j = 0, len2 = curNodes.length; j < len2; j++) {\n        const node = curNodes[j];\n        const nextNode = node.#children[part];\n        if (nextNode) {\n          nextNode.#params = node.#params;\n          if (isLast) {\n            if (nextNode.#children[\"*\"]) {\n              handlerSets.push(\n                ...this.#getHandlerSets(nextNode.#children[\"*\"], method, node.#params)\n              );\n            }\n            handlerSets.push(...this.#getHandlerSets(nextNode, method, node.#params));\n          } else {\n            tempNodes.push(nextNode);\n          }\n        }\n        for (let k = 0, len3 = node.#patterns.length; k < len3; k++) {\n          const pattern = node.#patterns[k];\n          const params = node.#params === emptyParams ? {} : { ...node.#params };\n          if (pattern === \"*\") {\n            const astNode = node.#children[\"*\"];\n            if (astNode) {\n              handlerSets.push(...this.#getHandlerSets(astNode, method, node.#params));\n              astNode.#params = params;\n              tempNodes.push(astNode);\n            }\n            continue;\n          }\n          const [key, name, matcher] = pattern;\n          if (!part && !(matcher instanceof RegExp)) {\n            continue;\n          }\n          const child = node.#children[key];\n          const restPathString = parts.slice(i).join(\"/\");\n          if (matcher instanceof RegExp) {\n            const m = matcher.exec(restPathString);\n            if (m) {\n              params[name] = m[0];\n              handlerSets.push(...this.#getHandlerSets(child, method, node.#params, params));\n              if (Object.keys(child.#children).length) {\n                child.#params = params;\n                const componentCount = m[0].match(/\\//)?.length ?? 0;\n                const targetCurNodes = curNodesQueue[componentCount] ||= [];\n                targetCurNodes.push(child);\n              }\n              continue;\n            }\n          }\n          if (matcher === true || matcher.test(part)) {\n            params[name] = part;\n            if (isLast) {\n              handlerSets.push(...this.#getHandlerSets(child, method, params, node.#params));\n              if (child.#children[\"*\"]) {\n                handlerSets.push(\n                  ...this.#getHandlerSets(child.#children[\"*\"], method, params, node.#params)\n                );\n              }\n            } else {\n              child.#params = params;\n              tempNodes.push(child);\n            }\n          }\n        }\n      }\n      curNodes = tempNodes.concat(curNodesQueue.shift() ?? []);\n    }\n    if (handlerSets.length > 1) {\n      handlerSets.sort((a, b) => {\n        return a.score - b.score;\n      });\n    }\n    return [handlerSets.map(({ handler, params }) => [handler, params])];\n  }\n};\nexport {\n  Node\n};\n", "// src/router/trie-router/router.ts\nimport { checkOptionalParameter } from \"../../utils/url.js\";\nimport { Node } from \"./node.js\";\nvar TrieRouter = class {\n  name = \"TrieRouter\";\n  #node;\n  constructor() {\n    this.#node = new Node();\n  }\n  add(method, path, handler) {\n    const results = checkOptionalParameter(path);\n    if (results) {\n      for (let i = 0, len = results.length; i < len; i++) {\n        this.#node.insert(method, results[i], handler);\n      }\n      return;\n    }\n    this.#node.insert(method, path, handler);\n  }\n  match(method, path) {\n    return this.#node.search(method, path);\n  }\n};\nexport {\n  TrieRouter\n};\n", "// src/hono.ts\nimport { HonoBase } from \"./hono-base.js\";\nimport { RegExpRouter } from \"./router/reg-exp-router/index.js\";\nimport { SmartRouter } from \"./router/smart-router/index.js\";\nimport { TrieRouter } from \"./router/trie-router/index.js\";\nvar Hono = class extends HonoBase {\n  /**\n   * Creates an instance of the Hono class.\n   *\n   * @param options - Optional configuration options for the Hono instance.\n   */\n  constructor(options = {}) {\n    super(options);\n    this.router = options.router ?? new SmartRouter({\n      routers: [new RegExpRouter(), new TrieRouter()]\n    });\n  }\n};\nexport {\n  Hono\n};\n", "// src/middleware/trailing-slash/index.ts\nvar trimTrailingSlash = () => {\n  return async function trimTrailingSlash2(c, next) {\n    await next();\n    if (c.res.status === 404 && (c.req.method === \"GET\" || c.req.method === \"HEAD\") && c.req.path !== \"/\" && c.req.path.at(-1) === \"/\") {\n      const url = new URL(c.req.url);\n      url.pathname = url.pathname.substring(0, url.pathname.length - 1);\n      c.res = c.redirect(url.toString(), 301);\n    }\n  };\n};\nvar appendTrailingSlash = () => {\n  return async function appendTrailingSlash2(c, next) {\n    await next();\n    if (c.res.status === 404 && (c.req.method === \"GET\" || c.req.method === \"HEAD\") && c.req.path.at(-1) !== \"/\") {\n      const url = new URL(c.req.url);\n      url.pathname += \"/\";\n      c.res = c.redirect(url.toString(), 301);\n    }\n  };\n};\nexport {\n  appendTrailingSlash,\n  trimTrailingSlash\n};\n", "// src/utils/color.ts\nfunction getColorEnabled() {\n  const { process, Deno } = globalThis;\n  const isNoColor = typeof Deno?.noColor === \"boolean\" ? Deno.noColor : process !== void 0 ? (\n    // eslint-disable-next-line no-unsafe-optional-chaining\n    \"NO_COLOR\" in process?.env\n  ) : false;\n  return !isNoColor;\n}\nasync function getColorEnabledAsync() {\n  const { navigator } = globalThis;\n  const cfWorkers = \"cloudflare:workers\";\n  const isNoColor = navigator !== void 0 && navigator.userAgent === \"Cloudflare-Workers\" ? await (async () => {\n    try {\n      return \"NO_COLOR\" in ((await import(cfWorkers)).env ?? {});\n    } catch {\n      return false;\n    }\n  })() : !getColorEnabled();\n  return !isNoColor;\n}\nexport {\n  getColorEnabled,\n  getColorEnabledAsync\n};\n", "// src/middleware/logger/index.ts\nimport { getColorEnabledAsync } from \"../../utils/color.js\";\nvar humanize = (times) => {\n  const [delimiter, separator] = [\",\", \".\"];\n  const orderTimes = times.map((v) => v.replace(/(\\d)(?=(\\d\\d\\d)+(?!\\d))/g, \"$1\" + delimiter));\n  return orderTimes.join(separator);\n};\nvar time = (start) => {\n  const delta = Date.now() - start;\n  return humanize([delta < 1e3 ? delta + \"ms\" : Math.round(delta / 1e3) + \"s\"]);\n};\nvar colorStatus = async (status) => {\n  const colorEnabled = await getColorEnabledAsync();\n  if (colorEnabled) {\n    switch (status / 100 | 0) {\n      case 5:\n        return `\\x1B[31m${status}\\x1B[0m`;\n      case 4:\n        return `\\x1B[33m${status}\\x1B[0m`;\n      case 3:\n        return `\\x1B[36m${status}\\x1B[0m`;\n      case 2:\n        return `\\x1B[32m${status}\\x1B[0m`;\n    }\n  }\n  return `${status}`;\n};\nasync function log(fn, prefix, method, path, status = 0, elapsed) {\n  const out = prefix === \"<--\" /* Incoming */ ? `${prefix} ${method} ${path}` : `${prefix} ${method} ${path} ${await colorStatus(status)} ${elapsed}`;\n  fn(out);\n}\nvar logger = (fn = console.log) => {\n  return async function logger2(c, next) {\n    const { method, url } = c.req;\n    const path = url.slice(url.indexOf(\"/\", 8));\n    await log(fn, \"<--\" /* Incoming */, method, path);\n    const start = Date.now();\n    await next();\n    await log(fn, \"-->\" /* Outgoing */, method, path, c.res.status, time(start));\n  };\n};\nexport {\n  logger\n};\n", "// src/middleware/cors/index.ts\nvar cors = (options) => {\n  const defaults = {\n    origin: \"*\",\n    allowMethods: [\"GET\", \"HEAD\", \"PUT\", \"POST\", \"DELETE\", \"PATCH\"],\n    allowHeaders: [],\n    exposeHeaders: []\n  };\n  const opts = {\n    ...defaults,\n    ...options\n  };\n  const findAllowOrigin = ((optsOrigin) => {\n    if (typeof optsOrigin === \"string\") {\n      if (optsOrigin === \"*\") {\n        return () => optsOrigin;\n      } else {\n        return (origin) => optsOrigin === origin ? origin : null;\n      }\n    } else if (typeof optsOrigin === \"function\") {\n      return optsOrigin;\n    } else {\n      return (origin) => optsOrigin.includes(origin) ? origin : null;\n    }\n  })(opts.origin);\n  const findAllowMethods = ((optsAllowMethods) => {\n    if (typeof optsAllowMethods === \"function\") {\n      return optsAllowMethods;\n    } else if (Array.isArray(optsAllowMethods)) {\n      return () => optsAllowMethods;\n    } else {\n      return () => [];\n    }\n  })(opts.allowMethods);\n  return async function cors2(c, next) {\n    function set(key, value) {\n      c.res.headers.set(key, value);\n    }\n    const allowOrigin = await findAllowOrigin(c.req.header(\"origin\") || \"\", c);\n    if (allowOrigin) {\n      set(\"Access-Control-Allow-Origin\", allowOrigin);\n    }\n    if (opts.credentials) {\n      set(\"Access-Control-Allow-Credentials\", \"true\");\n    }\n    if (opts.exposeHeaders?.length) {\n      set(\"Access-Control-Expose-Headers\", opts.exposeHeaders.join(\",\"));\n    }\n    if (c.req.method === \"OPTIONS\") {\n      if (opts.origin !== \"*\") {\n        set(\"Vary\", \"Origin\");\n      }\n      if (opts.maxAge != null) {\n        set(\"Access-Control-Max-Age\", opts.maxAge.toString());\n      }\n      const allowMethods = await findAllowMethods(c.req.header(\"origin\") || \"\", c);\n      if (allowMethods.length) {\n        set(\"Access-Control-Allow-Methods\", allowMethods.join(\",\"));\n      }\n      let headers = opts.allowHeaders;\n      if (!headers?.length) {\n        const requestHeaders = c.req.header(\"Access-Control-Request-Headers\");\n        if (requestHeaders) {\n          headers = requestHeaders.split(/\\s*,\\s*/);\n        }\n      }\n      if (headers?.length) {\n        set(\"Access-Control-Allow-Headers\", headers.join(\",\"));\n        c.res.headers.append(\"Vary\", \"Access-Control-Request-Headers\");\n      }\n      c.res.headers.delete(\"Content-Length\");\n      c.res.headers.delete(\"Content-Type\");\n      return new Response(null, {\n        headers: c.res.headers,\n        status: 204,\n        statusText: \"No Content\"\n      });\n    }\n    await next();\n    if (opts.origin !== \"*\") {\n      c.header(\"Vary\", \"Origin\", { append: true });\n    }\n  };\n};\nexport {\n  cors\n};\n", "import fs from 'fs/promises';\nimport path from 'path';\nimport { fileURLToPath } from 'url';\nimport { dbQuery, dbGet, dbAll } from './db.js';\n\nconst DATA_PATH = path.join(process.cwd(), 'src/data');\n\nexport async function readJson(filePath) {\n  try {\n    const fullPath = path.join(DATA_PATH, filePath);\n    const data = await fs.readFile(fullPath, 'utf8');\n    return JSON.parse(data);\n  } catch (error) {\n    console.error(`Error reading JSON from ${filePath}:`, error.message);\n    return null;\n  }\n}\n\nexport async function writeJson(filePath, data) {\n  try {\n    const fullPath = path.join(DATA_PATH, filePath);\n    // Ensure directory exists\n    const dir = path.dirname(fullPath);\n    await fs.mkdir(dir, { recursive: true });\n    await fs.writeFile(fullPath, JSON.stringify(data, null, 2), 'utf8');\n    return true;\n  } catch (error) {\n    console.error(`Error writing JSON to ${filePath}:`, error.message);\n    return false;\n  }\n}\n\nexport async function getSurahList() {\n  return await readJson('quran/surah.json');\n}\n\nexport async function getSurahDetail(number) {\n  const surahs = await getSurahList();\n  return surahs ? surahs.find(s => s.number == number) : null;\n}\n\nexport async function getAyahBySurah(surahNumber) {\n  return await readJson(`quran/ayah/${surahNumber}.json`);\n}\n\nexport async function getDoa() {\n  return await readJson('common/doa.json');\n}\n\nexport async function getAsmaulHusna() {\n  return await readJson('common/asmaul_husna.json');\n}\n\nexport async function getDzikir() {\n  return await readJson('common/dzikir.json');\n}\n\nexport async function getHaditsArbain() {\n  return await readJson('hadits/arbain.json');\n}\n\nexport async function getThemes() {\n  return await readJson('quran/themes.json');\n}\n\nexport async function getJuz() {\n  return await readJson('quran/juz.json');\n}\n\nexport async function getTafsir() {\n  return await readJson('quran/tafsir.json');\n}\n\nexport async function getWord() {\n  return await readJson('quran/word.json');\n}\n\nexport async function getAsbabNuzul() {\n  return await readJson('quran/asbab_nuzul.json');\n}\n\nexport async function getSejarah() {\n  return await readJson('common/sejarah.json');\n}\n\nexport async function getQari() {\n  return await readJson('common/qari.json');\n}\n\nexport async function getCalendarMonths() {\n  return await readJson('common/calendar_months.json');\n}\n\nexport async function getCalendarDays() {\n  return await readJson('common/calendar_days.json');\n}\n\nexport async function getMasjid() {\n  return await readJson('common/masjid.json');\n}\n\nexport async function getPuasa() {\n  return await readJson('common/puasa.json');\n}\n\nexport async function getFiqhPuasa() {\n  return await readJson('common/fiqh_puasa.json');\n}\n\nexport async function getAnalytics() {\n  try {\n    const totalReads = await dbGet(\"SELECT value FROM global_stats WHERE key = 'total_reads'\");\n    const globalKhatam = await dbGet(\"SELECT value FROM global_stats WHERE key = 'global_khatam'\");\n    const lastUpdated = await dbGet(\"SELECT last_updated FROM global_stats WHERE key = 'total_reads'\");\n\n    const trendingSurahs = await dbAll(\"SELECT item_id, count FROM item_stats WHERE type = 'surah'\");\n    const trendingAyahs = await dbAll(\"SELECT item_id, count FROM item_stats WHERE type = 'ayah'\");\n\n    const surahMap = {};\n    trendingSurahs.forEach(row => surahMap[row.item_id] = row.count);\n\n    const ayahMap = {};\n    trendingAyahs.forEach(row => ayahMap[row.item_id] = row.count);\n\n    return {\n      trending_surahs: surahMap,\n      trending_ayahs: ayahMap,\n      global_khatam: globalKhatam ? globalKhatam.value : 0,\n      total_reads: totalReads ? totalReads.value : 0,\n      last_updated: lastUpdated ? lastUpdated.last_updated : new Date().toISOString()\n    };\n  } catch (error) {\n    console.error('Failed to get analytics from DB:', error);\n    return {\n      trending_surahs: {},\n      trending_ayahs: {},\n      global_khatam: 0,\n      total_reads: 0,\n      last_updated: new Date().toISOString()\n    };\n  }\n}\n\nexport async function updateAnalytics(type, id) {\n  try {\n    if (type === 'surah' || type === 'ayah') {\n      await dbQuery(`\n        INSERT INTO item_stats (type, item_id, count, last_updated) \n        VALUES (?, ?, 1, CURRENT_TIMESTAMP)\n        ON CONFLICT(type, item_id) DO UPDATE SET \n          count = count + 1,\n          last_updated = CURRENT_TIMESTAMP\n      `, [type, id]);\n\n      await dbQuery(`\n        UPDATE global_stats \n        SET value = value + 1, last_updated = CURRENT_TIMESTAMP \n        WHERE key = 'total_reads'\n      `);\n    } else if (type === 'khatam') {\n      await dbQuery(`\n        UPDATE global_stats \n        SET value = value + 1, last_updated = CURRENT_TIMESTAMP \n        WHERE key = 'global_khatam'\n      `);\n    }\n    return true;\n  } catch (error) {\n    console.error('Failed to update analytics in DB:', error);\n    return false;\n  }\n}\n\nexport async function getLocalHadits(bookName) {\n  return await readJson(`hadits/${bookName}.json`);\n}\n", "/** Error thrown by the client. */\nexport class LibsqlError extends Error {\n    /** Machine-readable error code. */\n    code;\n    /** Raw numeric error code */\n    rawCode;\n    constructor(message, code, rawCode, cause) {\n        if (code !== undefined) {\n            message = `${code}: ${message}`;\n        }\n        super(message, { cause });\n        this.code = code;\n        this.rawCode = rawCode;\n        this.name = \"LibsqlError\";\n    }\n}\n", "// URI parser based on RFC 3986\n// We can't use the standard `URL` object, because we want to support relative `file:` URLs like\n// `file:relative/path/database.db`, which are not correct according to RFC 8089, which standardizes the\n// `file` scheme.\nimport { LibsqlError } from \"./api.js\";\nexport function parseUri(text) {\n    const match = URI_RE.exec(text);\n    if (match === null) {\n        throw new LibsqlError(`The URL '${text}' is not in a valid format`, \"URL_INVALID\");\n    }\n    const groups = match.groups;\n    const scheme = groups[\"scheme\"];\n    const authority = groups[\"authority\"] !== undefined\n        ? parseAuthority(groups[\"authority\"])\n        : undefined;\n    const path = percentDecode(groups[\"path\"]);\n    const query = groups[\"query\"] !== undefined ? parseQuery(groups[\"query\"]) : undefined;\n    const fragment = groups[\"fragment\"] !== undefined\n        ? percentDecode(groups[\"fragment\"])\n        : undefined;\n    return { scheme, authority, path, query, fragment };\n}\nconst URI_RE = (() => {\n    const SCHEME = \"(?<scheme>[A-Za-z][A-Za-z.+-]*)\";\n    const AUTHORITY = \"(?<authority>[^/?#]*)\";\n    const PATH = \"(?<path>[^?#]*)\";\n    const QUERY = \"(?<query>[^#]*)\";\n    const FRAGMENT = \"(?<fragment>.*)\";\n    return new RegExp(`^${SCHEME}:(//${AUTHORITY})?${PATH}(\\\\?${QUERY})?(#${FRAGMENT})?$`, \"su\");\n})();\nfunction parseAuthority(text) {\n    const match = AUTHORITY_RE.exec(text);\n    if (match === null) {\n        throw new LibsqlError(\"The authority part of the URL is not in a valid format\", \"URL_INVALID\");\n    }\n    const groups = match.groups;\n    const host = percentDecode(groups[\"host_br\"] ?? groups[\"host\"]);\n    const port = groups[\"port\"] ? parseInt(groups[\"port\"], 10) : undefined;\n    const userinfo = groups[\"username\"] !== undefined\n        ? {\n            username: percentDecode(groups[\"username\"]),\n            password: groups[\"password\"] !== undefined\n                ? percentDecode(groups[\"password\"])\n                : undefined,\n        }\n        : undefined;\n    return { host, port, userinfo };\n}\nconst AUTHORITY_RE = (() => {\n    return new RegExp(`^((?<username>[^:]*)(:(?<password>.*))?@)?((?<host>[^:\\\\[\\\\]]*)|(\\\\[(?<host_br>[^\\\\[\\\\]]*)\\\\]))(:(?<port>[0-9]*))?$`, \"su\");\n})();\n// Query string is parsed as application/x-www-form-urlencoded according to the Web URL standard:\n// https://url.spec.whatwg.org/#urlencoded-parsing\nfunction parseQuery(text) {\n    const sequences = text.split(\"&\");\n    const pairs = [];\n    for (const sequence of sequences) {\n        if (sequence === \"\") {\n            continue;\n        }\n        let key;\n        let value;\n        const splitIdx = sequence.indexOf(\"=\");\n        if (splitIdx < 0) {\n            key = sequence;\n            value = \"\";\n        }\n        else {\n            key = sequence.substring(0, splitIdx);\n            value = sequence.substring(splitIdx + 1);\n        }\n        pairs.push({\n            key: percentDecode(key.replaceAll(\"+\", \" \")),\n            value: percentDecode(value.replaceAll(\"+\", \" \")),\n        });\n    }\n    return { pairs };\n}\nfunction percentDecode(text) {\n    try {\n        return decodeURIComponent(text);\n    }\n    catch (e) {\n        if (e instanceof URIError) {\n            throw new LibsqlError(`URL component has invalid percent encoding: ${e}`, \"URL_INVALID\", undefined, e);\n        }\n        throw e;\n    }\n}\nexport function encodeBaseUrl(scheme, authority, path) {\n    if (authority === undefined) {\n        throw new LibsqlError(`URL with scheme ${JSON.stringify(scheme + \":\")} requires authority (the \"//\" part)`, \"URL_INVALID\");\n    }\n    const schemeText = `${scheme}:`;\n    const hostText = encodeHost(authority.host);\n    const portText = encodePort(authority.port);\n    const userinfoText = encodeUserinfo(authority.userinfo);\n    const authorityText = `//${userinfoText}${hostText}${portText}`;\n    let pathText = path.split(\"/\").map(encodeURIComponent).join(\"/\");\n    if (pathText !== \"\" && !pathText.startsWith(\"/\")) {\n        pathText = \"/\" + pathText;\n    }\n    return new URL(`${schemeText}${authorityText}${pathText}`);\n}\nfunction encodeHost(host) {\n    return host.includes(\":\") ? `[${encodeURI(host)}]` : encodeURI(host);\n}\nfunction encodePort(port) {\n    return port !== undefined ? `:${port}` : \"\";\n}\nfunction encodeUserinfo(userinfo) {\n    if (userinfo === undefined) {\n        return \"\";\n    }\n    const usernameText = encodeURIComponent(userinfo.username);\n    const passwordText = userinfo.password !== undefined\n        ? `:${encodeURIComponent(userinfo.password)}`\n        : \"\";\n    return `${usernameText}${passwordText}@`;\n}\n", "/**\n *  base64.ts\n *\n *  Licensed under the BSD 3-Clause License.\n *    http://opensource.org/licenses/BSD-3-Clause\n *\n *  References:\n *    http://en.wikipedia.org/wiki/Base64\n *\n * @author Dan Kogai (https://github.com/dankogai)\n */\nconst version = '3.7.8';\n/**\n * @deprecated use lowercase `version`.\n */\nconst VERSION = version;\nconst _hasBuffer = typeof Buffer === 'function';\nconst _TD = typeof TextDecoder === 'function' ? new TextDecoder() : undefined;\nconst _TE = typeof TextEncoder === 'function' ? new TextEncoder() : undefined;\nconst b64ch = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=';\nconst b64chs = Array.prototype.slice.call(b64ch);\nconst b64tab = ((a) => {\n    let tab = {};\n    a.forEach((c, i) => tab[c] = i);\n    return tab;\n})(b64chs);\nconst b64re = /^(?:[A-Za-z\\d+\\/]{4})*?(?:[A-Za-z\\d+\\/]{2}(?:==)?|[A-Za-z\\d+\\/]{3}=?)?$/;\nconst _fromCC = String.fromCharCode.bind(String);\nconst _U8Afrom = typeof Uint8Array.from === 'function'\n    ? Uint8Array.from.bind(Uint8Array)\n    : (it) => new Uint8Array(Array.prototype.slice.call(it, 0));\nconst _mkUriSafe = (src) => src\n    .replace(/=/g, '').replace(/[+\\/]/g, (m0) => m0 == '+' ? '-' : '_');\nconst _tidyB64 = (s) => s.replace(/[^A-Za-z0-9\\+\\/]/g, '');\n/**\n * polyfill version of `btoa`\n */\nconst btoaPolyfill = (bin) => {\n    // console.log('polyfilled');\n    let u32, c0, c1, c2, asc = '';\n    const pad = bin.length % 3;\n    for (let i = 0; i < bin.length;) {\n        if ((c0 = bin.charCodeAt(i++)) > 255 ||\n            (c1 = bin.charCodeAt(i++)) > 255 ||\n            (c2 = bin.charCodeAt(i++)) > 255)\n            throw new TypeError('invalid character found');\n        u32 = (c0 << 16) | (c1 << 8) | c2;\n        asc += b64chs[u32 >> 18 & 63]\n            + b64chs[u32 >> 12 & 63]\n            + b64chs[u32 >> 6 & 63]\n            + b64chs[u32 & 63];\n    }\n    return pad ? asc.slice(0, pad - 3) + \"===\".substring(pad) : asc;\n};\n/**\n * does what `window.btoa` of web browsers do.\n * @param {String} bin binary string\n * @returns {string} Base64-encoded string\n */\nconst _btoa = typeof btoa === 'function' ? (bin) => btoa(bin)\n    : _hasBuffer ? (bin) => Buffer.from(bin, 'binary').toString('base64')\n        : btoaPolyfill;\nconst _fromUint8Array = _hasBuffer\n    ? (u8a) => Buffer.from(u8a).toString('base64')\n    : (u8a) => {\n        // cf. https://stackoverflow.com/questions/12710001/how-to-convert-uint8-array-to-base64-encoded-string/12713326#12713326\n        const maxargs = 0x1000;\n        let strs = [];\n        for (let i = 0, l = u8a.length; i < l; i += maxargs) {\n            strs.push(_fromCC.apply(null, u8a.subarray(i, i + maxargs)));\n        }\n        return _btoa(strs.join(''));\n    };\n/**\n * converts a Uint8Array to a Base64 string.\n * @param {boolean} [urlsafe] URL-and-filename-safe a la RFC4648 \u00A75\n * @returns {string} Base64 string\n */\nconst fromUint8Array = (u8a, urlsafe = false) => urlsafe ? _mkUriSafe(_fromUint8Array(u8a)) : _fromUint8Array(u8a);\n// This trick is found broken https://github.com/dankogai/js-base64/issues/130\n// const utob = (src: string) => unescape(encodeURIComponent(src));\n// reverting good old fationed regexp\nconst cb_utob = (c) => {\n    if (c.length < 2) {\n        var cc = c.charCodeAt(0);\n        return cc < 0x80 ? c\n            : cc < 0x800 ? (_fromCC(0xc0 | (cc >>> 6))\n                + _fromCC(0x80 | (cc & 0x3f)))\n                : (_fromCC(0xe0 | ((cc >>> 12) & 0x0f))\n                    + _fromCC(0x80 | ((cc >>> 6) & 0x3f))\n                    + _fromCC(0x80 | (cc & 0x3f)));\n    }\n    else {\n        var cc = 0x10000\n            + (c.charCodeAt(0) - 0xD800) * 0x400\n            + (c.charCodeAt(1) - 0xDC00);\n        return (_fromCC(0xf0 | ((cc >>> 18) & 0x07))\n            + _fromCC(0x80 | ((cc >>> 12) & 0x3f))\n            + _fromCC(0x80 | ((cc >>> 6) & 0x3f))\n            + _fromCC(0x80 | (cc & 0x3f)));\n    }\n};\nconst re_utob = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFFF]|[^\\x00-\\x7F]/g;\n/**\n * @deprecated should have been internal use only.\n * @param {string} src UTF-8 string\n * @returns {string} UTF-16 string\n */\nconst utob = (u) => u.replace(re_utob, cb_utob);\n//\nconst _encode = _hasBuffer\n    ? (s) => Buffer.from(s, 'utf8').toString('base64')\n    : _TE\n        ? (s) => _fromUint8Array(_TE.encode(s))\n        : (s) => _btoa(utob(s));\n/**\n * converts a UTF-8-encoded string to a Base64 string.\n * @param {boolean} [urlsafe] if `true` make the result URL-safe\n * @returns {string} Base64 string\n */\nconst encode = (src, urlsafe = false) => urlsafe\n    ? _mkUriSafe(_encode(src))\n    : _encode(src);\n/**\n * converts a UTF-8-encoded string to URL-safe Base64 RFC4648 \u00A75.\n * @returns {string} Base64 string\n */\nconst encodeURI = (src) => encode(src, true);\n// This trick is found broken https://github.com/dankogai/js-base64/issues/130\n// const btou = (src: string) => decodeURIComponent(escape(src));\n// reverting good old fationed regexp\nconst re_btou = /[\\xC0-\\xDF][\\x80-\\xBF]|[\\xE0-\\xEF][\\x80-\\xBF]{2}|[\\xF0-\\xF7][\\x80-\\xBF]{3}/g;\nconst cb_btou = (cccc) => {\n    switch (cccc.length) {\n        case 4:\n            var cp = ((0x07 & cccc.charCodeAt(0)) << 18)\n                | ((0x3f & cccc.charCodeAt(1)) << 12)\n                | ((0x3f & cccc.charCodeAt(2)) << 6)\n                | (0x3f & cccc.charCodeAt(3)), offset = cp - 0x10000;\n            return (_fromCC((offset >>> 10) + 0xD800)\n                + _fromCC((offset & 0x3FF) + 0xDC00));\n        case 3:\n            return _fromCC(((0x0f & cccc.charCodeAt(0)) << 12)\n                | ((0x3f & cccc.charCodeAt(1)) << 6)\n                | (0x3f & cccc.charCodeAt(2)));\n        default:\n            return _fromCC(((0x1f & cccc.charCodeAt(0)) << 6)\n                | (0x3f & cccc.charCodeAt(1)));\n    }\n};\n/**\n * @deprecated should have been internal use only.\n * @param {string} src UTF-16 string\n * @returns {string} UTF-8 string\n */\nconst btou = (b) => b.replace(re_btou, cb_btou);\n/**\n * polyfill version of `atob`\n */\nconst atobPolyfill = (asc) => {\n    // console.log('polyfilled');\n    asc = asc.replace(/\\s+/g, '');\n    if (!b64re.test(asc))\n        throw new TypeError('malformed base64.');\n    asc += '=='.slice(2 - (asc.length & 3));\n    let u24, r1, r2;\n    let binArray = []; // use array to avoid minor gc in loop\n    for (let i = 0; i < asc.length;) {\n        u24 = b64tab[asc.charAt(i++)] << 18\n            | b64tab[asc.charAt(i++)] << 12\n            | (r1 = b64tab[asc.charAt(i++)]) << 6\n            | (r2 = b64tab[asc.charAt(i++)]);\n        if (r1 === 64) {\n            binArray.push(_fromCC(u24 >> 16 & 255));\n        }\n        else if (r2 === 64) {\n            binArray.push(_fromCC(u24 >> 16 & 255, u24 >> 8 & 255));\n        }\n        else {\n            binArray.push(_fromCC(u24 >> 16 & 255, u24 >> 8 & 255, u24 & 255));\n        }\n    }\n    return binArray.join('');\n};\n/**\n * does what `window.atob` of web browsers do.\n * @param {String} asc Base64-encoded string\n * @returns {string} binary string\n */\nconst _atob = typeof atob === 'function' ? (asc) => atob(_tidyB64(asc))\n    : _hasBuffer ? (asc) => Buffer.from(asc, 'base64').toString('binary')\n        : atobPolyfill;\n//\nconst _toUint8Array = _hasBuffer\n    ? (a) => _U8Afrom(Buffer.from(a, 'base64'))\n    : (a) => _U8Afrom(_atob(a).split('').map(c => c.charCodeAt(0)));\n/**\n * converts a Base64 string to a Uint8Array.\n */\nconst toUint8Array = (a) => _toUint8Array(_unURI(a));\n//\nconst _decode = _hasBuffer\n    ? (a) => Buffer.from(a, 'base64').toString('utf8')\n    : _TD\n        ? (a) => _TD.decode(_toUint8Array(a))\n        : (a) => btou(_atob(a));\nconst _unURI = (a) => _tidyB64(a.replace(/[-_]/g, (m0) => m0 == '-' ? '+' : '/'));\n/**\n * converts a Base64 string to a UTF-8 string.\n * @param {String} src Base64 string.  Both normal and URL-safe are supported\n * @returns {string} UTF-8 string\n */\nconst decode = (src) => _decode(_unURI(src));\n/**\n * check if a value is a valid Base64 string\n * @param {String} src a value to check\n  */\nconst isValid = (src) => {\n    if (typeof src !== 'string')\n        return false;\n    const s = src.replace(/\\s+/g, '').replace(/={0,2}$/, '');\n    return !/[^\\s0-9a-zA-Z\\+/]/.test(s) || !/[^\\s0-9a-zA-Z\\-_]/.test(s);\n};\n//\nconst _noEnum = (v) => {\n    return {\n        value: v, enumerable: false, writable: true, configurable: true\n    };\n};\n/**\n * extend String.prototype with relevant methods\n */\nconst extendString = function () {\n    const _add = (name, body) => Object.defineProperty(String.prototype, name, _noEnum(body));\n    _add('fromBase64', function () { return decode(this); });\n    _add('toBase64', function (urlsafe) { return encode(this, urlsafe); });\n    _add('toBase64URI', function () { return encode(this, true); });\n    _add('toBase64URL', function () { return encode(this, true); });\n    _add('toUint8Array', function () { return toUint8Array(this); });\n};\n/**\n * extend Uint8Array.prototype with relevant methods\n */\nconst extendUint8Array = function () {\n    const _add = (name, body) => Object.defineProperty(Uint8Array.prototype, name, _noEnum(body));\n    _add('toBase64', function (urlsafe) { return fromUint8Array(this, urlsafe); });\n    _add('toBase64URI', function () { return fromUint8Array(this, true); });\n    _add('toBase64URL', function () { return fromUint8Array(this, true); });\n};\n/**\n * extend Builtin prototypes with relevant methods\n */\nconst extendBuiltins = () => {\n    extendString();\n    extendUint8Array();\n};\nconst gBase64 = {\n    version: version,\n    VERSION: VERSION,\n    atob: _atob,\n    atobPolyfill: atobPolyfill,\n    btoa: _btoa,\n    btoaPolyfill: btoaPolyfill,\n    fromBase64: decode,\n    toBase64: encode,\n    encode: encode,\n    encodeURI: encodeURI,\n    encodeURL: encodeURI,\n    utob: utob,\n    btou: btou,\n    decode: decode,\n    isValid: isValid,\n    fromUint8Array: fromUint8Array,\n    toUint8Array: toUint8Array,\n    extendString: extendString,\n    extendUint8Array: extendUint8Array,\n    extendBuiltins: extendBuiltins\n};\n// makecjs:CUT //\nexport { version };\nexport { VERSION };\nexport { _atob as atob };\nexport { atobPolyfill };\nexport { _btoa as btoa };\nexport { btoaPolyfill };\nexport { decode as fromBase64 };\nexport { encode as toBase64 };\nexport { utob };\nexport { encode };\nexport { encodeURI };\nexport { encodeURI as encodeURL };\nexport { btou };\nexport { decode };\nexport { isValid };\nexport { fromUint8Array };\nexport { toUint8Array };\nexport { extendString };\nexport { extendUint8Array };\nexport { extendBuiltins };\n// and finally,\nexport { gBase64 as Base64 };\n", "import { Base64 } from \"js-base64\";\nexport const supportedUrlLink = \"https://github.com/libsql/libsql-client-ts#supported-urls\";\nexport function transactionModeToBegin(mode) {\n    if (mode === \"write\") {\n        return \"BEGIN IMMEDIATE\";\n    }\n    else if (mode === \"read\") {\n        return \"BEGIN TRANSACTION READONLY\";\n    }\n    else if (mode === \"deferred\") {\n        return \"BEGIN DEFERRED\";\n    }\n    else {\n        throw RangeError('Unknown transaction mode, supported values are \"write\", \"read\" and \"deferred\"');\n    }\n}\nexport class ResultSetImpl {\n    columns;\n    columnTypes;\n    rows;\n    rowsAffected;\n    lastInsertRowid;\n    constructor(columns, columnTypes, rows, rowsAffected, lastInsertRowid) {\n        this.columns = columns;\n        this.columnTypes = columnTypes;\n        this.rows = rows;\n        this.rowsAffected = rowsAffected;\n        this.lastInsertRowid = lastInsertRowid;\n    }\n    toJSON() {\n        return {\n            columns: this.columns,\n            columnTypes: this.columnTypes,\n            rows: this.rows.map(rowToJson),\n            rowsAffected: this.rowsAffected,\n            lastInsertRowid: this.lastInsertRowid !== undefined\n                ? \"\" + this.lastInsertRowid\n                : null,\n        };\n    }\n}\nfunction rowToJson(row) {\n    return Array.prototype.map.call(row, valueToJson);\n}\nfunction valueToJson(value) {\n    if (typeof value === \"bigint\") {\n        return \"\" + value;\n    }\n    else if (value instanceof ArrayBuffer) {\n        return Base64.fromUint8Array(new Uint8Array(value));\n    }\n    else {\n        return value;\n    }\n}\n", "import { LibsqlError } from \"./api.js\";\nimport { parseUri } from \"./uri.js\";\nimport { supportedUrlLink } from \"./util.js\";\nconst inMemoryMode = \":memory:\";\nexport function isInMemoryConfig(config) {\n    return (config.scheme === \"file\" &&\n        (config.path === \":memory:\" || config.path.startsWith(\":memory:?\")));\n}\nexport function expandConfig(config, preferHttp) {\n    if (typeof config !== \"object\") {\n        // produce a reasonable error message in the common case where users type\n        // `createClient(\"libsql://...\")` instead of `createClient({url: \"libsql://...\"})`\n        throw new TypeError(`Expected client configuration as object, got ${typeof config}`);\n    }\n    let { url, authToken, tls, intMode, concurrency } = config;\n    // fill simple defaults right here\n    concurrency = Math.max(0, concurrency || 20);\n    intMode ??= \"number\";\n    let connectionQueryParams = []; // recognized query parameters which we sanitize through white list of valid key-value pairs\n    // convert plain :memory: url to URI format to make logic more uniform\n    if (url === inMemoryMode) {\n        url = \"file::memory:\";\n    }\n    // parse url parameters first and override config with update values\n    const uri = parseUri(url);\n    const originalUriScheme = uri.scheme.toLowerCase();\n    const isInMemoryMode = originalUriScheme === \"file\" &&\n        uri.path === inMemoryMode &&\n        uri.authority === undefined;\n    let queryParamsDef;\n    if (isInMemoryMode) {\n        queryParamsDef = {\n            cache: {\n                values: [\"shared\", \"private\"],\n                update: (key, value) => connectionQueryParams.push(`${key}=${value}`),\n            },\n        };\n    }\n    else {\n        queryParamsDef = {\n            tls: {\n                values: [\"0\", \"1\"],\n                update: (_, value) => (tls = value === \"1\"),\n            },\n            authToken: {\n                update: (_, value) => (authToken = value),\n            },\n        };\n    }\n    for (const { key, value } of uri.query?.pairs ?? []) {\n        if (!Object.hasOwn(queryParamsDef, key)) {\n            throw new LibsqlError(`Unsupported URL query parameter ${JSON.stringify(key)}`, \"URL_PARAM_NOT_SUPPORTED\");\n        }\n        const queryParamDef = queryParamsDef[key];\n        if (queryParamDef.values !== undefined &&\n            !queryParamDef.values.includes(value)) {\n            throw new LibsqlError(`Unknown value for the \"${key}\" query argument: ${JSON.stringify(value)}. Supported values are: [${queryParamDef.values.map((x) => '\"' + x + '\"').join(\", \")}]`, \"URL_INVALID\");\n        }\n        if (queryParamDef.update !== undefined) {\n            queryParamDef?.update(key, value);\n        }\n    }\n    // fill complex defaults & validate config\n    const connectionQueryParamsString = connectionQueryParams.length === 0\n        ? \"\"\n        : `?${connectionQueryParams.join(\"&\")}`;\n    const path = uri.path + connectionQueryParamsString;\n    let scheme;\n    if (originalUriScheme === \"libsql\") {\n        if (tls === false) {\n            if (uri.authority?.port === undefined) {\n                throw new LibsqlError('A \"libsql:\" URL with ?tls=0 must specify an explicit port', \"URL_INVALID\");\n            }\n            scheme = preferHttp ? \"http\" : \"ws\";\n        }\n        else {\n            scheme = preferHttp ? \"https\" : \"wss\";\n        }\n    }\n    else {\n        scheme = originalUriScheme;\n    }\n    if (scheme === \"http\" || scheme === \"ws\") {\n        tls ??= false;\n    }\n    else {\n        tls ??= true;\n    }\n    if (scheme !== \"http\" &&\n        scheme !== \"ws\" &&\n        scheme !== \"https\" &&\n        scheme !== \"wss\" &&\n        scheme !== \"file\") {\n        throw new LibsqlError('The client supports only \"libsql:\", \"wss:\", \"ws:\", \"https:\", \"http:\" and \"file:\" URLs, ' +\n            `got ${JSON.stringify(uri.scheme + \":\")}. ` +\n            `For more information, please read ${supportedUrlLink}`, \"URL_SCHEME_NOT_SUPPORTED\");\n    }\n    if (intMode !== \"number\" && intMode !== \"bigint\" && intMode !== \"string\") {\n        throw new TypeError(`Invalid value for intMode, expected \"number\", \"bigint\" or \"string\", got ${JSON.stringify(intMode)}`);\n    }\n    if (uri.fragment !== undefined) {\n        throw new LibsqlError(`URL fragments are not supported: ${JSON.stringify(\"#\" + uri.fragment)}`, \"URL_INVALID\");\n    }\n    if (isInMemoryMode) {\n        return {\n            scheme: \"file\",\n            tls: false,\n            path,\n            intMode,\n            concurrency,\n            syncUrl: config.syncUrl,\n            syncInterval: config.syncInterval,\n            readYourWrites: config.readYourWrites,\n            offline: config.offline,\n            fetch: config.fetch,\n            authToken: undefined,\n            encryptionKey: undefined,\n            authority: undefined,\n        };\n    }\n    return {\n        scheme,\n        tls,\n        authority: uri.authority,\n        path,\n        authToken,\n        intMode,\n        concurrency,\n        encryptionKey: config.encryptionKey,\n        syncUrl: config.syncUrl,\n        syncInterval: config.syncInterval,\n        readYourWrites: config.readYourWrites,\n        offline: config.offline,\n        fetch: config.fetch,\n    };\n}\n", "import { WebSocket } from \"ws\";\nexport { WebSocket };\n", "/** A client for the Hrana protocol (a \"database connection pool\"). */\nexport class Client {\n    /** @private */\n    constructor() {\n        this.intMode = \"number\";\n    }\n    /** Representation of integers returned from the database. See {@link IntMode}.\n     *\n     * This value is inherited by {@link Stream} objects created with {@link openStream}, but you can\n     * override the integer mode for every stream by setting {@link Stream.intMode} on the stream.\n     */\n    intMode;\n}\n", "/** Generic error produced by the Hrana client. */\nexport class ClientError extends Error {\n    /** @private */\n    constructor(message) {\n        super(message);\n        this.name = \"ClientError\";\n    }\n}\n/** Error thrown when the server violates the protocol. */\nexport class ProtoError extends ClientError {\n    /** @private */\n    constructor(message) {\n        super(message);\n        this.name = \"ProtoError\";\n    }\n}\n/** Error thrown when the server returns an error response. */\nexport class ResponseError extends ClientError {\n    code;\n    /** @internal */\n    proto;\n    /** @private */\n    constructor(message, protoError) {\n        super(message);\n        this.name = \"ResponseError\";\n        this.code = protoError.code;\n        this.proto = protoError;\n        this.stack = undefined;\n    }\n}\n/** Error thrown when the client or stream is closed. */\nexport class ClosedError extends ClientError {\n    /** @private */\n    constructor(message, cause) {\n        if (cause !== undefined) {\n            super(`${message}: ${cause}`);\n            this.cause = cause;\n        }\n        else {\n            super(message);\n        }\n        this.name = \"ClosedError\";\n    }\n}\n/** Error thrown when the environment does not seem to support WebSockets. */\nexport class WebSocketUnsupportedError extends ClientError {\n    /** @private */\n    constructor(message) {\n        super(message);\n        this.name = \"WebSocketUnsupportedError\";\n    }\n}\n/** Error thrown when we encounter a WebSocket error. */\nexport class WebSocketError extends ClientError {\n    /** @private */\n    constructor(message) {\n        super(message);\n        this.name = \"WebSocketError\";\n    }\n}\n/** Error thrown when the HTTP server returns an error response. */\nexport class HttpServerError extends ClientError {\n    status;\n    /** @private */\n    constructor(message, status) {\n        super(message);\n        this.status = status;\n        this.name = \"HttpServerError\";\n    }\n}\n/** Error thrown when a libsql URL is not valid. */\nexport class LibsqlUrlParseError extends ClientError {\n    /** @private */\n    constructor(message) {\n        super(message);\n        this.name = \"LibsqlUrlParseError\";\n    }\n}\n/** Error thrown when the protocol version is too low to support a feature. */\nexport class ProtocolVersionError extends ClientError {\n    /** @private */\n    constructor(message) {\n        super(message);\n        this.name = \"ProtocolVersionError\";\n    }\n}\n/** Error thrown when an internal client error happens. */\nexport class InternalError extends ClientError {\n    /** @private */\n    constructor(message) {\n        super(message);\n        this.name = \"InternalError\";\n    }\n}\n/** Error thrown when the API is misused. */\nexport class MisuseError extends ClientError {\n    /** @private */\n    constructor(message) {\n        super(message);\n        this.name = \"MisuseError\";\n    }\n}\n", "import { ProtoError } from \"../../errors.js\";\nexport function string(value) {\n    if (typeof value === \"string\") {\n        return value;\n    }\n    throw typeError(value, \"string\");\n}\nexport function stringOpt(value) {\n    if (value === null || value === undefined) {\n        return undefined;\n    }\n    else if (typeof value === \"string\") {\n        return value;\n    }\n    throw typeError(value, \"string or null\");\n}\nexport function number(value) {\n    if (typeof value === \"number\") {\n        return value;\n    }\n    throw typeError(value, \"number\");\n}\nexport function boolean(value) {\n    if (typeof value === \"boolean\") {\n        return value;\n    }\n    throw typeError(value, \"boolean\");\n}\nexport function array(value) {\n    if (Array.isArray(value)) {\n        return value;\n    }\n    throw typeError(value, \"array\");\n}\nexport function object(value) {\n    if (value !== null && typeof value === \"object\" && !Array.isArray(value)) {\n        return value;\n    }\n    throw typeError(value, \"object\");\n}\nexport function arrayObjectsMap(value, fun) {\n    return array(value).map((elemValue) => fun(object(elemValue)));\n}\nfunction typeError(value, expected) {\n    if (value === undefined) {\n        return new ProtoError(`Expected ${expected}, but the property was missing`);\n    }\n    let received = typeof value;\n    if (value === null) {\n        received = \"null\";\n    }\n    else if (Array.isArray(value)) {\n        received = \"array\";\n    }\n    return new ProtoError(`Expected ${expected}, received ${received}`);\n}\nexport function readJsonObject(value, fun) {\n    return fun(object(value));\n}\n", "export class ObjectWriter {\n    #output;\n    #isFirst;\n    constructor(output) {\n        this.#output = output;\n        this.#isFirst = false;\n    }\n    begin() {\n        this.#output.push('{');\n        this.#isFirst = true;\n    }\n    end() {\n        this.#output.push('}');\n        this.#isFirst = false;\n    }\n    #key(name) {\n        if (this.#isFirst) {\n            this.#output.push('\"');\n            this.#isFirst = false;\n        }\n        else {\n            this.#output.push(',\"');\n        }\n        this.#output.push(name);\n        this.#output.push('\":');\n    }\n    string(name, value) {\n        this.#key(name);\n        this.#output.push(JSON.stringify(value));\n    }\n    stringRaw(name, value) {\n        this.#key(name);\n        this.#output.push('\"');\n        this.#output.push(value);\n        this.#output.push('\"');\n    }\n    number(name, value) {\n        this.#key(name);\n        this.#output.push(\"\" + value);\n    }\n    boolean(name, value) {\n        this.#key(name);\n        this.#output.push(value ? \"true\" : \"false\");\n    }\n    object(name, value, valueFun) {\n        this.#key(name);\n        this.begin();\n        valueFun(this, value);\n        this.end();\n    }\n    arrayObjects(name, values, valueFun) {\n        this.#key(name);\n        this.#output.push('[');\n        for (let i = 0; i < values.length; ++i) {\n            if (i !== 0) {\n                this.#output.push(',');\n            }\n            this.begin();\n            valueFun(this, values[i]);\n            this.end();\n        }\n        this.#output.push(']');\n    }\n}\nexport function writeJsonObject(value, fun) {\n    const output = [];\n    const writer = new ObjectWriter(output);\n    writer.begin();\n    fun(writer, value);\n    writer.end();\n    return output.join(\"\");\n}\n", "import { ProtoError } from \"../../errors.js\";\nimport { VARINT, FIXED_64, LENGTH_DELIMITED, FIXED_32 } from \"./util.js\";\nclass MessageReader {\n    #array;\n    #view;\n    #pos;\n    constructor(array) {\n        this.#array = array;\n        this.#view = new DataView(array.buffer, array.byteOffset, array.byteLength);\n        this.#pos = 0;\n    }\n    varint() {\n        let value = 0;\n        for (let shift = 0;; shift += 7) {\n            const byte = this.#array[this.#pos++];\n            value |= (byte & 0x7f) << shift;\n            if (!(byte & 0x80)) {\n                break;\n            }\n        }\n        return value;\n    }\n    varintBig() {\n        let value = 0n;\n        for (let shift = 0n;; shift += 7n) {\n            const byte = this.#array[this.#pos++];\n            value |= BigInt(byte & 0x7f) << shift;\n            if (!(byte & 0x80)) {\n                break;\n            }\n        }\n        return value;\n    }\n    bytes(length) {\n        const array = new Uint8Array(this.#array.buffer, this.#array.byteOffset + this.#pos, length);\n        this.#pos += length;\n        return array;\n    }\n    double() {\n        const value = this.#view.getFloat64(this.#pos, true);\n        this.#pos += 8;\n        return value;\n    }\n    skipVarint() {\n        for (;;) {\n            const byte = this.#array[this.#pos++];\n            if (!(byte & 0x80)) {\n                break;\n            }\n        }\n    }\n    skip(count) {\n        this.#pos += count;\n    }\n    eof() {\n        return this.#pos >= this.#array.byteLength;\n    }\n}\nexport class FieldReader {\n    #reader;\n    #wireType;\n    constructor(reader) {\n        this.#reader = reader;\n        this.#wireType = -1;\n    }\n    setup(wireType) {\n        this.#wireType = wireType;\n    }\n    #expect(expectedWireType) {\n        if (this.#wireType !== expectedWireType) {\n            throw new ProtoError(`Expected wire type ${expectedWireType}, got ${this.#wireType}`);\n        }\n        this.#wireType = -1;\n    }\n    bytes() {\n        this.#expect(LENGTH_DELIMITED);\n        const length = this.#reader.varint();\n        return this.#reader.bytes(length);\n    }\n    string() {\n        return new TextDecoder().decode(this.bytes());\n    }\n    message(def) {\n        return readProtobufMessage(this.bytes(), def);\n    }\n    int32() {\n        this.#expect(VARINT);\n        return this.#reader.varint();\n    }\n    uint32() {\n        return this.int32();\n    }\n    bool() {\n        return this.int32() !== 0;\n    }\n    uint64() {\n        this.#expect(VARINT);\n        return this.#reader.varintBig();\n    }\n    sint64() {\n        const value = this.uint64();\n        return (value >> 1n) ^ (-(value & 1n));\n    }\n    double() {\n        this.#expect(FIXED_64);\n        return this.#reader.double();\n    }\n    maybeSkip() {\n        if (this.#wireType < 0) {\n            return;\n        }\n        else if (this.#wireType === VARINT) {\n            this.#reader.skipVarint();\n        }\n        else if (this.#wireType === FIXED_64) {\n            this.#reader.skip(8);\n        }\n        else if (this.#wireType === LENGTH_DELIMITED) {\n            const length = this.#reader.varint();\n            this.#reader.skip(length);\n        }\n        else if (this.#wireType === FIXED_32) {\n            this.#reader.skip(4);\n        }\n        else {\n            throw new ProtoError(`Unexpected wire type ${this.#wireType}`);\n        }\n        this.#wireType = -1;\n    }\n}\nexport function readProtobufMessage(data, def) {\n    const msgReader = new MessageReader(data);\n    const fieldReader = new FieldReader(msgReader);\n    let value = def.default();\n    while (!msgReader.eof()) {\n        const key = msgReader.varint();\n        const tag = key >> 3;\n        const wireType = key & 0x7;\n        fieldReader.setup(wireType);\n        const tagFun = def[tag];\n        if (tagFun !== undefined) {\n            const returnedValue = tagFun(fieldReader, value);\n            if (returnedValue !== undefined) {\n                value = returnedValue;\n            }\n        }\n        fieldReader.maybeSkip();\n    }\n    return value;\n}\n", "import { VARINT, FIXED_64, LENGTH_DELIMITED } from \"./util.js\";\nexport class MessageWriter {\n    #buf;\n    #array;\n    #view;\n    #pos;\n    constructor() {\n        this.#buf = new ArrayBuffer(256);\n        this.#array = new Uint8Array(this.#buf);\n        this.#view = new DataView(this.#buf);\n        this.#pos = 0;\n    }\n    #ensure(extra) {\n        if (this.#pos + extra <= this.#buf.byteLength) {\n            return;\n        }\n        let newCap = this.#buf.byteLength;\n        while (newCap < this.#pos + extra) {\n            newCap *= 2;\n        }\n        const newBuf = new ArrayBuffer(newCap);\n        const newArray = new Uint8Array(newBuf);\n        const newView = new DataView(newBuf);\n        newArray.set(new Uint8Array(this.#buf, 0, this.#pos));\n        this.#buf = newBuf;\n        this.#array = newArray;\n        this.#view = newView;\n    }\n    #varint(value) {\n        this.#ensure(5);\n        value = 0 | value;\n        do {\n            let byte = value & 0x7f;\n            value >>>= 7;\n            byte |= (value ? 0x80 : 0);\n            this.#array[this.#pos++] = byte;\n        } while (value);\n    }\n    #varintBig(value) {\n        this.#ensure(10);\n        value = value & 0xffffffffffffffffn;\n        do {\n            let byte = Number(value & 0x7fn);\n            value >>= 7n;\n            byte |= (value ? 0x80 : 0);\n            this.#array[this.#pos++] = byte;\n        } while (value);\n    }\n    #tag(tag, wireType) {\n        this.#varint((tag << 3) | wireType);\n    }\n    bytes(tag, value) {\n        this.#tag(tag, LENGTH_DELIMITED);\n        this.#varint(value.byteLength);\n        this.#ensure(value.byteLength);\n        this.#array.set(value, this.#pos);\n        this.#pos += value.byteLength;\n    }\n    string(tag, value) {\n        this.bytes(tag, new TextEncoder().encode(value));\n    }\n    message(tag, value, fun) {\n        const writer = new MessageWriter();\n        fun(writer, value);\n        this.bytes(tag, writer.data());\n    }\n    int32(tag, value) {\n        this.#tag(tag, VARINT);\n        this.#varint(value);\n    }\n    uint32(tag, value) {\n        this.int32(tag, value);\n    }\n    bool(tag, value) {\n        this.int32(tag, value ? 1 : 0);\n    }\n    sint64(tag, value) {\n        this.#tag(tag, VARINT);\n        this.#varintBig((value << 1n) ^ (value >> 63n));\n    }\n    double(tag, value) {\n        this.#tag(tag, FIXED_64);\n        this.#ensure(8);\n        this.#view.setFloat64(this.#pos, value, true);\n        this.#pos += 8;\n    }\n    data() {\n        return new Uint8Array(this.#buf, 0, this.#pos);\n    }\n}\nexport function writeProtobufMessage(value, fun) {\n    const w = new MessageWriter();\n    fun(w, value);\n    return w.data();\n}\n", "import { InternalError } from \"./errors.js\";\n// An allocator of non-negative integer ids.\n//\n// This clever data structure has these \"ideal\" properties:\n// - It consumes memory proportional to the number of used ids (which is optimal).\n// - All operations are O(1) time.\n// - The allocated ids are small (with a slight modification, we could always provide the smallest possible\n// id).\nexport class IdAlloc {\n    // Set of all allocated ids\n    #usedIds;\n    // Set of all free ids lower than `#usedIds.size`\n    #freeIds;\n    constructor() {\n        this.#usedIds = new Set();\n        this.#freeIds = new Set();\n    }\n    // Returns an id that was free, and marks it as used.\n    alloc() {\n        // this \"loop\" is just a way to pick an arbitrary element from the `#freeIds` set\n        for (const freeId of this.#freeIds) {\n            this.#freeIds.delete(freeId);\n            this.#usedIds.add(freeId);\n            // maintain the invariant of `#freeIds`\n            if (!this.#usedIds.has(this.#usedIds.size - 1)) {\n                this.#freeIds.add(this.#usedIds.size - 1);\n            }\n            return freeId;\n        }\n        // the `#freeIds` set is empty, so there are no free ids lower than `#usedIds.size`\n        // this means that `#usedIds` is a set that contains all numbers from 0 to `#usedIds.size - 1`,\n        // so `#usedIds.size` is free\n        const freeId = this.#usedIds.size;\n        this.#usedIds.add(freeId);\n        return freeId;\n    }\n    free(id) {\n        if (!this.#usedIds.delete(id)) {\n            throw new InternalError(\"Freeing an id that is not allocated\");\n        }\n        // maintain the invariant of `#freeIds`\n        this.#freeIds.delete(this.#usedIds.size);\n        if (id < this.#usedIds.size) {\n            this.#freeIds.add(id);\n        }\n    }\n}\n", "import { InternalError } from \"./errors.js\";\nexport function impossible(value, message) {\n    throw new InternalError(message);\n}\n", "import { ProtoError, MisuseError } from \"./errors.js\";\nimport { impossible } from \"./util.js\";\nexport function valueToProto(value) {\n    if (value === null) {\n        return null;\n    }\n    else if (typeof value === \"string\") {\n        return value;\n    }\n    else if (typeof value === \"number\") {\n        if (!Number.isFinite(value)) {\n            throw new RangeError(\"Only finite numbers (not Infinity or NaN) can be passed as arguments\");\n        }\n        return value;\n    }\n    else if (typeof value === \"bigint\") {\n        if (value < minInteger || value > maxInteger) {\n            throw new RangeError(\"This bigint value is too large to be represented as a 64-bit integer and passed as argument\");\n        }\n        return value;\n    }\n    else if (typeof value === \"boolean\") {\n        return value ? 1n : 0n;\n    }\n    else if (value instanceof ArrayBuffer) {\n        return new Uint8Array(value);\n    }\n    else if (value instanceof Uint8Array) {\n        return value;\n    }\n    else if (value instanceof Date) {\n        return +value.valueOf();\n    }\n    else if (typeof value === \"object\") {\n        return \"\" + value.toString();\n    }\n    else {\n        throw new TypeError(\"Unsupported type of value\");\n    }\n}\nconst minInteger = -9223372036854775808n;\nconst maxInteger = 9223372036854775807n;\nexport function valueFromProto(value, intMode) {\n    if (value === null) {\n        return null;\n    }\n    else if (typeof value === \"number\") {\n        return value;\n    }\n    else if (typeof value === \"string\") {\n        return value;\n    }\n    else if (typeof value === \"bigint\") {\n        if (intMode === \"number\") {\n            const num = Number(value);\n            if (!Number.isSafeInteger(num)) {\n                throw new RangeError(\"Received integer which is too large to be safely represented as a JavaScript number\");\n            }\n            return num;\n        }\n        else if (intMode === \"bigint\") {\n            return value;\n        }\n        else if (intMode === \"string\") {\n            return \"\" + value;\n        }\n        else {\n            throw new MisuseError(\"Invalid value for IntMode\");\n        }\n    }\n    else if (value instanceof Uint8Array) {\n        // TODO: we need to copy data from `Uint8Array` to return an `ArrayBuffer`. Perhaps we should add a\n        // `blobMode` parameter, similar to `intMode`, which would allow the user to choose between receiving\n        // `ArrayBuffer` (default, convenient) and `Uint8Array` (zero copy)?\n        return value.slice().buffer;\n    }\n    else if (value === undefined) {\n        throw new ProtoError(\"Received unrecognized type of Value\");\n    }\n    else {\n        throw impossible(value, \"Impossible type of Value\");\n    }\n}\n", "import { ResponseError } from \"./errors.js\";\nimport { valueFromProto } from \"./value.js\";\nexport function stmtResultFromProto(result) {\n    return {\n        affectedRowCount: result.affectedRowCount,\n        lastInsertRowid: result.lastInsertRowid,\n        columnNames: result.cols.map(col => col.name),\n        columnDecltypes: result.cols.map(col => col.decltype),\n    };\n}\nexport function rowsResultFromProto(result, intMode) {\n    const stmtResult = stmtResultFromProto(result);\n    const rows = result.rows.map(row => rowFromProto(stmtResult.columnNames, row, intMode));\n    return { ...stmtResult, rows };\n}\nexport function rowResultFromProto(result, intMode) {\n    const stmtResult = stmtResultFromProto(result);\n    let row;\n    if (result.rows.length > 0) {\n        row = rowFromProto(stmtResult.columnNames, result.rows[0], intMode);\n    }\n    return { ...stmtResult, row };\n}\nexport function valueResultFromProto(result, intMode) {\n    const stmtResult = stmtResultFromProto(result);\n    let value;\n    if (result.rows.length > 0 && stmtResult.columnNames.length > 0) {\n        value = valueFromProto(result.rows[0][0], intMode);\n    }\n    return { ...stmtResult, value };\n}\nfunction rowFromProto(colNames, values, intMode) {\n    const row = {};\n    // make sure that the \"length\" property is not enumerable\n    Object.defineProperty(row, \"length\", { value: values.length });\n    for (let i = 0; i < values.length; ++i) {\n        const value = valueFromProto(values[i], intMode);\n        Object.defineProperty(row, i, { value });\n        const colName = colNames[i];\n        if (colName !== undefined && !Object.hasOwn(row, colName)) {\n            Object.defineProperty(row, colName, { value, enumerable: true, configurable: true, writable: true });\n        }\n    }\n    return row;\n}\nexport function errorFromProto(error) {\n    return new ResponseError(error.message, error);\n}\n", "import { ClientError, ClosedError, MisuseError } from \"./errors.js\";\n/** Text of an SQL statement cached on the server. */\nexport class Sql {\n    #owner;\n    #sqlId;\n    #closed;\n    /** @private */\n    constructor(owner, sqlId) {\n        this.#owner = owner;\n        this.#sqlId = sqlId;\n        this.#closed = undefined;\n    }\n    /** @private */\n    _getSqlId(owner) {\n        if (this.#owner !== owner) {\n            throw new MisuseError(\"Attempted to use SQL text opened with other object\");\n        }\n        else if (this.#closed !== undefined) {\n            throw new ClosedError(\"SQL text is closed\", this.#closed);\n        }\n        return this.#sqlId;\n    }\n    /** Remove the SQL text from the server, releasing resouces. */\n    close() {\n        this._setClosed(new ClientError(\"SQL text was manually closed\"));\n    }\n    /** @private */\n    _setClosed(error) {\n        if (this.#closed === undefined) {\n            this.#closed = error;\n            this.#owner._closeSql(this.#sqlId);\n        }\n    }\n    /** True if the SQL text is closed (removed from the server). */\n    get closed() {\n        return this.#closed !== undefined;\n    }\n}\nexport function sqlToProto(owner, sql) {\n    if (sql instanceof Sql) {\n        return { sqlId: sql._getSqlId(owner) };\n    }\n    else {\n        return { sql: \"\" + sql };\n    }\n}\n", "export class Queue {\n    #pushStack;\n    #shiftStack;\n    constructor() {\n        this.#pushStack = [];\n        this.#shiftStack = [];\n    }\n    get length() {\n        return this.#pushStack.length + this.#shiftStack.length;\n    }\n    push(elem) {\n        this.#pushStack.push(elem);\n    }\n    shift() {\n        if (this.#shiftStack.length === 0 && this.#pushStack.length > 0) {\n            this.#shiftStack = this.#pushStack.reverse();\n            this.#pushStack = [];\n        }\n        return this.#shiftStack.pop();\n    }\n    first() {\n        return this.#shiftStack.length !== 0\n            ? this.#shiftStack[this.#shiftStack.length - 1]\n            : this.#pushStack[0];\n    }\n}\n", "import { sqlToProto } from \"./sql.js\";\nimport { valueToProto } from \"./value.js\";\n/** A statement that can be evaluated by the database. Besides the SQL text, it also contains the positional\n * and named arguments. */\nexport class Stmt {\n    /** The SQL statement text. */\n    sql;\n    /** @private */\n    _args;\n    /** @private */\n    _namedArgs;\n    /** Initialize the statement with given SQL text. */\n    constructor(sql) {\n        this.sql = sql;\n        this._args = [];\n        this._namedArgs = new Map();\n    }\n    /** Binds positional parameters from the given `values`. All previous positional bindings are cleared. */\n    bindIndexes(values) {\n        this._args.length = 0;\n        for (const value of values) {\n            this._args.push(valueToProto(value));\n        }\n        return this;\n    }\n    /** Binds a parameter by a 1-based index. */\n    bindIndex(index, value) {\n        if (index !== (index | 0) || index <= 0) {\n            throw new RangeError(\"Index of a positional argument must be positive integer\");\n        }\n        while (this._args.length < index) {\n            this._args.push(null);\n        }\n        this._args[index - 1] = valueToProto(value);\n        return this;\n    }\n    /** Binds a parameter by name. */\n    bindName(name, value) {\n        this._namedArgs.set(name, valueToProto(value));\n        return this;\n    }\n    /** Clears all bindings. */\n    unbindAll() {\n        this._args.length = 0;\n        this._namedArgs.clear();\n        return this;\n    }\n}\nexport function stmtToProto(sqlOwner, stmt, wantRows) {\n    let inSql;\n    let args = [];\n    let namedArgs = [];\n    if (stmt instanceof Stmt) {\n        inSql = stmt.sql;\n        args = stmt._args;\n        for (const [name, value] of stmt._namedArgs.entries()) {\n            namedArgs.push({ name, value });\n        }\n    }\n    else if (Array.isArray(stmt)) {\n        inSql = stmt[0];\n        if (Array.isArray(stmt[1])) {\n            args = stmt[1].map((arg) => valueToProto(arg));\n        }\n        else {\n            namedArgs = Object.entries(stmt[1]).map(([name, value]) => {\n                return { name, value: valueToProto(value) };\n            });\n        }\n    }\n    else {\n        inSql = stmt;\n    }\n    const { sql, sqlId } = sqlToProto(sqlOwner, inSql);\n    return { sql, sqlId, args, namedArgs, wantRows };\n}\n", "import { ProtoError, MisuseError } from \"./errors.js\";\nimport { stmtResultFromProto, rowsResultFromProto, rowResultFromProto, valueResultFromProto, errorFromProto, } from \"./result.js\";\nimport { stmtToProto } from \"./stmt.js\";\nimport { impossible } from \"./util.js\";\n/** A builder for creating a batch and executing it on the server. */\nexport class Batch {\n    /** @private */\n    _stream;\n    #useCursor;\n    /** @private */\n    _steps;\n    #executed;\n    /** @private */\n    constructor(stream, useCursor) {\n        this._stream = stream;\n        this.#useCursor = useCursor;\n        this._steps = [];\n        this.#executed = false;\n    }\n    /** Return a builder for adding a step to the batch. */\n    step() {\n        return new BatchStep(this);\n    }\n    /** Execute the batch. */\n    execute() {\n        if (this.#executed) {\n            throw new MisuseError(\"This batch has already been executed\");\n        }\n        this.#executed = true;\n        const batch = {\n            steps: this._steps.map((step) => step.proto),\n        };\n        if (this.#useCursor) {\n            return executeCursor(this._stream, this._steps, batch);\n        }\n        else {\n            return executeRegular(this._stream, this._steps, batch);\n        }\n    }\n}\nfunction executeRegular(stream, steps, batch) {\n    return stream._batch(batch).then((result) => {\n        for (let step = 0; step < steps.length; ++step) {\n            const stepResult = result.stepResults.get(step);\n            const stepError = result.stepErrors.get(step);\n            steps[step].callback(stepResult, stepError);\n        }\n    });\n}\nasync function executeCursor(stream, steps, batch) {\n    const cursor = await stream._openCursor(batch);\n    try {\n        let nextStep = 0;\n        let beginEntry = undefined;\n        let rows = [];\n        for (;;) {\n            const entry = await cursor.next();\n            if (entry === undefined) {\n                break;\n            }\n            if (entry.type === \"step_begin\") {\n                if (entry.step < nextStep || entry.step >= steps.length) {\n                    throw new ProtoError(\"Server produced StepBeginEntry for unexpected step\");\n                }\n                else if (beginEntry !== undefined) {\n                    throw new ProtoError(\"Server produced StepBeginEntry before terminating previous step\");\n                }\n                for (let step = nextStep; step < entry.step; ++step) {\n                    steps[step].callback(undefined, undefined);\n                }\n                nextStep = entry.step + 1;\n                beginEntry = entry;\n                rows = [];\n            }\n            else if (entry.type === \"step_end\") {\n                if (beginEntry === undefined) {\n                    throw new ProtoError(\"Server produced StepEndEntry but no step is active\");\n                }\n                const stmtResult = {\n                    cols: beginEntry.cols,\n                    rows,\n                    affectedRowCount: entry.affectedRowCount,\n                    lastInsertRowid: entry.lastInsertRowid,\n                };\n                steps[beginEntry.step].callback(stmtResult, undefined);\n                beginEntry = undefined;\n                rows = [];\n            }\n            else if (entry.type === \"step_error\") {\n                if (beginEntry === undefined) {\n                    if (entry.step >= steps.length) {\n                        throw new ProtoError(\"Server produced StepErrorEntry for unexpected step\");\n                    }\n                    for (let step = nextStep; step < entry.step; ++step) {\n                        steps[step].callback(undefined, undefined);\n                    }\n                }\n                else {\n                    if (entry.step !== beginEntry.step) {\n                        throw new ProtoError(\"Server produced StepErrorEntry for unexpected step\");\n                    }\n                    beginEntry = undefined;\n                    rows = [];\n                }\n                steps[entry.step].callback(undefined, entry.error);\n                nextStep = entry.step + 1;\n            }\n            else if (entry.type === \"row\") {\n                if (beginEntry === undefined) {\n                    throw new ProtoError(\"Server produced RowEntry but no step is active\");\n                }\n                rows.push(entry.row);\n            }\n            else if (entry.type === \"error\") {\n                throw errorFromProto(entry.error);\n            }\n            else if (entry.type === \"none\") {\n                throw new ProtoError(\"Server produced unrecognized CursorEntry\");\n            }\n            else {\n                throw impossible(entry, \"Impossible CursorEntry\");\n            }\n        }\n        if (beginEntry !== undefined) {\n            throw new ProtoError(\"Server closed Cursor before terminating active step\");\n        }\n        for (let step = nextStep; step < steps.length; ++step) {\n            steps[step].callback(undefined, undefined);\n        }\n    }\n    finally {\n        cursor.close();\n    }\n}\n/** A builder for adding a step to the batch. */\nexport class BatchStep {\n    /** @private */\n    _batch;\n    #conds;\n    /** @private */\n    _index;\n    /** @private */\n    constructor(batch) {\n        this._batch = batch;\n        this.#conds = [];\n        this._index = undefined;\n    }\n    /** Add the condition that needs to be satisfied to execute the statement. If you use this method multiple\n     * times, we join the conditions with a logical AND. */\n    condition(cond) {\n        this.#conds.push(cond._proto);\n        return this;\n    }\n    /** Add a statement that returns rows. */\n    query(stmt) {\n        return this.#add(stmt, true, rowsResultFromProto);\n    }\n    /** Add a statement that returns at most a single row. */\n    queryRow(stmt) {\n        return this.#add(stmt, true, rowResultFromProto);\n    }\n    /** Add a statement that returns at most a single value. */\n    queryValue(stmt) {\n        return this.#add(stmt, true, valueResultFromProto);\n    }\n    /** Add a statement without returning rows. */\n    run(stmt) {\n        return this.#add(stmt, false, stmtResultFromProto);\n    }\n    #add(inStmt, wantRows, fromProto) {\n        if (this._index !== undefined) {\n            throw new MisuseError(\"This BatchStep has already been added to the batch\");\n        }\n        const stmt = stmtToProto(this._batch._stream._sqlOwner(), inStmt, wantRows);\n        let condition;\n        if (this.#conds.length === 0) {\n            condition = undefined;\n        }\n        else if (this.#conds.length === 1) {\n            condition = this.#conds[0];\n        }\n        else {\n            condition = { type: \"and\", conds: this.#conds.slice() };\n        }\n        const proto = { stmt, condition };\n        return new Promise((outputCallback, errorCallback) => {\n            const callback = (stepResult, stepError) => {\n                if (stepResult !== undefined && stepError !== undefined) {\n                    errorCallback(new ProtoError(\"Server returned both result and error\"));\n                }\n                else if (stepError !== undefined) {\n                    errorCallback(errorFromProto(stepError));\n                }\n                else if (stepResult !== undefined) {\n                    outputCallback(fromProto(stepResult, this._batch._stream.intMode));\n                }\n                else {\n                    outputCallback(undefined);\n                }\n            };\n            this._index = this._batch._steps.length;\n            this._batch._steps.push({ proto, callback });\n        });\n    }\n}\nexport class BatchCond {\n    /** @private */\n    _batch;\n    /** @private */\n    _proto;\n    /** @private */\n    constructor(batch, proto) {\n        this._batch = batch;\n        this._proto = proto;\n    }\n    /** Create a condition that evaluates to true when the given step executes successfully.\n     *\n     * If the given step fails error or is skipped because its condition evaluated to false, this\n     * condition evaluates to false.\n     */\n    static ok(step) {\n        return new BatchCond(step._batch, { type: \"ok\", step: stepIndex(step) });\n    }\n    /** Create a condition that evaluates to true when the given step fails.\n     *\n     * If the given step succeeds or is skipped because its condition evaluated to false, this condition\n     * evaluates to false.\n     */\n    static error(step) {\n        return new BatchCond(step._batch, { type: \"error\", step: stepIndex(step) });\n    }\n    /** Create a condition that is a logical negation of another condition.\n     */\n    static not(cond) {\n        return new BatchCond(cond._batch, { type: \"not\", cond: cond._proto });\n    }\n    /** Create a condition that is a logical AND of other conditions.\n     */\n    static and(batch, conds) {\n        for (const cond of conds) {\n            checkCondBatch(batch, cond);\n        }\n        return new BatchCond(batch, { type: \"and\", conds: conds.map(e => e._proto) });\n    }\n    /** Create a condition that is a logical OR of other conditions.\n     */\n    static or(batch, conds) {\n        for (const cond of conds) {\n            checkCondBatch(batch, cond);\n        }\n        return new BatchCond(batch, { type: \"or\", conds: conds.map(e => e._proto) });\n    }\n    /** Create a condition that evaluates to true when the SQL connection is in autocommit mode (not inside an\n     * explicit transaction). This requires protocol version 3 or higher.\n     */\n    static isAutocommit(batch) {\n        batch._stream.client()._ensureVersion(3, \"BatchCond.isAutocommit()\");\n        return new BatchCond(batch, { type: \"is_autocommit\" });\n    }\n}\nfunction stepIndex(step) {\n    if (step._index === undefined) {\n        throw new MisuseError(\"Cannot add a condition referencing a step that has not been added to the batch\");\n    }\n    return step._index;\n}\nfunction checkCondBatch(expectedBatch, cond) {\n    if (cond._batch !== expectedBatch) {\n        throw new MisuseError(\"Cannot mix BatchCond objects for different Batch objects\");\n    }\n}\n", "export function describeResultFromProto(result) {\n    return {\n        paramNames: result.params.map((p) => p.name),\n        columns: result.cols,\n        isExplain: result.isExplain,\n        isReadonly: result.isReadonly,\n    };\n}\n", "import { Batch } from \"./batch.js\";\nimport { describeResultFromProto } from \"./describe.js\";\nimport { stmtResultFromProto, rowsResultFromProto, rowResultFromProto, valueResultFromProto, } from \"./result.js\";\nimport { sqlToProto } from \"./sql.js\";\nimport { stmtToProto } from \"./stmt.js\";\n/** A stream for executing SQL statements (a \"database connection\"). */\nexport class Stream {\n    /** @private */\n    constructor(intMode) {\n        this.intMode = intMode;\n    }\n    /** Execute a statement and return rows. */\n    query(stmt) {\n        return this.#execute(stmt, true, rowsResultFromProto);\n    }\n    /** Execute a statement and return at most a single row. */\n    queryRow(stmt) {\n        return this.#execute(stmt, true, rowResultFromProto);\n    }\n    /** Execute a statement and return at most a single value. */\n    queryValue(stmt) {\n        return this.#execute(stmt, true, valueResultFromProto);\n    }\n    /** Execute a statement without returning rows. */\n    run(stmt) {\n        return this.#execute(stmt, false, stmtResultFromProto);\n    }\n    #execute(inStmt, wantRows, fromProto) {\n        const stmt = stmtToProto(this._sqlOwner(), inStmt, wantRows);\n        return this._execute(stmt).then((r) => fromProto(r, this.intMode));\n    }\n    /** Return a builder for creating and executing a batch.\n     *\n     * If `useCursor` is true, the batch will be executed using a Hrana cursor, which will stream results from\n     * the server to the client, which consumes less memory on the server. This requires protocol version 3 or\n     * higher.\n     */\n    batch(useCursor = false) {\n        return new Batch(this, useCursor);\n    }\n    /** Parse and analyze a statement. This requires protocol version 2 or higher. */\n    describe(inSql) {\n        const protoSql = sqlToProto(this._sqlOwner(), inSql);\n        return this._describe(protoSql).then(describeResultFromProto);\n    }\n    /** Execute a sequence of statements separated by semicolons. This requires protocol version 2 or higher.\n     * */\n    sequence(inSql) {\n        const protoSql = sqlToProto(this._sqlOwner(), inSql);\n        return this._sequence(protoSql);\n    }\n    /** Representation of integers returned from the database. See {@link IntMode}.\n     *\n     * This value affects the results of all operations on this stream.\n     */\n    intMode;\n}\n", "export class Cursor {\n}\n", "import { ClientError, ClosedError } from \"../errors.js\";\nimport { Cursor } from \"../cursor.js\";\nimport { Queue } from \"../queue.js\";\nconst fetchChunkSize = 1000;\nconst fetchQueueSize = 10;\nexport class WsCursor extends Cursor {\n    #client;\n    #stream;\n    #cursorId;\n    #entryQueue;\n    #fetchQueue;\n    #closed;\n    #done;\n    /** @private */\n    constructor(client, stream, cursorId) {\n        super();\n        this.#client = client;\n        this.#stream = stream;\n        this.#cursorId = cursorId;\n        this.#entryQueue = new Queue();\n        this.#fetchQueue = new Queue();\n        this.#closed = undefined;\n        this.#done = false;\n    }\n    /** Fetch the next entry from the cursor. */\n    async next() {\n        for (;;) {\n            if (this.#closed !== undefined) {\n                throw new ClosedError(\"Cursor is closed\", this.#closed);\n            }\n            while (!this.#done && this.#fetchQueue.length < fetchQueueSize) {\n                this.#fetchQueue.push(this.#fetch());\n            }\n            const entry = this.#entryQueue.shift();\n            if (this.#done || entry !== undefined) {\n                return entry;\n            }\n            // we assume that `Cursor.next()` is never called concurrently\n            await this.#fetchQueue.shift().then((response) => {\n                if (response === undefined) {\n                    return;\n                }\n                for (const entry of response.entries) {\n                    this.#entryQueue.push(entry);\n                }\n                this.#done ||= response.done;\n            });\n        }\n    }\n    #fetch() {\n        return this.#stream._sendCursorRequest(this, {\n            type: \"fetch_cursor\",\n            cursorId: this.#cursorId,\n            maxCount: fetchChunkSize,\n        }).then((resp) => resp, (error) => {\n            this._setClosed(error);\n            return undefined;\n        });\n    }\n    /** @private */\n    _setClosed(error) {\n        if (this.#closed !== undefined) {\n            return;\n        }\n        this.#closed = error;\n        this.#stream._sendCursorRequest(this, {\n            type: \"close_cursor\",\n            cursorId: this.#cursorId,\n        }).catch(() => undefined);\n        this.#stream._cursorClosed(this);\n    }\n    /** Close the cursor. */\n    close() {\n        this._setClosed(new ClientError(\"Cursor was manually closed\"));\n    }\n    /** True if the cursor is closed. */\n    get closed() {\n        return this.#closed !== undefined;\n    }\n}\n", "import { ClientError, ClosedError, InternalError } from \"../errors.js\";\nimport { Queue } from \"../queue.js\";\nimport { Stream } from \"../stream.js\";\nimport { WsCursor } from \"./cursor.js\";\nexport class WsStream extends Stream {\n    #client;\n    #streamId;\n    #queue;\n    #cursor;\n    #closing;\n    #closed;\n    /** @private */\n    static open(client) {\n        const streamId = client._streamIdAlloc.alloc();\n        const stream = new WsStream(client, streamId);\n        const responseCallback = () => undefined;\n        const errorCallback = (e) => stream.#setClosed(e);\n        const request = { type: \"open_stream\", streamId };\n        client._sendRequest(request, { responseCallback, errorCallback });\n        return stream;\n    }\n    /** @private */\n    constructor(client, streamId) {\n        super(client.intMode);\n        this.#client = client;\n        this.#streamId = streamId;\n        this.#queue = new Queue();\n        this.#cursor = undefined;\n        this.#closing = false;\n        this.#closed = undefined;\n    }\n    /** Get the {@link WsClient} object that this stream belongs to. */\n    client() {\n        return this.#client;\n    }\n    /** @private */\n    _sqlOwner() {\n        return this.#client;\n    }\n    /** @private */\n    _execute(stmt) {\n        return this.#sendStreamRequest({\n            type: \"execute\",\n            streamId: this.#streamId,\n            stmt,\n        }).then((response) => {\n            return response.result;\n        });\n    }\n    /** @private */\n    _batch(batch) {\n        return this.#sendStreamRequest({\n            type: \"batch\",\n            streamId: this.#streamId,\n            batch,\n        }).then((response) => {\n            return response.result;\n        });\n    }\n    /** @private */\n    _describe(protoSql) {\n        this.#client._ensureVersion(2, \"describe()\");\n        return this.#sendStreamRequest({\n            type: \"describe\",\n            streamId: this.#streamId,\n            sql: protoSql.sql,\n            sqlId: protoSql.sqlId,\n        }).then((response) => {\n            return response.result;\n        });\n    }\n    /** @private */\n    _sequence(protoSql) {\n        this.#client._ensureVersion(2, \"sequence()\");\n        return this.#sendStreamRequest({\n            type: \"sequence\",\n            streamId: this.#streamId,\n            sql: protoSql.sql,\n            sqlId: protoSql.sqlId,\n        }).then((_response) => {\n            return undefined;\n        });\n    }\n    /** Check whether the SQL connection underlying this stream is in autocommit state (i.e., outside of an\n     * explicit transaction). This requires protocol version 3 or higher.\n     */\n    getAutocommit() {\n        this.#client._ensureVersion(3, \"getAutocommit()\");\n        return this.#sendStreamRequest({\n            type: \"get_autocommit\",\n            streamId: this.#streamId,\n        }).then((response) => {\n            return response.isAutocommit;\n        });\n    }\n    #sendStreamRequest(request) {\n        return new Promise((responseCallback, errorCallback) => {\n            this.#pushToQueue({ type: \"request\", request, responseCallback, errorCallback });\n        });\n    }\n    /** @private */\n    _openCursor(batch) {\n        this.#client._ensureVersion(3, \"cursor\");\n        return new Promise((cursorCallback, errorCallback) => {\n            this.#pushToQueue({ type: \"cursor\", batch, cursorCallback, errorCallback });\n        });\n    }\n    /** @private */\n    _sendCursorRequest(cursor, request) {\n        if (cursor !== this.#cursor) {\n            throw new InternalError(\"Cursor not associated with the stream attempted to execute a request\");\n        }\n        return new Promise((responseCallback, errorCallback) => {\n            if (this.#closed !== undefined) {\n                errorCallback(new ClosedError(\"Stream is closed\", this.#closed));\n            }\n            else {\n                this.#client._sendRequest(request, { responseCallback, errorCallback });\n            }\n        });\n    }\n    /** @private */\n    _cursorClosed(cursor) {\n        if (cursor !== this.#cursor) {\n            throw new InternalError(\"Cursor was closed, but it was not associated with the stream\");\n        }\n        this.#cursor = undefined;\n        this.#flushQueue();\n    }\n    #pushToQueue(entry) {\n        if (this.#closed !== undefined) {\n            entry.errorCallback(new ClosedError(\"Stream is closed\", this.#closed));\n        }\n        else if (this.#closing) {\n            entry.errorCallback(new ClosedError(\"Stream is closing\", undefined));\n        }\n        else {\n            this.#queue.push(entry);\n            this.#flushQueue();\n        }\n    }\n    #flushQueue() {\n        for (;;) {\n            const entry = this.#queue.first();\n            if (entry === undefined && this.#cursor === undefined && this.#closing) {\n                this.#setClosed(new ClientError(\"Stream was gracefully closed\"));\n                break;\n            }\n            else if (entry?.type === \"request\" && this.#cursor === undefined) {\n                const { request, responseCallback, errorCallback } = entry;\n                this.#queue.shift();\n                this.#client._sendRequest(request, { responseCallback, errorCallback });\n            }\n            else if (entry?.type === \"cursor\" && this.#cursor === undefined) {\n                const { batch, cursorCallback } = entry;\n                this.#queue.shift();\n                const cursorId = this.#client._cursorIdAlloc.alloc();\n                const cursor = new WsCursor(this.#client, this, cursorId);\n                const request = {\n                    type: \"open_cursor\",\n                    streamId: this.#streamId,\n                    cursorId,\n                    batch,\n                };\n                const responseCallback = () => undefined;\n                const errorCallback = (e) => cursor._setClosed(e);\n                this.#client._sendRequest(request, { responseCallback, errorCallback });\n                this.#cursor = cursor;\n                cursorCallback(cursor);\n            }\n            else {\n                break;\n            }\n        }\n    }\n    #setClosed(error) {\n        if (this.#closed !== undefined) {\n            return;\n        }\n        this.#closed = error;\n        if (this.#cursor !== undefined) {\n            this.#cursor._setClosed(error);\n        }\n        for (;;) {\n            const entry = this.#queue.shift();\n            if (entry !== undefined) {\n                entry.errorCallback(error);\n            }\n            else {\n                break;\n            }\n        }\n        const request = { type: \"close_stream\", streamId: this.#streamId };\n        const responseCallback = () => this.#client._streamIdAlloc.free(this.#streamId);\n        const errorCallback = () => undefined;\n        this.#client._sendRequest(request, { responseCallback, errorCallback });\n    }\n    /** Immediately close the stream. */\n    close() {\n        this.#setClosed(new ClientError(\"Stream was manually closed\"));\n    }\n    /** Gracefully close the stream. */\n    closeGracefully() {\n        this.#closing = true;\n        this.#flushQueue();\n    }\n    /** True if the stream is closed or closing. */\n    get closed() {\n        return this.#closed !== undefined || this.#closing;\n    }\n}\n", "import { Base64 } from \"js-base64\";\nimport { impossible } from \"../util.js\";\nexport function Stmt(w, msg) {\n    if (msg.sql !== undefined) {\n        w.string(\"sql\", msg.sql);\n    }\n    if (msg.sqlId !== undefined) {\n        w.number(\"sql_id\", msg.sqlId);\n    }\n    w.arrayObjects(\"args\", msg.args, Value);\n    w.arrayObjects(\"named_args\", msg.namedArgs, NamedArg);\n    w.boolean(\"want_rows\", msg.wantRows);\n}\nfunction NamedArg(w, msg) {\n    w.string(\"name\", msg.name);\n    w.object(\"value\", msg.value, Value);\n}\nexport function Batch(w, msg) {\n    w.arrayObjects(\"steps\", msg.steps, BatchStep);\n}\nfunction BatchStep(w, msg) {\n    if (msg.condition !== undefined) {\n        w.object(\"condition\", msg.condition, BatchCond);\n    }\n    w.object(\"stmt\", msg.stmt, Stmt);\n}\nfunction BatchCond(w, msg) {\n    w.stringRaw(\"type\", msg.type);\n    if (msg.type === \"ok\" || msg.type === \"error\") {\n        w.number(\"step\", msg.step);\n    }\n    else if (msg.type === \"not\") {\n        w.object(\"cond\", msg.cond, BatchCond);\n    }\n    else if (msg.type === \"and\" || msg.type === \"or\") {\n        w.arrayObjects(\"conds\", msg.conds, BatchCond);\n    }\n    else if (msg.type === \"is_autocommit\") {\n        // do nothing\n    }\n    else {\n        throw impossible(msg, \"Impossible type of BatchCond\");\n    }\n}\nfunction Value(w, msg) {\n    if (msg === null) {\n        w.stringRaw(\"type\", \"null\");\n    }\n    else if (typeof msg === \"bigint\") {\n        w.stringRaw(\"type\", \"integer\");\n        w.stringRaw(\"value\", \"\" + msg);\n    }\n    else if (typeof msg === \"number\") {\n        w.stringRaw(\"type\", \"float\");\n        w.number(\"value\", msg);\n    }\n    else if (typeof msg === \"string\") {\n        w.stringRaw(\"type\", \"text\");\n        w.string(\"value\", msg);\n    }\n    else if (msg instanceof Uint8Array) {\n        w.stringRaw(\"type\", \"blob\");\n        w.stringRaw(\"base64\", Base64.fromUint8Array(msg));\n    }\n    else if (msg === undefined) {\n        // do nothing\n    }\n    else {\n        throw impossible(msg, \"Impossible type of Value\");\n    }\n}\n", "import { Stmt, Batch } from \"../shared/json_encode.js\";\nimport { impossible } from \"../util.js\";\nexport function ClientMsg(w, msg) {\n    w.stringRaw(\"type\", msg.type);\n    if (msg.type === \"hello\") {\n        if (msg.jwt !== undefined) {\n            w.string(\"jwt\", msg.jwt);\n        }\n    }\n    else if (msg.type === \"request\") {\n        w.number(\"request_id\", msg.requestId);\n        w.object(\"request\", msg.request, Request);\n    }\n    else {\n        throw impossible(msg, \"Impossible type of ClientMsg\");\n    }\n}\nfunction Request(w, msg) {\n    w.stringRaw(\"type\", msg.type);\n    if (msg.type === \"open_stream\") {\n        w.number(\"stream_id\", msg.streamId);\n    }\n    else if (msg.type === \"close_stream\") {\n        w.number(\"stream_id\", msg.streamId);\n    }\n    else if (msg.type === \"execute\") {\n        w.number(\"stream_id\", msg.streamId);\n        w.object(\"stmt\", msg.stmt, Stmt);\n    }\n    else if (msg.type === \"batch\") {\n        w.number(\"stream_id\", msg.streamId);\n        w.object(\"batch\", msg.batch, Batch);\n    }\n    else if (msg.type === \"open_cursor\") {\n        w.number(\"stream_id\", msg.streamId);\n        w.number(\"cursor_id\", msg.cursorId);\n        w.object(\"batch\", msg.batch, Batch);\n    }\n    else if (msg.type === \"close_cursor\") {\n        w.number(\"cursor_id\", msg.cursorId);\n    }\n    else if (msg.type === \"fetch_cursor\") {\n        w.number(\"cursor_id\", msg.cursorId);\n        w.number(\"max_count\", msg.maxCount);\n    }\n    else if (msg.type === \"sequence\") {\n        w.number(\"stream_id\", msg.streamId);\n        if (msg.sql !== undefined) {\n            w.string(\"sql\", msg.sql);\n        }\n        if (msg.sqlId !== undefined) {\n            w.number(\"sql_id\", msg.sqlId);\n        }\n    }\n    else if (msg.type === \"describe\") {\n        w.number(\"stream_id\", msg.streamId);\n        if (msg.sql !== undefined) {\n            w.string(\"sql\", msg.sql);\n        }\n        if (msg.sqlId !== undefined) {\n            w.number(\"sql_id\", msg.sqlId);\n        }\n    }\n    else if (msg.type === \"store_sql\") {\n        w.number(\"sql_id\", msg.sqlId);\n        w.string(\"sql\", msg.sql);\n    }\n    else if (msg.type === \"close_sql\") {\n        w.number(\"sql_id\", msg.sqlId);\n    }\n    else if (msg.type === \"get_autocommit\") {\n        w.number(\"stream_id\", msg.streamId);\n    }\n    else {\n        throw impossible(msg, \"Impossible type of Request\");\n    }\n}\n", "import { impossible } from \"../util.js\";\nexport function Stmt(w, msg) {\n    if (msg.sql !== undefined) {\n        w.string(1, msg.sql);\n    }\n    if (msg.sqlId !== undefined) {\n        w.int32(2, msg.sqlId);\n    }\n    for (const arg of msg.args) {\n        w.message(3, arg, Value);\n    }\n    for (const arg of msg.namedArgs) {\n        w.message(4, arg, NamedArg);\n    }\n    w.bool(5, msg.wantRows);\n}\nfunction NamedArg(w, msg) {\n    w.string(1, msg.name);\n    w.message(2, msg.value, Value);\n}\nexport function Batch(w, msg) {\n    for (const step of msg.steps) {\n        w.message(1, step, BatchStep);\n    }\n}\nfunction BatchStep(w, msg) {\n    if (msg.condition !== undefined) {\n        w.message(1, msg.condition, BatchCond);\n    }\n    w.message(2, msg.stmt, Stmt);\n}\nfunction BatchCond(w, msg) {\n    if (msg.type === \"ok\") {\n        w.uint32(1, msg.step);\n    }\n    else if (msg.type === \"error\") {\n        w.uint32(2, msg.step);\n    }\n    else if (msg.type === \"not\") {\n        w.message(3, msg.cond, BatchCond);\n    }\n    else if (msg.type === \"and\") {\n        w.message(4, msg.conds, BatchCondList);\n    }\n    else if (msg.type === \"or\") {\n        w.message(5, msg.conds, BatchCondList);\n    }\n    else if (msg.type === \"is_autocommit\") {\n        w.message(6, undefined, Empty);\n    }\n    else {\n        throw impossible(msg, \"Impossible type of BatchCond\");\n    }\n}\nfunction BatchCondList(w, msg) {\n    for (const cond of msg) {\n        w.message(1, cond, BatchCond);\n    }\n}\nfunction Value(w, msg) {\n    if (msg === null) {\n        w.message(1, undefined, Empty);\n    }\n    else if (typeof msg === \"bigint\") {\n        w.sint64(2, msg);\n    }\n    else if (typeof msg === \"number\") {\n        w.double(3, msg);\n    }\n    else if (typeof msg === \"string\") {\n        w.string(4, msg);\n    }\n    else if (msg instanceof Uint8Array) {\n        w.bytes(5, msg);\n    }\n    else if (msg === undefined) {\n        // do nothing\n    }\n    else {\n        throw impossible(msg, \"Impossible type of Value\");\n    }\n}\nfunction Empty(_w, _msg) {\n    // do nothing\n}\n", "import { Stmt, Batch } from \"../shared/protobuf_encode.js\";\nimport { impossible } from \"../util.js\";\nexport function ClientMsg(w, msg) {\n    if (msg.type === \"hello\") {\n        w.message(1, msg, HelloMsg);\n    }\n    else if (msg.type === \"request\") {\n        w.message(2, msg, RequestMsg);\n    }\n    else {\n        throw impossible(msg, \"Impossible type of ClientMsg\");\n    }\n}\nfunction HelloMsg(w, msg) {\n    if (msg.jwt !== undefined) {\n        w.string(1, msg.jwt);\n    }\n}\nfunction RequestMsg(w, msg) {\n    w.int32(1, msg.requestId);\n    const request = msg.request;\n    if (request.type === \"open_stream\") {\n        w.message(2, request, OpenStreamReq);\n    }\n    else if (request.type === \"close_stream\") {\n        w.message(3, request, CloseStreamReq);\n    }\n    else if (request.type === \"execute\") {\n        w.message(4, request, ExecuteReq);\n    }\n    else if (request.type === \"batch\") {\n        w.message(5, request, BatchReq);\n    }\n    else if (request.type === \"open_cursor\") {\n        w.message(6, request, OpenCursorReq);\n    }\n    else if (request.type === \"close_cursor\") {\n        w.message(7, request, CloseCursorReq);\n    }\n    else if (request.type === \"fetch_cursor\") {\n        w.message(8, request, FetchCursorReq);\n    }\n    else if (request.type === \"sequence\") {\n        w.message(9, request, SequenceReq);\n    }\n    else if (request.type === \"describe\") {\n        w.message(10, request, DescribeReq);\n    }\n    else if (request.type === \"store_sql\") {\n        w.message(11, request, StoreSqlReq);\n    }\n    else if (request.type === \"close_sql\") {\n        w.message(12, request, CloseSqlReq);\n    }\n    else if (request.type === \"get_autocommit\") {\n        w.message(13, request, GetAutocommitReq);\n    }\n    else {\n        throw impossible(request, \"Impossible type of Request\");\n    }\n}\nfunction OpenStreamReq(w, msg) {\n    w.int32(1, msg.streamId);\n}\nfunction CloseStreamReq(w, msg) {\n    w.int32(1, msg.streamId);\n}\nfunction ExecuteReq(w, msg) {\n    w.int32(1, msg.streamId);\n    w.message(2, msg.stmt, Stmt);\n}\nfunction BatchReq(w, msg) {\n    w.int32(1, msg.streamId);\n    w.message(2, msg.batch, Batch);\n}\nfunction OpenCursorReq(w, msg) {\n    w.int32(1, msg.streamId);\n    w.int32(2, msg.cursorId);\n    w.message(3, msg.batch, Batch);\n}\nfunction CloseCursorReq(w, msg) {\n    w.int32(1, msg.cursorId);\n}\nfunction FetchCursorReq(w, msg) {\n    w.int32(1, msg.cursorId);\n    w.uint32(2, msg.maxCount);\n}\nfunction SequenceReq(w, msg) {\n    w.int32(1, msg.streamId);\n    if (msg.sql !== undefined) {\n        w.string(2, msg.sql);\n    }\n    if (msg.sqlId !== undefined) {\n        w.int32(3, msg.sqlId);\n    }\n}\nfunction DescribeReq(w, msg) {\n    w.int32(1, msg.streamId);\n    if (msg.sql !== undefined) {\n        w.string(2, msg.sql);\n    }\n    if (msg.sqlId !== undefined) {\n        w.int32(3, msg.sqlId);\n    }\n}\nfunction StoreSqlReq(w, msg) {\n    w.int32(1, msg.sqlId);\n    w.string(2, msg.sql);\n}\nfunction CloseSqlReq(w, msg) {\n    w.int32(1, msg.sqlId);\n}\nfunction GetAutocommitReq(w, msg) {\n    w.int32(1, msg.streamId);\n}\n", "import { Base64 } from \"js-base64\";\nimport { ProtoError } from \"../errors.js\";\nimport * as d from \"../encoding/json/decode.js\";\nexport function Error(obj) {\n    const message = d.string(obj[\"message\"]);\n    const code = d.stringOpt(obj[\"code\"]);\n    return { message, code };\n}\nexport function StmtResult(obj) {\n    const cols = d.arrayObjectsMap(obj[\"cols\"], Col);\n    const rows = d.array(obj[\"rows\"]).map((rowObj) => d.arrayObjectsMap(rowObj, Value));\n    const affectedRowCount = d.number(obj[\"affected_row_count\"]);\n    const lastInsertRowidStr = d.stringOpt(obj[\"last_insert_rowid\"]);\n    const lastInsertRowid = lastInsertRowidStr !== undefined\n        ? BigInt(lastInsertRowidStr) : undefined;\n    return { cols, rows, affectedRowCount, lastInsertRowid };\n}\nfunction Col(obj) {\n    const name = d.stringOpt(obj[\"name\"]);\n    const decltype = d.stringOpt(obj[\"decltype\"]);\n    return { name, decltype };\n}\nexport function BatchResult(obj) {\n    const stepResults = new Map();\n    d.array(obj[\"step_results\"]).forEach((value, i) => {\n        if (value !== null) {\n            stepResults.set(i, StmtResult(d.object(value)));\n        }\n    });\n    const stepErrors = new Map();\n    d.array(obj[\"step_errors\"]).forEach((value, i) => {\n        if (value !== null) {\n            stepErrors.set(i, Error(d.object(value)));\n        }\n    });\n    return { stepResults, stepErrors };\n}\nexport function CursorEntry(obj) {\n    const type = d.string(obj[\"type\"]);\n    if (type === \"step_begin\") {\n        const step = d.number(obj[\"step\"]);\n        const cols = d.arrayObjectsMap(obj[\"cols\"], Col);\n        return { type: \"step_begin\", step, cols };\n    }\n    else if (type === \"step_end\") {\n        const affectedRowCount = d.number(obj[\"affected_row_count\"]);\n        const lastInsertRowidStr = d.stringOpt(obj[\"last_insert_rowid\"]);\n        const lastInsertRowid = lastInsertRowidStr !== undefined\n            ? BigInt(lastInsertRowidStr) : undefined;\n        return { type: \"step_end\", affectedRowCount, lastInsertRowid };\n    }\n    else if (type === \"step_error\") {\n        const step = d.number(obj[\"step\"]);\n        const error = Error(d.object(obj[\"error\"]));\n        return { type: \"step_error\", step, error };\n    }\n    else if (type === \"row\") {\n        const row = d.arrayObjectsMap(obj[\"row\"], Value);\n        return { type: \"row\", row };\n    }\n    else if (type === \"error\") {\n        const error = Error(d.object(obj[\"error\"]));\n        return { type: \"error\", error };\n    }\n    else {\n        throw new ProtoError(\"Unexpected type of CursorEntry\");\n    }\n}\nexport function DescribeResult(obj) {\n    const params = d.arrayObjectsMap(obj[\"params\"], DescribeParam);\n    const cols = d.arrayObjectsMap(obj[\"cols\"], DescribeCol);\n    const isExplain = d.boolean(obj[\"is_explain\"]);\n    const isReadonly = d.boolean(obj[\"is_readonly\"]);\n    return { params, cols, isExplain, isReadonly };\n}\nfunction DescribeParam(obj) {\n    const name = d.stringOpt(obj[\"name\"]);\n    return { name };\n}\nfunction DescribeCol(obj) {\n    const name = d.string(obj[\"name\"]);\n    const decltype = d.stringOpt(obj[\"decltype\"]);\n    return { name, decltype };\n}\nexport function Value(obj) {\n    const type = d.string(obj[\"type\"]);\n    if (type === \"null\") {\n        return null;\n    }\n    else if (type === \"integer\") {\n        const value = d.string(obj[\"value\"]);\n        return BigInt(value);\n    }\n    else if (type === \"float\") {\n        return d.number(obj[\"value\"]);\n    }\n    else if (type === \"text\") {\n        return d.string(obj[\"value\"]);\n    }\n    else if (type === \"blob\") {\n        return Base64.toUint8Array(d.string(obj[\"base64\"]));\n    }\n    else {\n        throw new ProtoError(\"Unexpected type of Value\");\n    }\n}\n", "import { ProtoError } from \"../errors.js\";\nimport * as d from \"../encoding/json/decode.js\";\nimport { Error, StmtResult, BatchResult, CursorEntry, DescribeResult } from \"../shared/json_decode.js\";\nexport function ServerMsg(obj) {\n    const type = d.string(obj[\"type\"]);\n    if (type === \"hello_ok\") {\n        return { type: \"hello_ok\" };\n    }\n    else if (type === \"hello_error\") {\n        const error = Error(d.object(obj[\"error\"]));\n        return { type: \"hello_error\", error };\n    }\n    else if (type === \"response_ok\") {\n        const requestId = d.number(obj[\"request_id\"]);\n        const response = Response(d.object(obj[\"response\"]));\n        return { type: \"response_ok\", requestId, response };\n    }\n    else if (type === \"response_error\") {\n        const requestId = d.number(obj[\"request_id\"]);\n        const error = Error(d.object(obj[\"error\"]));\n        return { type: \"response_error\", requestId, error };\n    }\n    else {\n        throw new ProtoError(\"Unexpected type of ServerMsg\");\n    }\n}\nfunction Response(obj) {\n    const type = d.string(obj[\"type\"]);\n    if (type === \"open_stream\") {\n        return { type: \"open_stream\" };\n    }\n    else if (type === \"close_stream\") {\n        return { type: \"close_stream\" };\n    }\n    else if (type === \"execute\") {\n        const result = StmtResult(d.object(obj[\"result\"]));\n        return { type: \"execute\", result };\n    }\n    else if (type === \"batch\") {\n        const result = BatchResult(d.object(obj[\"result\"]));\n        return { type: \"batch\", result };\n    }\n    else if (type === \"open_cursor\") {\n        return { type: \"open_cursor\" };\n    }\n    else if (type === \"close_cursor\") {\n        return { type: \"close_cursor\" };\n    }\n    else if (type === \"fetch_cursor\") {\n        const entries = d.arrayObjectsMap(obj[\"entries\"], CursorEntry);\n        const done = d.boolean(obj[\"done\"]);\n        return { type: \"fetch_cursor\", entries, done };\n    }\n    else if (type === \"sequence\") {\n        return { type: \"sequence\" };\n    }\n    else if (type === \"describe\") {\n        const result = DescribeResult(d.object(obj[\"result\"]));\n        return { type: \"describe\", result };\n    }\n    else if (type === \"store_sql\") {\n        return { type: \"store_sql\" };\n    }\n    else if (type === \"close_sql\") {\n        return { type: \"close_sql\" };\n    }\n    else if (type === \"get_autocommit\") {\n        const isAutocommit = d.boolean(obj[\"is_autocommit\"]);\n        return { type: \"get_autocommit\", isAutocommit };\n    }\n    else {\n        throw new ProtoError(\"Unexpected type of Response\");\n    }\n}\n", "export const Error = {\n    default() { return { message: \"\", code: undefined }; },\n    1(r, msg) { msg.message = r.string(); },\n    2(r, msg) { msg.code = r.string(); },\n};\nexport const StmtResult = {\n    default() {\n        return {\n            cols: [],\n            rows: [],\n            affectedRowCount: 0,\n            lastInsertRowid: undefined,\n        };\n    },\n    1(r, msg) { msg.cols.push(r.message(Col)); },\n    2(r, msg) { msg.rows.push(r.message(Row)); },\n    3(r, msg) { msg.affectedRowCount = Number(r.uint64()); },\n    4(r, msg) { msg.lastInsertRowid = r.sint64(); },\n};\nconst Col = {\n    default() { return { name: undefined, decltype: undefined }; },\n    1(r, msg) { msg.name = r.string(); },\n    2(r, msg) { msg.decltype = r.string(); },\n};\nconst Row = {\n    default() { return []; },\n    1(r, msg) { msg.push(r.message(Value)); },\n};\nexport const BatchResult = {\n    default() { return { stepResults: new Map(), stepErrors: new Map() }; },\n    1(r, msg) {\n        const [key, value] = r.message(BatchResultStepResult);\n        msg.stepResults.set(key, value);\n    },\n    2(r, msg) {\n        const [key, value] = r.message(BatchResultStepError);\n        msg.stepErrors.set(key, value);\n    },\n};\nconst BatchResultStepResult = {\n    default() { return [0, StmtResult.default()]; },\n    1(r, msg) { msg[0] = r.uint32(); },\n    2(r, msg) { msg[1] = r.message(StmtResult); },\n};\nconst BatchResultStepError = {\n    default() { return [0, Error.default()]; },\n    1(r, msg) { msg[0] = r.uint32(); },\n    2(r, msg) { msg[1] = r.message(Error); },\n};\nexport const CursorEntry = {\n    default() { return { type: \"none\" }; },\n    1(r) { return r.message(StepBeginEntry); },\n    2(r) { return r.message(StepEndEntry); },\n    3(r) { return r.message(StepErrorEntry); },\n    4(r) { return { type: \"row\", row: r.message(Row) }; },\n    5(r) { return { type: \"error\", error: r.message(Error) }; },\n};\nconst StepBeginEntry = {\n    default() { return { type: \"step_begin\", step: 0, cols: [] }; },\n    1(r, msg) { msg.step = r.uint32(); },\n    2(r, msg) { msg.cols.push(r.message(Col)); },\n};\nconst StepEndEntry = {\n    default() {\n        return {\n            type: \"step_end\",\n            affectedRowCount: 0,\n            lastInsertRowid: undefined,\n        };\n    },\n    1(r, msg) { msg.affectedRowCount = r.uint32(); },\n    2(r, msg) { msg.lastInsertRowid = r.uint64(); },\n};\nconst StepErrorEntry = {\n    default() {\n        return {\n            type: \"step_error\",\n            step: 0,\n            error: Error.default(),\n        };\n    },\n    1(r, msg) { msg.step = r.uint32(); },\n    2(r, msg) { msg.error = r.message(Error); },\n};\nexport const DescribeResult = {\n    default() {\n        return {\n            params: [],\n            cols: [],\n            isExplain: false,\n            isReadonly: false,\n        };\n    },\n    1(r, msg) { msg.params.push(r.message(DescribeParam)); },\n    2(r, msg) { msg.cols.push(r.message(DescribeCol)); },\n    3(r, msg) { msg.isExplain = r.bool(); },\n    4(r, msg) { msg.isReadonly = r.bool(); },\n};\nconst DescribeParam = {\n    default() { return { name: undefined }; },\n    1(r, msg) { msg.name = r.string(); },\n};\nconst DescribeCol = {\n    default() { return { name: \"\", decltype: undefined }; },\n    1(r, msg) { msg.name = r.string(); },\n    2(r, msg) { msg.decltype = r.string(); },\n};\nconst Value = {\n    default() { return undefined; },\n    1(r) { return null; },\n    2(r) { return r.sint64(); },\n    3(r) { return r.double(); },\n    4(r) { return r.string(); },\n    5(r) { return r.bytes(); },\n};\n", "import { Error, StmtResult, BatchResult, CursorEntry, DescribeResult } from \"../shared/protobuf_decode.js\";\nexport const ServerMsg = {\n    default() { return { type: \"none\" }; },\n    1(r) { return { type: \"hello_ok\" }; },\n    2(r) { return r.message(HelloErrorMsg); },\n    3(r) { return r.message(ResponseOkMsg); },\n    4(r) { return r.message(ResponseErrorMsg); },\n};\nconst HelloErrorMsg = {\n    default() { return { type: \"hello_error\", error: Error.default() }; },\n    1(r, msg) { msg.error = r.message(Error); },\n};\nconst ResponseErrorMsg = {\n    default() { return { type: \"response_error\", requestId: 0, error: Error.default() }; },\n    1(r, msg) { msg.requestId = r.int32(); },\n    2(r, msg) { msg.error = r.message(Error); },\n};\nconst ResponseOkMsg = {\n    default() {\n        return {\n            type: \"response_ok\",\n            requestId: 0,\n            response: { type: \"none\" },\n        };\n    },\n    1(r, msg) { msg.requestId = r.int32(); },\n    2(r, msg) { msg.response = { type: \"open_stream\" }; },\n    3(r, msg) { msg.response = { type: \"close_stream\" }; },\n    4(r, msg) { msg.response = r.message(ExecuteResp); },\n    5(r, msg) { msg.response = r.message(BatchResp); },\n    6(r, msg) { msg.response = { type: \"open_cursor\" }; },\n    7(r, msg) { msg.response = { type: \"close_cursor\" }; },\n    8(r, msg) { msg.response = r.message(FetchCursorResp); },\n    9(r, msg) { msg.response = { type: \"sequence\" }; },\n    10(r, msg) { msg.response = r.message(DescribeResp); },\n    11(r, msg) { msg.response = { type: \"store_sql\" }; },\n    12(r, msg) { msg.response = { type: \"close_sql\" }; },\n    13(r, msg) { msg.response = r.message(GetAutocommitResp); },\n};\nconst ExecuteResp = {\n    default() { return { type: \"execute\", result: StmtResult.default() }; },\n    1(r, msg) { msg.result = r.message(StmtResult); },\n};\nconst BatchResp = {\n    default() { return { type: \"batch\", result: BatchResult.default() }; },\n    1(r, msg) { msg.result = r.message(BatchResult); },\n};\nconst FetchCursorResp = {\n    default() { return { type: \"fetch_cursor\", entries: [], done: false }; },\n    1(r, msg) { msg.entries.push(r.message(CursorEntry)); },\n    2(r, msg) { msg.done = r.bool(); },\n};\nconst DescribeResp = {\n    default() { return { type: \"describe\", result: DescribeResult.default() }; },\n    1(r, msg) { msg.result = r.message(DescribeResult); },\n};\nconst GetAutocommitResp = {\n    default() { return { type: \"get_autocommit\", isAutocommit: false }; },\n    1(r, msg) { msg.isAutocommit = r.bool(); },\n};\n", "import { Client } from \"../client.js\";\nimport { readJsonObject, writeJsonObject, readProtobufMessage, writeProtobufMessage, } from \"../encoding/index.js\";\nimport { ClientError, ProtoError, ClosedError, WebSocketError, ProtocolVersionError, InternalError, } from \"../errors.js\";\nimport { IdAlloc } from \"../id_alloc.js\";\nimport { errorFromProto } from \"../result.js\";\nimport { Sql } from \"../sql.js\";\nimport { impossible } from \"../util.js\";\nimport { WsStream } from \"./stream.js\";\nimport { ClientMsg as json_ClientMsg } from \"./json_encode.js\";\nimport { ClientMsg as protobuf_ClientMsg } from \"./protobuf_encode.js\";\nimport { ServerMsg as json_ServerMsg } from \"./json_decode.js\";\nimport { ServerMsg as protobuf_ServerMsg } from \"./protobuf_decode.js\";\nexport const subprotocolsV2 = new Map([\n    [\"hrana2\", { version: 2, encoding: \"json\" }],\n    [\"hrana1\", { version: 1, encoding: \"json\" }],\n]);\nexport const subprotocolsV3 = new Map([\n    [\"hrana3-protobuf\", { version: 3, encoding: \"protobuf\" }],\n    [\"hrana3\", { version: 3, encoding: \"json\" }],\n    [\"hrana2\", { version: 2, encoding: \"json\" }],\n    [\"hrana1\", { version: 1, encoding: \"json\" }],\n]);\n/** A client for the Hrana protocol over a WebSocket. */\nexport class WsClient extends Client {\n    #socket;\n    // List of callbacks that we queue until the socket transitions from the CONNECTING to the OPEN state.\n    #openCallbacks;\n    // Have we already transitioned from CONNECTING to OPEN and fired the callbacks in #openCallbacks?\n    #opened;\n    // Stores the error that caused us to close the client (and the socket). If we are not closed, this is\n    // `undefined`.\n    #closed;\n    // Have we received a response to our \"hello\" from the server?\n    #recvdHello;\n    // Subprotocol negotiated with the server. It is only available after the socket transitions to the OPEN\n    // state.\n    #subprotocol;\n    // Has the `getVersion()` function been called? This is only used to validate that the API is used\n    // correctly.\n    #getVersionCalled;\n    // A map from request id to the responses that we expect to receive from the server.\n    #responseMap;\n    // An allocator of request ids.\n    #requestIdAlloc;\n    // An allocator of stream ids.\n    /** @private */\n    _streamIdAlloc;\n    // An allocator of cursor ids.\n    /** @private */\n    _cursorIdAlloc;\n    // An allocator of SQL text ids.\n    #sqlIdAlloc;\n    /** @private */\n    constructor(socket, jwt) {\n        super();\n        this.#socket = socket;\n        this.#openCallbacks = [];\n        this.#opened = false;\n        this.#closed = undefined;\n        this.#recvdHello = false;\n        this.#subprotocol = undefined;\n        this.#getVersionCalled = false;\n        this.#responseMap = new Map();\n        this.#requestIdAlloc = new IdAlloc();\n        this._streamIdAlloc = new IdAlloc();\n        this._cursorIdAlloc = new IdAlloc();\n        this.#sqlIdAlloc = new IdAlloc();\n        this.#socket.binaryType = \"arraybuffer\";\n        this.#socket.addEventListener(\"open\", () => this.#onSocketOpen());\n        this.#socket.addEventListener(\"close\", (event) => this.#onSocketClose(event));\n        this.#socket.addEventListener(\"error\", (event) => this.#onSocketError(event));\n        this.#socket.addEventListener(\"message\", (event) => this.#onSocketMessage(event));\n        this.#send({ type: \"hello\", jwt });\n    }\n    // Send (or enqueue to send) a message to the server.\n    #send(msg) {\n        if (this.#closed !== undefined) {\n            throw new InternalError(\"Trying to send a message on a closed client\");\n        }\n        if (this.#opened) {\n            this.#sendToSocket(msg);\n        }\n        else {\n            const openCallback = () => this.#sendToSocket(msg);\n            const errorCallback = () => undefined;\n            this.#openCallbacks.push({ openCallback, errorCallback });\n        }\n    }\n    // The socket transitioned from CONNECTING to OPEN\n    #onSocketOpen() {\n        const protocol = this.#socket.protocol;\n        if (protocol === undefined) {\n            this.#setClosed(new ClientError(\"The `WebSocket.protocol` property is undefined. This most likely means that the WebSocket \" +\n                \"implementation provided by the environment is broken. If you are using Miniflare 2, \" +\n                \"please update to Miniflare 3, which fixes this problem.\"));\n            return;\n        }\n        else if (protocol === \"\") {\n            this.#subprotocol = { version: 1, encoding: \"json\" };\n        }\n        else {\n            this.#subprotocol = subprotocolsV3.get(protocol);\n            if (this.#subprotocol === undefined) {\n                this.#setClosed(new ProtoError(`Unrecognized WebSocket subprotocol: ${JSON.stringify(protocol)}`));\n                return;\n            }\n        }\n        for (const callbacks of this.#openCallbacks) {\n            callbacks.openCallback();\n        }\n        this.#openCallbacks.length = 0;\n        this.#opened = true;\n    }\n    #sendToSocket(msg) {\n        const encoding = this.#subprotocol.encoding;\n        if (encoding === \"json\") {\n            const jsonMsg = writeJsonObject(msg, json_ClientMsg);\n            this.#socket.send(jsonMsg);\n        }\n        else if (encoding === \"protobuf\") {\n            const protobufMsg = writeProtobufMessage(msg, protobuf_ClientMsg);\n            this.#socket.send(protobufMsg);\n        }\n        else {\n            throw impossible(encoding, \"Impossible encoding\");\n        }\n    }\n    /** Get the protocol version negotiated with the server, possibly waiting until the socket is open. */\n    getVersion() {\n        return new Promise((versionCallback, errorCallback) => {\n            this.#getVersionCalled = true;\n            if (this.#closed !== undefined) {\n                errorCallback(this.#closed);\n            }\n            else if (!this.#opened) {\n                const openCallback = () => versionCallback(this.#subprotocol.version);\n                this.#openCallbacks.push({ openCallback, errorCallback });\n            }\n            else {\n                versionCallback(this.#subprotocol.version);\n            }\n        });\n    }\n    // Make sure that the negotiated version is at least `minVersion`.\n    /** @private */\n    _ensureVersion(minVersion, feature) {\n        if (this.#subprotocol === undefined || !this.#getVersionCalled) {\n            throw new ProtocolVersionError(`${feature} is supported only on protocol version ${minVersion} and higher, ` +\n                \"but the version supported by the WebSocket server is not yet known. \" +\n                \"Use Client.getVersion() to wait until the version is available.\");\n        }\n        else if (this.#subprotocol.version < minVersion) {\n            throw new ProtocolVersionError(`${feature} is supported on protocol version ${minVersion} and higher, ` +\n                `but the WebSocket server only supports version ${this.#subprotocol.version}`);\n        }\n    }\n    // Send a request to the server and invoke a callback when we get the response.\n    /** @private */\n    _sendRequest(request, callbacks) {\n        if (this.#closed !== undefined) {\n            callbacks.errorCallback(new ClosedError(\"Client is closed\", this.#closed));\n            return;\n        }\n        const requestId = this.#requestIdAlloc.alloc();\n        this.#responseMap.set(requestId, { ...callbacks, type: request.type });\n        this.#send({ type: \"request\", requestId, request });\n    }\n    // The socket encountered an error.\n    #onSocketError(event) {\n        const eventMessage = event.message;\n        const message = eventMessage ?? \"WebSocket was closed due to an error\";\n        this.#setClosed(new WebSocketError(message));\n    }\n    // The socket was closed.\n    #onSocketClose(event) {\n        let message = `WebSocket was closed with code ${event.code}`;\n        if (event.reason) {\n            message += `: ${event.reason}`;\n        }\n        this.#setClosed(new WebSocketError(message));\n    }\n    // Close the client with the given error.\n    #setClosed(error) {\n        if (this.#closed !== undefined) {\n            return;\n        }\n        this.#closed = error;\n        for (const callbacks of this.#openCallbacks) {\n            callbacks.errorCallback(error);\n        }\n        this.#openCallbacks.length = 0;\n        for (const [requestId, responseState] of this.#responseMap.entries()) {\n            responseState.errorCallback(error);\n            this.#requestIdAlloc.free(requestId);\n        }\n        this.#responseMap.clear();\n        this.#socket.close();\n    }\n    // We received a message from the socket.\n    #onSocketMessage(event) {\n        if (this.#closed !== undefined) {\n            return;\n        }\n        try {\n            let msg;\n            const encoding = this.#subprotocol.encoding;\n            if (encoding === \"json\") {\n                if (typeof event.data !== \"string\") {\n                    this.#socket.close(3003, \"Only text messages are accepted with JSON encoding\");\n                    this.#setClosed(new ProtoError(\"Received non-text message from server with JSON encoding\"));\n                    return;\n                }\n                msg = readJsonObject(JSON.parse(event.data), json_ServerMsg);\n            }\n            else if (encoding === \"protobuf\") {\n                if (!(event.data instanceof ArrayBuffer)) {\n                    this.#socket.close(3003, \"Only binary messages are accepted with Protobuf encoding\");\n                    this.#setClosed(new ProtoError(\"Received non-binary message from server with Protobuf encoding\"));\n                    return;\n                }\n                msg = readProtobufMessage(new Uint8Array(event.data), protobuf_ServerMsg);\n            }\n            else {\n                throw impossible(encoding, \"Impossible encoding\");\n            }\n            this.#handleMsg(msg);\n        }\n        catch (e) {\n            this.#socket.close(3007, \"Could not handle message\");\n            this.#setClosed(e);\n        }\n    }\n    // Handle a message from the server.\n    #handleMsg(msg) {\n        if (msg.type === \"none\") {\n            throw new ProtoError(\"Received an unrecognized ServerMsg\");\n        }\n        else if (msg.type === \"hello_ok\" || msg.type === \"hello_error\") {\n            if (this.#recvdHello) {\n                throw new ProtoError(\"Received a duplicated hello response\");\n            }\n            this.#recvdHello = true;\n            if (msg.type === \"hello_error\") {\n                throw errorFromProto(msg.error);\n            }\n            return;\n        }\n        else if (!this.#recvdHello) {\n            throw new ProtoError(\"Received a non-hello message before a hello response\");\n        }\n        if (msg.type === \"response_ok\") {\n            const requestId = msg.requestId;\n            const responseState = this.#responseMap.get(requestId);\n            this.#responseMap.delete(requestId);\n            if (responseState === undefined) {\n                throw new ProtoError(\"Received unexpected OK response\");\n            }\n            this.#requestIdAlloc.free(requestId);\n            try {\n                if (responseState.type !== msg.response.type) {\n                    console.dir({ responseState, msg });\n                    throw new ProtoError(\"Received unexpected type of response\");\n                }\n                responseState.responseCallback(msg.response);\n            }\n            catch (e) {\n                responseState.errorCallback(e);\n                throw e;\n            }\n        }\n        else if (msg.type === \"response_error\") {\n            const requestId = msg.requestId;\n            const responseState = this.#responseMap.get(requestId);\n            this.#responseMap.delete(requestId);\n            if (responseState === undefined) {\n                throw new ProtoError(\"Received unexpected error response\");\n            }\n            this.#requestIdAlloc.free(requestId);\n            responseState.errorCallback(errorFromProto(msg.error));\n        }\n        else {\n            throw impossible(msg, \"Impossible ServerMsg type\");\n        }\n    }\n    /** Open a {@link WsStream}, a stream for executing SQL statements. */\n    openStream() {\n        return WsStream.open(this);\n    }\n    /** Cache a SQL text on the server. This requires protocol version 2 or higher. */\n    storeSql(sql) {\n        this._ensureVersion(2, \"storeSql()\");\n        const sqlId = this.#sqlIdAlloc.alloc();\n        const sqlObj = new Sql(this, sqlId);\n        const responseCallback = () => undefined;\n        const errorCallback = (e) => sqlObj._setClosed(e);\n        const request = { type: \"store_sql\", sqlId, sql };\n        this._sendRequest(request, { responseCallback, errorCallback });\n        return sqlObj;\n    }\n    /** @private */\n    _closeSql(sqlId) {\n        if (this.#closed !== undefined) {\n            return;\n        }\n        const responseCallback = () => this.#sqlIdAlloc.free(sqlId);\n        const errorCallback = (e) => this.#setClosed(e);\n        const request = { type: \"close_sql\", sqlId };\n        this._sendRequest(request, { responseCallback, errorCallback });\n    }\n    /** Close the client and the WebSocket. */\n    close() {\n        this.#setClosed(new ClientError(\"Client was manually closed\"));\n    }\n    /** True if the client is closed. */\n    get closed() {\n        return this.#closed !== undefined;\n    }\n}\n", "const _Request = Request;\nconst _Headers = Headers;\n\nconst _fetch = fetch;\n\nexport { _fetch as fetch, _Request as Request, _Headers as Headers};\n", "// queueMicrotask() ponyfill\n// https://github.com/libsql/libsql-client-ts/issues/47\nlet _queueMicrotask;\nif (typeof queueMicrotask !== \"undefined\") {\n    _queueMicrotask = queueMicrotask;\n}\nelse {\n    const resolved = Promise.resolve();\n    _queueMicrotask = (callback) => {\n        resolved.then(callback);\n    };\n}\nexport { _queueMicrotask as queueMicrotask };\n", "export class ByteQueue {\n    #array;\n    #shiftPos;\n    #pushPos;\n    constructor(initialCap) {\n        this.#array = new Uint8Array(new ArrayBuffer(initialCap));\n        this.#shiftPos = 0;\n        this.#pushPos = 0;\n    }\n    get length() {\n        return this.#pushPos - this.#shiftPos;\n    }\n    data() {\n        return this.#array.slice(this.#shiftPos, this.#pushPos);\n    }\n    push(chunk) {\n        this.#ensurePush(chunk.byteLength);\n        this.#array.set(chunk, this.#pushPos);\n        this.#pushPos += chunk.byteLength;\n    }\n    #ensurePush(pushLength) {\n        if (this.#pushPos + pushLength <= this.#array.byteLength) {\n            return;\n        }\n        const filledLength = this.#pushPos - this.#shiftPos;\n        if (filledLength + pushLength <= this.#array.byteLength &&\n            2 * this.#pushPos >= this.#array.byteLength) {\n            this.#array.copyWithin(0, this.#shiftPos, this.#pushPos);\n        }\n        else {\n            let newCap = this.#array.byteLength;\n            do {\n                newCap *= 2;\n            } while (filledLength + pushLength > newCap);\n            const newArray = new Uint8Array(new ArrayBuffer(newCap));\n            newArray.set(this.#array.slice(this.#shiftPos, this.#pushPos), 0);\n            this.#array = newArray;\n        }\n        this.#pushPos = filledLength;\n        this.#shiftPos = 0;\n    }\n    shift(length) {\n        this.#shiftPos += length;\n    }\n}\n", "import { ProtoError } from \"../errors.js\";\nimport * as d from \"../encoding/json/decode.js\";\nimport { Error, StmtResult, BatchResult, DescribeResult } from \"../shared/json_decode.js\";\nexport function PipelineRespBody(obj) {\n    const baton = d.stringOpt(obj[\"baton\"]);\n    const baseUrl = d.stringOpt(obj[\"base_url\"]);\n    const results = d.arrayObjectsMap(obj[\"results\"], StreamResult);\n    return { baton, baseUrl, results };\n}\nfunction StreamResult(obj) {\n    const type = d.string(obj[\"type\"]);\n    if (type === \"ok\") {\n        const response = StreamResponse(d.object(obj[\"response\"]));\n        return { type: \"ok\", response };\n    }\n    else if (type === \"error\") {\n        const error = Error(d.object(obj[\"error\"]));\n        return { type: \"error\", error };\n    }\n    else {\n        throw new ProtoError(\"Unexpected type of StreamResult\");\n    }\n}\nfunction StreamResponse(obj) {\n    const type = d.string(obj[\"type\"]);\n    if (type === \"close\") {\n        return { type: \"close\" };\n    }\n    else if (type === \"execute\") {\n        const result = StmtResult(d.object(obj[\"result\"]));\n        return { type: \"execute\", result };\n    }\n    else if (type === \"batch\") {\n        const result = BatchResult(d.object(obj[\"result\"]));\n        return { type: \"batch\", result };\n    }\n    else if (type === \"sequence\") {\n        return { type: \"sequence\" };\n    }\n    else if (type === \"describe\") {\n        const result = DescribeResult(d.object(obj[\"result\"]));\n        return { type: \"describe\", result };\n    }\n    else if (type === \"store_sql\") {\n        return { type: \"store_sql\" };\n    }\n    else if (type === \"close_sql\") {\n        return { type: \"close_sql\" };\n    }\n    else if (type === \"get_autocommit\") {\n        const isAutocommit = d.boolean(obj[\"is_autocommit\"]);\n        return { type: \"get_autocommit\", isAutocommit };\n    }\n    else {\n        throw new ProtoError(\"Unexpected type of StreamResponse\");\n    }\n}\nexport function CursorRespBody(obj) {\n    const baton = d.stringOpt(obj[\"baton\"]);\n    const baseUrl = d.stringOpt(obj[\"base_url\"]);\n    return { baton, baseUrl };\n}\n", "import { Error, StmtResult, BatchResult, DescribeResult } from \"../shared/protobuf_decode.js\";\nexport const PipelineRespBody = {\n    default() { return { baton: undefined, baseUrl: undefined, results: [] }; },\n    1(r, msg) { msg.baton = r.string(); },\n    2(r, msg) { msg.baseUrl = r.string(); },\n    3(r, msg) { msg.results.push(r.message(StreamResult)); },\n};\nconst StreamResult = {\n    default() { return { type: \"none\" }; },\n    1(r) { return { type: \"ok\", response: r.message(StreamResponse) }; },\n    2(r) { return { type: \"error\", error: r.message(Error) }; },\n};\nconst StreamResponse = {\n    default() { return { type: \"none\" }; },\n    1(r) { return { type: \"close\" }; },\n    2(r) { return r.message(ExecuteStreamResp); },\n    3(r) { return r.message(BatchStreamResp); },\n    4(r) { return { type: \"sequence\" }; },\n    5(r) { return r.message(DescribeStreamResp); },\n    6(r) { return { type: \"store_sql\" }; },\n    7(r) { return { type: \"close_sql\" }; },\n    8(r) { return r.message(GetAutocommitStreamResp); },\n};\nconst ExecuteStreamResp = {\n    default() { return { type: \"execute\", result: StmtResult.default() }; },\n    1(r, msg) { msg.result = r.message(StmtResult); },\n};\nconst BatchStreamResp = {\n    default() { return { type: \"batch\", result: BatchResult.default() }; },\n    1(r, msg) { msg.result = r.message(BatchResult); },\n};\nconst DescribeStreamResp = {\n    default() { return { type: \"describe\", result: DescribeResult.default() }; },\n    1(r, msg) { msg.result = r.message(DescribeResult); },\n};\nconst GetAutocommitStreamResp = {\n    default() { return { type: \"get_autocommit\", isAutocommit: false }; },\n    1(r, msg) { msg.isAutocommit = r.bool(); },\n};\nexport const CursorRespBody = {\n    default() { return { baton: undefined, baseUrl: undefined }; },\n    1(r, msg) { msg.baton = r.string(); },\n    2(r, msg) { msg.baseUrl = r.string(); },\n};\n", "import { ByteQueue } from \"../byte_queue.js\";\nimport { Cursor } from \"../cursor.js\";\nimport * as jsond from \"../encoding/json/decode.js\";\nimport * as protobufd from \"../encoding/protobuf/decode.js\";\nimport { ClientError, ClosedError, ProtoError, InternalError } from \"../errors.js\";\nimport { impossible } from \"../util.js\";\nimport { CursorRespBody as json_CursorRespBody } from \"./json_decode.js\";\nimport { CursorRespBody as protobuf_CursorRespBody } from \"./protobuf_decode.js\";\nimport { CursorEntry as json_CursorEntry } from \"../shared/json_decode.js\";\nimport { CursorEntry as protobuf_CursorEntry } from \"../shared/protobuf_decode.js\";\nexport class HttpCursor extends Cursor {\n    #stream;\n    #encoding;\n    #reader;\n    #queue;\n    #closed;\n    #done;\n    /** @private */\n    constructor(stream, encoding) {\n        super();\n        this.#stream = stream;\n        this.#encoding = encoding;\n        this.#reader = undefined;\n        this.#queue = new ByteQueue(16 * 1024);\n        this.#closed = undefined;\n        this.#done = false;\n    }\n    async open(response) {\n        if (response.body === null) {\n            throw new ProtoError(\"No response body for cursor request\");\n        }\n        this.#reader = response.body.getReader();\n        const respBody = await this.#nextItem(json_CursorRespBody, protobuf_CursorRespBody);\n        if (respBody === undefined) {\n            throw new ProtoError(\"Empty response to cursor request\");\n        }\n        return respBody;\n    }\n    /** Fetch the next entry from the cursor. */\n    next() {\n        return this.#nextItem(json_CursorEntry, protobuf_CursorEntry);\n    }\n    /** Close the cursor. */\n    close() {\n        this._setClosed(new ClientError(\"Cursor was manually closed\"));\n    }\n    /** @private */\n    _setClosed(error) {\n        if (this.#closed !== undefined) {\n            return;\n        }\n        this.#closed = error;\n        this.#stream._cursorClosed(this);\n        if (this.#reader !== undefined) {\n            this.#reader.cancel();\n        }\n    }\n    /** True if the cursor is closed. */\n    get closed() {\n        return this.#closed !== undefined;\n    }\n    async #nextItem(jsonFun, protobufDef) {\n        for (;;) {\n            if (this.#done) {\n                return undefined;\n            }\n            else if (this.#closed !== undefined) {\n                throw new ClosedError(\"Cursor is closed\", this.#closed);\n            }\n            if (this.#encoding === \"json\") {\n                const jsonData = this.#parseItemJson();\n                if (jsonData !== undefined) {\n                    const jsonText = new TextDecoder().decode(jsonData);\n                    const jsonValue = JSON.parse(jsonText);\n                    return jsond.readJsonObject(jsonValue, jsonFun);\n                }\n            }\n            else if (this.#encoding === \"protobuf\") {\n                const protobufData = this.#parseItemProtobuf();\n                if (protobufData !== undefined) {\n                    return protobufd.readProtobufMessage(protobufData, protobufDef);\n                }\n            }\n            else {\n                throw impossible(this.#encoding, \"Impossible encoding\");\n            }\n            if (this.#reader === undefined) {\n                throw new InternalError(\"Attempted to read from HTTP cursor before it was opened\");\n            }\n            const { value, done } = await this.#reader.read();\n            if (done && this.#queue.length === 0) {\n                this.#done = true;\n            }\n            else if (done) {\n                throw new ProtoError(\"Unexpected end of cursor stream\");\n            }\n            else {\n                this.#queue.push(value);\n            }\n        }\n    }\n    #parseItemJson() {\n        const data = this.#queue.data();\n        const newlineByte = 10;\n        const newlinePos = data.indexOf(newlineByte);\n        if (newlinePos < 0) {\n            return undefined;\n        }\n        const jsonData = data.slice(0, newlinePos);\n        this.#queue.shift(newlinePos + 1);\n        return jsonData;\n    }\n    #parseItemProtobuf() {\n        const data = this.#queue.data();\n        let varintValue = 0;\n        let varintLength = 0;\n        for (;;) {\n            if (varintLength >= data.byteLength) {\n                return undefined;\n            }\n            const byte = data[varintLength];\n            varintValue |= (byte & 0x7f) << (7 * varintLength);\n            varintLength += 1;\n            if (!(byte & 0x80)) {\n                break;\n            }\n        }\n        if (data.byteLength < varintLength + varintValue) {\n            return undefined;\n        }\n        const protobufData = data.slice(varintLength, varintLength + varintValue);\n        this.#queue.shift(varintLength + varintValue);\n        return protobufData;\n    }\n}\n", "import { Stmt, Batch } from \"../shared/json_encode.js\";\nimport { impossible } from \"../util.js\";\nexport function PipelineReqBody(w, msg) {\n    if (msg.baton !== undefined) {\n        w.string(\"baton\", msg.baton);\n    }\n    w.arrayObjects(\"requests\", msg.requests, StreamRequest);\n}\nfunction StreamRequest(w, msg) {\n    w.stringRaw(\"type\", msg.type);\n    if (msg.type === \"close\") {\n        // do nothing\n    }\n    else if (msg.type === \"execute\") {\n        w.object(\"stmt\", msg.stmt, Stmt);\n    }\n    else if (msg.type === \"batch\") {\n        w.object(\"batch\", msg.batch, Batch);\n    }\n    else if (msg.type === \"sequence\") {\n        if (msg.sql !== undefined) {\n            w.string(\"sql\", msg.sql);\n        }\n        if (msg.sqlId !== undefined) {\n            w.number(\"sql_id\", msg.sqlId);\n        }\n    }\n    else if (msg.type === \"describe\") {\n        if (msg.sql !== undefined) {\n            w.string(\"sql\", msg.sql);\n        }\n        if (msg.sqlId !== undefined) {\n            w.number(\"sql_id\", msg.sqlId);\n        }\n    }\n    else if (msg.type === \"store_sql\") {\n        w.number(\"sql_id\", msg.sqlId);\n        w.string(\"sql\", msg.sql);\n    }\n    else if (msg.type === \"close_sql\") {\n        w.number(\"sql_id\", msg.sqlId);\n    }\n    else if (msg.type === \"get_autocommit\") {\n        // do nothing\n    }\n    else {\n        throw impossible(msg, \"Impossible type of StreamRequest\");\n    }\n}\nexport function CursorReqBody(w, msg) {\n    if (msg.baton !== undefined) {\n        w.string(\"baton\", msg.baton);\n    }\n    w.object(\"batch\", msg.batch, Batch);\n}\n", "import { Stmt, Batch } from \"../shared/protobuf_encode.js\";\nimport { impossible } from \"../util.js\";\nexport function PipelineReqBody(w, msg) {\n    if (msg.baton !== undefined) {\n        w.string(1, msg.baton);\n    }\n    for (const req of msg.requests) {\n        w.message(2, req, StreamRequest);\n    }\n}\nfunction StreamRequest(w, msg) {\n    if (msg.type === \"close\") {\n        w.message(1, msg, CloseStreamReq);\n    }\n    else if (msg.type === \"execute\") {\n        w.message(2, msg, ExecuteStreamReq);\n    }\n    else if (msg.type === \"batch\") {\n        w.message(3, msg, BatchStreamReq);\n    }\n    else if (msg.type === \"sequence\") {\n        w.message(4, msg, SequenceStreamReq);\n    }\n    else if (msg.type === \"describe\") {\n        w.message(5, msg, DescribeStreamReq);\n    }\n    else if (msg.type === \"store_sql\") {\n        w.message(6, msg, StoreSqlStreamReq);\n    }\n    else if (msg.type === \"close_sql\") {\n        w.message(7, msg, CloseSqlStreamReq);\n    }\n    else if (msg.type === \"get_autocommit\") {\n        w.message(8, msg, GetAutocommitStreamReq);\n    }\n    else {\n        throw impossible(msg, \"Impossible type of StreamRequest\");\n    }\n}\nfunction CloseStreamReq(_w, _msg) {\n}\nfunction ExecuteStreamReq(w, msg) {\n    w.message(1, msg.stmt, Stmt);\n}\nfunction BatchStreamReq(w, msg) {\n    w.message(1, msg.batch, Batch);\n}\nfunction SequenceStreamReq(w, msg) {\n    if (msg.sql !== undefined) {\n        w.string(1, msg.sql);\n    }\n    if (msg.sqlId !== undefined) {\n        w.int32(2, msg.sqlId);\n    }\n}\nfunction DescribeStreamReq(w, msg) {\n    if (msg.sql !== undefined) {\n        w.string(1, msg.sql);\n    }\n    if (msg.sqlId !== undefined) {\n        w.int32(2, msg.sqlId);\n    }\n}\nfunction StoreSqlStreamReq(w, msg) {\n    w.int32(1, msg.sqlId);\n    w.string(2, msg.sql);\n}\nfunction CloseSqlStreamReq(w, msg) {\n    w.int32(1, msg.sqlId);\n}\nfunction GetAutocommitStreamReq(_w, _msg) {\n}\nexport function CursorReqBody(w, msg) {\n    if (msg.baton !== undefined) {\n        w.string(1, msg.baton);\n    }\n    w.message(2, msg.batch, Batch);\n}\n", "import { Request, Headers } from \"@libsql/isomorphic-fetch\";\nimport { ClientError, HttpServerError, ProtocolVersionError, ProtoError, ClosedError, InternalError, } from \"../errors.js\";\nimport { readJsonObject, writeJsonObject, readProtobufMessage, writeProtobufMessage, } from \"../encoding/index.js\";\nimport { IdAlloc } from \"../id_alloc.js\";\nimport { Queue } from \"../queue.js\";\nimport { queueMicrotask } from \"../queue_microtask.js\";\nimport { errorFromProto } from \"../result.js\";\nimport { Sql } from \"../sql.js\";\nimport { Stream } from \"../stream.js\";\nimport { impossible } from \"../util.js\";\nimport { HttpCursor } from \"./cursor.js\";\nimport { PipelineReqBody as json_PipelineReqBody } from \"./json_encode.js\";\nimport { PipelineReqBody as protobuf_PipelineReqBody } from \"./protobuf_encode.js\";\nimport { CursorReqBody as json_CursorReqBody } from \"./json_encode.js\";\nimport { CursorReqBody as protobuf_CursorReqBody } from \"./protobuf_encode.js\";\nimport { PipelineRespBody as json_PipelineRespBody } from \"./json_decode.js\";\nimport { PipelineRespBody as protobuf_PipelineRespBody } from \"./protobuf_decode.js\";\nexport class HttpStream extends Stream {\n    #client;\n    #baseUrl;\n    #jwt;\n    #fetch;\n    #baton;\n    #queue;\n    #flushing;\n    #cursor;\n    #closing;\n    #closeQueued;\n    #closed;\n    #sqlIdAlloc;\n    /** @private */\n    constructor(client, baseUrl, jwt, customFetch) {\n        super(client.intMode);\n        this.#client = client;\n        this.#baseUrl = baseUrl.toString();\n        this.#jwt = jwt;\n        this.#fetch = customFetch;\n        this.#baton = undefined;\n        this.#queue = new Queue();\n        this.#flushing = false;\n        this.#closing = false;\n        this.#closeQueued = false;\n        this.#closed = undefined;\n        this.#sqlIdAlloc = new IdAlloc();\n    }\n    /** Get the {@link HttpClient} object that this stream belongs to. */\n    client() {\n        return this.#client;\n    }\n    /** @private */\n    _sqlOwner() {\n        return this;\n    }\n    /** Cache a SQL text on the server. */\n    storeSql(sql) {\n        const sqlId = this.#sqlIdAlloc.alloc();\n        this.#sendStreamRequest({ type: \"store_sql\", sqlId, sql }).then(() => undefined, (error) => this._setClosed(error));\n        return new Sql(this, sqlId);\n    }\n    /** @private */\n    _closeSql(sqlId) {\n        if (this.#closed !== undefined) {\n            return;\n        }\n        this.#sendStreamRequest({ type: \"close_sql\", sqlId }).then(() => this.#sqlIdAlloc.free(sqlId), (error) => this._setClosed(error));\n    }\n    /** @private */\n    _execute(stmt) {\n        return this.#sendStreamRequest({ type: \"execute\", stmt }).then((response) => {\n            return response.result;\n        });\n    }\n    /** @private */\n    _batch(batch) {\n        return this.#sendStreamRequest({ type: \"batch\", batch }).then((response) => {\n            return response.result;\n        });\n    }\n    /** @private */\n    _describe(protoSql) {\n        return this.#sendStreamRequest({\n            type: \"describe\",\n            sql: protoSql.sql,\n            sqlId: protoSql.sqlId\n        }).then((response) => {\n            return response.result;\n        });\n    }\n    /** @private */\n    _sequence(protoSql) {\n        return this.#sendStreamRequest({\n            type: \"sequence\",\n            sql: protoSql.sql,\n            sqlId: protoSql.sqlId,\n        }).then((_response) => {\n            return undefined;\n        });\n    }\n    /** Check whether the SQL connection underlying this stream is in autocommit state (i.e., outside of an\n     * explicit transaction). This requires protocol version 3 or higher.\n     */\n    getAutocommit() {\n        this.#client._ensureVersion(3, \"getAutocommit()\");\n        return this.#sendStreamRequest({\n            type: \"get_autocommit\",\n        }).then((response) => {\n            return response.isAutocommit;\n        });\n    }\n    #sendStreamRequest(request) {\n        return new Promise((responseCallback, errorCallback) => {\n            this.#pushToQueue({ type: \"pipeline\", request, responseCallback, errorCallback });\n        });\n    }\n    /** @private */\n    _openCursor(batch) {\n        return new Promise((cursorCallback, errorCallback) => {\n            this.#pushToQueue({ type: \"cursor\", batch, cursorCallback, errorCallback });\n        });\n    }\n    /** @private */\n    _cursorClosed(cursor) {\n        if (cursor !== this.#cursor) {\n            throw new InternalError(\"Cursor was closed, but it was not associated with the stream\");\n        }\n        this.#cursor = undefined;\n        queueMicrotask(() => this.#flushQueue());\n    }\n    /** Immediately close the stream. */\n    close() {\n        this._setClosed(new ClientError(\"Stream was manually closed\"));\n    }\n    /** Gracefully close the stream. */\n    closeGracefully() {\n        this.#closing = true;\n        queueMicrotask(() => this.#flushQueue());\n    }\n    /** True if the stream is closed. */\n    get closed() {\n        return this.#closed !== undefined || this.#closing;\n    }\n    /** @private */\n    _setClosed(error) {\n        if (this.#closed !== undefined) {\n            return;\n        }\n        this.#closed = error;\n        if (this.#cursor !== undefined) {\n            this.#cursor._setClosed(error);\n        }\n        this.#client._streamClosed(this);\n        for (;;) {\n            const entry = this.#queue.shift();\n            if (entry !== undefined) {\n                entry.errorCallback(error);\n            }\n            else {\n                break;\n            }\n        }\n        if ((this.#baton !== undefined || this.#flushing) && !this.#closeQueued) {\n            this.#queue.push({\n                type: \"pipeline\",\n                request: { type: \"close\" },\n                responseCallback: () => undefined,\n                errorCallback: () => undefined,\n            });\n            this.#closeQueued = true;\n            queueMicrotask(() => this.#flushQueue());\n        }\n    }\n    #pushToQueue(entry) {\n        if (this.#closed !== undefined) {\n            throw new ClosedError(\"Stream is closed\", this.#closed);\n        }\n        else if (this.#closing) {\n            throw new ClosedError(\"Stream is closing\", undefined);\n        }\n        else {\n            this.#queue.push(entry);\n            queueMicrotask(() => this.#flushQueue());\n        }\n    }\n    #flushQueue() {\n        if (this.#flushing || this.#cursor !== undefined) {\n            return;\n        }\n        if (this.#closing && this.#queue.length === 0) {\n            this._setClosed(new ClientError(\"Stream was gracefully closed\"));\n            return;\n        }\n        const endpoint = this.#client._endpoint;\n        if (endpoint === undefined) {\n            this.#client._endpointPromise.then(() => this.#flushQueue(), (error) => this._setClosed(error));\n            return;\n        }\n        const firstEntry = this.#queue.shift();\n        if (firstEntry === undefined) {\n            return;\n        }\n        else if (firstEntry.type === \"pipeline\") {\n            const pipeline = [firstEntry];\n            for (;;) {\n                const entry = this.#queue.first();\n                if (entry !== undefined && entry.type === \"pipeline\") {\n                    pipeline.push(entry);\n                    this.#queue.shift();\n                }\n                else if (entry === undefined && this.#closing && !this.#closeQueued) {\n                    pipeline.push({\n                        type: \"pipeline\",\n                        request: { type: \"close\" },\n                        responseCallback: () => undefined,\n                        errorCallback: () => undefined,\n                    });\n                    this.#closeQueued = true;\n                    break;\n                }\n                else {\n                    break;\n                }\n            }\n            this.#flushPipeline(endpoint, pipeline);\n        }\n        else if (firstEntry.type === \"cursor\") {\n            this.#flushCursor(endpoint, firstEntry);\n        }\n        else {\n            throw impossible(firstEntry, \"Impossible type of QueueEntry\");\n        }\n    }\n    #flushPipeline(endpoint, pipeline) {\n        this.#flush(() => this.#createPipelineRequest(pipeline, endpoint), (resp) => decodePipelineResponse(resp, endpoint.encoding), (respBody) => respBody.baton, (respBody) => respBody.baseUrl, (respBody) => handlePipelineResponse(pipeline, respBody), (error) => pipeline.forEach((entry) => entry.errorCallback(error)));\n    }\n    #flushCursor(endpoint, entry) {\n        const cursor = new HttpCursor(this, endpoint.encoding);\n        this.#cursor = cursor;\n        this.#flush(() => this.#createCursorRequest(entry, endpoint), (resp) => cursor.open(resp), (respBody) => respBody.baton, (respBody) => respBody.baseUrl, (_respBody) => entry.cursorCallback(cursor), (error) => entry.errorCallback(error));\n    }\n    #flush(createRequest, decodeResponse, getBaton, getBaseUrl, handleResponse, handleError) {\n        let promise;\n        try {\n            const request = createRequest();\n            const fetch = this.#fetch;\n            promise = fetch(request);\n        }\n        catch (error) {\n            promise = Promise.reject(error);\n        }\n        this.#flushing = true;\n        promise.then((resp) => {\n            if (!resp.ok) {\n                return errorFromResponse(resp).then((error) => {\n                    throw error;\n                });\n            }\n            return decodeResponse(resp);\n        }).then((r) => {\n            this.#baton = getBaton(r);\n            this.#baseUrl = getBaseUrl(r) ?? this.#baseUrl;\n            handleResponse(r);\n        }).catch((error) => {\n            this._setClosed(error);\n            handleError(error);\n        }).finally(() => {\n            this.#flushing = false;\n            this.#flushQueue();\n        });\n    }\n    #createPipelineRequest(pipeline, endpoint) {\n        return this.#createRequest(new URL(endpoint.pipelinePath, this.#baseUrl), {\n            baton: this.#baton,\n            requests: pipeline.map((entry) => entry.request),\n        }, endpoint.encoding, json_PipelineReqBody, protobuf_PipelineReqBody);\n    }\n    #createCursorRequest(entry, endpoint) {\n        if (endpoint.cursorPath === undefined) {\n            throw new ProtocolVersionError(\"Cursors are supported only on protocol version 3 and higher, \" +\n                `but the HTTP server only supports version ${endpoint.version}.`);\n        }\n        return this.#createRequest(new URL(endpoint.cursorPath, this.#baseUrl), {\n            baton: this.#baton,\n            batch: entry.batch,\n        }, endpoint.encoding, json_CursorReqBody, protobuf_CursorReqBody);\n    }\n    #createRequest(url, reqBody, encoding, jsonFun, protobufFun) {\n        let bodyData;\n        let contentType;\n        if (encoding === \"json\") {\n            bodyData = writeJsonObject(reqBody, jsonFun);\n            contentType = \"application/json\";\n        }\n        else if (encoding === \"protobuf\") {\n            bodyData = writeProtobufMessage(reqBody, protobufFun);\n            contentType = \"application/x-protobuf\";\n        }\n        else {\n            throw impossible(encoding, \"Impossible encoding\");\n        }\n        const headers = new Headers();\n        headers.set(\"content-type\", contentType);\n        if (this.#jwt !== undefined) {\n            headers.set(\"authorization\", `Bearer ${this.#jwt}`);\n        }\n        return new Request(url.toString(), { method: \"POST\", headers, body: bodyData });\n    }\n}\nfunction handlePipelineResponse(pipeline, respBody) {\n    if (respBody.results.length !== pipeline.length) {\n        throw new ProtoError(\"Server returned unexpected number of pipeline results\");\n    }\n    for (let i = 0; i < pipeline.length; ++i) {\n        const result = respBody.results[i];\n        const entry = pipeline[i];\n        if (result.type === \"ok\") {\n            if (result.response.type !== entry.request.type) {\n                throw new ProtoError(\"Received unexpected type of response\");\n            }\n            entry.responseCallback(result.response);\n        }\n        else if (result.type === \"error\") {\n            entry.errorCallback(errorFromProto(result.error));\n        }\n        else if (result.type === \"none\") {\n            throw new ProtoError(\"Received unrecognized type of StreamResult\");\n        }\n        else {\n            throw impossible(result, \"Received impossible type of StreamResult\");\n        }\n    }\n}\nasync function decodePipelineResponse(resp, encoding) {\n    if (encoding === \"json\") {\n        const respJson = await resp.json();\n        return readJsonObject(respJson, json_PipelineRespBody);\n    }\n    if (encoding === \"protobuf\") {\n        const respData = await resp.arrayBuffer();\n        return readProtobufMessage(new Uint8Array(respData), protobuf_PipelineRespBody);\n    }\n    await resp.body?.cancel();\n    throw impossible(encoding, \"Impossible encoding\");\n}\nasync function errorFromResponse(resp) {\n    const respType = resp.headers.get(\"content-type\") ?? \"text/plain\";\n    let message = `Server returned HTTP status ${resp.status}`;\n    if (respType === \"application/json\") {\n        const respBody = await resp.json();\n        if (\"message\" in respBody) {\n            return errorFromProto(respBody);\n        }\n        return new HttpServerError(message, resp.status);\n    }\n    if (respType === \"text/plain\") {\n        const respBody = (await resp.text()).trim();\n        if (respBody !== \"\") {\n            message += `: ${respBody}`;\n        }\n        return new HttpServerError(message, resp.status);\n    }\n    await resp.body?.cancel();\n    return new HttpServerError(message, resp.status);\n}\n", "import { fetch, Request } from \"@libsql/isomorphic-fetch\";\nimport { Client } from \"../client.js\";\nimport { ClientError, ClosedError, ProtocolVersionError } from \"../errors.js\";\nimport { HttpStream } from \"./stream.js\";\nexport const checkEndpoints = [\n    {\n        versionPath: \"v3-protobuf\",\n        pipelinePath: \"v3-protobuf/pipeline\",\n        cursorPath: \"v3-protobuf/cursor\",\n        version: 3,\n        encoding: \"protobuf\",\n    },\n    /*\n    {\n        versionPath: \"v3\",\n        pipelinePath: \"v3/pipeline\",\n        cursorPath: \"v3/cursor\",\n        version: 3,\n        encoding: \"json\",\n    },\n    */\n];\nconst fallbackEndpoint = {\n    versionPath: \"v2\",\n    pipelinePath: \"v2/pipeline\",\n    cursorPath: undefined,\n    version: 2,\n    encoding: \"json\",\n};\n/** A client for the Hrana protocol over HTTP. */\nexport class HttpClient extends Client {\n    #url;\n    #jwt;\n    #fetch;\n    #closed;\n    #streams;\n    /** @private */\n    _endpointPromise;\n    /** @private */\n    _endpoint;\n    /** @private */\n    constructor(url, jwt, customFetch, protocolVersion = 2) {\n        super();\n        this.#url = url;\n        this.#jwt = jwt;\n        this.#fetch = customFetch ?? fetch;\n        this.#closed = undefined;\n        this.#streams = new Set();\n        if (protocolVersion == 3) {\n            this._endpointPromise = findEndpoint(this.#fetch, this.#url);\n            this._endpointPromise.then((endpoint) => this._endpoint = endpoint, (error) => this.#setClosed(error));\n        }\n        else {\n            this._endpointPromise = Promise.resolve(fallbackEndpoint);\n            this._endpointPromise.then((endpoint) => this._endpoint = endpoint, (error) => this.#setClosed(error));\n        }\n    }\n    /** Get the protocol version supported by the server. */\n    async getVersion() {\n        if (this._endpoint !== undefined) {\n            return this._endpoint.version;\n        }\n        return (await this._endpointPromise).version;\n    }\n    // Make sure that the negotiated version is at least `minVersion`.\n    /** @private */\n    _ensureVersion(minVersion, feature) {\n        if (minVersion <= fallbackEndpoint.version) {\n            return;\n        }\n        else if (this._endpoint === undefined) {\n            throw new ProtocolVersionError(`${feature} is supported only on protocol version ${minVersion} and higher, ` +\n                \"but the version supported by the HTTP server is not yet known. \" +\n                \"Use Client.getVersion() to wait until the version is available.\");\n        }\n        else if (this._endpoint.version < minVersion) {\n            throw new ProtocolVersionError(`${feature} is supported only on protocol version ${minVersion} and higher, ` +\n                `but the HTTP server only supports version ${this._endpoint.version}.`);\n        }\n    }\n    /** Open a {@link HttpStream}, a stream for executing SQL statements. */\n    openStream() {\n        if (this.#closed !== undefined) {\n            throw new ClosedError(\"Client is closed\", this.#closed);\n        }\n        const stream = new HttpStream(this, this.#url, this.#jwt, this.#fetch);\n        this.#streams.add(stream);\n        return stream;\n    }\n    /** @private */\n    _streamClosed(stream) {\n        this.#streams.delete(stream);\n    }\n    /** Close the client and all its streams. */\n    close() {\n        this.#setClosed(new ClientError(\"Client was manually closed\"));\n    }\n    /** True if the client is closed. */\n    get closed() {\n        return this.#closed !== undefined;\n    }\n    #setClosed(error) {\n        if (this.#closed !== undefined) {\n            return;\n        }\n        this.#closed = error;\n        for (const stream of Array.from(this.#streams)) {\n            stream._setClosed(new ClosedError(\"Client was closed\", error));\n        }\n    }\n}\nasync function findEndpoint(customFetch, clientUrl) {\n    const fetch = customFetch;\n    for (const endpoint of checkEndpoints) {\n        const url = new URL(endpoint.versionPath, clientUrl);\n        const request = new Request(url.toString(), { method: \"GET\" });\n        const response = await fetch(request);\n        await response.arrayBuffer();\n        if (response.ok) {\n            return endpoint;\n        }\n    }\n    return fallbackEndpoint;\n}\n", "import { WebSocket } from \"@libsql/isomorphic-ws\";\nimport { subprotocolsV2, subprotocolsV3 } from \"./ws/client.js\";\nimport { WebSocketUnsupportedError } from \"./errors.js\";\nimport { HttpClient } from \"./http/client.js\";\nimport { WsClient } from \"./ws/client.js\";\nexport { WebSocket } from \"@libsql/isomorphic-ws\";\nexport { fetch, Request, Headers } from \"@libsql/isomorphic-fetch\";\nexport { Client } from \"./client.js\";\nexport * from \"./errors.js\";\nexport { Batch, BatchStep, BatchCond } from \"./batch.js\";\nexport { parseLibsqlUrl } from \"./libsql_url.js\";\nexport { Sql } from \"./sql.js\";\nexport { Stmt } from \"./stmt.js\";\nexport { Stream } from \"./stream.js\";\nexport { HttpClient } from \"./http/client.js\";\nexport { HttpStream } from \"./http/stream.js\";\nexport { WsClient } from \"./ws/client.js\";\nexport { WsStream } from \"./ws/stream.js\";\n/** Open a Hrana client over WebSocket connected to the given `url`. */\nexport function openWs(url, jwt, protocolVersion = 2) {\n    if (typeof WebSocket === \"undefined\") {\n        throw new WebSocketUnsupportedError(\"WebSockets are not supported in this environment\");\n    }\n    var subprotocols = undefined;\n    if (protocolVersion == 3) {\n        subprotocols = Array.from(subprotocolsV3.keys());\n    }\n    else {\n        subprotocols = Array.from(subprotocolsV2.keys());\n    }\n    const socket = new WebSocket(url, subprotocols);\n    return new WsClient(socket, jwt);\n}\n/** Open a Hrana client over HTTP connected to the given `url`.\n *\n * If the `customFetch` argument is passed and not `undefined`, it is used in place of the `fetch` function\n * from `@libsql/isomorphic-fetch`. This function is always called with a `Request` object from\n * `@libsql/isomorphic-fetch`.\n */\nexport function openHttp(url, jwt, customFetch, protocolVersion = 2) {\n    return new HttpClient(url instanceof URL ? url : new URL(url), jwt, customFetch, protocolVersion);\n}\n", "import * as hrana from \"@libsql/hrana-client\";\nimport { LibsqlError } from \"@libsql/core/api\";\nimport { transactionModeToBegin, ResultSetImpl } from \"@libsql/core/util\";\nexport class HranaTransaction {\n    #mode;\n    #version;\n    // Promise that is resolved when the BEGIN statement completes, or `undefined` if we haven't executed the\n    // BEGIN statement yet.\n    #started;\n    /** @private */\n    constructor(mode, version) {\n        this.#mode = mode;\n        this.#version = version;\n        this.#started = undefined;\n    }\n    execute(stmt) {\n        return this.batch([stmt]).then((results) => results[0]);\n    }\n    async batch(stmts) {\n        const stream = this._getStream();\n        if (stream.closed) {\n            throw new LibsqlError(\"Cannot execute statements because the transaction is closed\", \"TRANSACTION_CLOSED\");\n        }\n        try {\n            const hranaStmts = stmts.map(stmtToHrana);\n            let rowsPromises;\n            if (this.#started === undefined) {\n                // The transaction hasn't started yet, so we need to send the BEGIN statement in a batch with\n                // `hranaStmts`.\n                this._getSqlCache().apply(hranaStmts);\n                const batch = stream.batch(this.#version >= 3);\n                const beginStep = batch.step();\n                const beginPromise = beginStep.run(transactionModeToBegin(this.#mode));\n                // Execute the `hranaStmts` only if the BEGIN succeeded, to make sure that we don't execute it\n                // outside of a transaction.\n                let lastStep = beginStep;\n                rowsPromises = hranaStmts.map((hranaStmt) => {\n                    const stmtStep = batch\n                        .step()\n                        .condition(hrana.BatchCond.ok(lastStep));\n                    if (this.#version >= 3) {\n                        // If the Hrana version supports it, make sure that we are still in a transaction\n                        stmtStep.condition(hrana.BatchCond.not(hrana.BatchCond.isAutocommit(batch)));\n                    }\n                    const rowsPromise = stmtStep.query(hranaStmt);\n                    rowsPromise.catch(() => undefined); // silence Node warning\n                    lastStep = stmtStep;\n                    return rowsPromise;\n                });\n                // `this.#started` is resolved successfully only if the batch and the BEGIN statement inside\n                // of the batch are both successful.\n                this.#started = batch\n                    .execute()\n                    .then(() => beginPromise)\n                    .then(() => undefined);\n                try {\n                    await this.#started;\n                }\n                catch (e) {\n                    // If the BEGIN failed, the transaction is unusable and we must close it. However, if the\n                    // BEGIN suceeds and `hranaStmts` fail, the transaction is _not_ closed.\n                    this.close();\n                    throw e;\n                }\n            }\n            else {\n                if (this.#version < 3) {\n                    // The transaction has started, so we must wait until the BEGIN statement completed to make\n                    // sure that we don't execute `hranaStmts` outside of a transaction.\n                    await this.#started;\n                }\n                else {\n                    // The transaction has started, but we will use `hrana.BatchCond.isAutocommit()` to make\n                    // sure that we don't execute `hranaStmts` outside of a transaction, so we don't have to\n                    // wait for `this.#started`\n                }\n                this._getSqlCache().apply(hranaStmts);\n                const batch = stream.batch(this.#version >= 3);\n                let lastStep = undefined;\n                rowsPromises = hranaStmts.map((hranaStmt) => {\n                    const stmtStep = batch.step();\n                    if (lastStep !== undefined) {\n                        stmtStep.condition(hrana.BatchCond.ok(lastStep));\n                    }\n                    if (this.#version >= 3) {\n                        stmtStep.condition(hrana.BatchCond.not(hrana.BatchCond.isAutocommit(batch)));\n                    }\n                    const rowsPromise = stmtStep.query(hranaStmt);\n                    rowsPromise.catch(() => undefined); // silence Node warning\n                    lastStep = stmtStep;\n                    return rowsPromise;\n                });\n                await batch.execute();\n            }\n            const resultSets = [];\n            for (const rowsPromise of rowsPromises) {\n                const rows = await rowsPromise;\n                if (rows === undefined) {\n                    throw new LibsqlError(\"Statement in a transaction was not executed, \" +\n                        \"probably because the transaction has been rolled back\", \"TRANSACTION_CLOSED\");\n                }\n                resultSets.push(resultSetFromHrana(rows));\n            }\n            return resultSets;\n        }\n        catch (e) {\n            throw mapHranaError(e);\n        }\n    }\n    async executeMultiple(sql) {\n        const stream = this._getStream();\n        if (stream.closed) {\n            throw new LibsqlError(\"Cannot execute statements because the transaction is closed\", \"TRANSACTION_CLOSED\");\n        }\n        try {\n            if (this.#started === undefined) {\n                // If the transaction hasn't started yet, start it now\n                this.#started = stream\n                    .run(transactionModeToBegin(this.#mode))\n                    .then(() => undefined);\n                try {\n                    await this.#started;\n                }\n                catch (e) {\n                    this.close();\n                    throw e;\n                }\n            }\n            else {\n                // Wait until the transaction has started\n                await this.#started;\n            }\n            await stream.sequence(sql);\n        }\n        catch (e) {\n            throw mapHranaError(e);\n        }\n    }\n    async rollback() {\n        try {\n            const stream = this._getStream();\n            if (stream.closed) {\n                return;\n            }\n            if (this.#started !== undefined) {\n                // We don't have to wait for the BEGIN statement to complete. If the BEGIN fails, we will\n                // execute a ROLLBACK outside of an active transaction, which should be harmless.\n            }\n            else {\n                // We did nothing in the transaction, so there is nothing to rollback.\n                return;\n            }\n            // Pipeline the ROLLBACK statement and the stream close.\n            const promise = stream.run(\"ROLLBACK\").catch((e) => {\n                throw mapHranaError(e);\n            });\n            stream.closeGracefully();\n            await promise;\n        }\n        catch (e) {\n            throw mapHranaError(e);\n        }\n        finally {\n            // `this.close()` may close the `hrana.Client`, which aborts all pending stream requests, so we\n            // must call it _after_ we receive the ROLLBACK response.\n            // Also note that the current stream should already be closed, but we need to call `this.close()`\n            // anyway, because it may need to do more cleanup.\n            this.close();\n        }\n    }\n    async commit() {\n        // (this method is analogous to `rollback()`)\n        try {\n            const stream = this._getStream();\n            if (stream.closed) {\n                throw new LibsqlError(\"Cannot commit the transaction because it is already closed\", \"TRANSACTION_CLOSED\");\n            }\n            if (this.#started !== undefined) {\n                // Make sure to execute the COMMIT only if the BEGIN was successful.\n                await this.#started;\n            }\n            else {\n                return;\n            }\n            const promise = stream.run(\"COMMIT\").catch((e) => {\n                throw mapHranaError(e);\n            });\n            stream.closeGracefully();\n            await promise;\n        }\n        catch (e) {\n            throw mapHranaError(e);\n        }\n        finally {\n            this.close();\n        }\n    }\n}\nexport async function executeHranaBatch(mode, version, batch, hranaStmts, disableForeignKeys = false) {\n    if (disableForeignKeys) {\n        batch.step().run(\"PRAGMA foreign_keys=off\");\n    }\n    const beginStep = batch.step();\n    const beginPromise = beginStep.run(transactionModeToBegin(mode));\n    let lastStep = beginStep;\n    const stmtPromises = hranaStmts.map((hranaStmt) => {\n        const stmtStep = batch.step().condition(hrana.BatchCond.ok(lastStep));\n        if (version >= 3) {\n            stmtStep.condition(hrana.BatchCond.not(hrana.BatchCond.isAutocommit(batch)));\n        }\n        const stmtPromise = stmtStep.query(hranaStmt);\n        lastStep = stmtStep;\n        return stmtPromise;\n    });\n    const commitStep = batch.step().condition(hrana.BatchCond.ok(lastStep));\n    if (version >= 3) {\n        commitStep.condition(hrana.BatchCond.not(hrana.BatchCond.isAutocommit(batch)));\n    }\n    const commitPromise = commitStep.run(\"COMMIT\");\n    const rollbackStep = batch\n        .step()\n        .condition(hrana.BatchCond.not(hrana.BatchCond.ok(commitStep)));\n    rollbackStep.run(\"ROLLBACK\").catch((_) => undefined);\n    if (disableForeignKeys) {\n        batch.step().run(\"PRAGMA foreign_keys=on\");\n    }\n    await batch.execute();\n    const resultSets = [];\n    await beginPromise;\n    for (const stmtPromise of stmtPromises) {\n        const hranaRows = await stmtPromise;\n        if (hranaRows === undefined) {\n            throw new LibsqlError(\"Statement in a batch was not executed, probably because the transaction has been rolled back\", \"TRANSACTION_CLOSED\");\n        }\n        resultSets.push(resultSetFromHrana(hranaRows));\n    }\n    await commitPromise;\n    return resultSets;\n}\nexport function stmtToHrana(stmt) {\n    let sql;\n    let args;\n    if (Array.isArray(stmt)) {\n        [sql, args] = stmt;\n    }\n    else if (typeof stmt === \"string\") {\n        sql = stmt;\n    }\n    else {\n        sql = stmt.sql;\n        args = stmt.args;\n    }\n    const hranaStmt = new hrana.Stmt(sql);\n    if (args) {\n        if (Array.isArray(args)) {\n            hranaStmt.bindIndexes(args);\n        }\n        else {\n            for (const [key, value] of Object.entries(args)) {\n                hranaStmt.bindName(key, value);\n            }\n        }\n    }\n    return hranaStmt;\n}\nexport function resultSetFromHrana(hranaRows) {\n    const columns = hranaRows.columnNames.map((c) => c ?? \"\");\n    const columnTypes = hranaRows.columnDecltypes.map((c) => c ?? \"\");\n    const rows = hranaRows.rows;\n    const rowsAffected = hranaRows.affectedRowCount;\n    const lastInsertRowid = hranaRows.lastInsertRowid !== undefined\n        ? hranaRows.lastInsertRowid\n        : undefined;\n    return new ResultSetImpl(columns, columnTypes, rows, rowsAffected, lastInsertRowid);\n}\nexport function mapHranaError(e) {\n    if (e instanceof hrana.ClientError) {\n        const code = mapHranaErrorCode(e);\n        return new LibsqlError(e.message, code, undefined, e);\n    }\n    return e;\n}\nfunction mapHranaErrorCode(e) {\n    if (e instanceof hrana.ResponseError && e.code !== undefined) {\n        return e.code;\n    }\n    else if (e instanceof hrana.ProtoError) {\n        return \"HRANA_PROTO_ERROR\";\n    }\n    else if (e instanceof hrana.ClosedError) {\n        return e.cause instanceof hrana.ClientError\n            ? mapHranaErrorCode(e.cause)\n            : \"HRANA_CLOSED_ERROR\";\n    }\n    else if (e instanceof hrana.WebSocketError) {\n        return \"HRANA_WEBSOCKET_ERROR\";\n    }\n    else if (e instanceof hrana.HttpServerError) {\n        return \"SERVER_ERROR\";\n    }\n    else if (e instanceof hrana.ProtocolVersionError) {\n        return \"PROTOCOL_VERSION_ERROR\";\n    }\n    else if (e instanceof hrana.InternalError) {\n        return \"INTERNAL_ERROR\";\n    }\n    else {\n        return \"UNKNOWN\";\n    }\n}\n", "export class SqlCache {\n    #owner;\n    #sqls;\n    capacity;\n    constructor(owner, capacity) {\n        this.#owner = owner;\n        this.#sqls = new Lru();\n        this.capacity = capacity;\n    }\n    // Replaces SQL strings with cached `hrana.Sql` objects in the statements in `hranaStmts`. After this\n    // function returns, we guarantee that all `hranaStmts` refer to valid (not closed) `hrana.Sql` objects,\n    // but _we may invalidate any other `hrana.Sql` objects_ (by closing them, thus removing them from the\n    // server).\n    //\n    // In practice, this means that after calling this function, you can use the statements only up to the\n    // first `await`, because concurrent code may also use the cache and invalidate those statements.\n    apply(hranaStmts) {\n        if (this.capacity <= 0) {\n            return;\n        }\n        const usedSqlObjs = new Set();\n        for (const hranaStmt of hranaStmts) {\n            if (typeof hranaStmt.sql !== \"string\") {\n                continue;\n            }\n            const sqlText = hranaStmt.sql;\n            // Stored SQL cannot exceed 5kb.\n            // https://github.com/tursodatabase/libsql/blob/e9d637e051685f92b0da43849507b5ef4232fbeb/libsql-server/src/hrana/http/request.rs#L10\n            if (sqlText.length >= 5000) {\n                continue;\n            }\n            let sqlObj = this.#sqls.get(sqlText);\n            if (sqlObj === undefined) {\n                while (this.#sqls.size + 1 > this.capacity) {\n                    const [evictSqlText, evictSqlObj] = this.#sqls.peekLru();\n                    if (usedSqlObjs.has(evictSqlObj)) {\n                        // The SQL object that we are trying to evict is already in use in this batch, so we\n                        // must not evict and close it.\n                        break;\n                    }\n                    evictSqlObj.close();\n                    this.#sqls.delete(evictSqlText);\n                }\n                if (this.#sqls.size + 1 <= this.capacity) {\n                    sqlObj = this.#owner.storeSql(sqlText);\n                    this.#sqls.set(sqlText, sqlObj);\n                }\n            }\n            if (sqlObj !== undefined) {\n                hranaStmt.sql = sqlObj;\n                usedSqlObjs.add(sqlObj);\n            }\n        }\n    }\n}\nclass Lru {\n    // This maps keys to the cache values. The entries are ordered by their last use (entires that were used\n    // most recently are at the end).\n    #cache;\n    constructor() {\n        this.#cache = new Map();\n    }\n    get(key) {\n        const value = this.#cache.get(key);\n        if (value !== undefined) {\n            // move the entry to the back of the Map\n            this.#cache.delete(key);\n            this.#cache.set(key, value);\n        }\n        return value;\n    }\n    set(key, value) {\n        this.#cache.set(key, value);\n    }\n    peekLru() {\n        for (const entry of this.#cache.entries()) {\n            return entry;\n        }\n        return undefined;\n    }\n    delete(key) {\n        this.#cache.delete(key);\n    }\n    get size() {\n        return this.#cache.size;\n    }\n}\n", "import * as hrana from \"@libsql/hrana-client\";\nimport { LibsqlError } from \"@libsql/core/api\";\nimport { expandConfig } from \"@libsql/core/config\";\nimport { HranaTransaction, executeHranaBatch, stmtToHrana, resultSetFromHrana, mapHranaError, } from \"./hrana.js\";\nimport { SqlCache } from \"./sql_cache.js\";\nimport { encodeBaseUrl } from \"@libsql/core/uri\";\nimport { supportedUrlLink } from \"@libsql/core/util\";\nimport promiseLimit from \"promise-limit\";\nexport * from \"@libsql/core/api\";\nexport function createClient(config) {\n    return _createClient(expandConfig(config, false));\n}\n/** @private */\nexport function _createClient(config) {\n    if (config.scheme !== \"wss\" && config.scheme !== \"ws\") {\n        throw new LibsqlError('The WebSocket client supports only \"libsql:\", \"wss:\" and \"ws:\" URLs, ' +\n            `got ${JSON.stringify(config.scheme + \":\")}. For more information, please read ${supportedUrlLink}`, \"URL_SCHEME_NOT_SUPPORTED\");\n    }\n    if (config.encryptionKey !== undefined) {\n        throw new LibsqlError(\"Encryption key is not supported by the remote client.\", \"ENCRYPTION_KEY_NOT_SUPPORTED\");\n    }\n    if (config.scheme === \"ws\" && config.tls) {\n        throw new LibsqlError(`A \"ws:\" URL cannot opt into TLS by using ?tls=1`, \"URL_INVALID\");\n    }\n    else if (config.scheme === \"wss\" && !config.tls) {\n        throw new LibsqlError(`A \"wss:\" URL cannot opt out of TLS by using ?tls=0`, \"URL_INVALID\");\n    }\n    const url = encodeBaseUrl(config.scheme, config.authority, config.path);\n    let client;\n    try {\n        client = hrana.openWs(url, config.authToken);\n    }\n    catch (e) {\n        if (e instanceof hrana.WebSocketUnsupportedError) {\n            const suggestedScheme = config.scheme === \"wss\" ? \"https\" : \"http\";\n            const suggestedUrl = encodeBaseUrl(suggestedScheme, config.authority, config.path);\n            throw new LibsqlError(\"This environment does not support WebSockets, please switch to the HTTP client by using \" +\n                `a \"${suggestedScheme}:\" URL (${JSON.stringify(suggestedUrl)}). ` +\n                `For more information, please read ${supportedUrlLink}`, \"WEBSOCKETS_NOT_SUPPORTED\");\n        }\n        throw mapHranaError(e);\n    }\n    return new WsClient(client, url, config.authToken, config.intMode, config.concurrency);\n}\nconst maxConnAgeMillis = 60 * 1000;\nconst sqlCacheCapacity = 100;\nexport class WsClient {\n    #url;\n    #authToken;\n    #intMode;\n    // State of the current connection. The `hrana.WsClient` inside may be closed at any moment due to an\n    // asynchronous error.\n    #connState;\n    // If defined, this is a connection that will be used in the future, once it is ready.\n    #futureConnState;\n    closed;\n    protocol;\n    #isSchemaDatabase;\n    #promiseLimitFunction;\n    /** @private */\n    constructor(client, url, authToken, intMode, concurrency) {\n        this.#url = url;\n        this.#authToken = authToken;\n        this.#intMode = intMode;\n        this.#connState = this.#openConn(client);\n        this.#futureConnState = undefined;\n        this.closed = false;\n        this.protocol = \"ws\";\n        this.#promiseLimitFunction = promiseLimit(concurrency);\n    }\n    async limit(fn) {\n        return this.#promiseLimitFunction(fn);\n    }\n    async execute(stmtOrSql, args) {\n        let stmt;\n        if (typeof stmtOrSql === \"string\") {\n            stmt = {\n                sql: stmtOrSql,\n                args: args || [],\n            };\n        }\n        else {\n            stmt = stmtOrSql;\n        }\n        return this.limit(async () => {\n            const streamState = await this.#openStream();\n            try {\n                const hranaStmt = stmtToHrana(stmt);\n                // Schedule all operations synchronously, so they will be pipelined and executed in a single\n                // network roundtrip.\n                streamState.conn.sqlCache.apply([hranaStmt]);\n                const hranaRowsPromise = streamState.stream.query(hranaStmt);\n                streamState.stream.closeGracefully();\n                const hranaRowsResult = await hranaRowsPromise;\n                return resultSetFromHrana(hranaRowsResult);\n            }\n            catch (e) {\n                throw mapHranaError(e);\n            }\n            finally {\n                this._closeStream(streamState);\n            }\n        });\n    }\n    async batch(stmts, mode = \"deferred\") {\n        return this.limit(async () => {\n            const streamState = await this.#openStream();\n            try {\n                const normalizedStmts = stmts.map((stmt) => {\n                    if (Array.isArray(stmt)) {\n                        return {\n                            sql: stmt[0],\n                            args: stmt[1] || [],\n                        };\n                    }\n                    return stmt;\n                });\n                const hranaStmts = normalizedStmts.map(stmtToHrana);\n                const version = await streamState.conn.client.getVersion();\n                // Schedule all operations synchronously, so they will be pipelined and executed in a single\n                // network roundtrip.\n                streamState.conn.sqlCache.apply(hranaStmts);\n                const batch = streamState.stream.batch(version >= 3);\n                const resultsPromise = executeHranaBatch(mode, version, batch, hranaStmts);\n                const results = await resultsPromise;\n                return results;\n            }\n            catch (e) {\n                throw mapHranaError(e);\n            }\n            finally {\n                this._closeStream(streamState);\n            }\n        });\n    }\n    async migrate(stmts) {\n        return this.limit(async () => {\n            const streamState = await this.#openStream();\n            try {\n                const hranaStmts = stmts.map(stmtToHrana);\n                const version = await streamState.conn.client.getVersion();\n                // Schedule all operations synchronously, so they will be pipelined and executed in a single\n                // network roundtrip.\n                const batch = streamState.stream.batch(version >= 3);\n                const resultsPromise = executeHranaBatch(\"deferred\", version, batch, hranaStmts, true);\n                const results = await resultsPromise;\n                return results;\n            }\n            catch (e) {\n                throw mapHranaError(e);\n            }\n            finally {\n                this._closeStream(streamState);\n            }\n        });\n    }\n    async transaction(mode = \"write\") {\n        return this.limit(async () => {\n            const streamState = await this.#openStream();\n            try {\n                const version = await streamState.conn.client.getVersion();\n                // the BEGIN statement will be batched with the first statement on the transaction to save a\n                // network roundtrip\n                return new WsTransaction(this, streamState, mode, version);\n            }\n            catch (e) {\n                this._closeStream(streamState);\n                throw mapHranaError(e);\n            }\n        });\n    }\n    async executeMultiple(sql) {\n        return this.limit(async () => {\n            const streamState = await this.#openStream();\n            try {\n                // Schedule all operations synchronously, so they will be pipelined and executed in a single\n                // network roundtrip.\n                const promise = streamState.stream.sequence(sql);\n                streamState.stream.closeGracefully();\n                await promise;\n            }\n            catch (e) {\n                throw mapHranaError(e);\n            }\n            finally {\n                this._closeStream(streamState);\n            }\n        });\n    }\n    sync() {\n        throw new LibsqlError(\"sync not supported in ws mode\", \"SYNC_NOT_SUPPORTED\");\n    }\n    async #openStream() {\n        if (this.closed) {\n            throw new LibsqlError(\"The client is closed\", \"CLIENT_CLOSED\");\n        }\n        const now = new Date();\n        const ageMillis = now.valueOf() - this.#connState.openTime.valueOf();\n        if (ageMillis > maxConnAgeMillis &&\n            this.#futureConnState === undefined) {\n            // The existing connection is too old, let's open a new one.\n            const futureConnState = this.#openConn();\n            this.#futureConnState = futureConnState;\n            // However, if we used `futureConnState` immediately, we would introduce additional latency,\n            // because we would have to wait for the WebSocket handshake to complete, even though we may a\n            // have perfectly good existing connection in `this.#connState`!\n            //\n            // So we wait until the `hrana.Client.getVersion()` operation completes (which happens when the\n            // WebSocket hanshake completes), and only then we replace `this.#connState` with\n            // `futureConnState`, which is stored in `this.#futureConnState` in the meantime.\n            futureConnState.client.getVersion().then((_version) => {\n                if (this.#connState !== futureConnState) {\n                    // We need to close `this.#connState` before we replace it. However, it is possible\n                    // that `this.#connState` has already been replaced: see the code below.\n                    if (this.#connState.streamStates.size === 0) {\n                        this.#connState.client.close();\n                    }\n                    else {\n                        // If there are existing streams on the connection, we must not close it, because\n                        // these streams would be broken. The last stream to be closed will also close the\n                        // connection in `_closeStream()`.\n                    }\n                }\n                this.#connState = futureConnState;\n                this.#futureConnState = undefined;\n            }, (_e) => {\n                // If the new connection could not be established, let's just ignore the error and keep\n                // using the existing connection.\n                this.#futureConnState = undefined;\n            });\n        }\n        if (this.#connState.client.closed) {\n            // An error happened on this connection and it has been closed. Let's try to seamlessly reconnect.\n            try {\n                if (this.#futureConnState !== undefined) {\n                    // We are already in the process of opening a new connection, so let's just use it\n                    // immediately.\n                    this.#connState = this.#futureConnState;\n                }\n                else {\n                    this.#connState = this.#openConn();\n                }\n            }\n            catch (e) {\n                throw mapHranaError(e);\n            }\n        }\n        const connState = this.#connState;\n        try {\n            // Now we wait for the WebSocket handshake to complete (if it hasn't completed yet). Note that\n            // this does not increase latency, because any messages that we would send on the WebSocket before\n            // the handshake would be queued until the handshake is completed anyway.\n            if (connState.useSqlCache === undefined) {\n                connState.useSqlCache =\n                    (await connState.client.getVersion()) >= 2;\n                if (connState.useSqlCache) {\n                    connState.sqlCache.capacity = sqlCacheCapacity;\n                }\n            }\n            const stream = connState.client.openStream();\n            stream.intMode = this.#intMode;\n            const streamState = { conn: connState, stream };\n            connState.streamStates.add(streamState);\n            return streamState;\n        }\n        catch (e) {\n            throw mapHranaError(e);\n        }\n    }\n    #openConn(client) {\n        try {\n            client ??= hrana.openWs(this.#url, this.#authToken);\n            return {\n                client,\n                useSqlCache: undefined,\n                sqlCache: new SqlCache(client, 0),\n                openTime: new Date(),\n                streamStates: new Set(),\n            };\n        }\n        catch (e) {\n            throw mapHranaError(e);\n        }\n    }\n    async reconnect() {\n        try {\n            for (const st of Array.from(this.#connState.streamStates)) {\n                try {\n                    st.stream.close();\n                }\n                catch { }\n            }\n            this.#connState.client.close();\n        }\n        catch { }\n        if (this.#futureConnState) {\n            try {\n                this.#futureConnState.client.close();\n            }\n            catch { }\n            this.#futureConnState = undefined;\n        }\n        const next = this.#openConn();\n        const version = await next.client.getVersion();\n        next.useSqlCache = version >= 2;\n        if (next.useSqlCache) {\n            next.sqlCache.capacity = sqlCacheCapacity;\n        }\n        this.#connState = next;\n        this.closed = false;\n    }\n    _closeStream(streamState) {\n        streamState.stream.close();\n        const connState = streamState.conn;\n        connState.streamStates.delete(streamState);\n        if (connState.streamStates.size === 0 &&\n            connState !== this.#connState) {\n            // We are not using this connection anymore and this is the last stream that was using it, so we\n            // must close it now.\n            connState.client.close();\n        }\n    }\n    close() {\n        this.#connState.client.close();\n        this.closed = true;\n        if (this.#futureConnState) {\n            try {\n                this.#futureConnState.client.close();\n            }\n            catch { }\n            this.#futureConnState = undefined;\n        }\n        this.closed = true;\n    }\n}\nexport class WsTransaction extends HranaTransaction {\n    #client;\n    #streamState;\n    /** @private */\n    constructor(client, state, mode, version) {\n        super(mode, version);\n        this.#client = client;\n        this.#streamState = state;\n    }\n    /** @private */\n    _getStream() {\n        return this.#streamState.stream;\n    }\n    /** @private */\n    _getSqlCache() {\n        return this.#streamState.conn.sqlCache;\n    }\n    close() {\n        this.#client._closeStream(this.#streamState);\n    }\n    get closed() {\n        return this.#streamState.stream.closed;\n    }\n}\n", "import * as hrana from \"@libsql/hrana-client\";\nimport { LibsqlError } from \"@libsql/core/api\";\nimport { expandConfig } from \"@libsql/core/config\";\nimport { HranaTransaction, executeHranaBatch, stmtToHrana, resultSetFromHrana, mapHranaError, } from \"./hrana.js\";\nimport { SqlCache } from \"./sql_cache.js\";\nimport { encodeBaseUrl } from \"@libsql/core/uri\";\nimport { supportedUrlLink } from \"@libsql/core/util\";\nimport promiseLimit from \"promise-limit\";\nexport * from \"@libsql/core/api\";\nexport function createClient(config) {\n    return _createClient(expandConfig(config, true));\n}\n/** @private */\nexport function _createClient(config) {\n    if (config.scheme !== \"https\" && config.scheme !== \"http\") {\n        throw new LibsqlError('The HTTP client supports only \"libsql:\", \"https:\" and \"http:\" URLs, ' +\n            `got ${JSON.stringify(config.scheme + \":\")}. For more information, please read ${supportedUrlLink}`, \"URL_SCHEME_NOT_SUPPORTED\");\n    }\n    if (config.encryptionKey !== undefined) {\n        throw new LibsqlError(\"Encryption key is not supported by the remote client.\", \"ENCRYPTION_KEY_NOT_SUPPORTED\");\n    }\n    if (config.scheme === \"http\" && config.tls) {\n        throw new LibsqlError(`A \"http:\" URL cannot opt into TLS by using ?tls=1`, \"URL_INVALID\");\n    }\n    else if (config.scheme === \"https\" && !config.tls) {\n        throw new LibsqlError(`A \"https:\" URL cannot opt out of TLS by using ?tls=0`, \"URL_INVALID\");\n    }\n    const url = encodeBaseUrl(config.scheme, config.authority, config.path);\n    return new HttpClient(url, config.authToken, config.intMode, config.fetch, config.concurrency);\n}\nconst sqlCacheCapacity = 30;\nexport class HttpClient {\n    #client;\n    protocol;\n    #url;\n    #intMode;\n    #customFetch;\n    #concurrency;\n    #authToken;\n    #promiseLimitFunction;\n    /** @private */\n    constructor(url, authToken, intMode, customFetch, concurrency) {\n        this.#url = url;\n        this.#authToken = authToken;\n        this.#intMode = intMode;\n        this.#customFetch = customFetch;\n        this.#concurrency = concurrency;\n        this.#client = hrana.openHttp(this.#url, this.#authToken, this.#customFetch);\n        this.#client.intMode = this.#intMode;\n        this.protocol = \"http\";\n        this.#promiseLimitFunction = promiseLimit(this.#concurrency);\n    }\n    async limit(fn) {\n        return this.#promiseLimitFunction(fn);\n    }\n    async execute(stmtOrSql, args) {\n        let stmt;\n        if (typeof stmtOrSql === \"string\") {\n            stmt = {\n                sql: stmtOrSql,\n                args: args || [],\n            };\n        }\n        else {\n            stmt = stmtOrSql;\n        }\n        return this.limit(async () => {\n            try {\n                const hranaStmt = stmtToHrana(stmt);\n                // Pipeline all operations, so `hrana.HttpClient` can open the stream, execute the statement and\n                // close the stream in a single HTTP request.\n                let rowsPromise;\n                const stream = this.#client.openStream();\n                try {\n                    rowsPromise = stream.query(hranaStmt);\n                }\n                finally {\n                    stream.closeGracefully();\n                }\n                const rowsResult = await rowsPromise;\n                return resultSetFromHrana(rowsResult);\n            }\n            catch (e) {\n                throw mapHranaError(e);\n            }\n        });\n    }\n    async batch(stmts, mode = \"deferred\") {\n        return this.limit(async () => {\n            try {\n                const normalizedStmts = stmts.map((stmt) => {\n                    if (Array.isArray(stmt)) {\n                        return {\n                            sql: stmt[0],\n                            args: stmt[1] || [],\n                        };\n                    }\n                    return stmt;\n                });\n                const hranaStmts = normalizedStmts.map(stmtToHrana);\n                const version = await this.#client.getVersion();\n                // Pipeline all operations, so `hrana.HttpClient` can open the stream, execute the batch and\n                // close the stream in a single HTTP request.\n                let resultsPromise;\n                const stream = this.#client.openStream();\n                try {\n                    // It makes sense to use a SQL cache even for a single batch, because it may contain the same\n                    // statement repeated multiple times.\n                    const sqlCache = new SqlCache(stream, sqlCacheCapacity);\n                    sqlCache.apply(hranaStmts);\n                    // TODO: we do not use a cursor here, because it would cause three roundtrips:\n                    // 1. pipeline request to store SQL texts\n                    // 2. cursor request\n                    // 3. pipeline request to close the stream\n                    const batch = stream.batch(false);\n                    resultsPromise = executeHranaBatch(mode, version, batch, hranaStmts);\n                }\n                finally {\n                    stream.closeGracefully();\n                }\n                const results = await resultsPromise;\n                return results;\n            }\n            catch (e) {\n                throw mapHranaError(e);\n            }\n        });\n    }\n    async migrate(stmts) {\n        return this.limit(async () => {\n            try {\n                const hranaStmts = stmts.map(stmtToHrana);\n                const version = await this.#client.getVersion();\n                // Pipeline all operations, so `hrana.HttpClient` can open the stream, execute the batch and\n                // close the stream in a single HTTP request.\n                let resultsPromise;\n                const stream = this.#client.openStream();\n                try {\n                    const batch = stream.batch(false);\n                    resultsPromise = executeHranaBatch(\"deferred\", version, batch, hranaStmts, true);\n                }\n                finally {\n                    stream.closeGracefully();\n                }\n                const results = await resultsPromise;\n                return results;\n            }\n            catch (e) {\n                throw mapHranaError(e);\n            }\n        });\n    }\n    async transaction(mode = \"write\") {\n        return this.limit(async () => {\n            try {\n                const version = await this.#client.getVersion();\n                return new HttpTransaction(this.#client.openStream(), mode, version);\n            }\n            catch (e) {\n                throw mapHranaError(e);\n            }\n        });\n    }\n    async executeMultiple(sql) {\n        return this.limit(async () => {\n            try {\n                // Pipeline all operations, so `hrana.HttpClient` can open the stream, execute the sequence and\n                // close the stream in a single HTTP request.\n                let promise;\n                const stream = this.#client.openStream();\n                try {\n                    promise = stream.sequence(sql);\n                }\n                finally {\n                    stream.closeGracefully();\n                }\n                await promise;\n            }\n            catch (e) {\n                throw mapHranaError(e);\n            }\n        });\n    }\n    sync() {\n        throw new LibsqlError(\"sync not supported in http mode\", \"SYNC_NOT_SUPPORTED\");\n    }\n    close() {\n        this.#client.close();\n    }\n    async reconnect() {\n        try {\n            if (!this.closed) {\n                // Abort in-flight ops and free resources\n                this.#client.close();\n            }\n        }\n        finally {\n            // Recreate the underlying hrana client\n            this.#client = hrana.openHttp(this.#url, this.#authToken, this.#customFetch);\n            this.#client.intMode = this.#intMode;\n        }\n    }\n    get closed() {\n        return this.#client.closed;\n    }\n}\nexport class HttpTransaction extends HranaTransaction {\n    #stream;\n    #sqlCache;\n    /** @private */\n    constructor(stream, mode, version) {\n        super(mode, version);\n        this.#stream = stream;\n        this.#sqlCache = new SqlCache(stream, sqlCacheCapacity);\n    }\n    /** @private */\n    _getStream() {\n        return this.#stream;\n    }\n    /** @private */\n    _getSqlCache() {\n        return this.#sqlCache;\n    }\n    close() {\n        this.#stream.close();\n    }\n    get closed() {\n        return this.#stream.closed;\n    }\n}\n", "import { LibsqlError } from \"@libsql/core/api\";\nimport { expandConfig } from \"@libsql/core/config\";\nimport { supportedUrlLink } from \"@libsql/core/util\";\nimport { _createClient as _createWsClient } from \"./ws.js\";\nimport { _createClient as _createHttpClient } from \"./http.js\";\nexport * from \"@libsql/core/api\";\nexport function createClient(config) {\n    return _createClient(expandConfig(config, true));\n}\n/** @private */\nexport function _createClient(config) {\n    if (config.scheme === \"ws\" || config.scheme === \"wss\") {\n        return _createWsClient(config);\n    }\n    else if (config.scheme === \"http\" || config.scheme === \"https\") {\n        return _createHttpClient(config);\n    }\n    else {\n        throw new LibsqlError('The client that uses Web standard APIs supports only \"libsql:\", \"wss:\", \"ws:\", \"https:\" and \"http:\" URLs, ' +\n            `got ${JSON.stringify(config.scheme + \":\")}. For more information, please read ${supportedUrlLink}`, \"URL_SCHEME_NOT_SUPPORTED\");\n    }\n}\n", "import { createClient } from '@libsql/client/web';\n// import 'dotenv/config'; // Vercel handles env variables natively\n\nconst url = process.env.TURSO_DATABASE_URL;\nconst authToken = process.env.TURSO_AUTH_TOKEN;\n\nexport const client = createClient({\n  url: url,\n  authToken: authToken,\n});\n\n/**\n * Execute a query on the Turso database\n * @param {string} sql \n * @param {Array} args \n * @returns {Promise<any>}\n */\nexport async function dbQuery(sql, args = []) {\n  try {\n    const result = await client.execute({ sql, args });\n    return result;\n  } catch (error) {\n    console.error('Database Error:', error);\n    throw error;\n  }\n}\n\n/**\n * Get a single row from the database\n * @param {string} sql \n * @param {Array} args \n * @returns {Promise<any>}\n */\nexport async function dbGet(sql, args = []) {\n  const result = await dbQuery(sql, args);\n  return result.rows[0] || null;\n}\n\n/**\n * Get all rows from the database\n * @param {string} sql \n * @param {Array} args \n * @returns {Promise<any[]>}\n */\nexport async function dbAll(sql, args = []) {\n  const result = await dbQuery(sql, args);\n  return result.rows;\n}\n", "// src/jsx/constants.ts\nvar DOM_RENDERER = /* @__PURE__ */ Symbol(\"RENDERER\");\nvar DOM_ERROR_HANDLER = /* @__PURE__ */ Symbol(\"ERROR_HANDLER\");\nvar DOM_STASH = /* @__PURE__ */ Symbol(\"STASH\");\nvar DOM_INTERNAL_TAG = /* @__PURE__ */ Symbol(\"INTERNAL\");\nvar DOM_MEMO = /* @__PURE__ */ Symbol(\"MEMO\");\nvar PERMALINK = /* @__PURE__ */ Symbol(\"PERMALINK\");\nexport {\n  DOM_ERROR_HANDLER,\n  DOM_INTERNAL_TAG,\n  DOM_MEMO,\n  DOM_RENDERER,\n  DOM_STASH,\n  PERMALINK\n};\n", "// src/jsx/dom/utils.ts\nimport { DOM_INTERNAL_TAG } from \"../constants.js\";\nvar setInternalTagFlag = (fn) => {\n  ;\n  fn[DOM_INTERNAL_TAG] = true;\n  return fn;\n};\nexport {\n  setInternalTagFlag\n};\n", "// src/jsx/dom/context.ts\nimport { DOM_ERROR_HANDLER } from \"../constants.js\";\nimport { globalContexts } from \"../context.js\";\nimport { setInternalTagFlag } from \"./utils.js\";\nvar createContextProviderFunction = (values) => ({ value, children }) => {\n  if (!children) {\n    return void 0;\n  }\n  const props = {\n    children: [\n      {\n        tag: setInternalTagFlag(() => {\n          values.push(value);\n        }),\n        props: {}\n      }\n    ]\n  };\n  if (Array.isArray(children)) {\n    props.children.push(...children.flat());\n  } else {\n    props.children.push(children);\n  }\n  props.children.push({\n    tag: setInternalTagFlag(() => {\n      values.pop();\n    }),\n    props: {}\n  });\n  const res = { tag: \"\", props, type: \"\" };\n  res[DOM_ERROR_HANDLER] = (err) => {\n    values.pop();\n    throw err;\n  };\n  return res;\n};\nvar createContext = (defaultValue) => {\n  const values = [defaultValue];\n  const context = createContextProviderFunction(values);\n  context.values = values;\n  context.Provider = context;\n  globalContexts.push(context);\n  return context;\n};\nexport {\n  createContext,\n  createContextProviderFunction\n};\n", "// src/jsx/context.ts\nimport { raw } from \"../helper/html/index.js\";\nimport { JSXFragmentNode } from \"./base.js\";\nimport { DOM_RENDERER } from \"./constants.js\";\nimport { createContextProviderFunction } from \"./dom/context.js\";\nvar globalContexts = [];\nvar createContext = (defaultValue) => {\n  const values = [defaultValue];\n  const context = ((props) => {\n    values.push(props.value);\n    let string;\n    try {\n      string = props.children ? (Array.isArray(props.children) ? new JSXFragmentNode(\"\", {}, props.children) : props.children).toString() : \"\";\n    } finally {\n      values.pop();\n    }\n    if (string instanceof Promise) {\n      return string.then((resString) => raw(resString, resString.callbacks));\n    } else {\n      return raw(string);\n    }\n  });\n  context.values = values;\n  context.Provider = context;\n  context[DOM_RENDERER] = createContextProviderFunction(values);\n  globalContexts.push(context);\n  return context;\n};\nvar useContext = (context) => {\n  return context.values.at(-1);\n};\nexport {\n  createContext,\n  globalContexts,\n  useContext\n};\n", "// src/jsx/intrinsic-element/common.ts\nvar deDupeKeyMap = {\n  title: [],\n  script: [\"src\"],\n  style: [\"data-href\"],\n  link: [\"href\"],\n  meta: [\"name\", \"httpEquiv\", \"charset\", \"itemProp\"]\n};\nvar domRenderers = {};\nvar dataPrecedenceAttr = \"data-precedence\";\nexport {\n  dataPrecedenceAttr,\n  deDupeKeyMap,\n  domRenderers\n};\n", "// src/jsx/intrinsic-element/components.ts\nimport { raw } from \"../../helper/html/index.js\";\nimport { JSXNode, getNameSpaceContext } from \"../base.js\";\nimport { toArray } from \"../children.js\";\nimport { PERMALINK } from \"../constants.js\";\nimport { useContext } from \"../context.js\";\nimport { dataPrecedenceAttr, deDupeKeyMap } from \"./common.js\";\nvar metaTagMap = /* @__PURE__ */ new WeakMap();\nvar insertIntoHead = (tagName, tag, props, precedence) => ({ buffer, context }) => {\n  if (!buffer) {\n    return;\n  }\n  const map = metaTagMap.get(context) || {};\n  metaTagMap.set(context, map);\n  const tags = map[tagName] ||= [];\n  let duped = false;\n  const deDupeKeys = deDupeKeyMap[tagName];\n  if (deDupeKeys.length > 0) {\n    LOOP: for (const [, tagProps] of tags) {\n      for (const key of deDupeKeys) {\n        if ((tagProps?.[key] ?? null) === props?.[key]) {\n          duped = true;\n          break LOOP;\n        }\n      }\n    }\n  }\n  if (duped) {\n    buffer[0] = buffer[0].replaceAll(tag, \"\");\n  } else if (deDupeKeys.length > 0) {\n    tags.push([tag, props, precedence]);\n  } else {\n    tags.unshift([tag, props, precedence]);\n  }\n  if (buffer[0].indexOf(\"</head>\") !== -1) {\n    let insertTags;\n    if (precedence === void 0) {\n      insertTags = tags.map(([tag2]) => tag2);\n    } else {\n      const precedences = [];\n      insertTags = tags.map(([tag2, , precedence2]) => {\n        let order = precedences.indexOf(precedence2);\n        if (order === -1) {\n          precedences.push(precedence2);\n          order = precedences.length - 1;\n        }\n        return [tag2, order];\n      }).sort((a, b) => a[1] - b[1]).map(([tag2]) => tag2);\n    }\n    insertTags.forEach((tag2) => {\n      buffer[0] = buffer[0].replaceAll(tag2, \"\");\n    });\n    buffer[0] = buffer[0].replace(/(?=<\\/head>)/, insertTags.join(\"\"));\n  }\n};\nvar returnWithoutSpecialBehavior = (tag, children, props) => raw(new JSXNode(tag, props, toArray(children ?? [])).toString());\nvar documentMetadataTag = (tag, children, props, sort) => {\n  if (\"itemProp\" in props) {\n    return returnWithoutSpecialBehavior(tag, children, props);\n  }\n  let { precedence, blocking, ...restProps } = props;\n  precedence = sort ? precedence ?? \"\" : void 0;\n  if (sort) {\n    restProps[dataPrecedenceAttr] = precedence;\n  }\n  const string = new JSXNode(tag, restProps, toArray(children || [])).toString();\n  if (string instanceof Promise) {\n    return string.then(\n      (resString) => raw(string, [\n        ...resString.callbacks || [],\n        insertIntoHead(tag, resString, restProps, precedence)\n      ])\n    );\n  } else {\n    return raw(string, [insertIntoHead(tag, string, restProps, precedence)]);\n  }\n};\nvar title = ({ children, ...props }) => {\n  const nameSpaceContext = getNameSpaceContext();\n  if (nameSpaceContext) {\n    const context = useContext(nameSpaceContext);\n    if (context === \"svg\" || context === \"head\") {\n      return new JSXNode(\n        \"title\",\n        props,\n        toArray(children ?? [])\n      );\n    }\n  }\n  return documentMetadataTag(\"title\", children, props, false);\n};\nvar script = ({\n  children,\n  ...props\n}) => {\n  const nameSpaceContext = getNameSpaceContext();\n  if ([\"src\", \"async\"].some((k) => !props[k]) || nameSpaceContext && useContext(nameSpaceContext) === \"head\") {\n    return returnWithoutSpecialBehavior(\"script\", children, props);\n  }\n  return documentMetadataTag(\"script\", children, props, false);\n};\nvar style = ({\n  children,\n  ...props\n}) => {\n  if (![\"href\", \"precedence\"].every((k) => k in props)) {\n    return returnWithoutSpecialBehavior(\"style\", children, props);\n  }\n  props[\"data-href\"] = props.href;\n  delete props.href;\n  return documentMetadataTag(\"style\", children, props, true);\n};\nvar link = ({ children, ...props }) => {\n  if ([\"onLoad\", \"onError\"].some((k) => k in props) || props.rel === \"stylesheet\" && (!(\"precedence\" in props) || \"disabled\" in props)) {\n    return returnWithoutSpecialBehavior(\"link\", children, props);\n  }\n  return documentMetadataTag(\"link\", children, props, \"precedence\" in props);\n};\nvar meta = ({ children, ...props }) => {\n  const nameSpaceContext = getNameSpaceContext();\n  if (nameSpaceContext && useContext(nameSpaceContext) === \"head\") {\n    return returnWithoutSpecialBehavior(\"meta\", children, props);\n  }\n  return documentMetadataTag(\"meta\", children, props, false);\n};\nvar newJSXNode = (tag, { children, ...props }) => (\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  new JSXNode(tag, props, toArray(children ?? []))\n);\nvar form = (props) => {\n  if (typeof props.action === \"function\") {\n    props.action = PERMALINK in props.action ? props.action[PERMALINK] : void 0;\n  }\n  return newJSXNode(\"form\", props);\n};\nvar formActionableElement = (tag, props) => {\n  if (typeof props.formAction === \"function\") {\n    props.formAction = PERMALINK in props.formAction ? props.formAction[PERMALINK] : void 0;\n  }\n  return newJSXNode(tag, props);\n};\nvar input = (props) => formActionableElement(\"input\", props);\nvar button = (props) => formActionableElement(\"button\", props);\nexport {\n  button,\n  form,\n  input,\n  link,\n  meta,\n  script,\n  style,\n  title\n};\n", "// src/jsx/children.ts\nvar toArray = (children) => Array.isArray(children) ? children : [children];\nvar Children = {\n  map: (children, fn) => toArray(children).map(fn),\n  forEach: (children, fn) => {\n    toArray(children).forEach(fn);\n  },\n  count: (children) => toArray(children).length,\n  only: (_children) => {\n    const children = toArray(_children);\n    if (children.length !== 1) {\n      throw new Error(\"Children.only() expects only one child\");\n    }\n    return children[0];\n  },\n  toArray\n};\nexport {\n  Children,\n  toArray\n};\n", "// src/jsx/utils.ts\nvar normalizeElementKeyMap = /* @__PURE__ */ new Map([\n  [\"className\", \"class\"],\n  [\"htmlFor\", \"for\"],\n  [\"crossOrigin\", \"crossorigin\"],\n  [\"httpEquiv\", \"http-equiv\"],\n  [\"itemProp\", \"itemprop\"],\n  [\"fetchPriority\", \"fetchpriority\"],\n  [\"noModule\", \"nomodule\"],\n  [\"formAction\", \"formaction\"]\n]);\nvar normalizeIntrinsicElementKey = (key) => normalizeElementKeyMap.get(key) || key;\nvar styleObjectForEach = (style, fn) => {\n  for (const [k, v] of Object.entries(style)) {\n    const key = k[0] === \"-\" || !/[A-Z]/.test(k) ? k : k.replace(/[A-Z]/g, (m) => `-${m.toLowerCase()}`);\n    fn(\n      key,\n      v == null ? null : typeof v === \"number\" ? !key.match(\n        /^(?:a|border-im|column(?:-c|s)|flex(?:$|-[^b])|grid-(?:ar|[^a])|font-w|li|or|sca|st|ta|wido|z)|ty$/\n      ) ? `${v}px` : `${v}` : v\n    );\n  }\n};\nexport {\n  normalizeIntrinsicElementKey,\n  styleObjectForEach\n};\n", "// src/jsx/base.ts\nimport { raw } from \"../helper/html/index.js\";\nimport { escapeToBuffer, resolveCallbackSync, stringBufferToString } from \"../utils/html.js\";\nimport { DOM_RENDERER, DOM_MEMO } from \"./constants.js\";\nimport { createContext, globalContexts, useContext } from \"./context.js\";\nimport { domRenderers } from \"./intrinsic-element/common.js\";\nimport * as intrinsicElementTags from \"./intrinsic-element/components.js\";\nimport { normalizeIntrinsicElementKey, styleObjectForEach } from \"./utils.js\";\nvar nameSpaceContext = void 0;\nvar getNameSpaceContext = () => nameSpaceContext;\nvar toSVGAttributeName = (key) => /[A-Z]/.test(key) && // Presentation attributes are findable in style object. \"clip-path\", \"font-size\", \"stroke-width\", etc.\n// Or other un-deprecated kebab-case attributes. \"overline-position\", \"paint-order\", \"strikethrough-position\", etc.\nkey.match(\n  /^(?:al|basel|clip(?:Path|Rule)$|co|do|fill|fl|fo|gl|let|lig|i|marker[EMS]|o|pai|pointe|sh|st[or]|text[^L]|tr|u|ve|w)/\n) ? key.replace(/([A-Z])/g, \"-$1\").toLowerCase() : key;\nvar emptyTags = [\n  \"area\",\n  \"base\",\n  \"br\",\n  \"col\",\n  \"embed\",\n  \"hr\",\n  \"img\",\n  \"input\",\n  \"keygen\",\n  \"link\",\n  \"meta\",\n  \"param\",\n  \"source\",\n  \"track\",\n  \"wbr\"\n];\nvar booleanAttributes = [\n  \"allowfullscreen\",\n  \"async\",\n  \"autofocus\",\n  \"autoplay\",\n  \"checked\",\n  \"controls\",\n  \"default\",\n  \"defer\",\n  \"disabled\",\n  \"download\",\n  \"formnovalidate\",\n  \"hidden\",\n  \"inert\",\n  \"ismap\",\n  \"itemscope\",\n  \"loop\",\n  \"multiple\",\n  \"muted\",\n  \"nomodule\",\n  \"novalidate\",\n  \"open\",\n  \"playsinline\",\n  \"readonly\",\n  \"required\",\n  \"reversed\",\n  \"selected\"\n];\nvar childrenToStringToBuffer = (children, buffer) => {\n  for (let i = 0, len = children.length; i < len; i++) {\n    const child = children[i];\n    if (typeof child === \"string\") {\n      escapeToBuffer(child, buffer);\n    } else if (typeof child === \"boolean\" || child === null || child === void 0) {\n      continue;\n    } else if (child instanceof JSXNode) {\n      child.toStringToBuffer(buffer);\n    } else if (typeof child === \"number\" || child.isEscaped) {\n      ;\n      buffer[0] += child;\n    } else if (child instanceof Promise) {\n      buffer.unshift(\"\", child);\n    } else {\n      childrenToStringToBuffer(child, buffer);\n    }\n  }\n};\nvar JSXNode = class {\n  tag;\n  props;\n  key;\n  children;\n  isEscaped = true;\n  localContexts;\n  constructor(tag, props, children) {\n    this.tag = tag;\n    this.props = props;\n    this.children = children;\n  }\n  get type() {\n    return this.tag;\n  }\n  // Added for compatibility with libraries that rely on React's internal structure\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  get ref() {\n    return this.props.ref || null;\n  }\n  toString() {\n    const buffer = [\"\"];\n    this.localContexts?.forEach(([context, value]) => {\n      context.values.push(value);\n    });\n    try {\n      this.toStringToBuffer(buffer);\n    } finally {\n      this.localContexts?.forEach(([context]) => {\n        context.values.pop();\n      });\n    }\n    return buffer.length === 1 ? \"callbacks\" in buffer ? resolveCallbackSync(raw(buffer[0], buffer.callbacks)).toString() : buffer[0] : stringBufferToString(buffer, buffer.callbacks);\n  }\n  toStringToBuffer(buffer) {\n    const tag = this.tag;\n    const props = this.props;\n    let { children } = this;\n    buffer[0] += `<${tag}`;\n    const normalizeKey = nameSpaceContext && useContext(nameSpaceContext) === \"svg\" ? (key) => toSVGAttributeName(normalizeIntrinsicElementKey(key)) : (key) => normalizeIntrinsicElementKey(key);\n    for (let [key, v] of Object.entries(props)) {\n      key = normalizeKey(key);\n      if (key === \"children\") {\n      } else if (key === \"style\" && typeof v === \"object\") {\n        let styleStr = \"\";\n        styleObjectForEach(v, (property, value) => {\n          if (value != null) {\n            styleStr += `${styleStr ? \";\" : \"\"}${property}:${value}`;\n          }\n        });\n        buffer[0] += ' style=\"';\n        escapeToBuffer(styleStr, buffer);\n        buffer[0] += '\"';\n      } else if (typeof v === \"string\") {\n        buffer[0] += ` ${key}=\"`;\n        escapeToBuffer(v, buffer);\n        buffer[0] += '\"';\n      } else if (v === null || v === void 0) {\n      } else if (typeof v === \"number\" || v.isEscaped) {\n        buffer[0] += ` ${key}=\"${v}\"`;\n      } else if (typeof v === \"boolean\" && booleanAttributes.includes(key)) {\n        if (v) {\n          buffer[0] += ` ${key}=\"\"`;\n        }\n      } else if (key === \"dangerouslySetInnerHTML\") {\n        if (children.length > 0) {\n          throw new Error(\"Can only set one of `children` or `props.dangerouslySetInnerHTML`.\");\n        }\n        children = [raw(v.__html)];\n      } else if (v instanceof Promise) {\n        buffer[0] += ` ${key}=\"`;\n        buffer.unshift('\"', v);\n      } else if (typeof v === \"function\") {\n        if (!key.startsWith(\"on\") && key !== \"ref\") {\n          throw new Error(`Invalid prop '${key}' of type 'function' supplied to '${tag}'.`);\n        }\n      } else {\n        buffer[0] += ` ${key}=\"`;\n        escapeToBuffer(v.toString(), buffer);\n        buffer[0] += '\"';\n      }\n    }\n    if (emptyTags.includes(tag) && children.length === 0) {\n      buffer[0] += \"/>\";\n      return;\n    }\n    buffer[0] += \">\";\n    childrenToStringToBuffer(children, buffer);\n    buffer[0] += `</${tag}>`;\n  }\n};\nvar JSXFunctionNode = class extends JSXNode {\n  toStringToBuffer(buffer) {\n    const { children } = this;\n    const props = { ...this.props };\n    if (children.length) {\n      props.children = children.length === 1 ? children[0] : children;\n    }\n    const res = this.tag.call(null, props);\n    if (typeof res === \"boolean\" || res == null) {\n      return;\n    } else if (res instanceof Promise) {\n      if (globalContexts.length === 0) {\n        buffer.unshift(\"\", res);\n      } else {\n        const currentContexts = globalContexts.map((c) => [c, c.values.at(-1)]);\n        buffer.unshift(\n          \"\",\n          res.then((childRes) => {\n            if (childRes instanceof JSXNode) {\n              childRes.localContexts = currentContexts;\n            }\n            return childRes;\n          })\n        );\n      }\n    } else if (res instanceof JSXNode) {\n      res.toStringToBuffer(buffer);\n    } else if (typeof res === \"number\" || res.isEscaped) {\n      buffer[0] += res;\n      if (res.callbacks) {\n        buffer.callbacks ||= [];\n        buffer.callbacks.push(...res.callbacks);\n      }\n    } else {\n      escapeToBuffer(res, buffer);\n    }\n  }\n};\nvar JSXFragmentNode = class extends JSXNode {\n  toStringToBuffer(buffer) {\n    childrenToStringToBuffer(this.children, buffer);\n  }\n};\nvar jsx = (tag, props, ...children) => {\n  props ??= {};\n  if (children.length) {\n    props.children = children.length === 1 ? children[0] : children;\n  }\n  const key = props.key;\n  delete props[\"key\"];\n  const node = jsxFn(tag, props, children);\n  node.key = key;\n  return node;\n};\nvar initDomRenderer = false;\nvar jsxFn = (tag, props, children) => {\n  if (!initDomRenderer) {\n    for (const k in domRenderers) {\n      ;\n      intrinsicElementTags[k][DOM_RENDERER] = domRenderers[k];\n    }\n    initDomRenderer = true;\n  }\n  if (typeof tag === \"function\") {\n    return new JSXFunctionNode(tag, props, children);\n  } else if (intrinsicElementTags[tag]) {\n    return new JSXFunctionNode(\n      intrinsicElementTags[tag],\n      props,\n      children\n    );\n  } else if (tag === \"svg\" || tag === \"head\") {\n    nameSpaceContext ||= createContext(\"\");\n    return new JSXNode(tag, props, [\n      new JSXFunctionNode(\n        nameSpaceContext,\n        {\n          value: tag\n        },\n        children\n      )\n    ]);\n  } else {\n    return new JSXNode(tag, props, children);\n  }\n};\nvar shallowEqual = (a, b) => {\n  if (a === b) {\n    return true;\n  }\n  const aKeys = Object.keys(a).sort();\n  const bKeys = Object.keys(b).sort();\n  if (aKeys.length !== bKeys.length) {\n    return false;\n  }\n  for (let i = 0, len = aKeys.length; i < len; i++) {\n    if (aKeys[i] === \"children\" && bKeys[i] === \"children\" && !a.children?.length && !b.children?.length) {\n      continue;\n    } else if (a[aKeys[i]] !== b[aKeys[i]]) {\n      return false;\n    }\n  }\n  return true;\n};\nvar memo = (component, propsAreEqual = shallowEqual) => {\n  let computed = null;\n  let prevProps = void 0;\n  const wrapper = ((props) => {\n    if (prevProps && !propsAreEqual(prevProps, props)) {\n      computed = null;\n    }\n    prevProps = props;\n    return computed ||= component(props);\n  });\n  wrapper[DOM_MEMO] = propsAreEqual;\n  wrapper[DOM_RENDERER] = component;\n  return wrapper;\n};\nvar Fragment = ({\n  children\n}) => {\n  return new JSXFragmentNode(\n    \"\",\n    {\n      children\n    },\n    Array.isArray(children) ? children : children ? [children] : []\n  );\n};\nvar isValidElement = (element) => {\n  return !!(element && typeof element === \"object\" && \"tag\" in element && \"props\" in element);\n};\nvar cloneElement = (element, props, ...children) => {\n  let childrenToClone;\n  if (children.length > 0) {\n    childrenToClone = children;\n  } else {\n    const c = element.props.children;\n    childrenToClone = Array.isArray(c) ? c : [c];\n  }\n  return jsx(\n    element.tag,\n    { ...element.props, ...props },\n    ...childrenToClone\n  );\n};\nvar reactAPICompatVersion = \"19.0.0-hono-jsx\";\nexport {\n  Fragment,\n  JSXFragmentNode,\n  JSXNode,\n  booleanAttributes,\n  cloneElement,\n  getNameSpaceContext,\n  isValidElement,\n  jsx,\n  jsxFn,\n  memo,\n  reactAPICompatVersion,\n  shallowEqual\n};\n", "// src/jsx/dom/intrinsic-element/components.ts\nimport { useContext } from \"../../context.js\";\nimport { use, useCallback, useMemo, useState } from \"../../hooks/index.js\";\nimport { dataPrecedenceAttr, deDupeKeyMap, domRenderers } from \"../../intrinsic-element/common.js\";\nimport { FormContext, registerAction } from \"../hooks/index.js\";\nimport { createPortal, getNameSpaceContext } from \"../render.js\";\nvar clearCache = () => {\n  blockingPromiseMap = /* @__PURE__ */ Object.create(null);\n  createdElements = /* @__PURE__ */ Object.create(null);\n};\nvar composeRef = (ref, cb) => {\n  return useMemo(\n    () => (e) => {\n      let refCleanup;\n      if (ref) {\n        if (typeof ref === \"function\") {\n          refCleanup = ref(e) || (() => {\n            ref(null);\n          });\n        } else if (ref && \"current\" in ref) {\n          ref.current = e;\n          refCleanup = () => {\n            ref.current = null;\n          };\n        }\n      }\n      const cbCleanup = cb(e);\n      return () => {\n        cbCleanup?.();\n        refCleanup?.();\n      };\n    },\n    [ref]\n  );\n};\nvar blockingPromiseMap = /* @__PURE__ */ Object.create(null);\nvar createdElements = /* @__PURE__ */ Object.create(null);\nvar documentMetadataTag = (tag, props, preserveNodeType, supportSort, supportBlocking) => {\n  if (props?.itemProp) {\n    return {\n      tag,\n      props,\n      type: tag,\n      ref: props.ref\n    };\n  }\n  const head = document.head;\n  let { onLoad, onError, precedence, blocking, ...restProps } = props;\n  let element = null;\n  let created = false;\n  const deDupeKeys = deDupeKeyMap[tag];\n  let existingElements = void 0;\n  if (deDupeKeys.length > 0) {\n    const tags = head.querySelectorAll(tag);\n    LOOP: for (const e of tags) {\n      for (const key of deDupeKeyMap[tag]) {\n        if (e.getAttribute(key) === props[key]) {\n          element = e;\n          break LOOP;\n        }\n      }\n    }\n    if (!element) {\n      const cacheKey = deDupeKeys.reduce(\n        (acc, key) => props[key] === void 0 ? acc : `${acc}-${key}-${props[key]}`,\n        tag\n      );\n      created = !createdElements[cacheKey];\n      element = createdElements[cacheKey] ||= (() => {\n        const e = document.createElement(tag);\n        for (const key of deDupeKeys) {\n          if (props[key] !== void 0) {\n            e.setAttribute(key, props[key]);\n          }\n          if (props.rel) {\n            e.setAttribute(\"rel\", props.rel);\n          }\n        }\n        return e;\n      })();\n    }\n  } else {\n    existingElements = head.querySelectorAll(tag);\n  }\n  precedence = supportSort ? precedence ?? \"\" : void 0;\n  if (supportSort) {\n    restProps[dataPrecedenceAttr] = precedence;\n  }\n  const insert = useCallback(\n    (e) => {\n      if (deDupeKeys.length > 0) {\n        let found = false;\n        for (const existingElement of head.querySelectorAll(tag)) {\n          if (found && existingElement.getAttribute(dataPrecedenceAttr) !== precedence) {\n            head.insertBefore(e, existingElement);\n            return;\n          }\n          if (existingElement.getAttribute(dataPrecedenceAttr) === precedence) {\n            found = true;\n          }\n        }\n        head.appendChild(e);\n      } else if (existingElements) {\n        let found = false;\n        for (const existingElement of existingElements) {\n          if (existingElement === e) {\n            found = true;\n            break;\n          }\n        }\n        if (!found) {\n          head.insertBefore(\n            e,\n            head.contains(existingElements[0]) ? existingElements[0] : head.querySelector(tag)\n          );\n        }\n        existingElements = void 0;\n      }\n    },\n    [precedence]\n  );\n  const ref = composeRef(props.ref, (e) => {\n    const key = deDupeKeys[0];\n    if (preserveNodeType === 2) {\n      e.innerHTML = \"\";\n    }\n    if (created || existingElements) {\n      insert(e);\n    }\n    if (!onError && !onLoad) {\n      return;\n    }\n    let promise = blockingPromiseMap[e.getAttribute(key)] ||= new Promise(\n      (resolve, reject) => {\n        e.addEventListener(\"load\", resolve);\n        e.addEventListener(\"error\", reject);\n      }\n    );\n    if (onLoad) {\n      promise = promise.then(onLoad);\n    }\n    if (onError) {\n      promise = promise.catch(onError);\n    }\n    promise.catch(() => {\n    });\n  });\n  if (supportBlocking && blocking === \"render\") {\n    const key = deDupeKeyMap[tag][0];\n    if (props[key]) {\n      const value = props[key];\n      const promise = blockingPromiseMap[value] ||= new Promise((resolve, reject) => {\n        insert(element);\n        element.addEventListener(\"load\", resolve);\n        element.addEventListener(\"error\", reject);\n      });\n      use(promise);\n    }\n  }\n  const jsxNode = {\n    tag,\n    type: tag,\n    props: {\n      ...restProps,\n      ref\n    },\n    ref\n  };\n  jsxNode.p = preserveNodeType;\n  if (element) {\n    jsxNode.e = element;\n  }\n  return createPortal(\n    jsxNode,\n    head\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  );\n};\nvar title = (props) => {\n  const nameSpaceContext = getNameSpaceContext();\n  const ns = nameSpaceContext && useContext(nameSpaceContext);\n  if (ns?.endsWith(\"svg\")) {\n    return {\n      tag: \"title\",\n      props,\n      type: \"title\",\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      ref: props.ref\n    };\n  }\n  return documentMetadataTag(\"title\", props, void 0, false, false);\n};\nvar script = (props) => {\n  if (!props || [\"src\", \"async\"].some((k) => !props[k])) {\n    return {\n      tag: \"script\",\n      props,\n      type: \"script\",\n      ref: props.ref\n    };\n  }\n  return documentMetadataTag(\"script\", props, 1, false, true);\n};\nvar style = (props) => {\n  if (!props || ![\"href\", \"precedence\"].every((k) => k in props)) {\n    return {\n      tag: \"style\",\n      props,\n      type: \"style\",\n      ref: props.ref\n    };\n  }\n  props[\"data-href\"] = props.href;\n  delete props.href;\n  return documentMetadataTag(\"style\", props, 2, true, true);\n};\nvar link = (props) => {\n  if (!props || [\"onLoad\", \"onError\"].some((k) => k in props) || props.rel === \"stylesheet\" && (!(\"precedence\" in props) || \"disabled\" in props)) {\n    return {\n      tag: \"link\",\n      props,\n      type: \"link\",\n      ref: props.ref\n    };\n  }\n  return documentMetadataTag(\"link\", props, 1, \"precedence\" in props, true);\n};\nvar meta = (props) => {\n  return documentMetadataTag(\"meta\", props, void 0, false, false);\n};\nvar customEventFormAction = /* @__PURE__ */ Symbol();\nvar form = (props) => {\n  const { action, ...restProps } = props;\n  if (typeof action !== \"function\") {\n    ;\n    restProps.action = action;\n  }\n  const [state, setState] = useState([null, false]);\n  const onSubmit = useCallback(\n    async (ev) => {\n      const currentAction = ev.isTrusted ? action : ev.detail[customEventFormAction];\n      if (typeof currentAction !== \"function\") {\n        return;\n      }\n      ev.preventDefault();\n      const formData = new FormData(ev.target);\n      setState([formData, true]);\n      const actionRes = currentAction(formData);\n      if (actionRes instanceof Promise) {\n        registerAction(actionRes);\n        await actionRes;\n      }\n      setState([null, true]);\n    },\n    []\n  );\n  const ref = composeRef(props.ref, (el) => {\n    el.addEventListener(\"submit\", onSubmit);\n    return () => {\n      el.removeEventListener(\"submit\", onSubmit);\n    };\n  });\n  const [data, isDirty] = state;\n  state[1] = false;\n  return {\n    tag: FormContext,\n    props: {\n      value: {\n        pending: data !== null,\n        data,\n        method: data ? \"post\" : null,\n        action: data ? action : null\n      },\n      children: {\n        tag: \"form\",\n        props: {\n          ...restProps,\n          ref\n        },\n        type: \"form\",\n        ref\n      }\n    },\n    f: isDirty\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  };\n};\nvar formActionableElement = (tag, {\n  formAction,\n  ...props\n}) => {\n  if (typeof formAction === \"function\") {\n    const onClick = useCallback((ev) => {\n      ev.preventDefault();\n      ev.currentTarget.form.dispatchEvent(\n        new CustomEvent(\"submit\", { detail: { [customEventFormAction]: formAction } })\n      );\n    }, []);\n    props.ref = composeRef(props.ref, (el) => {\n      el.addEventListener(\"click\", onClick);\n      return () => {\n        el.removeEventListener(\"click\", onClick);\n      };\n    });\n  }\n  return {\n    tag,\n    props,\n    type: tag,\n    ref: props.ref\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  };\n};\nvar input = (props) => formActionableElement(\"input\", props);\nvar button = (props) => formActionableElement(\"button\", props);\nObject.assign(domRenderers, {\n  title,\n  script,\n  style,\n  link,\n  meta,\n  form,\n  input,\n  button\n});\nexport {\n  button,\n  clearCache,\n  composeRef,\n  form,\n  input,\n  link,\n  meta,\n  script,\n  style,\n  title\n};\n", "// src/jsx/dom/render.ts\nimport { toArray } from \"../children.js\";\nimport {\n  DOM_ERROR_HANDLER,\n  DOM_INTERNAL_TAG,\n  DOM_MEMO,\n  DOM_RENDERER,\n  DOM_STASH\n} from \"../constants.js\";\nimport { globalContexts as globalJSXContexts, useContext } from \"../context.js\";\nimport { STASH_EFFECT } from \"../hooks/index.js\";\nimport { normalizeIntrinsicElementKey, styleObjectForEach } from \"../utils.js\";\nimport { createContext } from \"./context.js\";\nvar HONO_PORTAL_ELEMENT = \"_hp\";\nvar eventAliasMap = {\n  Change: \"Input\",\n  DoubleClick: \"DblClick\"\n};\nvar nameSpaceMap = {\n  svg: \"2000/svg\",\n  math: \"1998/Math/MathML\"\n};\nvar buildDataStack = [];\nvar refCleanupMap = /* @__PURE__ */ new WeakMap();\nvar nameSpaceContext = void 0;\nvar getNameSpaceContext = () => nameSpaceContext;\nvar isNodeString = (node) => \"t\" in node;\nvar eventCache = {\n  // pre-define events that are used very frequently\n  onClick: [\"click\", false]\n};\nvar getEventSpec = (key) => {\n  if (!key.startsWith(\"on\")) {\n    return void 0;\n  }\n  if (eventCache[key]) {\n    return eventCache[key];\n  }\n  const match = key.match(/^on([A-Z][a-zA-Z]+?(?:PointerCapture)?)(Capture)?$/);\n  if (match) {\n    const [, eventName, capture] = match;\n    return eventCache[key] = [(eventAliasMap[eventName] || eventName).toLowerCase(), !!capture];\n  }\n  return void 0;\n};\nvar toAttributeName = (element, key) => nameSpaceContext && element instanceof SVGElement && /[A-Z]/.test(key) && (key in element.style || // Presentation attributes are findable in style object. \"clip-path\", \"font-size\", \"stroke-width\", etc.\nkey.match(/^(?:o|pai|str|u|ve)/)) ? key.replace(/([A-Z])/g, \"-$1\").toLowerCase() : key;\nvar applyProps = (container, attributes, oldAttributes) => {\n  attributes ||= {};\n  for (let key in attributes) {\n    const value = attributes[key];\n    if (key !== \"children\" && (!oldAttributes || oldAttributes[key] !== value)) {\n      key = normalizeIntrinsicElementKey(key);\n      const eventSpec = getEventSpec(key);\n      if (eventSpec) {\n        if (oldAttributes?.[key] !== value) {\n          if (oldAttributes) {\n            container.removeEventListener(eventSpec[0], oldAttributes[key], eventSpec[1]);\n          }\n          if (value != null) {\n            if (typeof value !== \"function\") {\n              throw new Error(`Event handler for \"${key}\" is not a function`);\n            }\n            container.addEventListener(eventSpec[0], value, eventSpec[1]);\n          }\n        }\n      } else if (key === \"dangerouslySetInnerHTML\" && value) {\n        container.innerHTML = value.__html;\n      } else if (key === \"ref\") {\n        let cleanup;\n        if (typeof value === \"function\") {\n          cleanup = value(container) || (() => value(null));\n        } else if (value && \"current\" in value) {\n          value.current = container;\n          cleanup = () => value.current = null;\n        }\n        refCleanupMap.set(container, cleanup);\n      } else if (key === \"style\") {\n        const style = container.style;\n        if (typeof value === \"string\") {\n          style.cssText = value;\n        } else {\n          style.cssText = \"\";\n          if (value != null) {\n            styleObjectForEach(value, style.setProperty.bind(style));\n          }\n        }\n      } else {\n        if (key === \"value\") {\n          const nodeName = container.nodeName;\n          if (nodeName === \"INPUT\" || nodeName === \"TEXTAREA\" || nodeName === \"SELECT\") {\n            ;\n            container.value = value === null || value === void 0 || value === false ? null : value;\n            if (nodeName === \"TEXTAREA\") {\n              container.textContent = value;\n              continue;\n            } else if (nodeName === \"SELECT\") {\n              if (container.selectedIndex === -1) {\n                ;\n                container.selectedIndex = 0;\n              }\n              continue;\n            }\n          }\n        } else if (key === \"checked\" && container.nodeName === \"INPUT\" || key === \"selected\" && container.nodeName === \"OPTION\") {\n          ;\n          container[key] = value;\n        }\n        const k = toAttributeName(container, key);\n        if (value === null || value === void 0 || value === false) {\n          container.removeAttribute(k);\n        } else if (value === true) {\n          container.setAttribute(k, \"\");\n        } else if (typeof value === \"string\" || typeof value === \"number\") {\n          container.setAttribute(k, value);\n        } else {\n          container.setAttribute(k, value.toString());\n        }\n      }\n    }\n  }\n  if (oldAttributes) {\n    for (let key in oldAttributes) {\n      const value = oldAttributes[key];\n      if (key !== \"children\" && !(key in attributes)) {\n        key = normalizeIntrinsicElementKey(key);\n        const eventSpec = getEventSpec(key);\n        if (eventSpec) {\n          container.removeEventListener(eventSpec[0], value, eventSpec[1]);\n        } else if (key === \"ref\") {\n          refCleanupMap.get(container)?.();\n        } else {\n          container.removeAttribute(toAttributeName(container, key));\n        }\n      }\n    }\n  }\n};\nvar invokeTag = (context, node) => {\n  node[DOM_STASH][0] = 0;\n  buildDataStack.push([context, node]);\n  const func = node.tag[DOM_RENDERER] || node.tag;\n  const props = func.defaultProps ? {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ...func.defaultProps,\n    ...node.props\n  } : node.props;\n  try {\n    return [func.call(null, props)];\n  } finally {\n    buildDataStack.pop();\n  }\n};\nvar getNextChildren = (node, container, nextChildren, childrenToRemove, callbacks) => {\n  if (node.vR?.length) {\n    childrenToRemove.push(...node.vR);\n    delete node.vR;\n  }\n  if (typeof node.tag === \"function\") {\n    node[DOM_STASH][1][STASH_EFFECT]?.forEach((data) => callbacks.push(data));\n  }\n  node.vC.forEach((child) => {\n    if (isNodeString(child)) {\n      nextChildren.push(child);\n    } else {\n      if (typeof child.tag === \"function\" || child.tag === \"\") {\n        child.c = container;\n        const currentNextChildrenIndex = nextChildren.length;\n        getNextChildren(child, container, nextChildren, childrenToRemove, callbacks);\n        if (child.s) {\n          for (let i = currentNextChildrenIndex; i < nextChildren.length; i++) {\n            nextChildren[i].s = true;\n          }\n          child.s = false;\n        }\n      } else {\n        nextChildren.push(child);\n        if (child.vR?.length) {\n          childrenToRemove.push(...child.vR);\n          delete child.vR;\n        }\n      }\n    }\n  });\n};\nvar findInsertBefore = (node) => {\n  for (; ; node = node.tag === HONO_PORTAL_ELEMENT || !node.vC || !node.pP ? node.nN : node.vC[0]) {\n    if (!node) {\n      return null;\n    }\n    if (node.tag !== HONO_PORTAL_ELEMENT && node.e) {\n      return node.e;\n    }\n  }\n};\nvar removeNode = (node) => {\n  if (!isNodeString(node)) {\n    node[DOM_STASH]?.[1][STASH_EFFECT]?.forEach((data) => data[2]?.());\n    refCleanupMap.get(node.e)?.();\n    if (node.p === 2) {\n      node.vC?.forEach((n) => n.p = 2);\n    }\n    node.vC?.forEach(removeNode);\n  }\n  if (!node.p) {\n    node.e?.remove();\n    delete node.e;\n  }\n  if (typeof node.tag === \"function\") {\n    updateMap.delete(node);\n    fallbackUpdateFnArrayMap.delete(node);\n    delete node[DOM_STASH][3];\n    node.a = true;\n  }\n};\nvar apply = (node, container, isNew) => {\n  node.c = container;\n  applyNodeObject(node, container, isNew);\n};\nvar findChildNodeIndex = (childNodes, child) => {\n  if (!child) {\n    return;\n  }\n  for (let i = 0, len = childNodes.length; i < len; i++) {\n    if (childNodes[i] === child) {\n      return i;\n    }\n  }\n  return;\n};\nvar cancelBuild = /* @__PURE__ */ Symbol();\nvar applyNodeObject = (node, container, isNew) => {\n  const next = [];\n  const remove = [];\n  const callbacks = [];\n  getNextChildren(node, container, next, remove, callbacks);\n  remove.forEach(removeNode);\n  const childNodes = isNew ? void 0 : container.childNodes;\n  let offset;\n  let insertBeforeNode = null;\n  if (isNew) {\n    offset = -1;\n  } else if (!childNodes.length) {\n    offset = 0;\n  } else {\n    const offsetByNextNode = findChildNodeIndex(childNodes, findInsertBefore(node.nN));\n    if (offsetByNextNode !== void 0) {\n      insertBeforeNode = childNodes[offsetByNextNode];\n      offset = offsetByNextNode;\n    } else {\n      offset = findChildNodeIndex(childNodes, next.find((n) => n.tag !== HONO_PORTAL_ELEMENT && n.e)?.e) ?? -1;\n    }\n    if (offset === -1) {\n      isNew = true;\n    }\n  }\n  for (let i = 0, len = next.length; i < len; i++, offset++) {\n    const child = next[i];\n    let el;\n    if (child.s && child.e) {\n      el = child.e;\n      child.s = false;\n    } else {\n      const isNewLocal = isNew || !child.e;\n      if (isNodeString(child)) {\n        if (child.e && child.d) {\n          child.e.textContent = child.t;\n        }\n        child.d = false;\n        el = child.e ||= document.createTextNode(child.t);\n      } else {\n        el = child.e ||= child.n ? document.createElementNS(child.n, child.tag) : document.createElement(child.tag);\n        applyProps(el, child.props, child.pP);\n        applyNodeObject(child, el, isNewLocal);\n      }\n    }\n    if (child.tag === HONO_PORTAL_ELEMENT) {\n      offset--;\n    } else if (isNew) {\n      if (!el.parentNode) {\n        container.appendChild(el);\n      }\n    } else if (childNodes[offset] !== el && childNodes[offset - 1] !== el) {\n      if (childNodes[offset + 1] === el) {\n        container.appendChild(childNodes[offset]);\n      } else {\n        container.insertBefore(el, insertBeforeNode || childNodes[offset] || null);\n      }\n    }\n  }\n  if (node.pP) {\n    delete node.pP;\n  }\n  if (callbacks.length) {\n    const useLayoutEffectCbs = [];\n    const useEffectCbs = [];\n    callbacks.forEach(([, useLayoutEffectCb, , useEffectCb, useInsertionEffectCb]) => {\n      if (useLayoutEffectCb) {\n        useLayoutEffectCbs.push(useLayoutEffectCb);\n      }\n      if (useEffectCb) {\n        useEffectCbs.push(useEffectCb);\n      }\n      useInsertionEffectCb?.();\n    });\n    useLayoutEffectCbs.forEach((cb) => cb());\n    if (useEffectCbs.length) {\n      requestAnimationFrame(() => {\n        useEffectCbs.forEach((cb) => cb());\n      });\n    }\n  }\n};\nvar isSameContext = (oldContexts, newContexts) => !!(oldContexts && oldContexts.length === newContexts.length && oldContexts.every((ctx, i) => ctx[1] === newContexts[i][1]));\nvar fallbackUpdateFnArrayMap = /* @__PURE__ */ new WeakMap();\nvar build = (context, node, children) => {\n  const buildWithPreviousChildren = !children && node.pC;\n  if (children) {\n    node.pC ||= node.vC;\n  }\n  let foundErrorHandler;\n  try {\n    children ||= typeof node.tag == \"function\" ? invokeTag(context, node) : toArray(node.props.children);\n    if (children[0]?.tag === \"\" && children[0][DOM_ERROR_HANDLER]) {\n      foundErrorHandler = children[0][DOM_ERROR_HANDLER];\n      context[5].push([context, foundErrorHandler, node]);\n    }\n    const oldVChildren = buildWithPreviousChildren ? [...node.pC] : node.vC ? [...node.vC] : void 0;\n    const vChildren = [];\n    let prevNode;\n    for (let i = 0; i < children.length; i++) {\n      if (Array.isArray(children[i])) {\n        children.splice(i, 1, ...children[i].flat());\n      }\n      let child = buildNode(children[i]);\n      if (child) {\n        if (typeof child.tag === \"function\" && // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        !child.tag[DOM_INTERNAL_TAG]) {\n          if (globalJSXContexts.length > 0) {\n            child[DOM_STASH][2] = globalJSXContexts.map((c) => [c, c.values.at(-1)]);\n          }\n          if (context[5]?.length) {\n            child[DOM_STASH][3] = context[5].at(-1);\n          }\n        }\n        let oldChild;\n        if (oldVChildren && oldVChildren.length) {\n          const i2 = oldVChildren.findIndex(\n            isNodeString(child) ? (c) => isNodeString(c) : child.key !== void 0 ? (c) => c.key === child.key && c.tag === child.tag : (c) => c.tag === child.tag\n          );\n          if (i2 !== -1) {\n            oldChild = oldVChildren[i2];\n            oldVChildren.splice(i2, 1);\n          }\n        }\n        if (oldChild) {\n          if (isNodeString(child)) {\n            if (oldChild.t !== child.t) {\n              ;\n              oldChild.t = child.t;\n              oldChild.d = true;\n            }\n            child = oldChild;\n          } else {\n            const pP = oldChild.pP = oldChild.props;\n            oldChild.props = child.props;\n            oldChild.f ||= child.f || node.f;\n            if (typeof child.tag === \"function\") {\n              const oldContexts = oldChild[DOM_STASH][2];\n              oldChild[DOM_STASH][2] = child[DOM_STASH][2] || [];\n              oldChild[DOM_STASH][3] = child[DOM_STASH][3];\n              if (!oldChild.f && ((oldChild.o || oldChild) === child.o || // The code generated by the react compiler is memoized under this condition.\n              oldChild.tag[DOM_MEMO]?.(pP, oldChild.props)) && // The `memo` function is memoized under this condition.\n              isSameContext(oldContexts, oldChild[DOM_STASH][2])) {\n                oldChild.s = true;\n              }\n            }\n            child = oldChild;\n          }\n        } else if (!isNodeString(child) && nameSpaceContext) {\n          const ns = useContext(nameSpaceContext);\n          if (ns) {\n            child.n = ns;\n          }\n        }\n        if (!isNodeString(child) && !child.s) {\n          build(context, child);\n          delete child.f;\n        }\n        vChildren.push(child);\n        if (prevNode && !prevNode.s && !child.s) {\n          for (let p = prevNode; p && !isNodeString(p); p = p.vC?.at(-1)) {\n            p.nN = child;\n          }\n        }\n        prevNode = child;\n      }\n    }\n    node.vR = buildWithPreviousChildren ? [...node.vC, ...oldVChildren || []] : oldVChildren || [];\n    node.vC = vChildren;\n    if (buildWithPreviousChildren) {\n      delete node.pC;\n    }\n  } catch (e) {\n    node.f = true;\n    if (e === cancelBuild) {\n      if (foundErrorHandler) {\n        return;\n      } else {\n        throw e;\n      }\n    }\n    const [errorHandlerContext, errorHandler, errorHandlerNode] = node[DOM_STASH]?.[3] || [];\n    if (errorHandler) {\n      const fallbackUpdateFn = () => update([0, false, context[2]], errorHandlerNode);\n      const fallbackUpdateFnArray = fallbackUpdateFnArrayMap.get(errorHandlerNode) || [];\n      fallbackUpdateFnArray.push(fallbackUpdateFn);\n      fallbackUpdateFnArrayMap.set(errorHandlerNode, fallbackUpdateFnArray);\n      const fallback = errorHandler(e, () => {\n        const fnArray = fallbackUpdateFnArrayMap.get(errorHandlerNode);\n        if (fnArray) {\n          const i = fnArray.indexOf(fallbackUpdateFn);\n          if (i !== -1) {\n            fnArray.splice(i, 1);\n            return fallbackUpdateFn();\n          }\n        }\n      });\n      if (fallback) {\n        if (context[0] === 1) {\n          context[1] = true;\n        } else {\n          build(context, errorHandlerNode, [fallback]);\n          if ((errorHandler.length === 1 || context !== errorHandlerContext) && errorHandlerNode.c) {\n            apply(errorHandlerNode, errorHandlerNode.c, false);\n            return;\n          }\n        }\n        throw cancelBuild;\n      }\n    }\n    throw e;\n  } finally {\n    if (foundErrorHandler) {\n      context[5].pop();\n    }\n  }\n};\nvar buildNode = (node) => {\n  if (node === void 0 || node === null || typeof node === \"boolean\") {\n    return void 0;\n  } else if (typeof node === \"string\" || typeof node === \"number\") {\n    return { t: node.toString(), d: true };\n  } else {\n    if (\"vR\" in node) {\n      node = {\n        tag: node.tag,\n        props: node.props,\n        key: node.key,\n        f: node.f,\n        type: node.tag,\n        ref: node.props.ref,\n        o: node.o || node\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      };\n    }\n    if (typeof node.tag === \"function\") {\n      ;\n      node[DOM_STASH] = [0, []];\n    } else {\n      const ns = nameSpaceMap[node.tag];\n      if (ns) {\n        nameSpaceContext ||= createContext(\"\");\n        node.props.children = [\n          {\n            tag: nameSpaceContext,\n            props: {\n              value: node.n = `http://www.w3.org/${ns}`,\n              children: node.props.children\n            }\n          }\n        ];\n      }\n    }\n    return node;\n  }\n};\nvar replaceContainer = (node, from, to) => {\n  if (node.c === from) {\n    node.c = to;\n    node.vC.forEach((child) => replaceContainer(child, from, to));\n  }\n};\nvar updateSync = (context, node) => {\n  node[DOM_STASH][2]?.forEach(([c, v]) => {\n    c.values.push(v);\n  });\n  try {\n    build(context, node, void 0);\n  } catch {\n    return;\n  }\n  if (node.a) {\n    delete node.a;\n    return;\n  }\n  node[DOM_STASH][2]?.forEach(([c]) => {\n    c.values.pop();\n  });\n  if (context[0] !== 1 || !context[1]) {\n    apply(node, node.c, false);\n  }\n};\nvar updateMap = /* @__PURE__ */ new WeakMap();\nvar currentUpdateSets = [];\nvar update = async (context, node) => {\n  context[5] ||= [];\n  const existing = updateMap.get(node);\n  if (existing) {\n    existing[0](void 0);\n  }\n  let resolve;\n  const promise = new Promise((r) => resolve = r);\n  updateMap.set(node, [\n    resolve,\n    () => {\n      if (context[2]) {\n        context[2](context, node, (context2) => {\n          updateSync(context2, node);\n        }).then(() => resolve(node));\n      } else {\n        updateSync(context, node);\n        resolve(node);\n      }\n    }\n  ]);\n  if (currentUpdateSets.length) {\n    ;\n    currentUpdateSets.at(-1).add(node);\n  } else {\n    await Promise.resolve();\n    const latest = updateMap.get(node);\n    if (latest) {\n      updateMap.delete(node);\n      latest[1]();\n    }\n  }\n  return promise;\n};\nvar renderNode = (node, container) => {\n  const context = [];\n  context[5] = [];\n  context[4] = true;\n  build(context, node, void 0);\n  context[4] = false;\n  const fragment = document.createDocumentFragment();\n  apply(node, fragment, true);\n  replaceContainer(node, fragment, container);\n  container.replaceChildren(fragment);\n};\nvar render = (jsxNode, container) => {\n  renderNode(buildNode({ tag: \"\", props: { children: jsxNode } }), container);\n};\nvar flushSync = (callback) => {\n  const set = /* @__PURE__ */ new Set();\n  currentUpdateSets.push(set);\n  callback();\n  set.forEach((node) => {\n    const latest = updateMap.get(node);\n    if (latest) {\n      updateMap.delete(node);\n      latest[1]();\n    }\n  });\n  currentUpdateSets.pop();\n};\nvar createPortal = (children, container, key) => ({\n  tag: HONO_PORTAL_ELEMENT,\n  props: {\n    children\n  },\n  key,\n  e: container,\n  p: 1\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n});\nexport {\n  build,\n  buildDataStack,\n  buildNode,\n  createPortal,\n  flushSync,\n  getNameSpaceContext,\n  render,\n  renderNode,\n  update\n};\n", "// src/jsx/hooks/index.ts\nimport { DOM_STASH } from \"../constants.js\";\nimport { buildDataStack, update } from \"../dom/render.js\";\nvar STASH_SATE = 0;\nvar STASH_EFFECT = 1;\nvar STASH_CALLBACK = 2;\nvar STASH_MEMO = 3;\nvar STASH_REF = 4;\nvar resolvedPromiseValueMap = /* @__PURE__ */ new WeakMap();\nvar isDepsChanged = (prevDeps, deps) => !prevDeps || !deps || prevDeps.length !== deps.length || deps.some((dep, i) => dep !== prevDeps[i]);\nvar viewTransitionState = void 0;\nvar documentStartViewTransition = (cb) => {\n  if (document?.startViewTransition) {\n    return document.startViewTransition(cb);\n  } else {\n    cb();\n    return { finished: Promise.resolve() };\n  }\n};\nvar updateHook = void 0;\nvar viewTransitionHook = (context, node, cb) => {\n  const state = [true, false];\n  let lastVC = node.vC;\n  return documentStartViewTransition(() => {\n    if (lastVC === node.vC) {\n      viewTransitionState = state;\n      cb(context);\n      viewTransitionState = void 0;\n      lastVC = node.vC;\n    }\n  }).finished.then(() => {\n    if (state[1] && lastVC === node.vC) {\n      state[0] = false;\n      viewTransitionState = state;\n      cb(context);\n      viewTransitionState = void 0;\n    }\n  });\n};\nvar startViewTransition = (callback) => {\n  updateHook = viewTransitionHook;\n  try {\n    callback();\n  } finally {\n    updateHook = void 0;\n  }\n};\nvar useViewTransition = () => {\n  const buildData = buildDataStack.at(-1);\n  if (!buildData) {\n    return [false, () => {\n    }];\n  }\n  if (viewTransitionState) {\n    viewTransitionState[1] = true;\n  }\n  return [!!viewTransitionState?.[0], startViewTransition];\n};\nvar pendingStack = [];\nvar runCallback = (type, callback) => {\n  let resolve;\n  const promise = new Promise((r) => resolve = r);\n  pendingStack.push([type, promise]);\n  try {\n    const res = callback();\n    if (res instanceof Promise) {\n      res.then(resolve, resolve);\n    } else {\n      resolve();\n    }\n  } finally {\n    pendingStack.pop();\n  }\n};\nvar startTransition = (callback) => {\n  runCallback(1, callback);\n};\nvar startTransitionHook = (callback) => {\n  runCallback(2, callback);\n};\nvar useTransition = () => {\n  const buildData = buildDataStack.at(-1);\n  if (!buildData) {\n    return [false, () => {\n    }];\n  }\n  const [error, setError] = useState();\n  const [state, updateState] = useState();\n  if (error) {\n    throw error[0];\n  }\n  const startTransitionLocalHook = useCallback(\n    (callback) => {\n      startTransitionHook(() => {\n        updateState((state2) => !state2);\n        let res = callback();\n        if (res instanceof Promise) {\n          res = res.catch((e) => {\n            setError([e]);\n          });\n        }\n        return res;\n      });\n    },\n    [state]\n  );\n  const [context] = buildData;\n  return [context[0] === 2, startTransitionLocalHook];\n};\nvar useDeferredValue = (value, ...rest) => {\n  const [values, setValues] = useState(\n    rest.length ? [rest[0], rest[0]] : [value, value]\n  );\n  if (Object.is(values[1], value)) {\n    return values[1];\n  }\n  pendingStack.push([3, Promise.resolve()]);\n  updateHook = async (context, _, cb) => {\n    cb(context);\n    values[0] = value;\n  };\n  setValues([values[0], value]);\n  updateHook = void 0;\n  pendingStack.pop();\n  return values[0];\n};\nvar useState = (initialState) => {\n  const resolveInitialState = () => typeof initialState === \"function\" ? initialState() : initialState;\n  const buildData = buildDataStack.at(-1);\n  if (!buildData) {\n    return [resolveInitialState(), () => {\n    }];\n  }\n  const [, node] = buildData;\n  const stateArray = node[DOM_STASH][1][STASH_SATE] ||= [];\n  const hookIndex = node[DOM_STASH][0]++;\n  return stateArray[hookIndex] ||= [\n    resolveInitialState(),\n    (newState) => {\n      const localUpdateHook = updateHook;\n      const stateData = stateArray[hookIndex];\n      if (typeof newState === \"function\") {\n        newState = newState(stateData[0]);\n      }\n      if (!Object.is(newState, stateData[0])) {\n        stateData[0] = newState;\n        if (pendingStack.length) {\n          const [pendingType, pendingPromise] = pendingStack.at(-1);\n          Promise.all([\n            pendingType === 3 ? node : update([pendingType, false, localUpdateHook], node),\n            pendingPromise\n          ]).then(([node2]) => {\n            if (!node2 || !(pendingType === 2 || pendingType === 3)) {\n              return;\n            }\n            const lastVC = node2.vC;\n            const addUpdateTask = () => {\n              setTimeout(() => {\n                if (lastVC !== node2.vC) {\n                  return;\n                }\n                update([pendingType === 3 ? 1 : 0, false, localUpdateHook], node2);\n              });\n            };\n            requestAnimationFrame(addUpdateTask);\n          });\n        } else {\n          update([0, false, localUpdateHook], node);\n        }\n      }\n    }\n  ];\n};\nvar useReducer = (reducer, initialArg, init) => {\n  const handler = useCallback(\n    (action) => {\n      setState((state2) => reducer(state2, action));\n    },\n    [reducer]\n  );\n  const [state, setState] = useState(() => init ? init(initialArg) : initialArg);\n  return [state, handler];\n};\nvar useEffectCommon = (index, effect, deps) => {\n  const buildData = buildDataStack.at(-1);\n  if (!buildData) {\n    return;\n  }\n  const [, node] = buildData;\n  const effectDepsArray = node[DOM_STASH][1][STASH_EFFECT] ||= [];\n  const hookIndex = node[DOM_STASH][0]++;\n  const [prevDeps, , prevCleanup] = effectDepsArray[hookIndex] ||= [];\n  if (isDepsChanged(prevDeps, deps)) {\n    if (prevCleanup) {\n      prevCleanup();\n    }\n    const runner = () => {\n      data[index] = void 0;\n      data[2] = effect();\n    };\n    const data = [deps, void 0, void 0, void 0, void 0];\n    data[index] = runner;\n    effectDepsArray[hookIndex] = data;\n  }\n};\nvar useEffect = (effect, deps) => useEffectCommon(3, effect, deps);\nvar useLayoutEffect = (effect, deps) => useEffectCommon(1, effect, deps);\nvar useInsertionEffect = (effect, deps) => useEffectCommon(4, effect, deps);\nvar useCallback = (callback, deps) => {\n  const buildData = buildDataStack.at(-1);\n  if (!buildData) {\n    return callback;\n  }\n  const [, node] = buildData;\n  const callbackArray = node[DOM_STASH][1][STASH_CALLBACK] ||= [];\n  const hookIndex = node[DOM_STASH][0]++;\n  const prevDeps = callbackArray[hookIndex];\n  if (isDepsChanged(prevDeps?.[1], deps)) {\n    callbackArray[hookIndex] = [callback, deps];\n  } else {\n    callback = callbackArray[hookIndex][0];\n  }\n  return callback;\n};\nvar useRef = (initialValue) => {\n  const buildData = buildDataStack.at(-1);\n  if (!buildData) {\n    return { current: initialValue };\n  }\n  const [, node] = buildData;\n  const refArray = node[DOM_STASH][1][STASH_REF] ||= [];\n  const hookIndex = node[DOM_STASH][0]++;\n  return refArray[hookIndex] ||= { current: initialValue };\n};\nvar use = (promise) => {\n  const cachedRes = resolvedPromiseValueMap.get(promise);\n  if (cachedRes) {\n    if (cachedRes.length === 2) {\n      throw cachedRes[1];\n    }\n    return cachedRes[0];\n  }\n  promise.then(\n    (res) => resolvedPromiseValueMap.set(promise, [res]),\n    (e) => resolvedPromiseValueMap.set(promise, [void 0, e])\n  );\n  throw promise;\n};\nvar useMemo = (factory, deps) => {\n  const buildData = buildDataStack.at(-1);\n  if (!buildData) {\n    return factory();\n  }\n  const [, node] = buildData;\n  const memoArray = node[DOM_STASH][1][STASH_MEMO] ||= [];\n  const hookIndex = node[DOM_STASH][0]++;\n  const prevDeps = memoArray[hookIndex];\n  if (isDepsChanged(prevDeps?.[1], deps)) {\n    memoArray[hookIndex] = [factory(), deps];\n  }\n  return memoArray[hookIndex][0];\n};\nvar idCounter = 0;\nvar useId = () => useMemo(() => `:r${(idCounter++).toString(32)}:`, []);\nvar useDebugValue = (_value, _formatter) => {\n};\nvar createRef = () => {\n  return { current: null };\n};\nvar forwardRef = (Component) => {\n  return (props) => {\n    const { ref, ...rest } = props;\n    return Component(rest, ref);\n  };\n};\nvar useImperativeHandle = (ref, createHandle, deps) => {\n  useEffect(() => {\n    ref.current = createHandle();\n    return () => {\n      ref.current = null;\n    };\n  }, deps);\n};\nvar useSyncExternalStore = (subscribe, getSnapshot, getServerSnapshot) => {\n  const buildData = buildDataStack.at(-1);\n  if (!buildData) {\n    if (!getServerSnapshot) {\n      throw new Error(\"getServerSnapshot is required for server side rendering\");\n    }\n    return getServerSnapshot();\n  }\n  const [serverSnapshotIsUsed] = useState(!!(buildData[0][4] && getServerSnapshot));\n  const [state, setState] = useState(\n    () => serverSnapshotIsUsed ? getServerSnapshot() : getSnapshot()\n  );\n  useEffect(() => {\n    if (serverSnapshotIsUsed) {\n      setState(getSnapshot());\n    }\n    return subscribe(() => {\n      setState(getSnapshot());\n    });\n  }, []);\n  return state;\n};\nexport {\n  STASH_EFFECT,\n  createRef,\n  forwardRef,\n  startTransition,\n  startViewTransition,\n  use,\n  useCallback,\n  useDebugValue,\n  useDeferredValue,\n  useEffect,\n  useId,\n  useImperativeHandle,\n  useInsertionEffect,\n  useLayoutEffect,\n  useMemo,\n  useReducer,\n  useRef,\n  useState,\n  useSyncExternalStore,\n  useTransition,\n  useViewTransition\n};\n", "// src/jsx/dom/hooks/index.ts\nimport { PERMALINK } from \"../../constants.js\";\nimport { useContext } from \"../../context.js\";\nimport { useCallback, useState } from \"../../hooks/index.js\";\nimport { createContext } from \"../context.js\";\nvar FormContext = createContext({\n  pending: false,\n  data: null,\n  method: null,\n  action: null\n});\nvar actions = /* @__PURE__ */ new Set();\nvar registerAction = (action) => {\n  actions.add(action);\n  action.finally(() => actions.delete(action));\n};\nvar useFormStatus = () => {\n  return useContext(FormContext);\n};\nvar useOptimistic = (state, updateState) => {\n  const [optimisticState, setOptimisticState] = useState(state);\n  if (actions.size > 0) {\n    Promise.all(actions).finally(() => {\n      setOptimisticState(state);\n    });\n  } else {\n    setOptimisticState(state);\n  }\n  const cb = useCallback((newData) => {\n    setOptimisticState((currentState) => updateState(currentState, newData));\n  }, []);\n  return [optimisticState, cb];\n};\nvar useActionState = (fn, initialState, permalink) => {\n  const [state, setState] = useState(initialState);\n  const actionState = async (data) => {\n    setState(await fn(state, data));\n  };\n  actionState[PERMALINK] = permalink;\n  return [state, actionState];\n};\nexport {\n  FormContext,\n  registerAction,\n  useActionState,\n  useFormStatus,\n  useOptimistic\n};\n", "// src/jsx/dom/jsx-dev-runtime.ts\nimport * as intrinsicElementTags from \"./intrinsic-element/components.js\";\nvar jsxDEV = (tag, props, key) => {\n  if (typeof tag === \"string\" && intrinsicElementTags[tag]) {\n    tag = intrinsicElementTags[tag];\n  }\n  return {\n    tag,\n    type: tag,\n    props,\n    key,\n    ref: props.ref\n  };\n};\nvar Fragment = (props) => jsxDEV(\"\", props, void 0);\nexport {\n  Fragment,\n  jsxDEV\n};\n", "// src/jsx/dom/components.ts\nimport { DOM_ERROR_HANDLER } from \"../constants.js\";\nimport { Fragment } from \"./jsx-runtime.js\";\nvar ErrorBoundary = (({ children, fallback, fallbackRender, onError }) => {\n  const res = Fragment({ children });\n  res[DOM_ERROR_HANDLER] = (err) => {\n    if (err instanceof Promise) {\n      throw err;\n    }\n    onError?.(err);\n    return fallbackRender?.(err) || fallback;\n  };\n  return res;\n});\nvar Suspense = (({\n  children,\n  fallback\n}) => {\n  const res = Fragment({ children });\n  res[DOM_ERROR_HANDLER] = (err, retry) => {\n    if (!(err instanceof Promise)) {\n      throw err;\n    }\n    err.finally(retry);\n    return fallback;\n  };\n  return res;\n});\nexport {\n  ErrorBoundary,\n  Suspense\n};\n", "// src/jsx/streaming.ts\nimport { raw } from \"../helper/html/index.js\";\nimport { HtmlEscapedCallbackPhase, resolveCallback } from \"../utils/html.js\";\nimport { JSXNode } from \"./base.js\";\nimport { childrenToString } from \"./components.js\";\nimport { DOM_RENDERER, DOM_STASH } from \"./constants.js\";\nimport { createContext, useContext } from \"./context.js\";\nimport { Suspense as SuspenseDomRenderer } from \"./dom/components.js\";\nimport { buildDataStack } from \"./dom/render.js\";\nvar StreamingContext = createContext(null);\nvar suspenseCounter = 0;\nvar Suspense = async ({\n  children,\n  fallback\n}) => {\n  if (!Array.isArray(children)) {\n    children = [children];\n  }\n  const nonce = useContext(StreamingContext)?.scriptNonce;\n  let resArray = [];\n  const stackNode = { [DOM_STASH]: [0, []] };\n  const popNodeStack = (value) => {\n    buildDataStack.pop();\n    return value;\n  };\n  try {\n    stackNode[DOM_STASH][0] = 0;\n    buildDataStack.push([[], stackNode]);\n    resArray = children.map(\n      (c) => c == null || typeof c === \"boolean\" ? \"\" : c.toString()\n    );\n  } catch (e) {\n    if (e instanceof Promise) {\n      resArray = [\n        e.then(() => {\n          stackNode[DOM_STASH][0] = 0;\n          buildDataStack.push([[], stackNode]);\n          return childrenToString(children).then(popNodeStack);\n        })\n      ];\n    } else {\n      throw e;\n    }\n  } finally {\n    popNodeStack();\n  }\n  if (resArray.some((res) => res instanceof Promise)) {\n    const index = suspenseCounter++;\n    const fallbackStr = await fallback.toString();\n    return raw(`<template id=\"H:${index}\"></template>${fallbackStr}<!--/$-->`, [\n      ...fallbackStr.callbacks || [],\n      ({ phase, buffer, context }) => {\n        if (phase === HtmlEscapedCallbackPhase.BeforeStream) {\n          return;\n        }\n        return Promise.all(resArray).then(async (htmlArray) => {\n          htmlArray = htmlArray.flat();\n          const content = htmlArray.join(\"\");\n          if (buffer) {\n            buffer[0] = buffer[0].replace(\n              new RegExp(`<template id=\"H:${index}\"></template>.*?<!--/\\\\$-->`),\n              content\n            );\n          }\n          let html = buffer ? \"\" : `<template data-hono-target=\"H:${index}\">${content}</template><script${nonce ? ` nonce=\"${nonce}\"` : \"\"}>\n((d,c,n) => {\nc=d.currentScript.previousSibling\nd=d.getElementById('H:${index}')\nif(!d)return\ndo{n=d.nextSibling;n.remove()}while(n.nodeType!=8||n.nodeValue!='/$')\nd.replaceWith(c.content)\n})(document)\n</script>`;\n          const callbacks = htmlArray.map((html2) => html2.callbacks || []).flat();\n          if (!callbacks.length) {\n            return html;\n          }\n          if (phase === HtmlEscapedCallbackPhase.Stream) {\n            html = await resolveCallback(html, HtmlEscapedCallbackPhase.BeforeStream, true, context);\n          }\n          return raw(html, callbacks);\n        });\n      }\n    ]);\n  } else {\n    return raw(resArray.join(\"\"));\n  }\n};\nSuspense[DOM_RENDERER] = SuspenseDomRenderer;\nvar textEncoder = new TextEncoder();\nvar renderToReadableStream = (content, onError = console.trace) => {\n  const reader = new ReadableStream({\n    async start(controller) {\n      try {\n        if (content instanceof JSXNode) {\n          content = content.toString();\n        }\n        const context = typeof content === \"object\" ? content : {};\n        const resolved = await resolveCallback(\n          content,\n          HtmlEscapedCallbackPhase.BeforeStream,\n          true,\n          context\n        );\n        controller.enqueue(textEncoder.encode(resolved));\n        let resolvedCount = 0;\n        const callbacks = [];\n        const then = (promise) => {\n          callbacks.push(\n            promise.catch((err) => {\n              console.log(err);\n              onError(err);\n              return \"\";\n            }).then(async (res) => {\n              res = await resolveCallback(\n                res,\n                HtmlEscapedCallbackPhase.BeforeStream,\n                true,\n                context\n              );\n              res.callbacks?.map((c) => c({ phase: HtmlEscapedCallbackPhase.Stream, context })).filter(Boolean).forEach(then);\n              resolvedCount++;\n              controller.enqueue(textEncoder.encode(res));\n            })\n          );\n        };\n        resolved.callbacks?.map((c) => c({ phase: HtmlEscapedCallbackPhase.Stream, context })).filter(Boolean).forEach(then);\n        while (resolvedCount !== callbacks.length) {\n          await Promise.all(callbacks);\n        }\n      } catch (e) {\n        onError(e);\n      }\n      controller.close();\n    }\n  });\n  return reader;\n};\nexport {\n  StreamingContext,\n  Suspense,\n  renderToReadableStream\n};\n", "// src/jsx/components.ts\nimport { raw } from \"../helper/html/index.js\";\nimport { HtmlEscapedCallbackPhase, resolveCallback } from \"../utils/html.js\";\nimport { DOM_RENDERER } from \"./constants.js\";\nimport { useContext } from \"./context.js\";\nimport { ErrorBoundary as ErrorBoundaryDomRenderer } from \"./dom/components.js\";\nimport { StreamingContext } from \"./streaming.js\";\nvar errorBoundaryCounter = 0;\nvar childrenToString = async (children) => {\n  try {\n    return children.flat().map((c) => c == null || typeof c === \"boolean\" ? \"\" : c.toString());\n  } catch (e) {\n    if (e instanceof Promise) {\n      await e;\n      return childrenToString(children);\n    } else {\n      throw e;\n    }\n  }\n};\nvar ErrorBoundary = async ({ children, fallback, fallbackRender, onError }) => {\n  if (!children) {\n    return raw(\"\");\n  }\n  if (!Array.isArray(children)) {\n    children = [children];\n  }\n  const nonce = useContext(StreamingContext)?.scriptNonce;\n  let fallbackStr;\n  const fallbackRes = (error) => {\n    onError?.(error);\n    return (fallbackStr || fallbackRender?.(error) || \"\").toString();\n  };\n  let resArray = [];\n  try {\n    resArray = children.map(\n      (c) => c == null || typeof c === \"boolean\" ? \"\" : c.toString()\n    );\n  } catch (e) {\n    fallbackStr = await fallback?.toString();\n    if (e instanceof Promise) {\n      resArray = [\n        e.then(() => childrenToString(children)).catch((e2) => fallbackRes(e2))\n      ];\n    } else {\n      resArray = [fallbackRes(e)];\n    }\n  }\n  if (resArray.some((res) => res instanceof Promise)) {\n    fallbackStr ||= await fallback?.toString();\n    const index = errorBoundaryCounter++;\n    const replaceRe = RegExp(`(<template id=\"E:${index}\"></template>.*?)(.*?)(<!--E:${index}-->)`);\n    const caught = false;\n    const catchCallback = ({ error: error2, buffer }) => {\n      if (caught) {\n        return \"\";\n      }\n      const fallbackResString = fallbackRes(error2);\n      if (buffer) {\n        buffer[0] = buffer[0].replace(replaceRe, fallbackResString);\n      }\n      return buffer ? \"\" : `<template data-hono-target=\"E:${index}\">${fallbackResString}</template><script>\n((d,c,n) => {\nc=d.currentScript.previousSibling\nd=d.getElementById('E:${index}')\nif(!d)return\ndo{n=d.nextSibling;n.remove()}while(n.nodeType!=8||n.nodeValue!='E:${index}')\nd.replaceWith(c.content)\n})(document)\n</script>`;\n    };\n    let error;\n    const promiseAll = Promise.all(resArray).catch((e) => error = e);\n    return raw(`<template id=\"E:${index}\"></template><!--E:${index}-->`, [\n      ({ phase, buffer, context }) => {\n        if (phase === HtmlEscapedCallbackPhase.BeforeStream) {\n          return;\n        }\n        return promiseAll.then(async (htmlArray) => {\n          if (error) {\n            throw error;\n          }\n          htmlArray = htmlArray.flat();\n          const content = htmlArray.join(\"\");\n          let html = buffer ? \"\" : `<template data-hono-target=\"E:${index}\">${content}</template><script${nonce ? ` nonce=\"${nonce}\"` : \"\"}>\n((d,c) => {\nc=d.currentScript.previousSibling\nd=d.getElementById('E:${index}')\nif(!d)return\nd.parentElement.insertBefore(c.content,d.nextSibling)\n})(document)\n</script>`;\n          if (htmlArray.every((html2) => !html2.callbacks?.length)) {\n            if (buffer) {\n              buffer[0] = buffer[0].replace(replaceRe, content);\n            }\n            return html;\n          }\n          if (buffer) {\n            buffer[0] = buffer[0].replace(\n              replaceRe,\n              (_all, pre, _, post) => `${pre}${content}${post}`\n            );\n          }\n          const callbacks = htmlArray.map((html2) => html2.callbacks || []).flat();\n          if (phase === HtmlEscapedCallbackPhase.Stream) {\n            html = await resolveCallback(\n              html,\n              HtmlEscapedCallbackPhase.BeforeStream,\n              true,\n              context\n            );\n          }\n          let resolvedCount = 0;\n          const promises = callbacks.map(\n            (c) => (...args) => c(...args)?.then((content2) => {\n              resolvedCount++;\n              if (buffer) {\n                if (resolvedCount === callbacks.length) {\n                  buffer[0] = buffer[0].replace(replaceRe, (_all, _pre, content3) => content3);\n                }\n                buffer[0] += content2;\n                return raw(\"\", content2.callbacks);\n              }\n              return raw(\n                content2 + (resolvedCount !== callbacks.length ? \"\" : `<script>\n((d,c,n) => {\nd=d.getElementById('E:${index}')\nif(!d)return\nn=d.nextSibling\nwhile(n.nodeType!=8||n.nodeValue!='E:${index}'){n=n.nextSibling}\nn.remove()\nd.remove()\n})(document)\n</script>`),\n                content2.callbacks\n              );\n            }).catch((error2) => catchCallback({ error: error2, buffer }))\n          );\n          return raw(html, promises);\n        }).catch((error2) => catchCallback({ error: error2, buffer }));\n      }\n    ]);\n  } else {\n    return raw(resArray.join(\"\"));\n  }\n};\nErrorBoundary[DOM_RENDERER] = ErrorBoundaryDomRenderer;\nexport {\n  ErrorBoundary,\n  childrenToString\n};\n", "/** @jsx jsx */\r\nimport { jsx } from 'hono/jsx'\r\n\r\nexport const Search = () => {\r\n  return (\r\n    <div>\r\n      <script dangerouslySetInnerHTML={{ __html: `\r\n        // Data pencarian\r\n        var searchIndex = [\r\n          { title: 'Introduction', path: '/docs#intro', category: 'General' },\r\n          { title: 'Base URL', path: '/docs#intro', category: 'General' },\r\n          { title: 'Al-Quran Indonesia', path: '/docs#quran', category: 'Quran' },\r\n          { title: 'Daftar Surah', path: '/docs#quran', category: 'Quran', endpoint: '/surah' },\r\n          { title: 'Detail Surah', path: '/docs#quran', category: 'Quran', endpoint: '/surah?surahId=114' },\r\n          { title: 'Tafsir Kemenag', path: '/docs#quran', category: 'Quran', endpoint: '/tafsir?surahId=1' },\r\n          { title: 'Ayat & Al-Quran', path: '/docs#ayah', category: 'Ayat' },\r\n          { title: 'Ayat by Surah', path: '/docs#ayah', category: 'Ayat', endpoint: '/ayah/surah?surahId=1' },\r\n          { title: 'Ayat by Juz', path: '/docs#ayah', category: 'Ayat', endpoint: '/ayah/juz?juzId=30' },\r\n          { title: 'Ayat by Page', path: '/docs#ayah', category: 'Ayat', endpoint: '/ayah/page?page=604' },\r\n          { title: 'Range Ayat', path: '/docs#ayah', category: 'Ayat', endpoint: '/ayah/range?surahId=1&start=1&end=7' },\r\n          { title: 'Cari Ayat', path: '/docs#ayah', category: 'Ayat', endpoint: '/ayah/find?query=puasa' },\r\n          { title: 'Resource Lainnya', path: '/other', category: 'Other' },\r\n          { title: 'Asmaul Husna', path: '/other#asma', category: 'Other', endpoint: '/asma' },\r\n          { title: 'Asbabun Nuzul', path: '/other#asbab', category: 'Other', endpoint: '/asbab' },\r\n          { title: 'Juz Al-Quran', path: '/other#extra', category: 'Other', endpoint: '/juz' },\r\n          { title: 'Detail Juz', path: '/other#extra', category: 'Other', endpoint: '/juz?juzId=30' },\r\n          { title: 'Tema Al-Quran', path: '/other#extra', category: 'Other', endpoint: '/theme' },\r\n          { title: 'Kata per Kata', path: '/other#extra', category: 'Other', endpoint: '/word?surahId=1' },\r\n          { title: 'Kumpulan Doa', path: '/other#doa', category: 'Doa' },\r\n          { title: 'Semua Doa', path: '/other#doa', category: 'Doa', endpoint: '/doa' },\r\n          { title: 'Cari Doa', path: '/other#doa', category: 'Doa', endpoint: '/doa/find?query=makan' },\r\n          { title: 'Dzikir Harian', path: '/other#dzikir', category: 'Dzikir' },\r\n          { title: 'Dzikir by Type', path: '/other#dzikir', category: 'Dzikir', endpoint: '/dzikir?type=pagi' },\r\n          { title: 'Hadits Arba\\\\'in', path: '/other#hadits', category: 'Hadits' },\r\n          { title: 'Daftar Hadits', path: '/other#hadits', category: 'Hadits', endpoint: '/hadits' },\r\n          { title: 'Detail Hadits', path: '/other#hadits', category: 'Hadits', endpoint: '/hadits?nomor=1' },\r\n          { title: 'Cari Hadits', path: '/other#hadits', category: 'Hadits', endpoint: '/hadits/find?query=niat' },\r\n          { title: 'Data Integrity', path: '/docs#integrity', category: 'Security' },\r\n          { title: 'Integrity Chain', path: '/docs#integrity', category: 'Security', endpoint: '/integrity/chain' },\r\n          { title: 'Verify Ayah', path: '/docs#integrity', category: 'Security', endpoint: '/integrity/verify/ayah?surahId=1&ayahId=1' },\r\n          { title: 'Jadwal Sholat', path: '/other#sholat', category: 'Sholat' },\r\n          { title: 'Daftar Kota Sholat', path: '/other#sholat', category: 'Sholat', endpoint: '/sholat/kota/semua' },\r\n          { title: 'Cari Kota Sholat', path: '/other#sholat', category: 'Sholat', endpoint: '/sholat/kota/cari?nama=jakarta' },\r\n          { title: 'Jadwal Sholat by Kota', path: '/other#sholat', category: 'Sholat', endpoint: '/sholat/jadwal?kotaId=1301' },\r\n          { title: 'Jadwal Sholat by Koordinat', path: '/other#sholat', category: 'Sholat', endpoint: '/sholat/jadwal/koordinat?lat=-6.2&lon=106.8' },\r\n          { title: 'Sejarah Islam', path: '/other#sejarah', category: 'Sejarah' },\r\n          { title: 'Daftar Sejarah', path: '/other#sejarah', category: 'Sejarah', endpoint: '/sejarah' },\r\n          { title: 'Detail Sejarah', path: '/other#sejarah', category: 'Sejarah', endpoint: '/sejarah/detail?id=1' },\r\n          { title: 'Puasa & Fiqh', path: '/other#puasa', category: 'Puasa' },\r\n          { title: 'Daftar Puasa (Wajib & Sunnah)', path: '/other#puasa', category: 'Puasa', endpoint: '/puasa' },\r\n          { title: 'Cari Puasa', path: '/other#puasa', category: 'Puasa', endpoint: '/puasa/find?query=ramadhan' },\r\n          { title: 'Filter Tipe Puasa', path: '/other#puasa', category: 'Puasa', endpoint: '/puasa/type/wajib' },\r\n          { title: 'Fiqh & Adab Puasa (70 Masalah)', path: '/other#puasa', category: 'Puasa', endpoint: '/puasa/fiqh' },\r\n          { title: 'Tools & Fitur Cerdas', path: '/other#tools', category: 'Tools' },\r\n          { title: 'Kalkulator Waris (Faraidh)', path: '/other#tools', category: 'Tools', endpoint: '/tools/faraidh' },\r\n          { title: 'Kalkulator Zakat', path: '/other#tools', category: 'Tools', endpoint: '/tools/zakat' },\r\n          { title: 'Pencarian Semantik (Quran, Hadits, Puasa, Fiqh)', path: '/other#tools', category: 'Tools', endpoint: '/tools/semantic-search?query=ramadhan' },\r\n          { title: 'Arah Kiblat', path: '/other#tools', category: 'Tools', endpoint: '/tools/qibla' },\r\n          { title: 'Daily Quotes (Ayat/Hadits)', path: '/other#tools', category: 'Tools', endpoint: '/tools/quotes/daily' },\r\n          { title: 'Murottal Audio', path: '/other#murottal', category: 'Other' },\r\n          { title: 'Daftar Qari', path: '/other#murottal', category: 'Other', endpoint: '/murotal/qari' },\r\n          { title: 'Murottal by Surah', path: '/other#murottal', category: 'Other', endpoint: '/murotal?surahId=1' },\r\n          { title: 'FAQ', path: '/docs#faq', category: 'General' },\r\n          { title: 'Other Resources', path: '/other', category: 'Resources' },\r\n          { title: 'GitHub Repository', path: 'https://github.com/vrush2000/muslim-all-in-one-api', category: 'External' }\r\n        ];\r\n\r\n        var selectedIndex = -1;\r\n\r\n        // Fungsi Global Handle Search\r\n        window.handleSearch = function(query) {\r\n          var dropdown = document.getElementById('search-results-dropdown');\r\n          var container = document.getElementById('search-results-content');\r\n          if (!dropdown || !container) return;\r\n\r\n          if (!query || query.trim() === '') {\r\n            container.innerHTML = '<div class=\"py-4 text-xs text-center text-slate-400\">Type to search...</div>';\r\n            dropdown.classList.add('hidden');\r\n            selectedIndex = -1;\r\n            return;\r\n          }\r\n\r\n          var q = query.toLowerCase();\r\n          var filtered = searchIndex.filter(function(item) {\r\n            return item.title.toLowerCase().indexOf(q) !== -1 || \r\n                   (item.endpoint && item.endpoint.toLowerCase().indexOf(q) !== -1) ||\r\n                   item.category.toLowerCase().indexOf(q) !== -1;\r\n          });\r\n\r\n          if (filtered.length === 0) {\r\n            container.innerHTML = '<div class=\"py-8 text-xs text-center text-slate-400\">No results found for \"' + query + '\"</div>';\r\n            dropdown.classList.remove('hidden');\r\n            selectedIndex = -1;\r\n            return;\r\n          }\r\n\r\n          var html = '';\r\n          for (var i = 0; i < filtered.length; i++) {\r\n            var item = filtered[i];\r\n            var activeClass = (i === 0) ? 'bg-emerald-50' : '';\r\n            html += '<a href=\"' + item.path + '\" onclick=\"window.hideResults()\" class=\"flex justify-between items-center p-2 rounded-lg transition-all duration-150 search-result-item hover:bg-emerald-50 group' + activeClass + '\" data-index=\"' + i + '\">' +\r\n                      '<div class=\"flex gap-2 items-center\">' +\r\n                        '<div class=\"flex justify-center items-center w-6 h-6 rounded transition-colors bg-slate-100 text-slate-400 group-hover:bg-emerald-100 group-hover:text-emerald-600\">' +\r\n                          '<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-3 h-3\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z\" /></svg>' +\r\n                        '</div>' +\r\n                        '<div>' +\r\n                          '<div class=\"text-[9px] font-bold text-emerald-600 uppercase tracking-wider\">' + item.category + '</div>' +\r\n                          '<div class=\"text-xs font-semibold text-slate-900\">' + item.title + '</div>' +\r\n                        '</div>' +\r\n                      '</div>' +\r\n                      '<div class=\"text-slate-300 group-hover:text-emerald-500\">' +\r\n                        '<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" /></svg>' +\r\n                      '</div>' +\r\n                    '</a>';\r\n          }\r\n          container.innerHTML = html;\r\n          dropdown.classList.remove('hidden');\r\n          selectedIndex = 0;\r\n        };\r\n\r\n        window.hideResults = function() {\r\n          setTimeout(function() {\r\n            var dropdown = document.getElementById('search-results-dropdown');\r\n            if (dropdown) dropdown.classList.add('hidden');\r\n          }, 200);\r\n        };\r\n\r\n        // Keyboard Navigation di Input\r\n        document.addEventListener('keydown', function(e) {\r\n          var dropdown = document.getElementById('search-results-dropdown');\r\n          if (!dropdown || dropdown.classList.contains('hidden')) return;\r\n\r\n          var items = document.querySelectorAll('.search-result-item');\r\n          if (items.length === 0) return;\r\n\r\n          if (e.key === 'ArrowDown') {\r\n            e.preventDefault();\r\n            selectedIndex = (selectedIndex + 1) % items.length;\r\n            updateSelection();\r\n          } else if (e.key === 'ArrowUp') {\r\n            e.preventDefault();\r\n            selectedIndex = (selectedIndex - 1 + items.length) % items.length;\r\n            updateSelection();\r\n          } else if (e.key === 'Enter' && selectedIndex >= 0) {\r\n            e.preventDefault();\r\n            items[selectedIndex].click();\r\n          } else if (e.key === 'Escape') {\r\n            window.hideResults();\r\n          }\r\n        });\r\n\r\n        function updateSelection() {\r\n          var items = document.querySelectorAll('.search-result-item');\r\n          for (var i = 0; i < items.length; i++) {\r\n            if (i === selectedIndex) {\r\n              items[i].classList.add('bg-emerald-50');\r\n              items[i].scrollIntoView({ block: 'nearest' });\r\n            } else {\r\n              items[i].classList.remove('bg-emerald-50');\r\n            }\r\n          }\r\n        }\r\n\r\n        // Close dropdown when clicking outside\r\n        document.addEventListener('click', function(e) {\r\n          var container = document.querySelector('.group.w-40.md\\\\\\\\:w-64');\r\n          if (container && !container.contains(e.target)) {\r\n            window.hideResults();\r\n          }\r\n        });\r\n      ` }} />\r\n    </div>\r\n  )\r\n}\r\n", "/** @jsx jsx */\r\nimport { jsx } from \"hono/jsx\";\r\nimport { Search } from \"./Search.jsx\";\r\nimport fs from \"node:fs\";\r\nimport path from \"node:path\";\r\n\r\n// Read compiled CSS once at startup\r\nlet compiledCss = \"\";\r\ntry {\r\n  const cssPath = path.resolve(process.cwd(), \"src/compiled.css\");\r\n  if (fs.existsSync(cssPath)) {\r\n    compiledCss = fs.readFileSync(cssPath, \"utf-8\");\r\n  }\r\n} catch (e) {\r\n  console.error(\"Failed to load compiled CSS:\", e);\r\n}\r\n\r\nexport const Layout = ({ children, title }) => {\r\n  return (\r\n    <html lang=\"en\" class=\"scroll-smooth\">\r\n      <head>\r\n        <meta charset=\"UTF-8\" />\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\r\n        <title>{title}</title>\r\n        <link\r\n          rel=\"icon\"\r\n          href=\"data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><rect width=%22100%22 height=%22100%22 rx=%2220%22 fill=%22%23059669%22/><path d=%22M30 35v40c10-5 20-5 20 0V35c0-5-10-5-20 0zM70 35v40c-10-5-20-5-20 0V35c0-5 10-5 20 0z%22 fill=%22white%22/></svg>\"\r\n        />\r\n        {compiledCss ? (\r\n          <style dangerouslySetInnerHTML={{ __html: compiledCss }} />\r\n        ) : (\r\n          <script src=\"https://cdn.tailwindcss.com\"></script>\r\n        )}\r\n        <link\r\n          href=\"https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap\"\r\n          rel=\"stylesheet\"\r\n        />\r\n        <link\r\n          rel=\"stylesheet\"\r\n          href=\"https://cdn.jsdelivr.net/npm/jsoneditor@9.10.0/dist/jsoneditor.min.css\"\r\n        />\r\n        <script src=\"https://cdn.jsdelivr.net/npm/jsoneditor@9.10.0/dist/jsoneditor.min.js\"></script>\r\n        {process.env.NODE_ENV === \"development\" && (\r\n          <script type=\"module\" src=\"/@vite/client\"></script>\r\n        )}\r\n        <style>{`\r\n          body {\r\n            font-family: 'Plus Jakarta Sans', sans-serif;\r\n          }\r\n          .font-mono {\r\n            font-family: 'JetBrains Mono', monospace;\r\n          }\r\n          .glass {\r\n            background: rgba(255, 255, 255, 0.7);\r\n            backdrop-filter: blur(10px);\r\n            -webkit-backdrop-filter: blur(10px);\r\n            border-bottom: 1px solid rgba(0, 0, 0, 0.05);\r\n          }\r\n          #mobile-menu {\r\n            transition: all 0.3s ease-in-out;\r\n            max-height: 0;\r\n            overflow: hidden;\r\n            opacity: 0;\r\n          }\r\n          #mobile-menu.open {\r\n            max-height: 800px;\r\n            opacity: 1;\r\n            padding: 1rem 0;\r\n          }\r\n          pre {\r\n            background: #1e293b;\r\n            color: #f8fafc;\r\n            padding: 1rem;\r\n            border-radius: 0.5rem;\r\n            overflow-x: auto;\r\n          }\r\n          code {\r\n            font-family: 'JetBrains Mono', monospace;\r\n          }\r\n\r\n          /* JSONEditor Custom Style for Modal */\r\n          #modal-json-editor {\r\n            border: none !important;\r\n            height: 100% !important;\r\n            width: 100% !important;\r\n          }\r\n          #modal-json-editor .jsoneditor {\r\n            border: none !important;\r\n          }\r\n          #modal-json-editor .jsoneditor-menu {\r\n            background-color: #1e293b !important;\r\n            border-bottom: 1px solid #334155 !important;\r\n          }\r\n          #modal-json-editor .jsoneditor-navigation-bar {\r\n            background-color: #1e293b !important;\r\n            border-bottom: 1px solid #334155 !important;\r\n          }\r\n          #modal-json-editor .jsoneditor-outer {\r\n            background-color: #0f172a !important;\r\n            overflow: auto !important;\r\n            position: relative !important;\r\n          }\r\n          #modal-json-editor .jsoneditor-tree {\r\n            background-color: #0f172a !important;\r\n            min-width: 100% !important;\r\n          }\r\n          #modal-json-editor .jsoneditor-tree-inner {\r\n            min-width: max-content !important;\r\n            padding-bottom: 50px !important;\r\n          }\r\n          #modal-json-editor .jsoneditor-content-wrapper {\r\n            overflow: visible !important;\r\n          }\r\n          #modal-json-editor .jsoneditor-field,\r\n          #modal-json-editor .jsoneditor-value {\r\n            white-space: nowrap !important;\r\n          }\r\n          #modal-json-editor .jsoneditor-separator {\r\n            background-color: transparent !important;\r\n          }\r\n          #modal-json-editor .jsoneditor-values {\r\n            color: #10b981 !important;\r\n          }\r\n          #modal-json-editor .jsoneditor-readonly {\r\n            color: #94a3b8 !important;\r\n          }\r\n          #modal-json-editor .jsoneditor-string {\r\n            color: #10b981 !important;\r\n          }\r\n          #modal-json-editor .jsoneditor-number {\r\n            color: #3b82f6 !important;\r\n          }\r\n          #modal-json-editor .jsoneditor-boolean {\r\n            color: #f59e0b !important;\r\n          }\r\n          #modal-json-editor .jsoneditor-null {\r\n            color: #ef4444 !important;\r\n          }\r\n          #modal-json-editor .jsoneditor-field {\r\n            color: #e2e8f0 !important;\r\n          }\r\n\r\n          /* Custom Scrollbar for both wrapper and JSONEditor internals */\r\n          .custom-scrollbar::-webkit-scrollbar,\r\n          #modal-json-editor .jsoneditor-outer::-webkit-scrollbar,\r\n          #modal-json-editor .jsoneditor-tree::-webkit-scrollbar {\r\n            width: 8px;\r\n            height: 8px;\r\n          }\r\n          .custom-scrollbar::-webkit-scrollbar-track,\r\n          #modal-json-editor .jsoneditor-outer::-webkit-scrollbar-track,\r\n          #modal-json-editor .jsoneditor-tree::-webkit-scrollbar-track {\r\n            background: #0f172a;\r\n          }\r\n          .custom-scrollbar::-webkit-scrollbar-thumb,\r\n          #modal-json-editor .jsoneditor-outer::-webkit-scrollbar-thumb,\r\n          #modal-json-editor .jsoneditor-tree::-webkit-scrollbar-thumb {\r\n            background: #334155;\r\n            border-radius: 4px;\r\n          }\r\n          .custom-scrollbar::-webkit-scrollbar-thumb:hover,\r\n          #modal-json-editor .jsoneditor-outer::-webkit-scrollbar-thumb:hover,\r\n          #modal-json-editor .jsoneditor-tree::-webkit-scrollbar-thumb:hover {\r\n            background: #475569;\r\n          }\r\n        `}</style>\r\n      </head>\r\n      <body class=\"flex flex-col min-h-screen bg-slate-50 text-slate-900\">\r\n        <Search />\r\n        <header class=\"sticky top-0 z-50 border-b glass border-slate-200\">\r\n          <div class=\"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8\">\r\n            <div class=\"flex justify-between items-center h-16\">\r\n              <a\r\n                href=\"/\"\r\n                class=\"flex gap-2 items-center transition-all group shrink-0\"\r\n              >\r\n                <div class=\"flex justify-center items-center w-8 h-8 bg-emerald-600 rounded-lg transition-all group-hover:shadow-lg group-hover:shadow-emerald-200\">\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    class=\"w-5 h-5 text-white\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                  >\r\n                    <path\r\n                      stroke-linecap=\"round\"\r\n                      stroke-linejoin=\"round\"\r\n                      stroke-width=\"2\"\r\n                      d=\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\"\r\n                    />\r\n                  </svg>\r\n                </div>\r\n                <span class=\"text-xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-emerald-600 to-teal-600 transition-all group-hover:from-emerald-500 group-hover:to-teal-500\">\r\n                  Muslim API\r\n                </span>\r\n              </a>\r\n              <div class=\"flex gap-1 items-center md:gap-4 lg:gap-4\">\r\n                {/* Real Search Input */}\r\n                <div class=\"relative w-40 group md:w-64\">\r\n                  <div class=\"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none\">\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      class=\"w-4 h-4 transition-colors text-slate-400 group-focus-within:text-emerald-500\"\r\n                      fill=\"none\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      stroke=\"currentColor\"\r\n                    >\r\n                      <path\r\n                        stroke-linecap=\"round\"\r\n                        stroke-linejoin=\"round\"\r\n                        stroke-width=\"2\"\r\n                        d=\"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z\"\r\n                      />\r\n                    </svg>\r\n                  </div>\r\n                  <input\r\n                    type=\"text\"\r\n                    id=\"search-input-header\"\r\n                    oninput=\"window.handleSearch(this.value)\"\r\n                    onfocus=\"window.handleSearch(this.value)\"\r\n                    autocomplete=\"off\"\r\n                    placeholder=\"Search...\"\r\n                    class=\"block py-1.5 pr-3 pl-10 w-full text-sm rounded-lg border transition-all bg-slate-100 border-slate-200 placeholder-slate-400 focus:outline-none focus:bg-white focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500\"\r\n                  />\r\n\r\n                  {/* Results Dropdown */}\r\n                  <div\r\n                    id=\"search-results-dropdown\"\r\n                    class=\"absolute top-full left-0 right-0 mt-2 bg-white rounded-xl shadow-xl border border-slate-200 hidden overflow-hidden z-[100] max-h-[400px] overflow-y-auto\"\r\n                  >\r\n                    <div id=\"search-results-content\" class=\"p-2\">\r\n                      <div class=\"py-4 text-xs text-center text-slate-400\">\r\n                        Type to search...\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                <nav class=\"hidden items-center space-x-8 md:flex\">\r\n                  <a\r\n                    href=\"/\"\r\n                    class=\"font-medium transition-colors text-slate-600 hover:text-emerald-600\"\r\n                  >\r\n                    Home\r\n                  </a>\r\n\r\n                  {/* Resources Dropdown */}\r\n                  <div class=\"relative group\">\r\n                    <button class=\"flex gap-1 items-center py-4 font-medium transition-colors text-slate-600 group-hover:text-emerald-600\">\r\n                      Documentation\r\n                      <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        class=\"w-4 h-4 transition-transform group-hover:rotate-180\"\r\n                        fill=\"none\"\r\n                        viewBox=\"0 0 24 24\"\r\n                        stroke=\"currentColor\"\r\n                      >\r\n                        <path\r\n                          stroke-linecap=\"round\"\r\n                          stroke-linejoin=\"round\"\r\n                          stroke-width=\"2\"\r\n                          d=\"M19 9l-7 7-7-7\"\r\n                        />\r\n                      </svg>\r\n                    </button>\r\n\r\n                    <div class=\"absolute top-full left-1/2 -translate-x-1/2 w-[500px] bg-white rounded-2xl shadow-2xl border border-slate-100 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 p-6 z-[100]\">\r\n                      <div class=\"grid grid-cols-3 gap-8\">\r\n                        <div>\r\n                          <h5 class=\"mb-4 text-xs font-bold tracking-wider uppercase text-slate-400\">\r\n                            Internal Services\r\n                          </h5>\r\n                          <ul class=\"space-y-3\">\r\n                            <li>\r\n                              <a\r\n                                href=\"/docs\"\r\n                                class=\"flex gap-3 items-start group/item\"\r\n                              >\r\n                                <div class=\"flex justify-center items-center w-8 h-8 text-emerald-600 bg-emerald-50 rounded-lg transition-colors shrink-0 group-hover/item:bg-emerald-600 group-hover/item:text-white\">\r\n                                  <svg\r\n                                    class=\"w-4 h-4\"\r\n                                    fill=\"none\"\r\n                                    stroke=\"currentColor\"\r\n                                    viewBox=\"0 0 24 24\"\r\n                                  >\r\n                                    <path\r\n                                      stroke-linecap=\"round\"\r\n                                      stroke-linejoin=\"round\"\r\n                                      stroke-width=\"2\"\r\n                                      d=\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\"\r\n                                    />\r\n                                  </svg>\r\n                                </div>\r\n                                <div>\r\n                                  <div class=\"text-sm font-bold text-slate-900\">\r\n                                    Al-Quran API\r\n                                  </div>\r\n                                  <div class=\"text-xs text-slate-500\">\r\n                                    Teks & Tafsir Kemenag\r\n                                  </div>\r\n                                </div>\r\n                              </a>\r\n                            </li>\r\n                            <li>\r\n                              <a\r\n                                href=\"/other\"\r\n                                class=\"flex gap-3 items-start group/item\"\r\n                              >\r\n                                <div class=\"flex justify-center items-center w-8 h-8 text-blue-600 bg-blue-50 rounded-lg transition-colors shrink-0 group-hover/item:bg-blue-600 group-hover/item:text-white\">\r\n                                  <svg\r\n                                    class=\"w-4 h-4\"\r\n                                    fill=\"none\"\r\n                                    stroke=\"currentColor\"\r\n                                    viewBox=\"0 0 24 24\"\r\n                                  >\r\n                                    <path\r\n                                      stroke-linecap=\"round\"\r\n                                      stroke-linejoin=\"round\"\r\n                                      stroke-width=\"2\"\r\n                                      d=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                                    />\r\n                                  </svg>\r\n                                </div>\r\n                                <div>\r\n                                  <div class=\"text-sm font-bold text-slate-900\">\r\n                                    Jadwal Sholat\r\n                                  </div>\r\n                                  <div class=\"text-xs text-slate-500\">\r\n                                    Seluruh Indonesia\r\n                                  </div>\r\n                                </div>\r\n                              </a>\r\n                            </li>\r\n                            <li>\r\n                              <a\r\n                                href=\"/status\"\r\n                                class=\"flex gap-3 items-start group/item\"\r\n                              >\r\n                                <div class=\"flex justify-center items-center w-8 h-8 text-amber-600 bg-amber-50 rounded-lg transition-colors shrink-0 group-hover/item:bg-amber-600 group-hover/item:text-white\">\r\n                                  <svg\r\n                                    class=\"w-4 h-4\"\r\n                                    fill=\"none\"\r\n                                    stroke=\"currentColor\"\r\n                                    viewBox=\"0 0 24 24\"\r\n                                  >\r\n                                    <path\r\n                                      stroke-linecap=\"round\"\r\n                                      stroke-linejoin=\"round\"\r\n                                      stroke-width=\"2\"\r\n                                      d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\r\n                                    />\r\n                                  </svg>\r\n                                </div>\r\n                                <div>\r\n                                  <div class=\"text-sm font-bold text-slate-900\">\r\n                                    System Status\r\n                                  </div>\r\n                                  <div class=\"text-xs text-slate-500\">\r\n                                    Uptime & Latency\r\n                                  </div>\r\n                                </div>\r\n                              </a>\r\n                            </li>\r\n                          </ul>\r\n                        </div>\r\n\r\n                        <div class=\"col-span-2\">\r\n                          <h5 class=\"mb-4 text-xs font-bold tracking-wider uppercase text-slate-400\">\r\n                            Other API Resources\r\n                          </h5>\r\n                          <ul class=\"grid grid-cols-2 gap-y-4 gap-x-8\">\r\n                            <li>\r\n                              <a\r\n                                href=\"/other#hadits\"\r\n                                class=\"flex gap-3 items-start group/item\"\r\n                              >\r\n                                <div class=\"flex justify-center items-center w-8 h-8 text-rose-600 bg-rose-50 rounded-lg transition-colors shrink-0 group-hover/item:bg-rose-600 group-hover/item:text-white\">\r\n                                  <svg\r\n                                    class=\"w-4 h-4\"\r\n                                    fill=\"none\"\r\n                                    stroke=\"currentColor\"\r\n                                    viewBox=\"0 0 24 24\"\r\n                                  >\r\n                                    <path\r\n                                      stroke-linecap=\"round\"\r\n                                      stroke-linejoin=\"round\"\r\n                                      stroke-width=\"2\"\r\n                                      d=\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\"\r\n                                    />\r\n                                  </svg>\r\n                                </div>\r\n                                <div>\r\n                                  <div class=\"text-sm font-bold text-slate-900\">\r\n                                    Hadits & Tafsir\r\n                                  </div>\r\n                                  <div class=\"text-xs text-slate-500\">\r\n                                    Kumpulan Kitab & Tafsir\r\n                                  </div>\r\n                                </div>\r\n                              </a>\r\n                            </li>\r\n                            <li>\r\n                              <a\r\n                                href=\"/other#doa\"\r\n                                class=\"flex gap-3 items-start group/item\"\r\n                              >\r\n                                <div class=\"flex justify-center items-center w-8 h-8 text-purple-600 bg-purple-50 rounded-lg transition-colors shrink-0 group-hover/item:bg-purple-600 group-hover/item:text-white\">\r\n                                  <svg\r\n                                    class=\"w-4 h-4\"\r\n                                    fill=\"none\"\r\n                                    stroke=\"currentColor\"\r\n                                    viewBox=\"0 0 24 24\"\r\n                                  >\r\n                                    <path\r\n                                      stroke-linecap=\"round\"\r\n                                      stroke-linejoin=\"round\"\r\n                                      stroke-width=\"2\"\r\n                                      d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\r\n                                    />\r\n                                  </svg>\r\n                                </div>\r\n                                <div>\r\n                                  <div class=\"text-sm font-bold text-slate-900\">\r\n                                    Doa & Dzikir\r\n                                  </div>\r\n                                  <div class=\"text-xs text-slate-500\">\r\n                                    Harian & Pilihan\r\n                                  </div>\r\n                                </div>\r\n                              </a>\r\n                            </li>\r\n                            <li>\r\n                              <a\r\n                                href=\"/other#calendar\"\r\n                                class=\"flex gap-3 items-start group/item\"\r\n                              >\r\n                                <div class=\"flex justify-center items-center w-8 h-8 text-indigo-600 bg-indigo-50 rounded-lg transition-colors shrink-0 group-hover/item:bg-indigo-600 group-hover/item:text-white\">\r\n                                  <svg\r\n                                    class=\"w-4 h-4\"\r\n                                    fill=\"none\"\r\n                                    stroke=\"currentColor\"\r\n                                    viewBox=\"0 0 24 24\"\r\n                                  >\r\n                                    <path\r\n                                      stroke-linecap=\"round\"\r\n                                      stroke-linejoin=\"round\"\r\n                                      stroke-width=\"2\"\r\n                                      d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\r\n                                    />\r\n                                  </svg>\r\n                                </div>\r\n                                <div>\r\n                                  <div class=\"text-sm font-bold text-slate-900\">\r\n                                    Kalender Hijriah\r\n                                  </div>\r\n                                  <div class=\"text-xs text-slate-500\">\r\n                                    Konversi & Jadwal\r\n                                  </div>\r\n                                </div>\r\n                              </a>\r\n                            </li>\r\n                            <li>\r\n                              <a\r\n                                href=\"/other#asma\"\r\n                                class=\"flex gap-3 items-start group/item\"\r\n                              >\r\n                                <div class=\"flex justify-center items-center w-8 h-8 text-amber-600 bg-amber-50 rounded-lg transition-colors shrink-0 group-hover/item:bg-amber-600 group-hover/item:text-white\">\r\n                                  <svg\r\n                                    class=\"w-4 h-4\"\r\n                                    fill=\"none\"\r\n                                    stroke=\"currentColor\"\r\n                                    viewBox=\"0 0 24 24\"\r\n                                  >\r\n                                    <path\r\n                                      stroke-linecap=\"round\"\r\n                                      stroke-linejoin=\"round\"\r\n                                      stroke-width=\"2\"\r\n                                      d=\"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-7.714 2.143L11 21l-2.286-6.857L1 12l7.714-2.143L11 3z\"\r\n                                    />\r\n                                  </svg>\r\n                                </div>\r\n                                <div>\r\n                                  <div class=\"text-sm font-bold text-slate-900\">\r\n                                    Asmaul Husna\r\n                                  </div>\r\n                                  <div class=\"text-xs text-slate-500\">\r\n                                    99 Nama Allah\r\n                                  </div>\r\n                                </div>\r\n                              </a>\r\n                            </li>\r\n                            <li>\r\n                              <a\r\n                                href=\"/other#kemenag\"\r\n                                class=\"flex gap-3 items-start group/item\"\r\n                              >\r\n                                <div class=\"flex justify-center items-center w-8 h-8 text-emerald-600 bg-emerald-50 rounded-lg transition-colors shrink-0 group-hover/item:bg-emerald-600 group-hover/item:text-white\">\r\n                                  <svg\r\n                                    class=\"w-4 h-4\"\r\n                                    fill=\"none\"\r\n                                    stroke=\"currentColor\"\r\n                                    viewBox=\"0 0 24 24\"\r\n                                  >\r\n                                    <path\r\n                                      stroke-linecap=\"round\"\r\n                                      stroke-linejoin=\"round\"\r\n                                      stroke-width=\"2\"\r\n                                      d=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\"\r\n                                    />\r\n                                  </svg>\r\n                                </div>\r\n                                <div>\r\n                                  <div class=\"text-sm font-bold text-slate-900\">\r\n                                    Layanan Kemenag\r\n                                  </div>\r\n                                  <div class=\"text-xs text-slate-500\">\r\n                                    SIMAS, Pesantren & Libur\r\n                                  </div>\r\n                                </div>\r\n                              </a>\r\n                            </li>\r\n                          </ul>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <a\r\n                    href=\"/playground\"\r\n                    class=\"px-4 py-1.5 font-medium text-white bg-emerald-600 rounded-lg shadow-sm transition-all hover:bg-emerald-700 hover:shadow-emerald-200\"\r\n                  >\r\n                    Playground\r\n                  </a>\r\n                </nav>\r\n\r\n                <div class=\"md:hidden\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onclick=\"document.getElementById('mobile-menu').classList.toggle('open')\"\r\n                    class=\"p-2 rounded-lg transition-all text-slate-600 hover:text-emerald-600 hover:bg-slate-100\"\r\n                  >\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      class=\"w-6 h-6\"\r\n                      fill=\"none\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      stroke=\"currentColor\"\r\n                    >\r\n                      <path\r\n                        stroke-linecap=\"round\"\r\n                        stroke-linejoin=\"round\"\r\n                        stroke-width=\"2\"\r\n                        d=\"M4 6h16M4 12h16M4 18h16\"\r\n                      />\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Mobile Menu Content */}\r\n            <div id=\"mobile-menu\" class=\"border-t md:hidden border-slate-100\">\r\n              <nav class=\"flex flex-col px-2 pb-4 space-y-1\">\r\n                <a\r\n                  href=\"/\"\r\n                  class=\"px-3 py-2 font-medium rounded-lg transition-all text-slate-600 hover:text-emerald-600 hover:bg-emerald-50\"\r\n                >\r\n                  Home\r\n                </a>\r\n\r\n                <div class=\"px-3 py-2 mt-2 text-xs font-bold tracking-wider uppercase text-slate-400\">\r\n                  Internal Services\r\n                </div>\r\n                <a\r\n                  href=\"/docs\"\r\n                  class=\"flex gap-2 items-center px-3 py-2 font-medium rounded-lg transition-all text-slate-600 hover:text-emerald-600 hover:bg-emerald-50\"\r\n                >\r\n                  <div class=\"w-1.5 h-1.5 bg-emerald-500 rounded-full\"></div>{\" \"}\r\n                  Al-Quran API\r\n                </a>\r\n                <a\r\n                  href=\"/other\"\r\n                  class=\"flex gap-2 items-center px-3 py-2 font-medium rounded-lg transition-all text-slate-600 hover:text-emerald-600 hover:bg-emerald-50\"\r\n                >\r\n                  <div class=\"w-1.5 h-1.5 bg-blue-500 rounded-full\"></div> Other\r\n                  APIs\r\n                </a>\r\n                <a\r\n                  href=\"/status\"\r\n                  class=\"flex gap-2 items-center px-3 py-2 font-medium rounded-lg transition-all text-slate-600 hover:text-emerald-600 hover:bg-emerald-50\"\r\n                >\r\n                  <div class=\"w-1.5 h-1.5 bg-amber-500 rounded-full\"></div>{\" \"}\r\n                  System Status\r\n                </a>\r\n\r\n                <div class=\"px-3 py-2 mt-2 text-xs font-bold tracking-wider uppercase text-slate-400\">\r\n                  External Resources\r\n                </div>\r\n                <a\r\n                  href=\"https://quran.kemenag.go.id/\"\r\n                  target=\"_blank\"\r\n                  class=\"px-3 py-2 font-medium rounded-lg transition-all text-slate-600 hover:text-emerald-600 hover:bg-emerald-50\"\r\n                >\r\n                  Quran Kemenag\r\n                </a>\r\n                <a\r\n                  href=\"https://github.com/vrush2000/muslim-all-in-one-api\"\r\n                  target=\"_blank\"\r\n                  class=\"px-3 py-2 font-medium rounded-lg transition-all text-slate-600 hover:text-emerald-600 hover:bg-emerald-50\"\r\n                >\r\n                  GitHub Repository\r\n                </a>\r\n\r\n                <a\r\n                  href=\"/playground\"\r\n                  class=\"px-3 py-2.5 mt-4 font-bold text-center text-white bg-emerald-600 rounded-xl shadow-lg transition-all shadow-emerald-100\"\r\n                >\r\n                  Open Playground\r\n                </a>\r\n              </nav>\r\n            </div>\r\n          </div>\r\n        </header>\r\n\r\n        <main class=\"flex-grow\">{children}</main>\r\n\r\n        {/* Global API Preview Modal */}\r\n        <div id=\"api-preview-modal\" class=\"fixed inset-0 z-[200] hidden\">\r\n          <div\r\n            class=\"absolute inset-0 backdrop-blur-sm bg-slate-900/60\"\r\n            onclick=\"window.closeApiModal()\"\r\n          ></div>\r\n          <div class=\"flex absolute inset-0 justify-center items-center p-2 pointer-events-none sm:p-4\">\r\n            <div class=\"bg-white w-full max-w-4xl h-full sm:h-auto sm:max-h-[90vh] rounded-xl sm:rounded-2xl shadow-2xl flex flex-col pointer-events-auto overflow-hidden border border-slate-200\">\r\n              {/* Header */}\r\n              <div class=\"flex justify-between items-center px-4 py-3 border-b sm:px-6 sm:py-4 border-slate-100 bg-slate-50/50 shrink-0\">\r\n                <div class=\"flex overflow-hidden gap-2 items-center sm:gap-3\">\r\n                  <div class=\"flex justify-center items-center w-8 h-8 text-emerald-600 bg-emerald-100 rounded-lg sm:w-10 sm:h-10 sm:rounded-xl shrink-0\">\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      class=\"w-5 h-5 sm:h-6 sm:w-6\"\r\n                      fill=\"none\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      stroke=\"currentColor\"\r\n                    >\r\n                      <path\r\n                        stroke-linecap=\"round\"\r\n                        stroke-linejoin=\"round\"\r\n                        stroke-width=\"2\"\r\n                        d=\"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z\"\r\n                      />\r\n                      <path\r\n                        stroke-linecap=\"round\"\r\n                        stroke-linejoin=\"round\"\r\n                        stroke-width=\"2\"\r\n                        d=\"M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                      />\r\n                    </svg>\r\n                  </div>\r\n                  <div class=\"overflow-hidden\">\r\n                    <h3 class=\"text-sm font-bold truncate sm:text-lg text-slate-900\">\r\n                      API Response Preview\r\n                    </h3>\r\n                    <p\r\n                      id=\"modal-endpoint-url\"\r\n                      class=\"text-[10px] sm:text-xs text-slate-500 font-mono mt-0.5 truncate max-w-[150px] sm:max-w-md md:max-w-xl\"\r\n                    ></p>\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  onclick=\"window.closeApiModal()\"\r\n                  class=\"p-1.5 rounded-lg transition-all sm:p-2 text-slate-400 hover:text-slate-600 hover:bg-slate-100 shrink-0\"\r\n                >\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    class=\"w-5 h-5 sm:h-6 sm:w-6\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                  >\r\n                    <path\r\n                      stroke-linecap=\"round\"\r\n                      stroke-linejoin=\"round\"\r\n                      stroke-width=\"2\"\r\n                      d=\"M6 18L18 6M6 6l12 12\"\r\n                    />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n\r\n              {/* Body */}\r\n              <div class=\"flex overflow-hidden flex-col flex-grow gap-3 p-4 sm:p-6 sm:gap-4\">\r\n                <div class=\"flex flex-col gap-3 justify-between sm:flex-row sm:items-center shrink-0\">\r\n                  <div class=\"flex gap-3 items-center\">\r\n                    <span class=\"inline-flex items-center px-2 py-0.5 rounded-md text-[10px] sm:text-xs font-bold bg-emerald-100 text-emerald-800 uppercase tracking-wider\">\r\n                      GET\r\n                    </span>\r\n                    <span\r\n                      id=\"modal-status-badge\"\r\n                      class=\"hidden inline-flex items-center px-2 py-0.5 rounded-md text-[10px] sm:text-xs font-bold uppercase tracking-wider\"\r\n                    ></span>\r\n                  </div>\r\n                  <div class=\"flex gap-2 items-center\">\r\n                    <button\r\n                      onclick=\"window.copyModalResponse()\"\r\n                      class=\"flex-1 sm:flex-none flex items-center justify-center gap-2 px-3 py-1.5 text-[11px] sm:text-sm font-medium text-slate-600 hover:text-emerald-600 hover:bg-emerald-50 border border-slate-200 sm:border-transparent rounded-lg transition-all\"\r\n                    >\r\n                      <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        class=\"w-3.5 h-3.5 sm:h-4 sm:w-4\"\r\n                        fill=\"none\"\r\n                        viewBox=\"0 0 24 24\"\r\n                        stroke=\"currentColor\"\r\n                      >\r\n                        <path\r\n                          stroke-linecap=\"round\"\r\n                          stroke-linejoin=\"round\"\r\n                          stroke-width=\"2\"\r\n                          d=\"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3\"\r\n                        />\r\n                      </svg>\r\n                      Copy JSON\r\n                    </button>\r\n                    <a\r\n                      id=\"modal-full-playground\"\r\n                      href=\"#\"\r\n                      class=\"flex-1 sm:flex-none flex items-center justify-center gap-2 px-3 py-1.5 text-[11px] sm:text-sm font-medium text-emerald-600 hover:bg-emerald-50 border border-emerald-100 sm:border-transparent rounded-lg transition-all\"\r\n                    >\r\n                      Playground\r\n                      <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        class=\"w-3.5 h-3.5 sm:h-4 sm:w-4\"\r\n                        fill=\"none\"\r\n                        viewBox=\"0 0 24 24\"\r\n                        stroke=\"currentColor\"\r\n                      >\r\n                        <path\r\n                          stroke-linecap=\"round\"\r\n                          stroke-linejoin=\"round\"\r\n                          stroke-width=\"2\"\r\n                          d=\"M13 7l5 5m0 0l-5 5m5-5H6\"\r\n                        />\r\n                      </svg>\r\n                    </a>\r\n                  </div>\r\n                </div>\r\n                <div class=\"flex-grow overflow-hidden relative custom-scrollbar flex flex-col bg-[#0f172a] rounded-lg sm:rounded-xl border border-slate-700\">\r\n                  <pre\r\n                    id=\"modal-json-pure\"\r\n                    class=\"flex-grow h-full w-full p-4 sm:p-6 text-emerald-400 font-mono text-[11px] sm:text-sm overflow-auto custom-scrollbar whitespace-pre\"\r\n                  ></pre>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Footer */}\r\n              <div class=\"flex px-4 py-3 border-t sm:px-6 sm:py-4 border-slate-100 bg-slate-50/50 shrink-0\">\r\n                <button\r\n                  onclick=\"window.closeApiModal()\"\r\n                  class=\"px-6 py-2 w-full font-bold text-white rounded-lg shadow-lg transition-all sm:w-auto sm:ml-auto bg-slate-900 sm:rounded-xl hover:bg-slate-800 shadow-slate-200\"\r\n                >\r\n                  Close Preview\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <script\r\n          dangerouslySetInnerHTML={{\r\n            __html: `\r\n          let modalJsonData = null;\r\n          \r\n          window.openApiModal = async function(category, endpointId, url) {\r\n            const modal = document.getElementById('api-preview-modal');\r\n            const jsonDisplay = document.getElementById('modal-json-pure');\r\n            const urlDisplay = document.getElementById('modal-endpoint-url');\r\n            const playgroundLink = document.getElementById('modal-full-playground');\r\n            const statusBadge = document.getElementById('modal-status-badge');\r\n            \r\n            modal.classList.remove('hidden');\r\n            document.body.style.overflow = 'hidden';\r\n            \r\n            urlDisplay.textContent = url;\r\n            playgroundLink.href = '/playground?category=' + category + '&endpoint=' + endpointId;\r\n            \r\n            jsonDisplay.textContent = 'Loading response...';\r\n            statusBadge.classList.add('hidden');\r\n            \r\n            try {\r\n              const start = performance.now();\r\n              const response = await fetch(url);\r\n              const data = await response.json();\r\n              const end = performance.now();\r\n              \r\n              modalJsonData = data;\r\n              jsonDisplay.textContent = JSON.stringify(data, null, 2);\r\n              \r\n              statusBadge.textContent = response.status + ' ' + response.statusText + ' (' + Math.round(end - start) + 'ms)';\r\n              statusBadge.className = 'inline-flex items-center px-2.5 py-0.5 text-xs font-medium rounded-full' + \r\n                (response.ok ? 'bg-blue-100 text-blue-800' : 'bg-red-100 text-red-800');\r\n              statusBadge.classList.remove('hidden');\r\n            } catch (error) {\r\n              jsonDisplay.textContent = JSON.stringify({ error: 'Failed to fetch API', details: error.message }, null, 2);\r\n              statusBadge.textContent = 'Error';\r\n              statusBadge.className = 'inline-flex items-center px-2.5 py-0.5 text-xs font-medium text-red-800 bg-red-100 rounded-full';\r\n              statusBadge.classList.remove('hidden');\r\n            }\r\n          };\r\n          \r\n          window.closeApiModal = function() {\r\n            const modal = document.getElementById('api-preview-modal');\r\n            modal.classList.add('hidden');\r\n            document.body.style.overflow = '';\r\n          };\r\n          \r\n          window.copyModalResponse = function() {\r\n            if (modalJsonData) {\r\n              const json = JSON.stringify(modalJsonData, null, 2);\r\n              navigator.clipboard.writeText(json).then(() => {\r\n                const btn = event.currentTarget;\r\n                const originalText = btn.innerHTML;\r\n                btn.innerHTML = '<svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" /></svg> Copied!';\r\n                setTimeout(() => btn.innerHTML = originalText, 2000);\r\n              });\r\n            }\r\n          };\r\n          \r\n          // Close modal on ESC key\r\n          document.addEventListener('keydown', (e) => {\r\n            if (e.key === 'Escape') {\r\n              window.closeApiModal();\r\n              window.closeDonationModal();\r\n            }\r\n          });\r\n\r\n          window.openDonationModal = function() {\r\n            const modal = document.getElementById('donation-modal');\r\n            modal.classList.remove('hidden');\r\n            document.body.style.overflow = 'hidden';\r\n            window.resetDonationModal();\r\n          };\r\n\r\n          window.closeDonationModal = function() {\r\n            const modal = document.getElementById('donation-modal');\r\n            modal.classList.add('hidden');\r\n            document.body.style.overflow = '';\r\n          };\r\n\r\n          window.resetDonationModal = function() {\r\n            document.getElementById('qris-display-section').classList.add('hidden');\r\n            document.getElementById('donation-options-section').classList.remove('hidden');\r\n            document.getElementById('custom-amount').value = '';\r\n            document.getElementById('qris-image').src = '';\r\n          };\r\n\r\n          window.selectPreset = function(amount) {\r\n            document.getElementById('custom-amount').value = amount;\r\n            window.generateDonationQR();\r\n          };\r\n\r\n          window.generateDonationQR = async function() {\r\n            const amount = document.getElementById('custom-amount').value;\r\n            if (!amount || amount < 1000) {\r\n              alert('Pilih atau masukan nominal donasi');\r\n              return;\r\n            }\r\n\r\n            const generateBtn = document.getElementById('generate-qris-btn');\r\n            const originalText = generateBtn.innerHTML;\r\n            generateBtn.disabled = true;\r\n            generateBtn.innerHTML = 'Generating...';\r\n\r\n            try {\r\n              const response = await fetch(\"/api/qris/generate?amount=\" + amount);\r\n              const result = await response.json();\r\n\r\n              if (result.status === 200) {\r\n                document.getElementById('donation-options-section').classList.add('hidden');\r\n                document.getElementById('qris-display-section').classList.remove('hidden');\r\n                document.getElementById('qris-image').src = result.data.qr_image;\r\n                document.getElementById('display-amount').textContent = new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', minimumFractionDigits: 0 }).format(amount);\r\n              } else {\r\n                alert('Gagal generate QRIS: ' + result.message);\r\n              }\r\n            } catch (error) {\r\n              alert('Terjadi kesalahan: ' + error.message);\r\n            } finally {\r\n              generateBtn.disabled = false;\r\n              generateBtn.innerHTML = originalText;\r\n            }\r\n          };\r\n        `,\r\n\r\n          }}\r\n        />\r\n\r\n        <footer class=\"py-12 mt-12 bg-white border-t border-slate-200\">\r\n          <div class=\"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8\">\r\n            <div class=\"grid grid-cols-1 gap-8 md:grid-cols-4 lg:grid-cols-4\">\r\n              <div class=\"col-span-1 md:col-span-1\">\r\n                <div class=\"flex gap-2 items-center mb-4\">\r\n                  <div class=\"flex justify-center items-center w-6 h-6 bg-emerald-600 rounded\">\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      class=\"w-4 h-4 text-white\"\r\n                      fill=\"none\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      stroke=\"currentColor\"\r\n                    >\r\n                      <path\r\n                        stroke-linecap=\"round\"\r\n                        stroke-linejoin=\"round\"\r\n                        stroke-width=\"2\"\r\n                        d=\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\"\r\n                      />\r\n                    </svg>\r\n                  </div>\r\n                  <span class=\"text-lg font-bold\">Muslim API</span>\r\n                </div>\r\n                <p class=\"mb-4 text-sm leading-relaxed text-slate-500\">\r\n                  Penyedia layanan API Muslim gratis untuk mempermudah\r\n                  pengembang dalam membangun aplikasi islami.\r\n                </p>\r\n                <div class=\"flex gap-3 items-center\">\r\n                  <a\r\n                    href=\"https://github.com/vrush2000/muslim-all-in-one-api\"\r\n                    target=\"_blank\"\r\n                    class=\"p-2 rounded-lg transition-all bg-slate-100 hover:bg-emerald-100 text-slate-600 hover:text-emerald-600\"\r\n                    title=\"GitHub Repository\"\r\n                  >\r\n                    <svg\r\n                      class=\"w-5 h-5\"\r\n                      fill=\"currentColor\"\r\n                      viewBox=\"0 0 24 24\"\r\n                    >\r\n                      <path d=\"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z\" />\r\n                    </svg>\r\n                  </a>\r\n                  <a\r\n                    href=\"/status\"\r\n                    class=\"p-2 rounded-lg transition-all bg-slate-100 hover:bg-emerald-100 text-slate-600 hover:text-emerald-600\"\r\n                    title=\"System Status\"\r\n                  >\r\n                    <svg\r\n                      class=\"w-5 h-5\"\r\n                      fill=\"none\"\r\n                      stroke=\"currentColor\"\r\n                      viewBox=\"0 0 24 24\"\r\n                    >\r\n                      <path\r\n                        stroke-linecap=\"round\"\r\n                        stroke-linejoin=\"round\"\r\n                        stroke-width=\"2\"\r\n                        d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\r\n                      />\r\n                    </svg>\r\n                  </a>\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <h4 class=\"mb-4 font-semibold text-slate-900\">\r\n                  API Documentation\r\n                </h4>\r\n                <ul class=\"space-y-2 text-sm text-slate-500\">\r\n                  <li>\r\n                    <a href=\"/docs\" class=\"hover:text-emerald-600\">\r\n                      Al-Quran API\r\n                    </a>\r\n                  </li>\r\n                  <li>\r\n                    <a href=\"/other#hadits\" class=\"hover:text-emerald-600\">\r\n                      Hadits & Doa\r\n                    </a>\r\n                  </li>\r\n                  <li>\r\n                    <a href=\"/other#sholat\" class=\"hover:text-emerald-600\">\r\n                      Jadwal Sholat\r\n                    </a>\r\n                  </li>\r\n                  <li>\r\n                    <a href=\"/other#kemenag\" class=\"hover:text-emerald-600\">\r\n                      Kemenag Data\r\n                    </a>\r\n                  </li>\r\n                  <li>\r\n                    <a href=\"/other#sejarah\" class=\"hover:text-emerald-600\">\r\n                      Sejarah Islam\r\n                    </a>\r\n                  </li>\r\n                  <li>\r\n                    <a\r\n                      href=\"/playground\"\r\n                      class=\"font-semibold text-emerald-600 hover:underline\"\r\n                    >\r\n                      API Playground\r\n                    </a>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n              <div>\r\n                <h4 class=\"mb-4 font-semibold text-slate-900\">\r\n                  Official Sources\r\n                </h4>\r\n                <ul class=\"space-y-2 text-sm text-slate-500\">\r\n                  <li>\r\n                    <a\r\n                      href=\"https://quran.kemenag.go.id/\"\r\n                      target=\"_blank\"\r\n                      class=\"flex gap-1 items-center hover:text-emerald-600\"\r\n                    >\r\n                      Quran Kemenag{\" \"}\r\n                      <svg\r\n                        class=\"w-3 h-3\"\r\n                        fill=\"none\"\r\n                        stroke=\"currentColor\"\r\n                        viewBox=\"0 0 24 24\"\r\n                      >\r\n                        <path d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\" />\r\n                      </svg>\r\n                    </a>\r\n                  </li>\r\n                  <li>\r\n                    <a\r\n                      href=\"https://equran.id/\"\r\n                      target=\"_blank\"\r\n                      class=\"hover:text-emerald-600\"\r\n                    >\r\n                      equran.id (Audio)\r\n                    </a>\r\n                  </li>\r\n                  <li>\r\n                    <a\r\n                      href=\"https://api.myquran.com/\"\r\n                      target=\"_blank\"\r\n                      class=\"hover:text-emerald-600\"\r\n                    >\r\n                      MyQuran API (Jadwal Sholat)\r\n                    </a>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n              <div>\r\n                <h4 class=\"mb-4 font-semibold text-slate-900\">\r\n                  Community Repos\r\n                </h4>\r\n                <ul class=\"space-y-2 text-sm text-slate-500\">\r\n                  <li>\r\n                    <a\r\n                      href=\"https://github.com/Otangid/muslim-api\"\r\n                      target=\"_blank\"\r\n                      class=\"hover:text-emerald-600\"\r\n                    >\r\n                      Dataset keislaman\r\n                    </a>\r\n                  </li>\r\n                  <li>\r\n                    <a\r\n                      href=\"https://github.com/nasrul21/data-pesantren-indonesia\"\r\n                      target=\"_blank\"\r\n                      class=\"hover:text-emerald-600\"\r\n                    >\r\n                      Data Pesantren\r\n                    </a>\r\n                  </li>\r\n                  <li>\r\n                    <a\r\n                      href=\"https://github.com/kresnasatya/api-harilibur\"\r\n                      target=\"_blank\"\r\n                      class=\"hover:text-emerald-600\"\r\n                    >\r\n                      Libur Nasional\r\n                    </a>\r\n                  </li>\r\n                  <li>\r\n                    <a\r\n                      href=\"https://github.com/gadingnst/hadith-api\"\r\n                      target=\"_blank\"\r\n                      class=\"hover:text-emerald-600\"\r\n                    >\r\n                      Koleksi Hadith\r\n                    </a>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n              <div>\r\n                <h4 class=\"mb-4 font-semibold text-slate-900\">Inspiration</h4>\r\n                <p class=\"text-sm leading-relaxed text-slate-500\">\r\n                  Original template by{\" \"}\r\n                  <a\r\n                    href=\"http://www.designstub.com/\"\r\n                    target=\"_blank\"\r\n                    class=\"hover:text-emerald-600\"\r\n                  >\r\n                    Designstub\r\n                  </a>\r\n                </p>\r\n              </div>\r\n              <div>\r\n                <h4 class=\"mb-4 font-semibold text-slate-900\">Support Project</h4>\r\n                <div\r\n                  onclick=\"window.openDonationModal()\"\r\n                  class=\"flex gap-3 items-center p-3 mb-3 w-full bg-gradient-to-br from-emerald-50 to-teal-50 rounded-xl border border-emerald-100 shadow-sm transition-all cursor-pointer group hover:border-emerald-300 hover:shadow-md\"\r\n                >\r\n                  <div class=\"flex justify-center items-center w-10 h-10 text-white bg-emerald-600 rounded-lg shadow-lg transition-transform shadow-emerald-200 group-hover:scale-110\">\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      class=\"w-6 h-6\"\r\n                      fill=\"none\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      stroke=\"currentColor\"\r\n                    >\r\n                      <path\r\n                        stroke-linecap=\"round\"\r\n                        stroke-linejoin=\"round\"\r\n                        stroke-width=\"2\"\r\n                        d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                      />\r\n                    </svg>\r\n                  </div>\r\n                  <div class=\"text-left\">\r\n                    <div class=\"text-[10px] text-emerald-600 font-medium\">\r\n                      Donasi via QRIS\r\n                    </div>\r\n                    <div class=\"text-xs font-bold text-slate-900\">\r\n                      Support Developer\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                {/* <a\r\n                  href=\"https://github.com/vrush2000/muslim-all-in-one-api\"\r\n                  target=\"_blank\"\r\n                  class=\"flex gap-3 items-center p-3 w-full bg-gradient-to-br from-emerald-50 to-teal-50 rounded-xl border border-emerald-100 shadow-sm transition-all cursor-pointer group hover:border-emerald-300 hover:shadow-md\"\r\n                >\r\n                  <div class=\"flex justify-center items-center w-10 h-10 text-white bg-emerald-600 rounded-lg shadow-lg transition-transform shadow-emerald-200 group-hover:scale-110\">\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      class=\"w-6 h-6\"\r\n                      fill=\"none\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      stroke=\"currentColor\"\r\n                    >\r\n                      <path\r\n                        stroke-linecap=\"round\"\r\n                        stroke-linejoin=\"round\"\r\n                        stroke-width=\"2\"\r\n                        d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\r\n                      />\r\n                    </svg>\r\n                  </div>\r\n                  <div class=\"text-left\">\r\n                    <div class=\"text-[10px] text-emerald-600 font-medium\">\r\n                      Star on GitHub\r\n                    </div>\r\n                  </div>\r\n                </a> */}\r\n              </div>\r\n            </div>\r\n            <div class=\"pt-8 mt-12 text-center border-t border-slate-100\">\r\n              <p class=\"mb-4 text-sm text-slate-500\">\r\n                Dikembangkan dengan \u2764\uFE0F untuk Ummat.\r\n              </p>\r\n              <p class=\"text-xs text-slate-400\">\r\n                \u00A9 {new Date().getFullYear()} Muslim All-in-One API. Created by\r\n                Vrush Studio.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </footer>\r\n\r\n        {/* Donation Modal */}\r\n        <div\r\n          id=\"donation-modal\"\r\n          class=\"fixed inset-0 z-[100] hidden overflow-y-auto\"\r\n          aria-labelledby=\"modal-title\"\r\n          role=\"dialog\"\r\n          aria-modal=\"true\"\r\n        >\r\n          <div class=\"flex justify-center items-center px-4 pt-4 pb-20 min-h-screen text-center sm:block sm:p-0\">\r\n            <div\r\n              class=\"fixed inset-0 backdrop-blur-sm transition-opacity bg-slate-900/60\"\r\n              onclick=\"window.closeDonationModal()\"\r\n              style=\"z-index: -1;\"\r\n            ></div>\r\n\r\n            <span\r\n              class=\"hidden sm:inline-block sm:align-middle sm:h-screen\"\r\n              aria-hidden=\"true\"\r\n            >\r\n              &#8203;\r\n            </span>\r\n\r\n            <div class=\"inline-block overflow-hidden relative z-10 text-left align-bottom bg-white rounded-3xl border shadow-2xl transition-all transform sm:my-8 sm:align-middle sm:max-w-md sm:w-full border-slate-100\">\r\n              {/* Header */}\r\n              <div class=\"flex relative z-20 justify-between items-center px-6 py-4 bg-gradient-to-r from-emerald-600 to-teal-600\">\r\n                <div class=\"flex gap-3 items-center text-white\">\r\n                  <div class=\"p-2 rounded-lg backdrop-blur-md bg-white/20\">\r\n                    <svg\r\n                      xmlns=\"http://www.w3.org/2000/svg\"\r\n                      class=\"w-5 h-5\"\r\n                      fill=\"none\"\r\n                      viewBox=\"0 0 24 24\"\r\n                      stroke=\"currentColor\"\r\n                    >\r\n                      <path\r\n                        stroke-linecap=\"round\"\r\n                        stroke-linejoin=\"round\"\r\n                        stroke-width=\"2\"\r\n                        d=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\r\n                      />\r\n                    </svg>\r\n                  </div>\r\n                  <h3 class=\"text-lg font-bold leading-6\" id=\"modal-title\">\r\n                    Dukung Muslim API\r\n                  </h3>\r\n                </div>\r\n                <button\r\n                  onclick=\"window.closeDonationModal()\"\r\n                  class=\"transition-colors text-white/80 hover:text-white\"\r\n                >\r\n                  <svg\r\n                    class=\"w-6 h-6\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                  >\r\n                    <path\r\n                      stroke-linecap=\"round\"\r\n                      stroke-linejoin=\"round\"\r\n                      stroke-width=\"2\"\r\n                      d=\"M6 18L18 6M6 6l12 12\"\r\n                    />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n\r\n              {/* Content */}\r\n              <div class=\"px-6 py-6\">\r\n                <div id=\"donation-options-section\">\r\n                  <p class=\"mb-6 text-sm text-center text-slate-600\">\r\n                    Pilih atau masukkan nominal donasi untuk mendukung pengembangan Muslim API.\r\n                  </p>\r\n\r\n                  <div class=\"grid grid-cols-3 gap-3 mb-6\">\r\n                    {[5000, 10000, 20000, 50000, 100000, 250000].map((amount) => (\r\n                      <button\r\n                        onclick={`window.selectPreset(${amount})`}\r\n                        class=\"relative z-20 px-2 py-3 text-sm font-bold rounded-xl border transition-all preset-btn bg-slate-50 border-slate-200 text-slate-700 hover:border-emerald-500 hover:bg-emerald-50 focus:outline-none focus:ring-2 focus:ring-emerald-500/20\"\r\n                      >\r\n                        {new Intl.NumberFormat('id-ID', { style: 'currency', currency: 'IDR', minimumFractionDigits: 0 }).format(amount)}\r\n                      </button>\r\n                    ))}\r\n                  </div>\r\n\r\n                  <div class=\"relative z-20 mb-6\">\r\n                    <div class=\"flex absolute inset-y-0 left-0 items-center pl-4 pointer-events-none\">\r\n                      <span class=\"font-bold text-slate-400\">Rp</span>\r\n                    </div>\r\n                    <input\r\n                      type=\"number\"\r\n                      id=\"custom-amount\"\r\n                      class=\"block py-4 pr-4 pl-12 w-full text-lg font-bold rounded-2xl border transition-all bg-slate-50 border-slate-200 placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500\"\r\n                      placeholder=\"Nominal lainnya...\"\r\n                    />\r\n                  </div>\r\n\r\n                  <button\r\n                    id=\"generate-qris-btn\"\r\n                    onclick=\"window.generateDonationQR()\"\r\n                    class=\"flex relative z-20 gap-2 justify-center items-center py-4 w-full font-bold text-white rounded-2xl shadow-xl transition-all bg-slate-900 hover:bg-slate-800 shadow-slate-200\"\r\n                  >\r\n                    Generate QRIS\r\n                  </button>\r\n                </div>\r\n\r\n                <div id=\"qris-display-section\" class=\"hidden text-center\">\r\n                  <div class=\"mb-4\">\r\n                    <div id=\"display-amount\" class=\"text-2xl font-black text-slate-800\">Rp 0</div>\r\n                    <div class=\"text-xs font-medium text-slate-400\">Scan QRIS untuk membayar</div>\r\n                    <div class=\"text-xs font-medium text-slate-400\">dan akan diarahkan ke Hariistimewa.com - DANA</div>\r\n                  </div>\r\n\r\n                  <div class=\"inline-block p-4 mb-6 bg-white rounded-2xl border-2 shadow-sm border-slate-100\">\r\n                    <img id=\"qris-image\" src=\"\" alt=\"QRIS\" class=\"w-64 h-64\" />\r\n                  </div>\r\n\r\n                  <div class=\"p-4 mb-6 text-left rounded-xl bg-slate-50\">\r\n                    <div class=\"flex gap-3 items-start\">\r\n                      <div class=\"w-5 h-5 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center flex-shrink-0 text-[10px] font-bold\">1</div>\r\n                      <p class=\"text-xs text-slate-600\">Buka aplikasi pembayaran (Gopay, OVO, Dana, LinkAja, atau Mobile Banking).</p>\r\n                    </div>\r\n                    <div class=\"flex gap-3 items-start mt-3\">\r\n                      <div class=\"w-5 h-5 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center flex-shrink-0 text-[10px] font-bold\">2</div>\r\n                      <p class=\"text-xs text-slate-600\">Pilih menu <b>Scan/Bayar</b> lalu arahkan kamera ke QR Code di atas.</p>\r\n                    </div>\r\n                    <div class=\"flex gap-3 items-start mt-3\">\r\n                      <div class=\"w-5 h-5 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center flex-shrink-0 text-[10px] font-bold\">3</div>\r\n                      <p class=\"text-xs text-slate-600\">Pastikan nominal sesuai dan selesaikan pembayaran.</p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <button\r\n                    onclick=\"window.resetDonationModal()\"\r\n                    class=\"text-sm font-bold text-emerald-600 hover:underline\"\r\n                  >\r\n                    Ganti Nominal\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <script dangerouslySetInnerHTML={{ __html: `\r\n          window.openDonationModal = function() {\r\n            document.getElementById('donation-modal').classList.remove('hidden');\r\n            document.body.style.overflow = 'hidden';\r\n          }\r\n\r\n          window.closeDonationModal = function() {\r\n            document.getElementById('donation-modal').classList.add('hidden');\r\n            document.body.style.overflow = 'auto';\r\n            window.resetDonationModal();\r\n          }\r\n\r\n          window.selectPreset = function(amount) {\r\n            const input = document.getElementById('custom-amount');\r\n            input.value = amount;\r\n            \r\n            // Highlight selected preset\r\n            document.querySelectorAll('.preset-btn').forEach(btn => {\r\n              btn.classList.remove('border-emerald-500', 'bg-emerald-50', 'ring-2', 'ring-emerald-500/20');\r\n            });\r\n            \r\n            event.currentTarget.classList.add('border-emerald-500', 'bg-emerald-50', 'ring-2', 'ring-emerald-500/20');\r\n          }\r\n\r\n          window.generateDonationQR = async function() {\r\n            const amountInput = document.getElementById('custom-amount');\r\n            const amount = parseInt(amountInput.value);\r\n            const btn = document.getElementById('generate-qris-btn');\r\n            \r\n            if (!amount || amount < 1000) {\r\n              alert('Pilh atau masukkan nominal donasi');\r\n              return;\r\n            }\r\n\r\n            btn.disabled = true;\r\n            btn.innerHTML = '<svg class=\"w-5 h-5 text-white animate-spin\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\"><circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle><path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path></svg> Generating...';\r\n\r\n            try {\r\n              const response = await fetch('/api/qris/generate?amount=' + amount);\r\n              const result = await response.json();\r\n\r\n              if (result.status === 200) {\r\n                document.getElementById('donation-options-section').classList.add('hidden');\r\n                document.getElementById('qris-display-section').classList.remove('hidden');\r\n                \r\n                document.getElementById('display-amount').innerText = new Intl.NumberFormat(\\'id-ID\\', { \r\n                  style: \\'currency\\', \r\n                  currency: \\'IDR\\', \r\n                  minimumFractionDigits: 0 \r\n                }).format(amount);\r\n                \r\n                document.getElementById(\\'qris-image\\').src = result.data.qr_image;\r\n              } else {\r\n                alert(\\'Gagal generate QRIS: \\' + result.message);\r\n              }\r\n            } catch (error) {\r\n              console.error(\\'Error:\\', error);\r\n              alert(\\'Terjadi kesalahan saat generate QRIS\\');\r\n            } finally {\r\n              btn.disabled = false;\r\n              btn.innerHTML = \\'Generate QRIS\\';\r\n            }\r\n          }\r\n\r\n          window.resetDonationModal = function() {\r\n            document.getElementById(\\'donation-options-section\\').classList.remove(\\'hidden\\');\r\n            document.getElementById(\\'qris-display-section\\').classList.add(\\'hidden\\');\r\n            document.getElementById(\\'custom-amount\\').value = \\'\\';\r\n            document.querySelectorAll(\\'.preset-btn\\').forEach(btn => {\r\n              btn.classList.remove(\\'border-emerald-500\\', \\'bg-emerald-50\\', \\'ring-2\\', \\'ring-emerald-500/20\\');\r\n            });\r\n          }\r\n\r\n          // Close on ESC\r\n          document.addEventListener(\\'keydown\\', function(e) {\r\n            if (e.key === \\'Escape\\') {\r\n              window.closeDonationModal();\r\n            }\r\n          });\r\n        ` }} />\r\n      </body>\r\n    </html>\r\n  );\r\n};\r\n", "/** @jsx jsx */\r\nimport { jsx } from 'hono/jsx'\r\n\r\nconst ApiEndpoint = ({ method, path, title, responseJson, category, endpointId }) => (\r\n  <div class=\"overflow-hidden mb-8 bg-white rounded-xl border shadow-sm transition-all duration-300 border-slate-200 hover:shadow-md\">\r\n    <div class=\"flex justify-between items-center px-6 py-4 border-b border-slate-100 bg-slate-50/50\">\r\n      <h4 class=\"font-semibold text-slate-900\">{title}</h4>\r\n      <div class=\"flex gap-2\">\r\n        <span class={`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider ${\r\n          method === 'GET' ? 'bg-emerald-100 text-emerald-700' : 'bg-blue-100 text-blue-700'\r\n        }`}>\r\n          {method}\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <div class=\"p-6\">\r\n      <div class=\"flex gap-2 items-center mb-6 group\">\r\n        <div class=\"flex flex-grow gap-2 items-center px-3 py-2 rounded-lg border transition-colors bg-slate-100 border-slate-200 group-hover:border-emerald-200\">\r\n          <code class=\"font-mono text-sm truncate text-slate-600\">{path}</code>\r\n        </div>\r\n        <div class=\"flex gap-2\">\r\n          <button \r\n            onclick={`window.openApiModal('${category}', '${endpointId}', '/v1${path}')`}\r\n            class=\"p-2 rounded-lg transition-all text-slate-400 hover:text-blue-600 hover:bg-blue-50\"\r\n            title=\"Try in Playground\"\r\n          >\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z\" />\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n            </svg>\r\n          </button>\r\n          <button \r\n            onclick={`navigator.clipboard.writeText(window.location.origin + '/v1${path}')`}\r\n            class=\"p-2 rounded-lg transition-all text-slate-400 hover:text-emerald-600 hover:bg-emerald-50\"\r\n            title=\"Copy URL\"\r\n          >\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m-3 8.5V11a.5.5 0 00-.5-.5H9.75a.5.5 0 00-.5.5v1.5a.5.5 0 00.5.5h.75a.5.5 0 00.5-.5z\" />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      \r\n      <div class=\"space-y-4\">\r\n        <details class=\"group\">\r\n          <summary class=\"flex gap-2 items-center text-sm font-medium list-none transition-colors cursor-pointer text-slate-500 hover:text-emerald-600\">\r\n            <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-4 h-4 transition-transform group-open:rotate-180\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\" />\r\n            </svg>\r\n            Example Response\r\n          </summary>\r\n          <div class=\"mt-4 duration-300 animate-in fade-in slide-in-from-top-2\">\r\n            <pre class=\"text-[11px] leading-relaxed shadow-inner\">\r\n              <code>{responseJson}</code>\r\n            </pre>\r\n          </div>\r\n        </details>\r\n      </div>\r\n    </div>\r\n  </div>\r\n)\r\n\r\nconst SectionTitle = ({ title, icon, id, color = \"emerald\" }) => (\r\n  <div id={id} class=\"flex gap-3 items-center mb-8 scroll-mt-24\">\r\n    <div class={`flex justify-center items-center w-10 h-10 rounded-lg shadow-lg bg-${color}-600 shadow-${color}-100`}>\r\n      <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-6 h-6 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d={icon} />\r\n      </svg>\r\n    </div>\r\n    <h2 class=\"text-2xl font-bold text-slate-900\">{title}</h2>\r\n  </div>\r\n)\r\n\r\nexport const Home = ({ baseUrl }) => {\r\n  return (\r\n    <div class=\"px-4 py-12 mx-auto max-w-7xl sm:px-6 lg:px-8\">\r\n      <div class=\"grid grid-cols-1 gap-12 lg:grid-cols-4\">\r\n        {/* Sidebar */}\r\n        <aside class=\"hidden sticky top-28 col-span-1 self-start lg:block\">\r\n          <div class=\"p-6 bg-white rounded-2xl border shadow-sm border-slate-200\">\r\n            <h3 class=\"px-3 mb-4 text-xs font-bold tracking-wider uppercase text-slate-400\">Menu</h3>\r\n            <nav class=\"space-y-1\">\r\n              {[\r\n                { name: 'Introduction', href: '#intro', icon: 'M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z' },\r\n                { name: 'Quran', href: '#quran', icon: 'M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253' },\r\n                { name: 'Integrity', href: '#integrity', icon: 'M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z' },\r\n                { name: 'FAQ', href: '#faq', icon: 'M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z' },\r\n              ].map((item, index) => (\r\n                <a \r\n                  key={index}\r\n                  href={item.href} \r\n                  class=\"flex gap-3 items-center px-3 py-2 text-sm font-medium rounded-lg transition-all text-slate-600 hover:text-emerald-600 hover:bg-emerald-50 group\"\r\n                >\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-4 h-4 transition-colors text-slate-400 group-hover:text-emerald-500\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d={item.icon} />\r\n                  </svg>\r\n                  {item.name}\r\n                </a>\r\n              ))}\r\n            </nav>\r\n          </div>\r\n        </aside>\r\n\r\n        {/* Content */}\r\n        <div class=\"col-span-1 lg:col-span-3\">\r\n          <section id=\"intro\" class=\"mb-20 scroll-mt-24\">\r\n            <div class=\"flex flex-wrap gap-3 mb-6\">\r\n              <div class=\"inline-flex gap-2 items-center px-3 py-1 text-xs font-bold text-emerald-700 bg-emerald-100 rounded-full\">\r\n                <span class=\"flex relative w-2 h-2\">\r\n                  <span class=\"inline-flex absolute w-full h-full bg-emerald-400 rounded-full opacity-75 animate-ping\"></span>\r\n                  <span class=\"inline-flex relative w-2 h-2 bg-emerald-500 rounded-full\"></span>\r\n                </span>\r\n                v1.0.0 Stable\r\n              </div>\r\n              <div class=\"inline-flex gap-2 items-center px-3 py-1 text-xs font-bold text-blue-700 bg-blue-100 rounded-full\">\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-3 h-3\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"3\" d=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04M12 2.944a11.955 11.955 0 01-8.618 3.04M12 2.944V12m0 9.472c-2.28 0-4.47-.636-6.342-1.742L12 12l6.342 7.73A11.955 11.955 0 0112 21.472z\" />\r\n                </svg>\r\n                Verified Data Source: Kemenag RI\r\n              </div>\r\n            </div>\r\n            <h1 class=\"mb-6 text-4xl font-extrabold tracking-tight md:text-5xl text-slate-900\">\r\n              Muslim <span class=\"block text-emerald-600 md:inline\">All-in-One API</span>\r\n            </h1>\r\n            <p class=\"mb-10 max-w-3xl text-xl leading-relaxed text-slate-600\">\r\n              Akses data keislaman terlengkap dengan performa tinggi. Dibangun untuk pengembang yang ingin membuat aplikasi islami.\r\n            </p>\r\n            \r\n            <div class=\"grid grid-cols-1 gap-6 mb-10 md:grid-cols-2\">\r\n              <div class=\"p-6 bg-white rounded-2xl border shadow-sm border-slate-200\">\r\n                <div class=\"flex justify-center items-center mb-4 w-10 h-10 text-emerald-600 bg-emerald-100 rounded-xl\">\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.828a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\" />\r\n                  </svg>\r\n                </div>\r\n                <h3 class=\"mb-2 font-bold text-slate-900\">Base URL</h3>\r\n                <div class=\"flex gap-2 justify-between items-center p-2 rounded-lg border bg-slate-50 border-slate-100 group\">\r\n                  <code class=\"font-mono text-sm font-bold text-emerald-600 truncate\">{baseUrl}</code>\r\n                  <button \r\n                    onclick={`navigator.clipboard.writeText('${baseUrl}')`}\r\n                    class=\"p-1.5 rounded-md transition-all text-slate-400 hover:text-emerald-600 hover:bg-emerald-50 shrink-0\"\r\n                    title=\"Copy Base URL\"\r\n                  >\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3\" />\r\n                    </svg>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div class=\"p-6 bg-white rounded-2xl border shadow-sm border-slate-200\">\r\n                <div class=\"flex justify-center items-center mb-4 w-10 h-10 text-blue-600 bg-blue-100 rounded-xl\">\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z\" />\r\n                  </svg>\r\n                </div>\r\n                <h3 class=\"mb-2 font-bold text-slate-900\">Format</h3>\r\n                <div class=\"flex gap-2 items-center p-2 rounded-lg border bg-slate-50 border-slate-100\">\r\n                  <code class=\"font-mono text-sm font-bold text-blue-600\">application/json</code>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </section>\r\n\r\n          <SectionTitle \r\n            id=\"quran\" \r\n            title=\"Al-Quran Indonesia\" \r\n            icon=\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\" \r\n          />\r\n          <ApiEndpoint \r\n            title=\"Daftar Surah\" \r\n            method=\"GET\" \r\n            path=\"/surah\" \r\n            category=\"quran\"\r\n            endpointId=\"list-surah\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan daftar surah.\",\r\n  \"data\": [\r\n    {\r\n      \"number\": \"1\",\r\n      \"name_id\": \"Al-Fatihah\",\r\n      \"name_short\": \"\u0627\u0644\u0641\u0627\u062A\u062D\u0629\",\r\n      \"number_of_verses\": \"7\",\r\n      \"revelation_id\": \"Makkiyyah\",\r\n      \"audio_full\": {...}\r\n    }\r\n  ]\r\n}`}\r\n          />\r\n          <ApiEndpoint \r\n            title=\"Detail Surah\" \r\n            method=\"GET\" \r\n            path=\"/surah?surahId=1\" \r\n            category=\"quran\"\r\n            endpointId=\"detail-surah\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan detail surah Al-Fatihah.\",\r\n  \"data\": {\r\n    \"number\": \"1\",\r\n    \"sequence\": \"5\",\r\n    \"number_of_verses\": \"7\",\r\n    \"name_short\": \"\u0627\u0644\u0641\u0627\u062A\u062D\u0629\",\r\n    \"name_long\": \"\u0633\u064F\u0648\u0631\u064E\u0629\u064F \u0671\u0644\u0652\u0641\u064E\u0627\u062A\u0650\u062D\u064E\u0629\u0650\",\r\n    \"name_en\": \"Al-Faatiha\",\r\n    \"name_id\": \"Al-Fatihah\",\r\n    \"translation_en\": \"The Opening\",\r\n    \"translation_id\": \"Pembukaan\",\r\n    \"revelation\": \"\u0645\u0643\u0629\",\r\n    \"revelation_en\": \"Meccan\",\r\n    \"revelation_id\": \"Makkiyyah\",\r\n    \"tafsir\": \"...\",\r\n    \"description\": \"...\",\r\n    \"audio_url\": \"...\",\r\n    \"audio_full\": {\r\n      \"01\": \"https://cdn.equran.id/audio-full/Abdullah-Al-Juhany/001.mp3\",\r\n      \"02\": \"https://cdn.equran.id/audio-full/Abdul-Muhsin-Al-Qasim/001.mp3\",\r\n      ...\r\n    }\r\n  }\r\n}`}\r\n          />\r\n          <ApiEndpoint \r\n            title=\"Tafsir Kemenag\" \r\n            method=\"GET\" \r\n            path=\"/tafsir?surahId=1\" \r\n            category=\"quran\"\r\n            endpointId=\"tafsir\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan tafsir surah 1.\",\r\n  \"data\": [\r\n    {\r\n      \"id\": \"1\",\r\n      \"ayah\": \"1\",\r\n      \"wajiz\": \"...\",\r\n      \"tahlili\": \"...\"\r\n    }\r\n  ]\r\n}`}\r\n          />\r\n          <SectionTitle \r\n            id=\"ayah\" \r\n            title=\"Ayat & Al-Quran\" \r\n            icon=\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\" \r\n            color=\"emerald\"\r\n          />\r\n          <ApiEndpoint \r\n            title=\"Ayat by Surah\" \r\n            method=\"GET\" \r\n            path=\"/ayah/surah?surahId=1\" \r\n            category=\"quran\"\r\n            endpointId=\"ayah-surah\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan daftar seluruh ayat surah 1.\",\r\n  \"data\": [\r\n    {\r\n      \"id\": \"1\",\r\n      \"surah\": \"1\",\r\n      \"ayah\": \"1\",\r\n      \"arab\": \"...\",\r\n      \"latin\": \"...\",\r\n      \"page\": \"1\",\r\n      \"juz\": \"1\",\r\n      \"hizb\": null,\r\n      \"asbab\": \"0\",\r\n      \"audio\": \"...\",\r\n      \"audio_partial\": {\r\n        \"01\": \"https://cdn.equran.id/audio-partial/Abdullah-Al-Juhany/001001.mp3\",\r\n        \"02\": \"https://cdn.equran.id/audio-partial/Abdul-Muhsin-Al-Qasim/001001.mp3\",\r\n        ...\r\n      },\r\n      \"theme\": null,\r\n      \"text\": \"...\",\r\n      \"notes\": null\r\n    }\r\n  ]\r\n}`}\r\n          />\r\n          <ApiEndpoint \r\n            title=\"Spesifik Ayat\" \r\n            method=\"GET\" \r\n            path=\"/ayah/specific?surahId=1&ayahId=1\" \r\n            category=\"quran\"\r\n            endpointId=\"ayah-specific\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan ayat 1 surah 1.\",\r\n  \"data\": {\r\n    \"id\": \"1\",\r\n    \"surah\": \"1\",\r\n    \"ayah\": \"1\",\r\n    \"arab\": \"...\",\r\n    \"latin\": \"...\",\r\n    \"page\": \"1\",\r\n    \"juz\": \"1\",\r\n    \"hizb\": null,\r\n    \"asbab\": \"0\",\r\n    \"audio\": \"...\",\r\n    \"audio_partial\": {\r\n      \"01\": \"https://cdn.equran.id/audio-partial/Abdullah-Al-Juhany/001001.mp3\",\r\n      ...\r\n    },\r\n    \"theme\": null,\r\n    \"text\": \"...\",\r\n    \"notes\": null\r\n  }\r\n}`}\r\n          />\r\n          <ApiEndpoint \r\n            title=\"Ayat by Juz\" \r\n            method=\"GET\" \r\n            path=\"/ayah/juz?juzId=30\" \r\n            category=\"quran\"\r\n            endpointId=\"ayah-juz\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan seluruh ayat pada juz 30.\",\r\n  \"data\": [...]\r\n}`}\r\n          />\r\n          <ApiEndpoint \r\n            title=\"Ayat by Page\" \r\n            method=\"GET\" \r\n            path=\"/ayah/page?page=604\" \r\n            category=\"quran\"\r\n            endpointId=\"ayah-page\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan seluruh ayat pada halaman 604.\",\r\n  \"data\": [...]\r\n}`}\r\n          />\r\n          <ApiEndpoint \r\n            title=\"Range Ayat\" \r\n            method=\"GET\" \r\n            path=\"/ayah/range?surahId=1&start=1&end=7\" \r\n            category=\"quran\"\r\n            endpointId=\"ayah-range\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan ayat surah 1 dari ayat 1 sampai 7.\",\r\n  \"data\": [...]\r\n}`}\r\n          />\r\n          <ApiEndpoint \r\n            title=\"Cari Ayat\" \r\n            method=\"GET\" \r\n            path=\"/ayah/find?query=puasa\" \r\n            category=\"quran\"\r\n            endpointId=\"ayah-find\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mencari ayat dengan kata kunci 'puasa'.\",\r\n  \"data\": [...]\r\n}`}\r\n          />\r\n          <ApiEndpoint \r\n            title=\"Juz Al-Quran\" \r\n            method=\"GET\" \r\n            path=\"/juz\" \r\n            category=\"quran\"\r\n            endpointId=\"juz-list\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan daftar juz.\",\r\n  \"data\": [\r\n    {\r\n      \"number\": \"1\",\r\n      \"name\": \"Juz 1\"\r\n    }\r\n  ]\r\n}`}\r\n          />\r\n          <ApiEndpoint \r\n            title=\"Detail Juz\" \r\n            method=\"GET\" \r\n            path=\"/juz?juzId=30\" \r\n            category=\"quran\"\r\n            endpointId=\"juz-detail\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan informasi juz 30.\",\r\n  \"data\": [...]\r\n}`}\r\n          />\r\n          <ApiEndpoint \r\n            title=\"Tema Al-Quran\" \r\n            method=\"GET\" \r\n            path=\"/theme\" \r\n            category=\"quran\"\r\n            endpointId=\"theme-list\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan daftar tema Al-Quran.\",\r\n  \"data\": [\r\n    {\r\n      \"id\": \"1\",\r\n      \"name\": \"Tiga Golongan Manusia...\"\r\n    }\r\n  ]\r\n}`}\r\n          />\r\n          <ApiEndpoint \r\n            title=\"Detail Tema\" \r\n            method=\"GET\" \r\n            path=\"/theme?themeId=1\" \r\n            category=\"quran\"\r\n            endpointId=\"theme-detail\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan ayat dengan tema 1.\",\r\n  \"data\": [...]\r\n}`}\r\n          />\r\n          <ApiEndpoint \r\n            title=\"Al-Quran Kata per Kata\" \r\n            method=\"GET\" \r\n            path=\"/word?surahId=1\" \r\n            category=\"quran\"\r\n            endpointId=\"word-ayah\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan data kata per kata surah 1.\",\r\n  \"data\": [\r\n    {\r\n      \"id\": \"id\",\r\n      \"surah\": \"1\",\r\n      \"ayah\": \"1\",\r\n      \"word\": \"1\",\r\n      \"arab\": \"\u0628\u0650\u0633\u0652\u0645\u0650\",\r\n      \"indo\": \"dengan nama\"\r\n    }\r\n  ]\r\n}`}\r\n          />\r\n          <ApiEndpoint \r\n            title=\"Word Spesifik Ayat\" \r\n            method=\"GET\" \r\n            path=\"/word?surahId=1&ayahId=1\" \r\n            category=\"quran\"\r\n            endpointId=\"word-ayah-specific\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan data kata per kata surah 1 ayat 1.\",\r\n  \"data\": [...]\r\n}`}\r\n          />\r\n\r\n          <SectionTitle \r\n            id=\"integrity\" \r\n            title=\"Integrity Chain\" \r\n            icon=\"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z\" \r\n            color=\"emerald\"\r\n          />\r\n          <div className=\"p-4 mb-6 bg-emerald-50 rounded-r-lg border-l-4 border-emerald-500\">\r\n            <p className=\"mb-3 text-sm font-medium text-emerald-800\">\r\n              \uD83D\uDEE1\uFE0F <strong>Data Integrity Proof:</strong> Kami menggunakan teknologi cryptographic hashing (SHA-256) untuk memastikan kemurnian teks Al-Quran. Setiap Surah dan Ayah memiliki \"Digital Fingerprint\" yang unik. Jika ada perubahan satu karakter saja pada data kami, maka hash integrity akan berubah.\r\n            </p>\r\n            <details class=\"text-xs text-emerald-700 cursor-pointer\">\r\n              <summary class=\"font-bold hover:underline\">Cara Verifikasi Mandiri (Standard Industri)</summary>\r\n              <div class=\"p-4 mt-3 space-y-3 rounded-lg bg-white/50\">\r\n                <p>Anda dapat memverifikasi keaslian data secara manual:</p>\r\n                <ol class=\"space-y-1 list-decimal list-inside\">\r\n                  <li>Ambil data mentah dari <code class=\"px-1 bg-emerald-100 rounded\">/v1/ayah/surah?surahId=1</code></li>\r\n                  <li>Ekstrak field <code class=\"px-1 bg-emerald-100 rounded\">arab</code> dan <code class=\"px-1 bg-emerald-100 rounded\">text</code></li>\r\n                  <li>Lakukan hashing SHA-256 pada array tersebut</li>\r\n                  <li>Bandingkan dengan <code class=\"px-1 bg-emerald-100 rounded\">content_hash</code> di <code class=\"px-1 bg-emerald-100 rounded\">/v1/integrity/chain</code></li>\r\n                </ol>\r\n                <div class=\"mt-2\">\r\n                  <p class=\"mb-1 font-bold\">Snippet Node.js:</p>\r\n                  <pre class=\"overflow-x-auto p-2 text-emerald-400 rounded-md bg-slate-900\">\r\n{`const crypto = require('crypto');\r\nconst data = ayahs.map(a => ({ arab: a.arab, text: a.text }));\r\nconst hash = crypto.createHash('sha256').update(JSON.stringify(data)).digest('hex');`}\r\n                  </pre>\r\n                </div>\r\n              </div>\r\n            </details>\r\n          </div>\r\n          <ApiEndpoint \r\n            title=\"Integrity Chain (Proof of Authenticity)\" \r\n            method=\"GET\" \r\n            path=\"/integrity/chain\" \r\n            category=\"integrity\"\r\n            endpointId=\"integrity-chain\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Data Integrity Chain (Proof of Authenticity) berhasil dibuat.\",\r\n  \"network\": \"Muslim-API Data Ledger\",\r\n  \"root_hash\": \"4f8a...\",\r\n  \"chain\": [\r\n    {\r\n      \"block_height\": 1,\r\n      \"hash\": \"8d3e...\",\r\n      \"surah_number\": \"1\",\r\n      \"surah_name\": \"Al-Fatihah\",\r\n      \"ayah_count\": 7,\r\n      \"content_hash\": \"a1b2...\",\r\n      \"previous_hash\": \"0000...\",\r\n      \"timestamp\": \"2025-12-24T00:00:00Z\"\r\n    },\r\n    ...\r\n  ]\r\n}`}\r\n          />\r\n          <ApiEndpoint \r\n            title=\"Verifikasi Ayah Spesifik\" \r\n            method=\"GET\" \r\n            path=\"/integrity/verify/ayah?surahId=1&ayahId=1\" \r\n            category=\"integrity\"\r\n            endpointId=\"integrity-verify\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil memverifikasi integritas ayat 1 pada surah 1.\",\r\n  \"data\": {\r\n    \"surahId\": \"1\",\r\n    \"ayahId\": \"1\",\r\n    \"local_data\": {\r\n      \"arab\": \"\u0628\u0650\u0633\u0652\u0645\u0650 \u0627\u0644\u0644\u0651\u064E\u0647\u0650 \u0627\u0644\u0631\" + \"\u064E\u062D\u0652\u0645\u064E\u0670\u0646\u0650 \u0627\u0644\u0631\u0651\u064E\u062D\u0650\u064A\u0645\u0650\",\r\n      \"text\": \"Dengan nama Allah Yang Maha Pengasih, Maha Penyayang.\"\r\n    },\r\n    \"hash\": \"e3b0c442...\",\r\n    \"comparison\": {\r\n      \"status\": \"Success\",\r\n      \"source\": \"Kemenag (via EQuran.id)\",\r\n      \"is_match\": true,\r\n      \"details\": {\r\n        \"arab_match\": true,\r\n        \"translation_match\": true\r\n      },\r\n      \"external_data\": {\r\n        \"arab\": \"\u0628\u0650\u0633\u0652\u0645\u0650 \u0627\u0644\u0644\u0651\u064E\u0647\u0650 \u0627\u0644\u0631\" + \"\u064E\u062D\u0652\u0645\u064E\u0670\u0646\u0650 \u0627\u0644\u0631\u0651\u064E\u062D\u0650\u064A\u0645\u0650\",\r\n        \"text\": \"Dengan nama Allah Yang Maha Pengasih, Maha Penyayang.\"\r\n      }\r\n    },\r\n    \"external_verification_url\": \"https://quran.kemenag.go.id/quran/per-ayat/surah/1?from=1&to=1\",\r\n    \"timestamp\": \"2025-12-24T00:00:00Z\"\r\n  }\r\n}`}\r\n          />\r\n\r\n\r\n          {/* Analytics Category */}\r\n          <div class=\"mt-12 mb-6\">\r\n            <h3 class=\"pl-4 text-2xl font-bold text-emerald-800 border-l-4 border-emerald-500\">\r\n              Spiritual Analytics (Global)\r\n            </h3>\r\n            <p class=\"mt-2 text-slate-600\">\r\n              Statistik penggunaan global untuk melihat tren pembacaan Al-Qur'an dan laporan khatam kolektif.\r\n            </p>\r\n          </div>\r\n\r\n          <ApiEndpoint \r\n            title=\"Global Analytics\" \r\n            method=\"GET\" \r\n            path=\"/analytics\" \r\n            category=\"analytics\"\r\n            endpointId=\"analytics-global\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan statistik spiritual global.\",\r\n  \"data\": {\r\n    \"total_reads\": 1250,\r\n    \"global_khatam_count\": 5,\r\n    \"trending_surahs\": [\r\n      { \"id\": \"1\", \"name\": \"Al-Fatihah\", \"reads\": 450 },\r\n      { \"id\": \"18\", \"name\": \"Al-Kahf\", \"reads\": 320 }\r\n    ],\r\n    \"last_updated\": \"2025-12-24T00:00:00Z\"\r\n  }\r\n}`}\r\n          />\r\n\r\n          <ApiEndpoint \r\n            title=\"Lapor Khatam (Post)\" \r\n            method=\"POST\" \r\n            path=\"/analytics/khatam\" \r\n            category=\"analytics\"\r\n            endpointId=\"analytics-khatam\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Alhamdulillah! Satu khatam baru telah tercatat dalam statistik global. Semoga berkah.\"\r\n}`}\r\n          />\r\n\r\n\r\n          {/* Other Resources Banner */}\r\n          <div class=\"overflow-hidden relative p-8 mb-20 text-white bg-gradient-to-br from-emerald-600 to-teal-700 rounded-2xl shadow-xl group\">\r\n            <div class=\"absolute -right-10 -bottom-10 opacity-10 transition-transform duration-500 group-hover:scale-110\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-64 h-64\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"1\" d=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\" />\r\n              </svg>\r\n            </div>\r\n            <div class=\"relative z-10\">\r\n              <h3 class=\"mb-3 text-2xl font-bold\">Butuh Resource Lainnya?</h3>\r\n              <p class=\"mb-6 max-w-lg text-emerald-50\">\r\n                Temukan API tambahan seperti Murottal, Jadwal Sholat, Kalender Hijriah, Hadits, Asmaul Husna, dan banyak lagi di halaman Resources.\r\n              </p>\r\n              <a \r\n                href=\"/other\" \r\n                class=\"inline-flex gap-2 items-center px-6 py-3 font-bold text-emerald-700 bg-white rounded-xl shadow-lg transition-colors hover:bg-emerald-50\"\r\n              >\r\n                Eksplor Other Resources\r\n                <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                  <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14 5l7 7-7 7\" />\r\n                </svg>\r\n              </a>\r\n            </div>\r\n          </div>\r\n\r\n          <SectionTitle \r\n            id=\"widgets\" \r\n            title=\"Widget Dashboard\" \r\n            icon=\"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z\" \r\n            color=\"blue\"\r\n          />\r\n          <div class=\"p-8 mb-12 bg-white rounded-2xl border shadow-sm border-slate-200\">\r\n            <p class=\"mb-8 text-slate-600\">\r\n              Ingin memasang jadwal sholat atau ayat harian di website Anda? Gunakan kode embed sederhana di bawah ini. Anda dapat menyesuaikan tampilan melalui parameter URL.\r\n            </p>\r\n\r\n            <div class=\"space-y-10\">\r\n              {/* Jadwal Sholat Widget */}\r\n              <div>\r\n                <h4 class=\"flex gap-2 items-center mb-4 font-bold text-slate-900\">\r\n                  <span class=\"flex justify-center items-center w-8 h-8 text-sm text-blue-600 bg-blue-100 rounded-lg\">1</span>\r\n                  Widget Jadwal Sholat\r\n                </h4>\r\n                <div class=\"grid grid-cols-1 gap-6 lg:grid-cols-2\">\r\n                  <div class=\"space-y-4\">\r\n                    <p class=\"text-sm text-slate-500\">Salin kode di bawah ini ke dalam HTML Anda:</p>\r\n                    <div class=\"relative group\">\r\n                      <pre class=\"overflow-x-auto p-4 text-xs rounded-xl bg-slate-900 text-slate-300\">\r\n{`<iframe \r\n  src=\"${baseUrl.replace('/v1', '')}/widget/sholat?city=jakarta\" \r\n  width=\"300\" \r\n  height=\"400\" \r\n  frameborder=\"0\"\r\n></iframe>`}\r\n                      </pre>\r\n                      <button \r\n                        onclick={`navigator.clipboard.writeText('<iframe src=\"${baseUrl.replace('/v1', '')}/widget/sholat?city=jakarta\" width=\"300\" height=\"400\" frameborder=\"0\"></iframe>')`}\r\n                        class=\"absolute top-2 right-2 p-2 text-white rounded-lg opacity-0 transition-all bg-white/10 hover:bg-white/20 group-hover:opacity-100\"\r\n                      >\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2\" />\r\n                        </svg>\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"bg-slate-50 rounded-xl p-2 border border-slate-200 flex items-center justify-center min-h-[420px] overflow-hidden\">\r\n                    <iframe \r\n                      src={`${baseUrl.replace('/v1', '')}/widget/sholat?city=jakarta`} \r\n                      width=\"300\" \r\n                      height=\"400\" \r\n                      frameborder=\"0\"\r\n                      class=\"rounded-xl shadow-lg\"\r\n                    ></iframe>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Ayat Harian Widget */}\r\n              <div>\r\n                <h4 class=\"flex gap-2 items-center mb-4 font-bold text-slate-900\">\r\n                  <span class=\"flex justify-center items-center w-8 h-8 text-sm text-emerald-600 bg-emerald-100 rounded-lg\">2</span>\r\n                  Widget Ayat Harian\r\n                </h4>\r\n                <div class=\"grid grid-cols-1 gap-6 lg:grid-cols-2\">\r\n                  <div class=\"space-y-4\">\r\n                    <p class=\"text-sm text-slate-500\">Salin kode di bawah ini ke dalam HTML Anda:</p>\r\n                    <div class=\"relative group\">\r\n                      <pre class=\"overflow-x-auto p-4 text-xs rounded-xl bg-slate-900 text-slate-300\">\r\n{`<iframe \r\n  src=\"${baseUrl.replace('/v1', '')}/widget/ayat\" \r\n  width=\"400\" \r\n  height=\"300\" \r\n  frameborder=\"0\"\r\n></iframe>`}\r\n                      </pre>\r\n                      <button \r\n                        onclick={`navigator.clipboard.writeText('<iframe src=\"${baseUrl.replace('/v1', '')}/widget/ayat\" width=\"400\" height=\"300\" frameborder=\"0\"></iframe>')`}\r\n                        class=\"absolute top-2 right-2 p-2 text-white rounded-lg opacity-0 transition-all bg-white/10 hover:bg-white/20 group-hover:opacity-100\"\r\n                      >\r\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-4 h-4\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2\" />\r\n                        </svg>\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"bg-slate-50 rounded-xl p-2 border border-slate-200 flex items-center justify-center min-h-[320px] overflow-hidden\">\r\n                    <iframe \r\n                      src={`${baseUrl.replace('/v1', '')}/widget/ayat`} \r\n                      width=\"400\" \r\n                      height=\"300\" \r\n                      frameborder=\"0\"\r\n                      class=\"rounded-xl shadow-lg\"\r\n                    ></iframe>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <SectionTitle \r\n            id=\"faq\" \r\n            title=\"Pertanyaan Umum\" \r\n            icon=\"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" \r\n            color=\"slate\"\r\n          />\r\n          \r\n          <div class=\"mb-20 space-y-4\">\r\n            {[\r\n              {\r\n                q: \"Apa itu Muslim All-in-One API?\",\r\n                a: \"Muslim All-in-One API adalah proyek open-source yang bertujuan menyediakan akses data keislaman (Al-Quran, Jadwal Sholat, Hadits, dll) dalam satu platform yang cepat, gratis, dan mudah digunakan oleh pengembang aplikasi.\"\r\n              },\r\n              {\r\n                q: \"Bagaimana keaslian dan akurasi data Al-Quran?\",\r\n                a: \"Kami menjamin keaslian data Al-Quran dalam API ini. Data teks, terjemahan, dan tafsir (Wajiz & Tahlili) diwarisi dari dataset muslim-api-three milik Otangid yang telah diverifikasi sesuai dengan data resmi Kemenag RI. Struktur data kami mencakup Tafsir Tahlili yang sangat mendalam, yang merupakan produk intelektual resmi dari Kementerian Agama RI dan mengikuti standar Mushaf Al-Quran Standar Indonesia (MSI).\"\r\n              },\r\n              {\r\n                q: \"Bagaimana dengan performa dan keamanan?\",\r\n                a: \"API ini sudah dilengkapi dengan 'Enterprise-grade Caching' (SWR) yang membuat respon sangat cepat lewat CDN. Kami juga menerapkan CORS policy and Rate Limiting untuk menjaga stabilitas server dari penggunaan berlebihan.\"\r\n              },\r\n              {\r\n                q: \"Apakah data ini sesuai dengan sumber resmi Kemenag?\",\r\n                a: \"Ya, benar. Secara teknis, dataset kami menggunakan skema 'Wajiz' dan 'Tahlili' yang hanya dimiliki oleh publikasi resmi Kemenag RI. Teks Arab yang digunakan juga mengikuti kaidah rasm utsmani standar Indonesia dengan tanda waqaf dan harakat yang telah disesuaikan untuk pengguna di Indonesia. Anda dapat membandingkan output API kami dengan situs resmi quran.kemenag.go.id untuk verifikasi mandiri.\"\r\n              },\r\n              {\r\n                q: \"Apakah data Hadits yang disediakan sahih?\",\r\n                a: \"Untuk Hadits Arbain, kami menggunakan dataset dari muslim-api-three milik Otangid yang telah terverifikasi. Untuk koleksi hadits besar (Bukhari, Muslim, dll), kami mengintegrasikan data dari api.hadith.gading.dev yang mengambil sumber dari kitab-kitab hadits terkemuka dengan teks Arab dan terjemahan Indonesia yang kredibel.\"\r\n              },\r\n              {\r\n                q: \"Dari mana sumber data lainnya?\",\r\n                a: \"Jadwal sholat bersumber dari Kemenag RI (via MyQuran API). Dataset Al-Quran, Doa, dan Dzikir diwarisi dari project milik Otangid (muslim-api-three). Audio murottal disediakan melalui CDN equran.id.\"\r\n              },\r\n              {\r\n                q: \"Bagaimana jika saya menemukan perbedaan dengan mushaf resmi Kemenag?\",\r\n                a: \"Meskipun kami berusaha 100% akurat, kesalahan manusia dalam entry data bisa saja terjadi. Jika Anda menemukan perbedaan teks atau tanda baca dengan quran.kemenag.go.id, silakan laporkan melalui GitHub Issues. Kami menyediakan endpoint Admin khusus untuk melakukan koreksi instan secara lokal sebelum di-push ke server, sehingga perbaikan dapat dilakukan dengan sangat cepat tanpa menunggu siklus rilis yang lama.\"\r\n              },\r\n              {\r\n                q: \"Bagaimana cara melakukan perubahan data atau memperbaiki typo?\",\r\n                a: \"Data lokal seperti Al-Quran, Dzikir, dan Doa disimpan dalam format JSON di folder `src/data`. Anda dapat melakukan koreksi langsung pada file tersebut. Berkat sistem Integrity Chain kami, setiap perubahan pada teks Al-Quran akan secara otomatis mengubah 'Digital Fingerprint' (hash) pada sistem, sehingga transparansi data tetap terjaga.\"\r\n              },\r\n              {\r\n                q: \"Bagaimana jika saya menemukan kesalahan penulisan atau bug?\",\r\n                a: \"Kami sangat menghargai laporan Anda. Jika Anda adalah pengguna API, silakan laporkan melalui Issue di repository GitHub kami. Jika Anda adalah pengembang, Anda dapat melakukan Pull Request atau memperbaiki data langsung di file JSON lokal.\"\r\n              },\r\n              {\r\n                q: \"Apakah API ini gratis untuk digunakan?\",\r\n                a: \"Ya, API ini 100% gratis untuk digunakan baik untuk proyek personal, pendidikan, maupun komersial tanpa perlu kunci API (API Key).\"\r\n              },\r\n              {\r\n                q: \"Apakah ada batasan rate limit?\",\r\n                a: \"Saat ini tidak ada batasan rate limit yang ketat, namun kami menyarankan untuk melakukan caching di sisi aplikasi Anda untuk performa terbaik dan menjaga keberlangsungan layanan.\"\r\n              }\r\n            ].map((faq, index) => (\r\n              <details key={index} class=\"overflow-hidden bg-white rounded-2xl border shadow-sm group border-slate-200\">\r\n                <summary class=\"flex justify-between items-center p-6 list-none cursor-pointer\">\r\n                  <span class=\"font-bold text-slate-900\">{faq.q}</span>\r\n                  <span class=\"text-emerald-500 transition-transform group-open:rotate-180\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\" />\r\n                    </svg>\r\n                  </span>\r\n                </summary>\r\n                <div class=\"px-6 pt-4 pb-6 leading-relaxed border-t text-slate-600 border-slate-50\">\r\n                  {faq.a}\r\n                </div>\r\n              </details>\r\n            ))}\r\n          </div>\r\n\r\n          <div class=\"p-10 mb-20 text-center text-white rounded-3xl bg-slate-900\">\r\n            <h2 class=\"mb-4 text-3xl font-bold\">Siap untuk Membangun?</h2>\r\n            <p class=\"mx-auto mb-8 max-w-xl text-slate-400\">\r\n              Mulai integrasikan Muslim API ke dalam aplikasi Anda hari ini. Gratis, cepat, dan terpercaya.\r\n            </p>\r\n            <div class=\"flex flex-wrap gap-4 justify-center\">\r\n              <a href=\"/playground\" class=\"px-8 py-3 font-bold text-white bg-emerald-600 rounded-xl shadow-lg transition-all hover:bg-emerald-700 shadow-emerald-900/20\">\r\n                Coba di Playground\r\n              </a>\r\n              <a href=\"https://github.com/vrush2000/muslim-all-in-one-api\" target=\"_blank\" class=\"px-8 py-3 font-bold text-white rounded-xl border transition-all bg-slate-800 hover:bg-slate-700 border-slate-700\">\r\n                GitHub Repository\r\n              </a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n", "/** @jsx jsx */\r\nimport { jsx } from \"hono/jsx\";\r\n\r\nconst ApiEndpoint = ({\r\n  method,\r\n  path,\r\n  title,\r\n  responseJson,\r\n  category,\r\n  endpointId,\r\n}) => (\r\n  <div class=\"overflow-hidden mb-8 bg-white rounded-xl border shadow-sm transition-all duration-300 border-slate-200 hover:shadow-md\">\r\n    <div class=\"flex justify-between items-center px-6 py-4 border-b border-slate-100 bg-slate-50/50\">\r\n      <h4 class=\"font-semibold text-slate-900\">{title}</h4>\r\n      <div class=\"flex gap-2\">\r\n        <span\r\n          class={`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider ${\r\n            method === \"GET\"\r\n              ? \"bg-emerald-100 text-emerald-700\"\r\n              : \"bg-blue-100 text-blue-700\"\r\n          }`}\r\n        >\r\n          {method}\r\n        </span>\r\n      </div>\r\n    </div>\r\n    <div class=\"p-6\">\r\n      <div class=\"flex gap-2 items-center mb-6 group\">\r\n        <div class=\"flex flex-grow gap-2 items-center px-3 py-2 rounded-lg border transition-colors bg-slate-100 border-slate-200 group-hover:border-emerald-200\">\r\n          <code class=\"font-mono text-sm truncate text-slate-600\">{path}</code>\r\n        </div>\r\n        <div class=\"flex gap-2\">\r\n          <button\r\n            onclick={`window.openApiModal('${category}', '${endpointId}', '/v1${path}')`}\r\n            class=\"p-2 rounded-lg transition-all text-slate-400 hover:text-blue-600 hover:bg-blue-50\"\r\n            title=\"Try in Playground\"\r\n          >\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              class=\"w-5 h-5\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n            >\r\n              <path\r\n                stroke-linecap=\"round\"\r\n                stroke-linejoin=\"round\"\r\n                stroke-width=\"2\"\r\n                d=\"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z\"\r\n              />\r\n              <path\r\n                stroke-linecap=\"round\"\r\n                stroke-linejoin=\"round\"\r\n                stroke-width=\"2\"\r\n                d=\"M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n              />\r\n            </svg>\r\n          </button>\r\n          <button\r\n            onclick={`navigator.clipboard.writeText(window.location.origin + '/v1${path}')`}\r\n            class=\"p-2 rounded-lg transition-all text-slate-400 hover:text-emerald-600 hover:bg-emerald-50\"\r\n            title=\"Copy URL\"\r\n          >\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              class=\"w-5 h-5\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n            >\r\n              <path\r\n                stroke-linecap=\"round\"\r\n                stroke-linejoin=\"round\"\r\n                stroke-width=\"2\"\r\n                d=\"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m-3 8.5V11a.5.5 0 00-.5-.5H9.75a.5.5 0 00-.5.5v1.5a.5.5 0 00.5.5h.75a.5.5 0 00.5-.5z\"\r\n              />\r\n            </svg>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"space-y-4\">\r\n        <details class=\"group\">\r\n          <summary class=\"flex gap-2 items-center text-sm font-medium list-none transition-colors cursor-pointer text-slate-500 hover:text-emerald-600\">\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              class=\"w-4 h-4 transition-transform group-open:rotate-180\"\r\n              fill=\"none\"\r\n              viewBox=\"0 0 24 24\"\r\n              stroke=\"currentColor\"\r\n            >\r\n              <path\r\n                stroke-linecap=\"round\"\r\n                stroke-linejoin=\"round\"\r\n                stroke-width=\"2\"\r\n                d=\"M19 9l-7 7-7-7\"\r\n              />\r\n            </svg>\r\n            Example Response\r\n          </summary>\r\n          <div class=\"mt-4 duration-300 animate-in fade-in slide-in-from-top-2\">\r\n            <pre class=\"text-[11px] leading-relaxed shadow-inner\">\r\n              <code>{responseJson}</code>\r\n            </pre>\r\n          </div>\r\n        </details>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst SectionTitle = ({ title, icon, id, color = \"emerald\" }) => {\r\n  const colorClasses = {\r\n    emerald: \"bg-emerald-600 shadow-emerald-100\",\r\n    blue: \"bg-blue-600 shadow-blue-100\",\r\n    amber: \"bg-amber-600 shadow-amber-100\",\r\n    rose: \"bg-rose-600 shadow-rose-100\",\r\n    purple: \"bg-purple-600 shadow-purple-100\",\r\n    indigo: \"bg-indigo-600 shadow-indigo-100\",\r\n    slate: \"bg-slate-600 shadow-slate-100\",\r\n  };\r\n\r\n  return (\r\n    <div id={id} class=\"flex gap-3 items-center mb-8 scroll-mt-24\">\r\n      <div\r\n        class={`w-10 h-10 ${\r\n          colorClasses[color] || colorClasses.emerald\r\n        } rounded-lg flex items-center justify-center shadow-lg`}\r\n      >\r\n        <svg\r\n          xmlns=\"http://www.w3.org/2000/svg\"\r\n          class=\"w-6 h-6 text-white\"\r\n          fill=\"none\"\r\n          viewBox=\"0 0 24 24\"\r\n          stroke=\"currentColor\"\r\n        >\r\n          <path\r\n            stroke-linecap=\"round\"\r\n            stroke-linejoin=\"round\"\r\n            stroke-width=\"2\"\r\n            d={icon}\r\n          />\r\n        </svg>\r\n      </div>\r\n      <h2 class=\"text-2xl font-bold text-slate-900\">{title}</h2>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Other = () => {\r\n  return (\r\n    <div class=\"px-4 py-12 mx-auto max-w-7xl sm:px-6 lg:px-8\">\r\n      <div class=\"grid grid-cols-1 gap-12 lg:grid-cols-4\">\r\n        {/* Sidebar */}\r\n        <aside class=\"hidden sticky top-28 col-span-1 self-start lg:block\">\r\n          <div class=\"p-6 bg-white rounded-2xl border shadow-sm border-slate-200\">\r\n            <h3 class=\"px-3 mb-4 text-xs font-bold tracking-wider uppercase text-slate-400\">\r\n              Menu Other API\r\n            </h3>\r\n            <nav class=\"space-y-1\">\r\n              {[\r\n                {\r\n                  name: \"Murottal\",\r\n                  href: \"#murottal\",\r\n                  icon: \"M11 5.882V19.118a3.63 3.63 0 01-5.12 3.574L1 18.817V5.183L5.88 1.309a3.63 3.63 0 015.12 3.573z M15 12a3 3 0 11-6 0 3 3 0 016 0z\",\r\n                },\r\n                {\r\n                  name: \"Sholat\",\r\n                  href: \"#sholat\",\r\n                  icon: \"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\",\r\n                },\r\n                {\r\n                  name: \"Kalender\",\r\n                  href: \"#calendar\",\r\n                  icon: \"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\",\r\n                },\r\n                {\r\n                  name: \"Hadits\",\r\n                  href: \"#hadits\",\r\n                  icon: \"M16 4v12l-4-2-4 2V4M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\",\r\n                },\r\n                {\r\n                  name: \"Asmaul Husna\",\r\n                  href: \"#asma\",\r\n                  icon: \"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-7.714 2.143L11 21l-2.286-6.857L1 12l7.714-2.143L11 3z\",\r\n                },\r\n                {\r\n                  name: \"Asbabun Nuzul\",\r\n                  href: \"#asbab\",\r\n                  icon: \"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\",\r\n                },\r\n                {\r\n                  name: \"Dzikir\",\r\n                  href: \"#dzikir\",\r\n                  icon: \"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\",\r\n                },\r\n                {\r\n                  name: \"Doa-doa\",\r\n                  href: \"#doa\",\r\n                  icon: \"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\",\r\n                },\r\n                {\r\n                  name: \"Kemenag\",\r\n                  href: \"#kemenag\",\r\n                  icon: \"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\",\r\n                },\r\n                {\r\n                  name: \"Sejarah\",\r\n                  href: \"#sejarah\",\r\n                  icon: \"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\",\r\n                },\r\n                {\r\n                  name: \"Puasa Sunnah\",\r\n                  href: \"#puasa\",\r\n                  icon: \"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\",\r\n                },\r\n                {\r\n                  name: \"Juz & Tema\",\r\n                  href: \"#extra\",\r\n                  icon: \"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\",\r\n                },\r\n                {\r\n                  name: \"Tools Cerdas\",\r\n                  href: \"#tools\",\r\n                  icon: \"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\",\r\n                },\r\n                {\r\n                  name: \"Widget Dashboard\",\r\n                  href: \"#widgets\",\r\n                  icon: \"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z\",\r\n                },\r\n                {\r\n                  name: \"Resources\",\r\n                  href: \"#resources\",\r\n                  icon: \"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\",\r\n                },\r\n              ].map((item, index) => (\r\n                <a\r\n                  key={index}\r\n                  href={item.href}\r\n                  class=\"flex gap-3 items-center px-3 py-2 text-sm font-medium rounded-lg transition-all text-slate-600 hover:text-emerald-600 hover:bg-emerald-50 group\"\r\n                >\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    class=\"w-4 h-4 transition-colors text-slate-400 group-hover:text-emerald-500\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                  >\r\n                    <path\r\n                      stroke-linecap=\"round\"\r\n                      stroke-linejoin=\"round\"\r\n                      stroke-width=\"2\"\r\n                      d={item.icon}\r\n                    />\r\n                  </svg>\r\n                  {item.name}\r\n                </a>\r\n              ))}\r\n            </nav>\r\n          </div>\r\n        </aside>\r\n\r\n        <div class=\"col-span-1 lg:col-span-3\">\r\n          <div class=\"mb-12 max-w-3xl\">\r\n            <h1 class=\"mb-4 text-4xl font-extrabold tracking-tight text-slate-900\">\r\n              Other Resources\r\n            </h1>\r\n            <p class=\"text-lg text-slate-600\">\r\n              Kumpulan resource dan API lainnya yang mungkin bermanfaat untuk\r\n              pengembangan aplikasi Anda.\r\n            </p>\r\n          </div>\r\n\r\n          <SectionTitle\r\n            id=\"murottal\"\r\n            title=\"Murottal Audio\"\r\n            icon=\"M11 5.882V19.118a3.63 3.63 0 01-5.12 3.574L1 18.817V5.183L5.88 1.309a3.63 3.63 0 015.12 3.573z M15 12a3 3 0 11-6 0 3 3 0 016 0z\"\r\n            color=\"emerald\"\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Daftar Qari\"\r\n            method=\"GET\"\r\n            path=\"/murotal/qari\"\r\n            category=\"murottal\"\r\n            endpointId=\"murottal-qari\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan daftar qari.\",\r\n  \"data\": [\r\n    {\r\n      \"id\": \"01\",\r\n      \"name\": \"Abdullah-Al-Juhany\"\r\n    },\r\n    ...\r\n  ]\r\n}`}\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Murottal by Surah\"\r\n            method=\"GET\"\r\n            path=\"/murotal?surahId=1\"\r\n            category=\"murottal\"\r\n            endpointId=\"murottal-surah\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan audio murottal surah 1.\",\r\n  \"data\": {\r\n    \"01\": \"https://cdn.equran.id/audio-full/Abdullah-Al-Juhany/001.mp3\",\r\n    \"02\": \"https://cdn.equran.id/audio-full/Abdul-Muhsin-Al-Qasim/001.mp3\",\r\n    ...\r\n  }\r\n}`}\r\n          />\r\n\r\n          <SectionTitle\r\n            id=\"sholat\"\r\n            title=\"Jadwal Sholat\"\r\n            icon=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n            color=\"blue\"\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Cari Kota\"\r\n            method=\"GET\"\r\n            path=\"/sholat/kota/cari?nama=jakarta\"\r\n            category=\"sholat\"\r\n            endpointId=\"sholat-cari-kota\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan daftar kota.\",\r\n  \"data\": [\r\n    {\r\n      \"id\": \"1301\",\r\n      \"lokasi\": \"KOTA JAKARTA\"\r\n    }\r\n  ]\r\n}`}\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Jadwal by Kota ID\"\r\n            method=\"GET\"\r\n            path=\"/sholat/jadwal?kotaId=1301&tanggal=2025-12-24\"\r\n            category=\"sholat\"\r\n            endpointId=\"sholat-jadwal-kota\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan jadwal sholat.\",\r\n  \"data\": {\r\n    \"id\": \"1301\",\r\n    \"kabko\": \"KOTA JAKARTA\",\r\n    \"prov\": \"DKI JAKARTA\",\r\n    \"jadwal\": {\r\n      \"2025-12-24\": {\r\n        \"tanggal\": \"Rabu, 24/12/2025\",\r\n        \"imsak\": \"04:05\",\r\n        \"subuh\": \"04:15\",\r\n        \"terbit\": \"05:34\",\r\n        \"dhuha\": \"06:04\",\r\n        \"dzuhur\": \"11:56\",\r\n        \"ashar\": \"15:22\",\r\n        \"maghrib\": \"18:10\",\r\n        \"isya\": \"19:26\"\r\n      }\r\n    }\r\n  }\r\n}`}\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Jadwal by Koordinat\"\r\n            method=\"GET\"\r\n            path=\"/sholat/jadwal/koordinat?lat=-6.1751&lon=106.8272\"\r\n            category=\"sholat\"\r\n            endpointId=\"sholat-jadwal-koordinat\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan jadwal sholat berdasarkan koordinat.\",\r\n  \"data\": {\r\n    \"location\": \"Monumen Nasional, Jalan Medan Merdeka Barat, Gambir, Jakarta Pusat\",\r\n    \"city_found\": \"Jakarta Pusat\",\r\n    \"id\": \"1301\",\r\n    \"kabko\": \"KOTA JAKARTA\",\r\n    \"prov\": \"DKI JAKARTA\",\r\n    \"jadwal\": {\r\n      \"2025-12-24\": {\r\n        \"tanggal\": \"Rabu, 24/12/2025\",\r\n        \"imsak\": \"04:05\",\r\n        \"subuh\": \"04:15\",\r\n        \"terbit\": \"05:34\",\r\n        \"dhuha\": \"06:04\",\r\n        \"dzuhur\": \"11:56\",\r\n        \"ashar\": \"15:22\",\r\n        \"maghrib\": \"18:10\",\r\n        \"isya\": \"19:26\"\r\n      }\r\n    }\r\n  }\r\n}`}\r\n          />\r\n\r\n          <SectionTitle\r\n            id=\"calendar\"\r\n            title=\"Kalender Hijriah\"\r\n            icon=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\"\r\n            color=\"emerald\"\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Masehi ke Hijriah & Jawa\"\r\n            method=\"GET\"\r\n            path=\"/calendar/hijri?date=2024-03-11&adj=-1\"\r\n            category=\"other\"\r\n            endpointId=\"calendar-hijri\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil konversi Masehi ke Hijriah.\",\r\n  \"data\": {\r\n    \"masehi\": \"2024-03-11\",\r\n    \"adjustment\": -1,\r\n    \"hijri\": {\r\n      \"day\": 1,\r\n      \"month\": 9,\r\n      \"month_name\": \"Ramadan\",\r\n      ...\r\n    }\r\n  }\r\n}`}\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Hijriah ke Masehi\"\r\n            method=\"GET\"\r\n            path=\"/calendar/masehi?day=1&month=9&year=1445\"\r\n            category=\"other\"\r\n            endpointId=\"calendar-masehi\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil konversi Hijriah ke Masehi.\",\r\n  \"data\": {\r\n    \"hijri\": {\r\n      \"day\": 1,\r\n      \"month\": 9,\r\n      \"year\": 1445\r\n    },\r\n    \"masehi\": {\r\n      \"day\": 11,\r\n      \"day_name\": \"Senin\",\r\n      \"month\": 3,\r\n      \"month_name\": \"Maret\",\r\n      \"year\": 2024,\r\n      \"formatted\": \"Senin, 11 Maret 2024\"\r\n    }\r\n  }\r\n}`}\r\n          />\r\n\r\n          <SectionTitle\r\n            id=\"hadits\"\r\n            title=\"Hadits\"\r\n            icon=\"M16 4v12l-4-2-4 2V4M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z\"\r\n            color=\"orange\"\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Cari Hadits (Query)\"\r\n            method=\"GET\"\r\n            path=\"/hadits/find?query=puasa&book=bukhari\"\r\n            category=\"hadits\"\r\n            endpointId=\"hadits-find\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mencari hadits di kitab Sahih Bukhari dengan kata kunci: puasa.\",\r\n  \"data\": [\r\n    {\r\n      \"no\": 1901,\r\n      \"judul\": \"Sahih Bukhari\",\r\n      \"arab\": \"...\",\r\n      \"indo\": \"...\",\r\n      \"sumber\": \"HR. Bukhari No. 1901\"\r\n    }\r\n  ]\r\n}`}\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Daftar Kitab Hadits\"\r\n            method=\"GET\"\r\n            path=\"/hadits/books\"\r\n            category=\"hadits\"\r\n            endpointId=\"hadits-books\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan seluruh koleksi kitab hadits.\",\r\n  \"data\": [\r\n    { \"id\": \"arbain\", \"name\": \"Hadits Arbain Nawawi\", \"available\": 42 },\r\n    { \"id\": \"bukhari\", \"name\": \"HR. Bukhari\", \"available\": \"Lokal (JSON)\" },\r\n    { \"id\": \"muslim\", \"name\": \"HR. Muslim\", \"available\": \"Lokal (JSON)\" }\r\n  ]\r\n}`}\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Detail Hadits per Kitab\"\r\n            method=\"GET\"\r\n            path=\"/hadits/books/bukhari/1\"\r\n            category=\"hadits\"\r\n            endpointId=\"hadits-book-detail\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan detail hadits nomor 1 dari kitab Sahih Bukhari.\",\r\n  \"data\": {\r\n    \"number\": 1,\r\n    \"arab\": \"...\",\r\n    \"id\": \"Semua perbuatan tergantung niatnya...\",\r\n    \"name\": \"HR. Bukhari\"\r\n  }\r\n}`}\r\n          />\r\n\r\n          <SectionTitle\r\n            id=\"asma\"\r\n            title=\"Asmaul Husna\"\r\n            icon=\"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-7.714 2.143L11 21l-2.286-6.857L1 12l7.714-2.143L11 3z\"\r\n            color=\"indigo\"\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Semua Asmaul Husna\"\r\n            method=\"GET\"\r\n            path=\"/asma\"\r\n            category=\"other\"\r\n            endpointId=\"asma-list\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan seluruh daftar Asmaul Husna.\",\r\n  \"data\": [\r\n    {\r\n      \"id\": \"1\",\r\n      \"latin\": \"Ar-Rahman\",\r\n      \"arabic\": \"\u0627\u0644\u0631\u062D\u0645\u0646\",\r\n      \"translation_id\": \"Yang Maha Pengasih\"\r\n    },\r\n    ...\r\n  ]\r\n}`}\r\n          />\r\n\r\n          <SectionTitle\r\n            id=\"asbab\"\r\n            title=\"Asbabun Nuzul\"\r\n            icon=\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\"\r\n            color=\"amber\"\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Daftar Asbabun Nuzul\"\r\n            method=\"GET\"\r\n            path=\"/asbab\"\r\n            category=\"other\"\r\n            endpointId=\"asbab-list\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan seluruh daftar asbabun nuzul.\",\r\n  \"data\": [\r\n    {\r\n      \"id\": \"1\",\r\n      \"surah\": \"1\",\r\n      \"ayah\": \"1\",\r\n      \"text\": \"...\"\r\n    },\r\n    ...\r\n  ]\r\n}`}\r\n          />\r\n\r\n          <SectionTitle\r\n            id=\"dzikir\"\r\n            title=\"Dzikir\"\r\n            icon=\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\"\r\n            color=\"indigo\"\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Daftar Dzikir\"\r\n            method=\"GET\"\r\n            path=\"/dzikir\"\r\n            category=\"other\"\r\n            endpointId=\"dzikir\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan seluruh daftar dzikir.\",\r\n  \"data\": [\r\n    {\r\n      \"id\": 1,\r\n      \"title\": \"Dzikir Pagi\",\r\n      \"arabic\": \"\u0623\u064E\u0635\u0652\u0628\u064E\u062D\u0652\u0646\u064E\u0627 \u0648\u064E\u0623\u064E\u0635\u0652\u0628\u064E\u062D\u064E \u0627\u0644\u0652\u0645\u064F\u0644\u0652\u0643\u064F \u0644\u0650\u0644\u064E\u0651\u0647\u0650...\",\r\n      \"translation\": \"Kami telah memasuki waktu pagi...\",\r\n      \"type\": \"pagi\"\r\n    }\r\n  ]\r\n}`}\r\n          />\r\n\r\n          <SectionTitle\r\n            id=\"doa\"\r\n            title=\"Doa-doa\"\r\n            icon=\"M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z\"\r\n            color=\"rose\"\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Daftar Doa\"\r\n            method=\"GET\"\r\n            path=\"/doa\"\r\n            category=\"other\"\r\n            endpointId=\"doa-list\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan seluruh daftar doa.\",\r\n  \"data\": [\r\n    {\r\n      \"id\": 1,\r\n      \"judul\": \"Doa Sebelum Makan\",\r\n      \"arab\": \"...\",\r\n      \"latin\": \"...\",\r\n      \"indo\": \"...\"\r\n    }\r\n  ]\r\n}`}\r\n          />\r\n\r\n          <SectionTitle\r\n            id=\"extra\"\r\n            title=\"Juz, Tema & Word\"\r\n            icon=\"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10\"\r\n            color=\"slate\"\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Juz Al-Quran\"\r\n            method=\"GET\"\r\n            path=\"/juz\"\r\n            category=\"quran\"\r\n            endpointId=\"juz-list\"\r\n            responseJson={`{ \"status\": true, \"message\": \"Berhasil mendapatkan daftar juz.\", \"data\": [...] }`}\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Tema Al-Quran\"\r\n            method=\"GET\"\r\n            path=\"/theme\"\r\n            category=\"quran\"\r\n            endpointId=\"theme-list\"\r\n            responseJson={`{ \"status\": true, \"message\": \"Berhasil mendapatkan daftar tema Al-Quran.\", \"data\": [...] }`}\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Kata per Kata\"\r\n            method=\"GET\"\r\n            path=\"/word?surahId=1\"\r\n            category=\"quran\"\r\n            endpointId=\"word-ayah\"\r\n            responseJson={`{ \"status\": true, \"message\": \"Berhasil mendapatkan data kata per kata surah 1.\", \"data\": [...] }`}\r\n          />\r\n\r\n          <SectionTitle\r\n            id=\"kemenag\"\r\n            title=\"Layanan Kemenag\"\r\n            icon=\"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4\"\r\n            color=\"emerald\"\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Daftar Masjid & Mushalla (Source: SIMAS)\"\r\n            method=\"GET\"\r\n            path=\"/kemenag/masjid\"\r\n            category=\"kemenag\"\r\n            endpointId=\"kemenag-masjid-list\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Data masjid/mushalla berhasil diambil (Source: SIMAS Kemenag)\",\r\n  \"total_data_source\": \"317.218 Masjid\",\r\n  \"data\": [\r\n    {\r\n      \"id\": 1,\r\n      \"nama\": \"Masjid Istiqlal\",\r\n      \"jenis\": \"Masjid\",\r\n      \"tipologi\": \"Nasional\",\r\n      \"lokasi\": \"Jakarta Pusat, DKI Jakarta\",\r\n      \"kapasitas\": \"200.000\",\r\n      \"tahun_berdiri\": \"1978\",\r\n      \"deskripsi\": \"Masjid terbesar di Asia Tenggara.\"\r\n    }\r\n  ]\r\n}`}\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Filter Masjid/Mushalla\"\r\n            method=\"GET\"\r\n            path=\"/kemenag/masjid?jenis=Masjid&tipologi=Agung&lokasi=semarang\"\r\n            category=\"kemenag\"\r\n            endpointId=\"kemenag-masjid-search\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Data masjid/mushalla berhasil diambil (Source: SIMAS Kemenag)\",\r\n  \"total_data_source\": \"317.218 Masjid\",\r\n  \"data\": [\r\n    {\r\n      \"id\": 5,\r\n      \"nama\": \"Masjid Agung Jawa Tengah\",\r\n      \"jenis\": \"Masjid\",\r\n      \"tipologi\": \"Agung\",\r\n      \"lokasi\": \"Semarang, Jawa Tengah\",\r\n      \"kapasitas\": \"15.000\",\r\n      \"tahun_berdiri\": \"2006\",\r\n      \"deskripsi\": \"Masjid dengan payung hidrolik raksasa seperti di Nabawi.\"\r\n    }\r\n  ]\r\n}`}\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Hari Libur Nasional\"\r\n            method=\"GET\"\r\n            path=\"/kemenag/libur?year=2025\"\r\n            category=\"kemenag\"\r\n            endpointId=\"kemenag-libur\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan daftar hari libur tahun 2025.\",\r\n  \"data\": {\r\n    \"year\": \"2025\",\r\n    \"holidays\": [\r\n      {\r\n        \"tanggal\": \"2025-01-01\",\r\n        \"keterangan\": \"Tahun Baru 2025 Masehi\",\r\n        \"is_cuti\": false\r\n      }\r\n    ]\r\n  }\r\n}`}\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Daftar Provinsi (Pesantren)\"\r\n            method=\"GET\"\r\n            path=\"/kemenag/provinsi\"\r\n            category=\"kemenag\"\r\n            endpointId=\"kemenag-provinsi\"\r\n            responseJson={`{ \"status\": true, \"message\": \"Berhasil mendapatkan daftar provinsi.\", \"data\": [...] }`}\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Daftar Kabupaten (Pesantren)\"\r\n            method=\"GET\"\r\n            path=\"/kemenag/kabupaten?provinsiId=32\"\r\n            category=\"kemenag\"\r\n            endpointId=\"kemenag-kabupaten\"\r\n            responseJson={`{ \"status\": true, \"message\": \"Berhasil mendapatkan daftar kabupaten untuk provinsi 32.\", \"data\": [...] }`}\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Daftar Pesantren\"\r\n            method=\"GET\"\r\n            path=\"/kemenag/pesantren?kabupatenId=3201\"\r\n            category=\"kemenag\"\r\n            endpointId=\"kemenag-pesantren\"\r\n            responseJson={`{ \"status\": true, \"message\": \"Berhasil mendapatkan daftar pesantren untuk kabupaten 3201.\", \"data\": [...] }`}\r\n          />\r\n\r\n          <SectionTitle\r\n            id=\"sejarah\"\r\n            title=\"Sejarah Islam\"\r\n            icon=\"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253\"\r\n            color=\"blue\"\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Sejarah Islam & Sirah Nabawiyah\"\r\n            method=\"GET\"\r\n            path=\"/sejarah\"\r\n            category=\"sejarah\"\r\n            endpointId=\"sejarah-list\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan seluruh daftar sejarah.\",\r\n  \"data\": [\r\n    {\r\n      \"id\": 1,\r\n      \"peristiwa\": \"Kelahiran Nabi Muhammad SAW\",\r\n      \"tahun\": \"571 M\",\r\n      \"kategori\": \"Sirah Nabawiyah\",\r\n      \"sumber\": \"Ar-Rahiq Al-Makhtum\"\r\n    },\r\n    ...\r\n  ]\r\n}`}\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Detail Peristiwa Sejarah\"\r\n            method=\"GET\"\r\n            path=\"/sejarah/detail?id=1\"\r\n            category=\"sejarah\"\r\n            endpointId=\"sejarah-detail\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan detail sejarah.\",\r\n  \"data\": {\r\n    \"id\": 1,\r\n    \"peristiwa\": \"Kelahiran Nabi Muhammad SAW\",\r\n    \"tahun\": \"571 M (Tahun Gajah)\",\r\n    \"deskripsi\": \"...\",\r\n    \"kategori\": \"Sirah Nabawiyah\",\r\n    \"sumber\": \"Ar-Rahiq Al-Makhtum\"\r\n  }\r\n}`}\r\n          />\r\n\r\n          <SectionTitle\r\n            id=\"puasa\"\r\n            title=\"Puasa & Fiqh\"\r\n            icon=\"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n            color=\"emerald\"\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Daftar Puasa (Wajib & Sunnah)\"\r\n            method=\"GET\"\r\n            path=\"/puasa\"\r\n            category=\"puasa\"\r\n            endpointId=\"puasa-all\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mengambil daftar puasa.\",\r\n  \"data\": [\r\n    {\r\n      \"id\": 1,\r\n      \"nama\": \"Puasa Senin Kamis\",\r\n      \"deskripsi\": \"Puasa sunnah yang dilaksanakan pada hari Senin dan Kamis setiap minggunya.\",\r\n      \"hukum\": \"Sunnah\",\r\n      \"dalil\": \"...\",\r\n      \"type\": \"mingguan\"\r\n    },\r\n    {\r\n      \"id\": 8,\r\n      \"nama\": \"Puasa Ramadhan\",\r\n      \"deskripsi\": \"Puasa wajib yang dilaksanakan selama satu bulan penuh di bulan Ramadhan.\",\r\n      \"hukum\": \"Wajib (Fardhu 'Ain)\",\r\n      \"dalil\": \"...\",\r\n      \"type\": \"tahunan\",\r\n      \"jadwal_hijri\": \"Ramadhan (sebulan penuh)\"\r\n    }\r\n  ]\r\n}`}\r\n          />\r\n          <ApiEndpoint\r\n            title=\"70 Masalah Terkait Puasa (Fiqh & Adab)\"\r\n            method=\"GET\"\r\n            path=\"/puasa/fiqh\"\r\n            category=\"puasa\"\r\n            endpointId=\"puasa-fiqh\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mengambil 70 Masalah Terkait Puasa (Fiqh & Adab).\",\r\n  \"data\": [\r\n    {\r\n      \"category\": \"Definisi & Keutamaan\",\r\n      \"points\": [\r\n        {\r\n          \"id\": 1,\r\n          \"title\": \"Pengertian Puasa\",\r\n          \"content\": \"...\"\r\n        }\r\n      ]\r\n    }\r\n  ]\r\n}`}\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Cari Puasa\"\r\n            method=\"GET\"\r\n            path=\"/puasa/find?query=ramadhan\"\r\n            category=\"puasa\"\r\n            endpointId=\"puasa-find\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mencari puasa dengan kata kunci: ramadhan\",\r\n  \"data\": [\r\n    {\r\n      \"id\": 8,\r\n      \"nama\": \"Puasa Ramadhan\",\r\n      \"deskripsi\": \"...\",\r\n      \"hukum\": \"Wajib\",\r\n      \"type\": \"tahunan\"\r\n    }\r\n  ]\r\n}`}\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Filter by Tipe\"\r\n            method=\"GET\"\r\n            path=\"/puasa/type/mingguan\"\r\n            category=\"puasa\"\r\n            endpointId=\"puasa-type\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mendapatkan daftar puasa sunnah untuk tipe: mingguan\",\r\n  \"data\": [\r\n    {\r\n      \"id\": 1,\r\n      \"nama\": \"Puasa Senin Kamis\",\r\n      ...\r\n    }\r\n  ]\r\n}`}\r\n          />\r\n\r\n          <SectionTitle\r\n            id=\"tools\"\r\n            title=\"Tools & Fitur Cerdas\"\r\n            icon=\"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z\"\r\n            color=\"purple\"\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Kutipan Harian (Ayat & Hadits)\"\r\n            method=\"GET\"\r\n            path=\"/tools/quotes/daily\"\r\n            category=\"tools\"\r\n            endpointId=\"tools-quotes-daily\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mengambil kutipan harian.\",\r\n  \"data\": {\r\n    \"ayat\": {\r\n      \"arab\": \"...\",\r\n      \"text\": \"...\",\r\n      \"sumber\": \"QS. Al-Baqarah: 153\"\r\n    },\r\n    \"hadits\": {\r\n      \"arab\": \"...\",\r\n      \"text\": \"...\",\r\n      \"sumber\": \"Hadits Arbain No. 1: Amalan Bergantung pada Niat\"\r\n    }\r\n  }\r\n}`}\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Kalkulator Waris (Faraidh)\"\r\n            method=\"GET\"\r\n            path=\"/tools/faraidh?totalHarta=120000000&suami=1&anakLk=1&anakPr=1\"\r\n            category=\"tools\"\r\n            endpointId=\"tools-faraidh\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Kalkulasi waris berhasil.\",\r\n  \"data\": {\r\n    \"total_harta\": 120000000,\r\n    \"rincian\": [\r\n      { \"ahli_waris\": \"Suami\", \"jumlah\": 1, \"bagian_persen\": \"25.00%\", \"nominal\": 30000000 },\r\n      { \"ahli_waris\": \"Anak Laki-laki\", \"jumlah\": 1, \"bagian_persen\": \"50.00%\", \"nominal\": 60000000 },\r\n      { \"ahli_waris\": \"Anak Perempuan\", \"jumlah\": 1, \"bagian_persen\": \"25.00%\", \"nominal\": 30000000 }\r\n    ],\r\n    \"zakat_harta\": 3000000,\r\n    \"keterangan\": \"Perhitungan ini menggunakan standar ilmu Faraidh (KHI)...\",\r\n    \"sumber\": \"Kompilasi Hukum Islam (KHI) & Fiqh Mawaris\"\r\n  }\r\n}`}\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Kalkulator Zakat\"\r\n            method=\"GET\"\r\n            path=\"/tools/zakat?type=penghasilan&amount=10000000\"\r\n            category=\"tools\"\r\n            endpointId=\"tools-zakat\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Kalkulasi zakat berhasil.\",\r\n  \"data\": {\r\n    \"type\": \"penghasilan\",\r\n    \"amount\": 10000000,\r\n    \"nishab\": 8500000,\r\n    \"isWajib\": true,\r\n    \"zakat\": 250000,\r\n    \"keterangan\": \"Nishab Zakat Penghasilan setara 85 gram emas...\",\r\n    \"sumber\": \"BAZNAS (Badan Amil Zakat Nasional)\"\r\n  }\r\n}`}\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Arah Kiblat (Qibla Direction)\"\r\n            method=\"GET\"\r\n            path=\"/tools/qibla?lat=-6.1751&lng=106.8272\"\r\n            category=\"tools\"\r\n            endpointId=\"tools-qibla\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil menghitung arah kiblat.\",\r\n  \"data\": {\r\n    \"coordinates\": { \"lat\": -6.1751, \"lng\": 106.8272 },\r\n    \"kaaba\": { \"lat\": 21.4225, \"lng\": 39.8262 },\r\n    \"qibla_direction\": 295.12,\r\n    \"unit\": \"degrees\"\r\n  }\r\n}`}\r\n          />\r\n          <ApiEndpoint\r\n            title=\"Pencarian Semantik (Cross-Source)\"\r\n            method=\"GET\"\r\n            path=\"/tools/semantic-search?query=puasa\"\r\n            category=\"tools\"\r\n            endpointId=\"tools-semantic-search\"\r\n            responseJson={`{\r\n  \"status\": true,\r\n  \"message\": \"Pencarian semantik untuk 'puasa' berhasil.\",\r\n  \"data\": {\r\n    \"query\": \"puasa\",\r\n    \"quran\": [\r\n      {\r\n        \"arab\": \"...\",\r\n        \"text\": \"Hai orang-orang yang beriman, diwajibkan atas kamu berpuasa...\",\r\n        \"sumber\": \"QS. Al-Baqarah: 183\"\r\n      }\r\n    ],\r\n    \"hadits\": [\r\n      {\r\n        \"arab\": \"...\",\r\n        \"text\": \"Puasa adalah perisai...\",\r\n        \"sumber\": \"HR. Bukhari No. 1894\"\r\n      }\r\n    ],\r\n    \"puasa\": [\r\n      {\r\n        \"text\": \"Puasa Ramadhan: Puasa wajib yang dilaksanakan selama satu bulan penuh...\",\r\n        \"dalil\": \"QS. Al-Baqarah: 183\",\r\n        \"sumber\": \"Fitur Puasa (Wajib (Fardhu 'Ain))\"\r\n      }\r\n    ],\r\n    \"fiqh\": [\r\n      {\r\n        \"text\": \"Keutamaan Puasa\",\r\n        \"content\": \"Puasa memiliki banyak keutamaan, di antaranya adalah sebagai penghapus dosa...\",\r\n        \"sumber\": \"70 Masalah Puasa - Sumber: islamqa.info\"\r\n      }\r\n    ]\r\n  }\r\n}`}\r\n          />\r\n\r\n          <SectionTitle\r\n            id=\"widgets\"\r\n            title=\"Widget Dashboard\"\r\n            icon=\"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z\"\r\n            color=\"blue\"\r\n          />\r\n          <div class=\"p-6 mb-12 bg-white rounded-2xl border shadow-sm border-slate-200\">\r\n            <div class=\"flex flex-col gap-6 md:flex-row\">\r\n              <div class=\"flex-1\">\r\n                <h3 class=\"mb-4 text-lg font-bold text-slate-800\">\r\n                  Cara Menggunakan Widget\r\n                </h3>\r\n                <p class=\"mb-4 text-sm leading-relaxed text-slate-600\">\r\n                  Anda dapat menyematkan widget Muslim API ke dalam website Anda\r\n                  sendiri dengan mudah. Cukup salin kode di samping dan\r\n                  tempelkan di bagian manapun di website Anda.\r\n                </p>\r\n                <div class=\"space-y-3\">\r\n                  <div class=\"flex gap-3 items-start\">\r\n                    <div class=\"flex justify-center items-center mt-1 w-5 h-5 font-bold text-white bg-blue-500 rounded-full text-[10px]\">\r\n                      1\r\n                    </div>\r\n                    <p class=\"text-xs text-slate-500\">\r\n                      Pilih widget yang sesuai dengan kebutuhan Anda.\r\n                    </p>\r\n                  </div>\r\n                  <div class=\"flex gap-3 items-start\">\r\n                    <div class=\"flex justify-center items-center mt-1 w-5 h-5 font-bold text-white bg-blue-500 rounded-full text-[10px]\">\r\n                      2\r\n                    </div>\r\n                    <p class=\"text-xs text-slate-500\">\r\n                      Sesuaikan parameter (kota, tema, dll) jika diperlukan.\r\n                    </p>\r\n                  </div>\r\n                  <div class=\"flex gap-3 items-start\">\r\n                    <div class=\"flex justify-center items-center mt-1 w-5 h-5 font-bold text-white bg-blue-500 rounded-full text-[10px]\">\r\n                      3\r\n                    </div>\r\n                    <p class=\"text-xs text-slate-500\">\r\n                      Copy-paste kode IFrame ke dalam HTML website Anda.\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"flex-1\">\r\n                <div class=\"p-4 rounded-xl bg-slate-900\">\r\n                  <div class=\"flex justify-between items-center mb-2\">\r\n                    <span class=\"text-[10px] font-medium text-slate-400 uppercase tracking-wider\">\r\n                      Embed Code\r\n                    </span>\r\n                    <button class=\"text-[10px] text-blue-400 hover:text-blue-300 transition-colors\">\r\n                      Copy Code\r\n                    </button>\r\n                  </div>\r\n                  <pre class=\"overflow-x-auto text-[11px] text-blue-300 font-mono\">\r\n                    {`<iframe \r\n  src=\"https://muslim-api.vercel.app/widget/jadwal-sholat?kota=jakarta\" \r\n  width=\"100%\" \r\n  height=\"400\" \r\n  frameborder=\"0\"\r\n></iframe>`}\r\n                  </pre>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <SectionTitle\r\n            id=\"resources\"\r\n            title=\"Other Resources\"\r\n            icon=\"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1\"\r\n            color=\"emerald\"\r\n          />\r\n          <div class=\"grid grid-cols-1 gap-4 mb-12 md:grid-cols-2\">\r\n            {[\r\n              {\r\n                name: \"GitHub Repository\",\r\n                url: \"https://github.com/vrush2000/muslim-all-in-one-api\",\r\n                desc: \"Source code and documentation\",\r\n              },\r\n              {\r\n                name: \"Quran Kemenag\",\r\n                url: \"https://quran.kemenag.go.id/\",\r\n                desc: \"Official Quran data from Kemenag RI\",\r\n              },\r\n              {\r\n                name: \"MyQuran (Prayer Times)\",\r\n                url: \"https://api.myquran.com/\",\r\n                desc: \"Prayer times and Islamic schedule API\",\r\n              },\r\n              {\r\n                name: \"equran.id (Audio)\",\r\n                url: \"https://equran.id/\",\r\n                desc: \"Quran audio and digital text\",\r\n              },\r\n              {\r\n                name: \"Muslim API Dataset (Repo)\",\r\n                url: \"https://github.com/Otangid/muslim-api\",\r\n                desc: \"Alternative Muslim API provider\",\r\n              },\r\n              {\r\n                name: \"Hadith Collection (Repo)\",\r\n                url: \"https://github.com/gadingnst/hadith-api\",\r\n                desc: \"Comprehensive Hadith collection API\",\r\n              },\r\n              {\r\n                name: \"Data Pesantren (Repo)\",\r\n                url: \"https://github.com/nasrul21/data-pesantren-indonesia\",\r\n                desc: \"Kumpulan data pesantren se-Indonesia (Source)\",\r\n              },\r\n              {\r\n                name: \"Libur Nasional (Repo)\",\r\n                url: \"https://github.com/kresnasatya/api-harilibur\",\r\n                desc: \"Data hari libur nasional Indonesia (Source)\",\r\n              },\r\n              {\r\n                name: \"Puasa Sunnah (Source)\",\r\n                url: \"https://github.com/granitebps/puasa-sunnah-api\",\r\n                desc: \"Referensi data puasa sunnah\",\r\n              },\r\n            ].map((resource) => (\r\n              <a\r\n                href={resource.url}\r\n                target=\"_blank\"\r\n                rel=\"noopener noreferrer\"\r\n                class=\"p-4 bg-white rounded-xl border transition-all border-slate-200 hover:border-emerald-500 hover:shadow-md group\"\r\n              >\r\n                <div class=\"flex justify-between items-center mb-1\">\r\n                  <h4 class=\"font-bold transition-colors text-slate-900 group-hover:text-emerald-600\">\r\n                    {resource.name}\r\n                  </h4>\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    class=\"w-4 h-4 text-slate-400 group-hover:text-emerald-500\"\r\n                    fill=\"none\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    stroke=\"currentColor\"\r\n                  >\r\n                    <path\r\n                      stroke-linecap=\"round\"\r\n                      stroke-linejoin=\"round\"\r\n                      stroke-width=\"2\"\r\n                      d=\"M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14\"\r\n                    />\r\n                  </svg>\r\n                </div>\r\n                <p class=\"text-xs leading-relaxed text-slate-500\">\r\n                  {resource.desc}\r\n                </p>\r\n              </a>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n", "/** @jsx jsx */\r\nimport { jsx } from 'hono/jsx'\r\n\r\nexport const Landing = ({ sejarah }) => {\r\n  const apiCategories = [\r\n    {\r\n      title: 'Al-Quran Indonesia',\r\n      description: 'Akses 114 Surah lengkap dengan teks Arab, Latin, Terjemahan, dan Tafsir Kemenag (Wajiz & Tahlili).',\r\n      icon: 'M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253',\r\n      color: 'emerald',\r\n      link: '/docs#quran'\r\n    },\r\n    {\r\n      title: 'Jadwal Sholat',\r\n      description: 'Jadwal waktu sholat harian berdasarkan kota atau koordinat lokasi di seluruh Indonesia.',\r\n      icon: 'M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z',\r\n      color: 'blue',\r\n      link: '/other#sholat'\r\n    },\r\n    {\r\n      title: 'Hadits Arba\\'in',\r\n      description: 'Kumpulan Hadits Arba\\'in Nawawi lengkap dengan teks Arab, terjemahan Indonesia, dan penjelasan.',\r\n      icon: 'M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253',\r\n      color: 'amber',\r\n      link: '/other#hadits'\r\n    },\r\n    {\r\n      title: 'Doa Harian',\r\n      description: 'Kumpulan doa-doa harian, dzikir pagi petang, dan doa setelah sholat.',\r\n      icon: 'M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z',\r\n      color: 'rose',\r\n      link: '/other#doa'\r\n    },\r\n    {\r\n      title: 'Murottal Audio',\r\n      description: 'Streaming audio murottal dari berbagai Qari ternama dunia dengan kualitas tinggi.',\r\n      icon: 'M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 12.728M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z',\r\n      color: 'purple',\r\n      link: '/other#murottal'\r\n    },\r\n    {\r\n      title: 'Asmaul Husna',\r\n      description: 'Daftar 99 nama Allah yang indah beserta arti, makna, dan dalilnya.',\r\n      icon: 'M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-7.714 2.143L11 21l-2.286-6.857L1 12l7.714-2.143L11 3z',\r\n      color: 'indigo',\r\n      link: '/other#asma'\r\n    },\r\n    {\r\n      title: 'Kemenag Open Data',\r\n      description: 'Akses data publik Kemenag seperti daftar pesantren, masjid, dan hari libur nasional.',\r\n      icon: 'M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4',\r\n      color: 'teal',\r\n      link: '/other#kemenag'\r\n    },\r\n    {\r\n      title: 'Sejarah Islam',\r\n      description: 'Akses data sejarah Islam dan Sirah Nabawiyah yang autentik dan terpercaya.',\r\n      icon: 'M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253',\r\n      color: 'blue',\r\n      link: '/other#sejarah'\r\n    },\r\n    {\r\n      title: 'Fitur Cerdas & Tools',\r\n      description: 'Kalkulator zakat, pencarian semantik AI, arah kiblat, dan kutipan harian otomatis.',\r\n      icon: 'M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4.343 4.343l.707.707m1.286 1.286L4.343 4.343M12 21v-1m0-1c-2.761 0-5-2.239-5-5a5 5 0 015-5 5 5 0 015 5c0 2.761-2.239 5-5 5z',\r\n      color: 'emerald',\r\n      link: '/playground?category=tools'\r\n    }\r\n  ];\r\n\r\n  return (\r\n    <div class=\"overflow-hidden relative\">\r\n      {/* Hero Section */}\r\n      <section class=\"relative pt-20 pb-24 bg-white md:pt-32 md:pb-40\">\r\n        <div class=\"relative z-20 px-4 mx-auto max-w-7xl text-center sm:px-6 lg:px-8\">\r\n          <div class=\"inline-flex relative z-30 gap-2 items-center px-4 py-2 mb-8 text-sm font-bold text-emerald-700 bg-emerald-50 rounded-full duration-700 animate-in fade-in slide-in-from-bottom-4\">\r\n            <span class=\"flex w-2 h-2\">\r\n              <span class=\"inline-flex relative w-2 h-2 bg-emerald-500 rounded-full\"></span>\r\n            </span>\r\n            Platform Data Islami Terlengkap\r\n          </div>\r\n          <h1 class=\"mb-8 text-4xl font-extrabold tracking-tight duration-1000 sm:text-5xl md:text-7xl text-slate-900 animate-in fade-in slide-in-from-bottom-6\">\r\n            Muslim API <span class=\"block text-emerald-600 md:inline-block\">\r\n              <span id=\"dynamic-text\">All-in-One</span><span class=\"animate-pulse\">|</span>\r\n            </span>\r\n          </h1>\r\n\r\n          <script dangerouslySetInnerHTML={{ __html: `\r\n            (function() {\r\n              const phrases = [\r\n                'All-in-One',\r\n                'Data Al-Qur\\\\'an',\r\n                'Pencarian AI',\r\n                'Kalkulator Zakat',\r\n                'Arah Kiblat',\r\n                'Hadits Arba\\\\'in',\r\n                'Tafsir Kemenag',\r\n                'Jadwal Sholat',\r\n                'Koleksi Doa',\r\n                'Sejarah Islam'\r\n              ];\r\n              let i = 0;\r\n              let j = 0;\r\n              let currentPhrase = [];\r\n              let isDeleting = false;\r\n              let isEnd = false;\r\n              \r\n              function loop() {\r\n                const el = document.getElementById('dynamic-text');\r\n                if (!el) {\r\n                  setTimeout(loop, 500);\r\n                  return;\r\n                }\r\n\r\n                isEnd = false;\r\n                \r\n                if (i < phrases.length) {\r\n                  if (!isDeleting && j <= phrases[i].length) {\r\n                    currentPhrase.push(phrases[i][j]);\r\n                    j++;\r\n                    el.innerHTML = currentPhrase.join('');\r\n                  }\r\n\r\n                  if (isDeleting && j >= 0) {\r\n                    currentPhrase.pop();\r\n                    j--;\r\n                    el.innerHTML = currentPhrase.join('');\r\n                  }\r\n\r\n                  if (j == phrases[i].length) {\r\n                    isEnd = true;\r\n                    isDeleting = true;\r\n                  }\r\n\r\n                  if (isDeleting && j <= 0) {\r\n                    currentPhrase = [];\r\n                    isDeleting = false;\r\n                    i++;\r\n                    if (i == phrases.length) i = 0;\r\n                    j = 0;\r\n                  }\r\n                }\r\n                const spedUp = Math.random() * (50 - 30) + 30;\r\n                const normalSpeed = Math.random() * (150 - 100) + 100;\r\n                const time = isEnd ? 2000 : isDeleting ? spedUp : normalSpeed;\r\n                setTimeout(loop, time);\r\n              }\r\n\r\n              // Start the loop after a short delay to ensure DOM is ready\r\n              setTimeout(loop, 100);\r\n            })();\r\n          ` }} />\r\n          <p class=\"mx-auto mb-12 max-w-3xl text-xl leading-relaxed duration-1000 delay-200 md:text-2xl text-slate-600 animate-in fade-in slide-in-from-bottom-8\">\r\n            Infrastruktur data keislaman digital yang cepat, gratis, dan andal. Dirancang untuk mempercepat inovasi dalam dakwah teknologi.\r\n          </p>\r\n          <div class=\"flex flex-col gap-4 justify-center items-center duration-1000 delay-300 sm:flex-row animate-in fade-in slide-in-from-bottom-10\">\r\n            <a \r\n              href=\"/docs\" \r\n              class=\"flex gap-2 justify-center items-center px-8 py-4 w-full text-lg font-bold text-white bg-emerald-600 rounded-2xl shadow-xl transition-all sm:w-auto hover:bg-emerald-700 shadow-emerald-200 hover:shadow-emerald-300\"\r\n            >\r\n              Mulai Dokumentasi\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14 5l7 7-7 7\" />\r\n              </svg>\r\n            </a>\r\n            <a \r\n              href=\"https://github.com/vrush2000/muslim-all-in-one-api\" \r\n              target=\"_blank\"\r\n              class=\"flex gap-2 justify-center items-center px-8 py-4 w-full text-lg font-bold rounded-2xl transition-all sm:w-auto bg-slate-100 text-slate-900 hover:bg-slate-200\"\r\n            >\r\n              GitHub Project\r\n            </a>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Decorative background elements */}\r\n        <div class=\"overflow-hidden absolute inset-0 z-0 pointer-events-none\">\r\n          <div class=\"absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-emerald-50 rounded-full blur-[120px] opacity-60\"></div>\r\n          <div class=\"absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-teal-50 rounded-full blur-[120px] opacity-60\"></div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* About & Background Section */}\r\n      <section class=\"py-24 bg-slate-50 border-y border-slate-200\">\r\n        <div class=\"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8\">\r\n          <div class=\"grid grid-cols-1 gap-16 items-center lg:grid-cols-2\">\r\n            <div class=\"space-y-8\">\r\n              <div class=\"inline-block px-4 py-1.5 text-sm font-bold tracking-wider text-emerald-700 uppercase bg-emerald-100 rounded-lg\">\r\n                Visi & Latar Belakang\r\n              </div>\r\n              <h2 class=\"text-3xl font-bold md:text-4xl text-slate-900\">Mengapa Muslim API?</h2>\r\n              <div class=\"space-y-6 text-lg leading-relaxed text-slate-600\">\r\n                <p>\r\n                  Di era digital saat ini, akses terhadap data keislaman yang akurat, cepat, dan mudah diintegrasikan adalah sebuah kebutuhan fundamental. Banyak pengembang menghadapi kesulitan dalam menemukan API yang menyediakan data lengkap tanpa batasan yang memberatkan.\r\n                </p>\r\n                \r\n                <div class=\"grid grid-cols-1 gap-8 mt-8 md:grid-cols-2\">\r\n                  <div class=\"space-y-3\">\r\n                    <h4 class=\"flex gap-2 items-center text-xl font-bold text-slate-900\">\r\n                      <span class=\"w-2 h-2 bg-emerald-500 rounded-full\"></span>\r\n                      Misi Kami\r\n                    </h4>\r\n                    <p class=\"text-base\">\r\n                      Menjadi <span class=\"font-semibold text-emerald-600\">\"Single Source of Truth\"</span> untuk data keislaman digital di Indonesia. Kami menyediakan infrastruktur data yang andal bagi siapapun yang ingin berdakwah melalui teknologi.\r\n                    </p>\r\n                  </div>\r\n                  <div class=\"space-y-3\">\r\n                    <h4 class=\"flex gap-2 items-center text-xl font-bold text-slate-900\">\r\n                      <span class=\"w-2 h-2 bg-emerald-500 rounded-full\"></span>\r\n                      Filosofi Terbuka\r\n                    </h4>\r\n                    <p class=\"text-base\">\r\n                      Muslim API dibangun dengan semangat <span class=\"font-semibold text-emerald-600\">Open Source</span>. Kami percaya bahwa ilmu agama harus dapat diakses seluas-luasnya tanpa ada penghalang teknis atau biaya.\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n\r\n                <div class=\"pt-8 mt-8 italic text-center border-t border-slate-200 text-slate-500 md:text-left\">\r\n                  \"Sebaik-baik manusia adalah yang paling bermanfaat bagi orang lain.\"\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"relative\">\r\n              <div class=\"relative z-10 p-8 bg-white rounded-3xl border shadow-2xl border-slate-200\">\r\n                <div class=\"space-y-6\">\r\n                  <div class=\"flex gap-4 items-start\">\r\n                    <div class=\"flex justify-center items-center w-10 h-10 bg-emerald-100 rounded-xl shrink-0\">\r\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-6 h-6 text-emerald-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n                      </svg>\r\n                    </div>\r\n                    <div>\r\n                      <h4 class=\"mb-1 font-bold text-slate-900\">Data Terverifikasi</h4>\r\n                      <p class=\"text-sm text-slate-500\">Sumber data Al-Quran kami mengikuti standar Mushaf Al-Quran Standar Indonesia (MSI) Kemenag RI.</p>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"flex gap-4 items-start\">\r\n                    <div class=\"flex justify-center items-center w-10 h-10 bg-emerald-100 rounded-xl shrink-0\">\r\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-6 h-6 text-emerald-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\r\n                      </svg>\r\n                    </div>\r\n                    <div>\r\n                      <h4 class=\"mb-1 font-bold text-slate-900\">High Availability</h4>\r\n                      <p class=\"text-sm text-slate-500\">Dibangun di atas infrastruktur serverless untuk memastikan API selalu tersedia kapanpun dibutuhkan.</p>\r\n                    </div>\r\n                  </div>\r\n                  <div class=\"flex gap-4 items-start\">\r\n                    <div class=\"flex justify-center items-center w-10 h-10 bg-emerald-100 rounded-xl shrink-0\">\r\n                      <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-6 h-6 text-emerald-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                        <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z\" />\r\n                      </svg>\r\n                    </div>\r\n                    <div>\r\n                      <h4 class=\"mb-1 font-bold text-slate-900\">Data Integrity Chain</h4>\r\n                      <p class=\"text-sm text-slate-500\">Keaslian data dijamin melalui cryptographic hashing untuk menjaga kemurnian teks suci secara transparan.</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div class=\"absolute -right-6 -bottom-6 w-full h-full rounded-3xl bg-emerald-600/5 -z-0\"></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Features/Menu Section */}\r\n      <section class=\"py-24 bg-white\">\r\n        <div class=\"px-4 mx-auto max-w-7xl sm:px-6 lg:px-8\">\r\n          <div class=\"mb-16 text-center\">\r\n            <h2 class=\"mb-4 text-3xl font-bold md:text-4xl text-slate-900\">Layanan API Kami</h2>\r\n            <p class=\"mx-auto max-w-2xl text-lg text-slate-600\">\r\n              Berbagai kategori API yang siap Anda integrasikan ke dalam aplikasi Anda secara instan.\r\n            </p>\r\n          </div>\r\n\r\n          <div class=\"grid grid-cols-1 gap-8 md:grid-cols-2 lg:grid-cols-3\">\r\n            {apiCategories.map((api, index) => (\r\n              <a \r\n                key={index}\r\n                href={api.link}\r\n                class=\"overflow-hidden relative p-8 bg-white rounded-3xl border transition-all duration-300 group border-slate-200 hover:border-emerald-500/30 hover:shadow-2xl hover:shadow-emerald-100\"\r\n              >\r\n                <div class={`absolute top-0 right-0 w-24 h-24 bg-${api.color}-50 rounded-bl-full -mr-12 -mt-12 group-hover:scale-150 transition-transform duration-500`}></div>\r\n                \r\n                <div class={`w-14 h-14 bg-${api.color}-100 rounded-2xl flex items-center justify-center text-${api.color}-600 mb-6 group-hover:scale-110 transition-transform duration-300 relative z-10`}>\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-8 h-8\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d={api.icon} />\r\n                  </svg>\r\n                </div>\r\n\r\n                <h3 class=\"relative z-10 mb-3 text-xl font-bold text-slate-900\">{api.title}</h3>\r\n                <p class=\"relative z-10 mb-6 leading-relaxed text-slate-600\">{api.description}</p>\r\n                \r\n                <div class={`flex items-center gap-2 text-${api.color}-600 font-bold relative z-10`}>\r\n                  Lihat Dokumentasi\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-4 h-4 transition-transform group-hover:translate-x-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" />\r\n                  </svg>\r\n                </div>\r\n              </a>\r\n            ))}\r\n          </div>\r\n\r\n          {/* Timeline Sejarah Islam Section */}\r\n          <div class=\"mt-32 mb-20\">\r\n            <div class=\"mb-16 text-center\">\r\n              <div class=\"inline-block px-4 py-1.5 mb-4 text-sm font-bold tracking-wider text-blue-700 uppercase bg-blue-100 rounded-lg\">\r\n                Timeline Peradaban\r\n              </div>\r\n              <h2 class=\"mb-6 text-3xl font-bold md:text-5xl text-slate-900\">Sejarah & Sirah Nabawiyah</h2>\r\n              <p class=\"mx-auto max-w-2xl text-lg text-slate-600\">\r\n                Telusuri jejak sejarah Islam melalui timeline interaktif yang bersumber dari Sirah Nabawiyah yang autentik.\r\n              </p>\r\n            </div>\r\n\r\n            <div class=\"relative\">\r\n              {/* Vertical Line for Timeline */}\r\n              <div class=\"hidden absolute left-1/2 w-0.5 h-full transform -translate-x-1/2 bg-slate-200 md:block\"></div>\r\n\r\n              <div class=\"relative space-y-12\">\r\n                {sejarah && sejarah.slice(0, 8).map((item, index) => (\r\n                  <div key={item.id} class={`flex flex-col md:flex-row items-center gap-8 ${index % 2 === 1 ? 'md:flex-row-reverse' : ''}`}>\r\n                    {/* Content */}\r\n                    <div class=\"w-full md:w-1/2\">\r\n                      <div class={`p-8 bg-white rounded-3xl border border-slate-200 shadow-sm hover:shadow-xl transition-all duration-300 relative ${index % 2 === 1 ? 'md:text-right' : 'md:text-left'}`}>\r\n                        <div class={`inline-block px-3 py-1 rounded-full text-xs font-bold mb-4 ${index % 2 === 0 ? 'bg-emerald-100 text-emerald-700' : 'bg-blue-100 text-blue-700'}`}>\r\n                          {item.tahun}\r\n                        </div>\r\n                        <h3 class=\"mb-3 text-2xl font-bold text-slate-900\">{item.peristiwa}</h3>\r\n                        <p class=\"mb-4 leading-relaxed text-slate-600\">{item.deskripsi}</p>\r\n                        <div class=\"text-xs italic font-medium text-slate-400\">Sumber: {item.sumber}</div>\r\n                        \r\n                        {/* Dot on line for MD screens */}\r\n                        <div class={`absolute top-1/2 w-4 h-4 bg-white border-4 border-emerald-500 rounded-full z-10 hidden md:block ${index % 2 === 0 ? '-right-10' : '-left-10'} transform -translate-y-1/2`}></div>\r\n                      </div>\r\n                    </div>\r\n\r\n                    {/* Image or Placeholder */}\r\n                    <div class=\"w-full md:w-1/2\">\r\n                      <div class=\"relative group overflow-hidden rounded-3xl aspect-[16/9] shadow-lg\">\r\n                        <img \r\n                          src={item.image_url || 'https://images.unsplash.com/photo-1591604129939-f1efa4d9f7fa?auto=format&fit=crop&q=80&w=800'} \r\n                          alt={item.peristiwa}\r\n                          class=\"object-cover w-full h-full transition-transform duration-700 group-hover:scale-110\"\r\n                        />\r\n                        <div class=\"absolute inset-0 bg-gradient-to-t to-transparent opacity-60 from-slate-900/60\"></div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              \r\n              <div class=\"mt-12 text-center\">\r\n                <a href=\"/other#sejarah\" class=\"inline-flex gap-2 items-center px-8 py-4 font-bold text-white bg-blue-600 rounded-2xl transition-all hover:bg-blue-700 hover:shadow-lg hover:shadow-blue-200\">\r\n                  Lihat Seluruh Timeline\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 8l4 4m0 0l-4 4m4-4H3\" />\r\n                  </svg>\r\n                </a>\r\n              </div>\r\n            </div>\r\n\r\n            {/* New Widget Section */}\r\n            <div class=\"mt-40 p-12 bg-slate-900 rounded-[3rem] relative overflow-hidden\">\r\n              <div class=\"absolute top-0 right-0 -mt-32 -mr-32 w-64 h-64 rounded-full blur-3xl bg-emerald-500/10\"></div>\r\n              <div class=\"absolute bottom-0 left-0 -mb-32 -ml-32 w-64 h-64 rounded-full blur-3xl bg-blue-500/10\"></div>\r\n              \r\n              <div class=\"grid relative z-10 grid-cols-1 gap-16 items-center lg:grid-cols-2\">\r\n                <div>\r\n                  <div class=\"inline-block px-4 py-1.5 mb-6 text-sm font-bold tracking-wider text-emerald-400 uppercase rounded-lg bg-emerald-500/10\">\r\n                    Integrasi Mudah\r\n                  </div>\r\n                  <h2 class=\"mb-6 text-4xl font-bold text-white md:text-5xl\">Pasang Widget Islami di Website Anda</h2>\r\n                  <p class=\"mb-10 text-xl leading-relaxed text-slate-400\">\r\n                    Tingkatkan engagement pengunjung website Anda dengan memasang widget Jadwal Sholat dan Ayat Harian yang elegan, ringan, dan responsif. Cukup copy-paste kode embed.\r\n                  </p>\r\n                  \r\n                  <ul class=\"mb-10 space-y-4\">\r\n                    {[\r\n                      'Desain Modern & Minimalis',\r\n                      'Ringan & Cepat (Tanpa library berat)',\r\n                      'Otomatis Update Setiap Hari',\r\n                      'Responsif di Semua Ukuran Layar'\r\n                    ].map((feat, i) => (\r\n                      <li key={i} class=\"flex gap-3 items-center text-slate-300\">\r\n                        <svg class=\"w-6 h-6 text-emerald-500\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\r\n                          <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\r\n                        </svg>\r\n                        {feat}\r\n                      </li>\r\n                    ))}\r\n                  </ul>\r\n                  \r\n                  <a href=\"/docs\" class=\"inline-flex gap-2 items-center px-8 py-4 font-bold text-white bg-emerald-600 rounded-2xl transition-all hover:bg-emerald-700 hover:shadow-lg hover:shadow-emerald-900/40\">\r\n                    Dapatkan Kode Embed\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                      <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4\" />\r\n                    </svg>\r\n                  </a>\r\n                </div>\r\n                \r\n                <div class=\"grid grid-cols-1 gap-6 sm:grid-cols-2\">\r\n                  {/* Preview Card 1 */}\r\n                  <div class=\"p-6 rounded-3xl border backdrop-blur-sm bg-white/5 border-white/10\">\r\n                    <div class=\"w-full aspect-[3/4] bg-emerald-600/20 rounded-2xl mb-4 flex items-center justify-center overflow-hidden\">\r\n                       <div class=\"p-4 w-full h-full\">\r\n                          <div class=\"mb-4 w-full h-8 bg-emerald-600 rounded-lg\"></div>\r\n                          <div class=\"space-y-3\">\r\n                            {[1,2,3,4,5].map(i => <div key={i} class=\"flex justify-between items-center px-2 w-full h-6 rounded-md bg-white/10\"><div class=\"w-12 h-2 rounded bg-white/20\"></div><div class=\"w-8 h-2 rounded bg-white/30\"></div></div>)}\r\n                          </div>\r\n                       </div>\r\n                    </div>\r\n                    <h4 class=\"font-bold text-center text-white\">Widget Sholat</h4>\r\n                  </div>\r\n                  {/* Preview Card 2 */}\r\n                  <div class=\"p-6 rounded-3xl border backdrop-blur-sm bg-white/5 border-white/10\">\r\n                    <div class=\"w-full aspect-[3/4] bg-blue-600/20 rounded-2xl mb-4 flex items-center justify-center\">\r\n                      <div class=\"flex flex-col justify-center p-6 w-full h-full text-center\">\r\n                          <div class=\"mb-8 w-full h-4 bg-blue-600 rounded-lg\"></div>\r\n                          <div class=\"mx-auto mb-3 w-3/4 h-2 rounded bg-white/20\"></div>\r\n                          <div class=\"mx-auto w-1/2 h-2 rounded bg-white/10\"></div>\r\n                      </div>\r\n                    </div>\r\n                    <h4 class=\"font-bold text-center text-white\">Widget Ayat</h4>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Playground CTA */}\r\n          <div class=\"mt-20 bg-slate-900 rounded-[3rem] p-8 md:p-16 relative overflow-hidden\">\r\n            <div class=\"absolute top-0 right-0 w-1/2 h-full opacity-20 pointer-events-none\">\r\n              <svg viewBox=\"0 0 400 400\" xmlns=\"http://www.w3.org/2000/svg\" class=\"w-full h-full\">\r\n                <path fill=\"#10B981\" d=\"M47.7,-63.9C61.1,-55.8,70.8,-41,75.9,-25.1C81,-9.1,81.6,7.9,76.5,23.1C71.4,38.3,60.6,51.6,47.2,60.4C33.8,69.1,17.9,73.3,1.4,71.4C-15.1,69.4,-30.2,61.4,-44.2,52.5C-58.1,43.7,-70.9,34.1,-76.3,21.1C-81.8,8,-79.9,-8.5,-73.3,-22.9C-66.7,-37.3,-55.4,-49.6,-42.4,-57.8C-29.4,-66,-14.7,-70.1,0.6,-71C15.9,-71.8,31.8,-69.5,47.7,-63.9Z\" transform=\"translate(200 200)\" />\r\n              </svg>\r\n            </div>\r\n            <div class=\"grid relative z-10 grid-cols-1 gap-12 items-center lg:grid-cols-2\">\r\n              <div>\r\n                <h2 class=\"mb-6 text-3xl font-bold leading-tight text-white md:text-5xl\">\r\n                  Coba API secara langsung di <span class=\"text-emerald-400\">Playground</span>\r\n                </h2>\r\n                <p class=\"mb-10 text-xl leading-relaxed text-slate-400\">\r\n                  Tidak perlu setup environment. Cukup pilih endpoint, masukkan parameter, dan lihat hasilnya dalam sekejap. Rasakan kemudahan integrasi Muslim API sekarang juga.\r\n                </p>\r\n                <a \r\n                  href=\"/playground\" \r\n                  class=\"inline-flex gap-3 items-center px-8 py-4 text-lg font-bold text-white bg-emerald-500 rounded-2xl shadow-xl transition-all hover:bg-emerald-400 shadow-emerald-500/20\"\r\n                >\r\n                  Buka Playground\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-6 h-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\r\n                  </svg>\r\n                </a>\r\n              </div>\r\n              <div class=\"hidden lg:block\">\r\n                <div class=\"p-6 rounded-3xl border shadow-2xl backdrop-blur-xl bg-slate-800/50 border-slate-700\">\r\n                  <div class=\"flex gap-2 items-center mb-4\">\r\n                    <div class=\"flex gap-1.5\">\r\n                      <div class=\"w-3 h-3 bg-rose-500 rounded-full\"></div>\r\n                      <div class=\"w-3 h-3 bg-amber-500 rounded-full\"></div>\r\n                      <div class=\"w-3 h-3 bg-emerald-500 rounded-full\"></div>\r\n                    </div>\r\n                  </div>\r\n                  <pre class=\"p-0 font-mono text-sm leading-relaxed text-emerald-400 bg-transparent\">\r\n{`{\r\n  \"status\": true,\r\n  \"message\": \"Berhasil mengambil data surah.\",\r\n  \"data\": {\r\n    \"surah\": \"Al-Fatihah\",\r\n    \"ayat\": 7,\r\n    \"revelation\": \"Makkiyah\",\r\n    \"translation\": \"Pembukaan\"\r\n  }\r\n} `}\r\n                  </pre>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      {/* CTA Section */}\r\n      <section class=\"overflow-hidden relative py-24 bg-slate-900\">\r\n        <div class=\"relative z-10 px-4 mx-auto max-w-7xl text-center sm:px-6 lg:px-8\">\r\n          <h2 class=\"mb-8 text-3xl font-bold text-white md:text-5xl\">Siap Membangun Masa Depan Dakwah Digital?</h2>\r\n          <p class=\"mx-auto mb-12 max-w-2xl text-xl text-slate-400\">\r\n            Bergabunglah dengan ribuan pengembang lainnya yang telah menggunakan Muslim API. Mulai secara gratis hari ini.\r\n          </p>\r\n          <div class=\"flex flex-col gap-4 justify-center items-center sm:flex-row\">\r\n            <a \r\n              href=\"/docs\" \r\n              class=\"flex gap-2 justify-center items-center px-10 py-4 w-full text-lg font-bold text-white bg-emerald-600 rounded-2xl shadow-xl transition-all sm:w-auto hover:bg-emerald-500 shadow-emerald-900/20\"\r\n            >\r\n              Dapatkan Akses API\r\n            </a>\r\n            <a \r\n              href=\"/other\" \r\n              class=\"flex gap-2 justify-center items-center px-10 py-4 w-full text-lg font-bold text-white rounded-2xl border backdrop-blur-sm transition-all sm:w-auto bg-white/10 border-white/20 hover:bg-white/20\"\r\n            >\r\n              Lihat Contoh\r\n            </a>\r\n          </div>\r\n        </div>\r\n        \r\n        {/* Abstract background for dark CTA */}\r\n        <div class=\"absolute top-0 left-0 w-full h-full opacity-30 pointer-events-none\">\r\n          <div class=\"absolute top-[-20%] left-[-10%] w-[50%] h-[50%] bg-emerald-900 rounded-full blur-[150px]\"></div>\r\n          <div class=\"absolute bottom-[-20%] right-[-10%] w-[50%] h-[50%] bg-emerald-900 rounded-full blur-[150px]\"></div>\r\n        </div>\r\n      </section>\r\n    </div>\r\n  )\r\n}\r\n", "/** @jsx jsx */\r\nimport { jsx } from 'hono/jsx'\r\n\r\nexport const Playground = ({ baseUrl }) => {\r\n  return (\r\n    <div class=\"px-4 py-12 mx-auto max-w-7xl sm:px-6 lg:px-8\">\r\n      <div class=\"mb-12\">\r\n        <h1 class=\"mb-4 text-4xl font-extrabold tracking-tight text-slate-900\">API Playground</h1>\r\n        <p class=\"text-lg text-slate-600\">\r\n          Uji coba API secara interaktif. Pilih endpoint, masukkan parameter, dan lihat hasilnya secara langsung.\r\n        </p>\r\n      </div>\r\n\r\n      <div class=\"grid grid-cols-1 gap-8 lg:grid-cols-2\">\r\n        {/* Request Panel */}\r\n        <div class=\"space-y-6\">\r\n          <div class=\"p-8 bg-white rounded-3xl border shadow-sm border-slate-200\">\r\n            <h3 class=\"flex gap-2 items-center mb-6 text-xl font-bold text-slate-900\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-6 h-6 text-emerald-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 10V3L4 14h7v7l9-11h-7z\" />\r\n              </svg>\r\n              Konfigurasi Request\r\n            </h3>\r\n\r\n            <div class=\"space-y-4\">\r\n              <div>\r\n                <label class=\"block mb-2 text-sm font-semibold text-slate-700\">Pilih Kategori</label>\r\n                <select \r\n                  id=\"category-select\"\r\n                  class=\"px-4 py-3 w-full rounded-xl border transition-all cursor-pointer bg-slate-50 border-slate-200 focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500\"\r\n                  onchange=\"window.updateEndpoints(this.value)\"\r\n                >\r\n                  <option value=\"quran\">Al-Quran Indonesia</option>\r\n                  <option value=\"sholat\">Jadwal Sholat</option>\r\n                  <option value=\"hadits\">Hadits</option>\r\n                  <option value=\"murottal\">Murottal Audio</option>\r\n                  <option value=\"kemenag\">Kemenag Open Data</option>\r\n                  <option value=\"sejarah\">Sejarah Islam</option>\r\n                  <option value=\"puasa\">Puasa & Fiqh</option>\r\n                  <option value=\"tools\">Tools & Fitur Cerdas</option>\r\n                  <option value=\"integrity\">Integrity Chain</option>\r\n                  <option value=\"analytics\">Spiritual Analytics</option>\r\n                  <option value=\"other\">Lainnya (Asmaul Husna, Doa, dll)</option>\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label class=\"block mb-2 text-sm font-semibold text-slate-700\">Endpoint</label>\r\n                <select \r\n                  id=\"endpoint-select\"\r\n                  class=\"px-4 py-3 w-full font-mono text-sm rounded-xl border transition-all cursor-pointer bg-slate-50 border-slate-200 focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500\"\r\n                  onchange=\"window.updateParams(this.value)\"\r\n                >\r\n                  {/* Options populated by JS */}\r\n                </select>\r\n              </div>\r\n\r\n              <div id=\"params-container\" class=\"hidden pt-4 space-y-4 border-t border-slate-100\">\r\n                <label class=\"block text-sm font-semibold text-slate-700\">Parameter</label>\r\n                <div id=\"params-fields\" class=\"grid grid-cols-1 gap-4 md:grid-cols-2\">\r\n                  {/* Fields populated by JS */}\r\n                </div>\r\n              </div>\r\n\r\n              <div class=\"pt-6\">\r\n                <button \r\n                  id=\"send-request\"\r\n                  onclick=\"window.sendRequest()\"\r\n                  class=\"flex gap-2 justify-center items-center py-4 w-full text-lg font-bold text-white bg-emerald-600 rounded-2xl shadow-xl transition-all hover:bg-emerald-700 shadow-emerald-200 group\"\r\n                >\r\n                  Kirim Request\r\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-5 h-5 transition-transform group-hover:translate-x-1\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M14 5l7 7-7 7\" />\r\n                  </svg>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div class=\"p-6 bg-emerald-50 rounded-2xl border border-emerald-100\">\r\n            <h4 class=\"flex gap-2 items-center mb-2 font-bold text-emerald-800\">\r\n              <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"w-5 h-5\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\r\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\r\n              </svg>\r\n              Tips\r\n            </h4>\r\n            <p class=\"text-sm leading-relaxed text-emerald-700\">\r\n              Gunakan playground ini untuk memahami struktur response JSON sebelum mengimplementasikannya di aplikasi Anda. Base URL yang digunakan adalah <code class=\"font-bold\">{baseUrl}</code>.\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Response Panel */}\r\n        <div class=\"flex flex-col h-full lg:max-h-[700px]\">\r\n          <div class=\"flex overflow-hidden flex-col flex-grow h-full rounded-3xl shadow-2xl bg-slate-900\">\r\n            <div class=\"flex justify-between items-center px-6 py-4 border-b bg-slate-800 border-slate-700 shrink-0\">\r\n              <div class=\"flex gap-3 items-center\">\r\n                <div class=\"flex gap-1.5\">\r\n                  <div class=\"w-3 h-3 bg-rose-500 rounded-full\"></div>\r\n                  <div class=\"w-3 h-3 bg-amber-500 rounded-full\"></div>\r\n                  <div class=\"w-3 h-3 bg-emerald-500 rounded-full\"></div>\r\n                </div>\r\n                <span class=\"ml-2 text-xs font-bold tracking-widest uppercase text-slate-400\">JSON Response</span>\r\n              </div>\r\n              <div id=\"status-badge\" class=\"hidden\">\r\n                <span class=\"px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider bg-emerald-500/20 text-emerald-400 border border-emerald-500/30\">\r\n                  200 OK\r\n                </span>\r\n              </div>\r\n            </div>\r\n            <div class=\"flex overflow-hidden relative flex-col flex-grow custom-scrollbar\">\r\n              <div id=\"loader\" class=\"flex hidden absolute inset-0 z-10 justify-center items-center backdrop-blur-sm bg-slate-900/80\">\r\n                <div class=\"flex flex-col gap-4 items-center\">\r\n                  <div class=\"w-10 h-10 rounded-full border-4 animate-spin border-emerald-500/20 border-t-emerald-500\"></div>\r\n                  <span class=\"font-medium text-emerald-500 animate-pulse\">Memuat data...</span>\r\n                </div>\r\n              </div>\r\n              <div id=\"json-viewer-container\" class=\"flex-grow w-full h-full\"></div>\r\n            </div>\r\n            <div class=\"px-6 py-3 bg-slate-800 border-t border-slate-700 flex justify-between items-center text-[10px] text-slate-500 font-mono shrink-0\">\r\n              <span id=\"response-time\">Time: 0ms</span>\r\n              <span id=\"response-size\">Size: 0B</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <style dangerouslySetInnerHTML={{ __html: `\r\n        .custom-scrollbar::-webkit-scrollbar {\r\n          width: 8px;\r\n          height: 8px;\r\n        }\r\n        .custom-scrollbar::-webkit-scrollbar-track {\r\n          background: #0f172a;\r\n        }\r\n        .custom-scrollbar::-webkit-scrollbar-thumb {\r\n          background: #334155;\r\n          border-radius: 4px;\r\n        }\r\n        .custom-scrollbar::-webkit-scrollbar-thumb:hover {\r\n          background: #475569;\r\n        }\r\n\r\n        /* JSONEditor Custom Style */\r\n        .jsoneditor {\r\n          border: none !important;\r\n        }\r\n        .jsoneditor-menu {\r\n          background-color: #1e293b !important;\r\n          border-bottom: 1px solid #334155 !important;\r\n        }\r\n        .jsoneditor-navigation-bar {\r\n          background-color: #1e293b !important;\r\n          border-bottom: 1px solid #334155 !important;\r\n        }\r\n        .jsoneditor-outer {\r\n          background-color: #0f172a !important;\r\n        }\r\n        .jsoneditor-tree {\r\n          background-color: #0f172a !important;\r\n        }\r\n        .jsoneditor-separator {\r\n          background-color: transparent !important;\r\n        }\r\n        .jsoneditor-values {\r\n          color: #10b981 !important;\r\n        }\r\n        .jsoneditor-readonly {\r\n          color: #94a3b8 !important;\r\n        }\r\n        .jsoneditor-string {\r\n          color: #10b981 !important;\r\n        }\r\n        .jsoneditor-number {\r\n          color: #3b82f6 !important;\r\n        }\r\n        .jsoneditor-boolean {\r\n          color: #f59e0b !important;\r\n        }\r\n        .jsoneditor-null {\r\n          color: #ef4444 !important;\r\n        }\r\n        .jsoneditor-field {\r\n          color: #e2e8f0 !important;\r\n        }\r\n        div.jsoneditor-tree-inner {\r\n          padding-bottom: 50px !important;\r\n        }\r\n      ` }} />\r\n\r\n      <script dangerouslySetInnerHTML={{ __html: `\r\n        let editor = null;\r\n        \r\n        // Initialize JSONEditor\r\n        const container = document.getElementById('json-viewer-container');\r\n        const options = {\r\n          mode: 'view',\r\n          mainMenuBar: false,\r\n          navigationBar: false,\r\n          statusBar: false,\r\n          onEditable: function (node) {\r\n            return false;\r\n          }\r\n        };\r\n        \r\n        if (typeof JSONEditor !== 'undefined') {\r\n          editor = new JSONEditor(container, options);\r\n          editor.set({ message: \"Response akan muncul di sini...\" });\r\n          editor.expandAll();\r\n        }\r\n\r\n        const endpoints = {\r\n          quran: [\r\n            { id: 'list-surah', path: '/surah', name: 'Daftar Surah', params: [] },\r\n            { id: 'detail-surah', path: '/surah', name: 'Detail Surah', params: [{ name: 'surahId', placeholder: '1-114', type: 'number', default: '1', hint: 'Contoh: 1 (Al-Fatihah), 114 (An-Nas)' }] },\r\n            { id: 'tafsir', path: '/tafsir', name: 'Tafsir Kemenag', params: [{ name: 'surahId', placeholder: '1-114', type: 'number', default: '1', hint: 'ID Surah (1-114)' }] },\r\n            { id: 'ayah-surah', path: '/ayah/surah', name: 'Ayat by Surah', params: [{ name: 'surahId', placeholder: '1-114', type: 'number', default: '1', hint: 'ID Surah (1-114)' }] },\r\n            { id: 'ayah-specific', path: '/ayah/specific', name: 'Spesifik Ayat', params: [{ name: 'surahId', placeholder: '1', type: 'number', default: '1', hint: 'ID Surah' }, { name: 'ayahId', placeholder: '1', type: 'number', default: '1', hint: 'Nomor Ayat' }] },\r\n            { id: 'ayah-juz', path: '/ayah/juz', name: 'Ayat by Juz', params: [{ name: 'juzId', placeholder: '1-30', type: 'number', default: '30', hint: 'Nomor Juz (1-30)' }] },\r\n            { id: 'ayah-page', path: '/ayah/page', name: 'Ayat by Halaman', params: [{ name: 'page', placeholder: '1-604', type: 'number', default: '604', hint: 'Halaman Al-Quran (1-604)' }] },\r\n            { id: 'ayah-range', path: '/ayah/range', name: 'Range Ayat', params: [{ name: 'surahId', placeholder: '1', type: 'number', default: '1' }, { name: 'start', placeholder: '1', type: 'number', default: '1' }, { name: 'end', placeholder: '7', type: 'number', default: '7' }] },\r\n            { id: 'ayah-find', path: '/ayah/find', name: 'Cari Ayat (Query)', params: [{ name: 'query', placeholder: 'puasa', type: 'text', default: 'puasa', hint: 'Kata kunci pencarian' }] },\r\n            { id: 'juz-list', path: '/juz', name: 'Daftar Juz', params: [] },\r\n            { id: 'juz-detail', path: '/juz', name: 'Detail Juz', params: [{ name: 'juzId', placeholder: '1-30', type: 'number', default: '30', hint: 'Nomor Juz (1-30)' }] },\r\n            { id: 'theme-list', path: '/theme', name: 'Daftar Tema', params: [] },\r\n            { id: 'theme-detail', path: '/theme', name: 'Detail Tema', params: [{ name: 'themeId', placeholder: '1', type: 'number', default: '1', hint: 'ID Tema' }] },\r\n            { id: 'word-ayah', path: '/word', name: 'Kata per Kata', params: [{ name: 'surahId', placeholder: '1', type: 'number', default: '1' }, { name: 'ayahId', placeholder: '1', type: 'number', default: '1' }] },\r\n          ],\r\n          sholat: [\r\n            { id: 'sholat-semua-kota', path: '/sholat/kota/semua', name: 'Semua Kota', params: [] },\r\n            { id: 'sholat-cari-kota', path: '/sholat/kota/cari', name: 'Cari Kota', params: [{ name: 'nama', placeholder: 'jakarta', type: 'text', default: 'jakarta', hint: 'Nama kota yang dicari' }] },\r\n            { id: 'sholat-jadwal-kota', path: '/sholat/jadwal', name: 'Jadwal by Kota ID', params: [\r\n              { \r\n                name: 'kotaId', \r\n                type: 'select', \r\n                default: '1301', \r\n                options: [\r\n                  { value: '1301', label: '1301 - KOTA JAKARTA' },\r\n                  { value: '1206', label: '1206 - KOTA BANDUNG' },\r\n                  { value: '1638', label: '1638 - KOTA SURABAYA' },\r\n                  { value: '1210', label: '1210 - KOTA BOGOR' },\r\n                  { value: '1505', label: '1505 - KOTA SEMARANG' },\r\n                  { value: '1412', label: '1412 - KOTA YOGYAKARTA' },\r\n                  { value: '1433', label: '1433 - KOTA SURAKARTA (SOLO)' },\r\n                  { value: '1107', label: '1107 - KOTA MALANG' },\r\n                  { value: '0228', label: '0228 - KOTA MEDAN' },\r\n                  { value: '2218', label: '2218 - KOTA MAKASSAR' },\r\n                  { value: '1810', label: '1810 - KOTA BANJARMASIN' },\r\n                  { value: '0412', label: '0412 - KOTA PEKANBARU' },\r\n                  { value: '0816', label: '0816 - KOTA PALEMBANG' },\r\n                  { value: '1708', label: '1708 - KOTA DENPASAR' },\r\n                  { value: '1214', label: '1214 - KOTA BEKASI' },\r\n                  { value: '1211', label: '1211 - KOTA DEPOK' },\r\n                  { value: '1217', label: '1217 - KOTA TANGERANG' },\r\n                  { value: '1218', label: '1218 - KOTA TANGERANG SELATAN' },\r\n                ] \r\n              }, \r\n              { name: 'tanggal', placeholder: '2025-12-25', type: 'date', default: new Date().toISOString().split('T')[0] }\r\n            ] },\r\n            { id: 'sholat-jadwal-koordinat', path: '/sholat/jadwal/koordinat', name: 'Jadwal by Koordinat', params: [{ name: 'lat', placeholder: '-6.1751', type: 'text', default: '-6.1751' }, { name: 'lon', placeholder: '106.8272', type: 'text', default: '106.8272' }] },\r\n            { id: 'sholat-next', path: '/sholat/next', name: 'Waktu Sholat Terdekat', params: [{ name: 'lat', placeholder: '-6.1751', type: 'text', default: '-6.1751' }, { name: 'lon', placeholder: '106.8272', type: 'text', default: '106.8272' }] },\r\n          ],\r\n          hadits: [\r\n            { id: 'hadits-list', path: '/hadits', name: 'Daftar Hadits Arbain', params: [] },\r\n            { id: 'hadits-detail', path: '/hadits', name: 'Detail Hadits Arbain', params: [{ name: 'nomor', placeholder: '1-42', type: 'number', default: '1', hint: 'Nomor Hadits (1-42)' }] },\r\n            { id: 'hadits-books', path: '/hadits/books', name: 'Daftar Kitab Hadits', params: [] },\r\n            { id: 'hadits-by-book', path: '/hadits/books/abu-daud', name: 'Hadits by Kitab', params: [{ name: 'range', placeholder: '1-10', type: 'text', default: '1-10', hint: 'Contoh: 1-10 (Hadits nomor 1 sampai 10)' }] },\r\n            { id: 'hadits-cari', path: '/hadits/find', name: 'Cari Hadits (Query)', params: [{ name: 'query', placeholder: 'puasa', type: 'text', default: 'puasa' }] },\r\n          ],\r\n          murottal: [\r\n            { id: 'murottal-qari', path: '/murotal/qari', name: 'Daftar Qari', params: [] },\r\n            { id: 'murottal-surah', path: '/murotal', name: 'Audio by Surah', params: [\r\n              { name: 'surahId', placeholder: '1-114', type: 'number', default: '1', hint: 'ID Surah (1-114)' }, \r\n              { \r\n                name: 'qariId', \r\n                type: 'select', \r\n                default: '05', \r\n                options: [\r\n                  { value: '01', label: '01 - Abdullah Al-Juhany' },\r\n                  { value: '02', label: '02 - Abdul-Muhsin Al-Qasim' },\r\n                  { value: '03', label: '03 - Abdurrahman as-Sudais' },\r\n                  { value: '04', label: '04 - Ibrahim Al-Dossari' },\r\n                  { value: '05', label: '05 - Misyari Rasyid Al-Afasi' },\r\n                  { value: '06', label: '06 - Yasser Al-Dosari' },\r\n                ]\r\n              }\r\n            ] },\r\n          ],\r\n          kemenag: [\r\n            { id: 'kemenag-libur', path: '/kemenag/libur', name: 'Hari Libur Nasional', params: [{ name: 'year', type: 'number', default: '2025', placeholder: '2025' }] },\r\n            { id: 'kemenag-provinsi', path: '/kemenag/provinsi', name: 'Daftar Provinsi (Pesantren)', params: [] },\r\n            { id: 'kemenag-kabupaten', path: '/kemenag/kabupaten', name: 'Daftar Kabupaten (Pesantren)', params: [{ name: 'provinsiId', type: 'number', default: '32', placeholder: '32', hint: 'ID Provinsi (Contoh: 32 untuk Jabar)' }] },\r\n            { id: 'kemenag-pesantren', path: '/kemenag/pesantren', name: 'Daftar Pesantren', params: [{ name: 'kabupatenId', type: 'number', default: '3201', placeholder: '3201', hint: 'ID Kabupaten (Contoh: 3201 untuk Bogor)' }] },\r\n            { id: 'kemenag-masjid', path: '/kemenag/masjid', name: 'Daftar Masjid Utama', params: [] },\r\n            { id: 'kemenag-masjid-nearby', path: '/kemenag/masjid/nearby', name: 'Masjid Terdekat (Geo)', params: [{ name: 'lat', type: 'text', default: '-6.1751' }, { name: 'lng', type: 'text', default: '106.8272' }, { name: 'radius', type: 'number', default: '5', hint: 'Radius dalam KM' }] },\r\n          ],\r\n          sejarah: [\r\n            { id: 'sejarah-list', path: '/sejarah', name: 'Daftar Sirah Nabawiyah', params: [] },\r\n            { id: 'sejarah-today', path: '/sejarah/today', name: 'Peristiwa Hari Ini', params: [] },\r\n            { id: 'sejarah-detail', path: '/sejarah/detail', name: 'Detail Sejarah', params: [{ name: 'id', type: 'number', default: '1', placeholder: '1' }] },\r\n          ],\r\n          puasa: [\r\n            { id: 'puasa-all', path: '/puasa', name: 'Daftar Puasa (Wajib & Sunnah)', params: [] },\r\n            { id: 'puasa-fiqh', path: '/puasa/fiqh', name: 'Fiqh & Adab Puasa (70 Masalah)', params: [] },\r\n            { id: 'puasa-find', path: '/puasa/find', name: 'Cari Puasa', params: [{ name: 'query', type: 'text', default: 'bidh', placeholder: 'bidh' }] },\r\n            { id: 'puasa-type', path: '/puasa/type/mingguan', name: 'Filter by Tipe', params: [\r\n              { name: 'type', type: 'select', default: 'mingguan', options: [\r\n                { value: 'mingguan', label: 'Mingguan' },\r\n                { value: 'bulanan', label: 'Bulanan' },\r\n                { value: 'tahunan', label: 'Tahunan' }\r\n              ]}\r\n            ]},\r\n          ],\r\n          tools: [\r\n            { id: 'tools-quotes', path: '/tools/quotes/daily', name: 'Daily Quotes', params: [] },\r\n            { id: 'tools-zakat', path: '/tools/zakat', name: 'Kalkulator Zakat', params: [\r\n              { name: 'type', type: 'select', default: 'maal', options: [{value:'maal', label:'Zakat Maal'}, {value:'penghasilan', label:'Zakat Penghasilan'}, {value:'fitrah', label:'Zakat Fitrah'}] },\r\n              { name: 'amount', type: 'number', default: '100000000', hint: 'Jumlah harta/pendapatan' },\r\n              { name: 'hargaEmas', type: 'number', default: '1200000', hint: 'Harga emas per gram (opsional)' },\r\n              { name: 'hargaBeras', type: 'number', default: '15000', hint: 'Harga beras per kg (Zakat Fitrah)' },\r\n              { name: 'jumlahOrang', type: 'number', default: '1', hint: 'Jumlah jiwa (Zakat Fitrah)' }\r\n            ]},\r\n            { id: 'tools-faraidh', path: '/tools/faraidh', name: 'Kalkulator Waris (Faraidh)', params: [\r\n              { name: 'totalHarta', type: 'number', default: '120000000', hint: 'Total harta warisan' },\r\n              { name: 'suami', type: 'number', default: '1', hint: 'Jumlah suami (0-1)' },\r\n              { name: 'istri', type: 'number', default: '0', hint: 'Jumlah istri' },\r\n              { name: 'anakLk', type: 'number', default: '1', hint: 'Jumlah anak laki-laki' },\r\n              { name: 'anakPr', type: 'number', default: '1', hint: 'Jumlah anak perempuan' },\r\n              { name: 'ayah', type: 'select', default: 'false', options: [{value:'true', label:'Ada'}, {value:'false', label:'Tidak Ada'}] },\r\n              { name: 'ibu', type: 'select', default: 'false', options: [{value:'true', label:'Ada'}, {value:'false', label:'Tidak Ada'}] }\r\n            ]},\r\n            { id: 'tools-qibla', path: '/tools/qibla', name: 'Arah Kiblat', params: [{ name: 'lat', type: 'text', default: '-6.1751' }, { name: 'lng', type: 'text', default: '106.8272' }] },\r\n            { id: 'tools-search', path: '/tools/semantic-search', name: 'Pencarian Semantik (AI)', params: [{ name: 'query', type: 'text', default: 'sabar', hint: 'Cari di Quran & Hadits' }] },\r\n          ],\r\n          integrity: [\r\n            { id: 'integrity-chain', path: '/integrity/chain', name: 'Integrity Chain', params: [] },\r\n            { id: 'integrity-verify', path: '/integrity/verify/ayah', name: 'Verifikasi Ayah', params: [{ name: 'surahId', placeholder: '1', type: 'number', default: '1' }, { name: 'ayahId', placeholder: '1', type: 'number', default: '1' }] },\r\n          ],\r\n          analytics: [\r\n            { id: 'analytics-global', path: '/analytics', name: 'Global Spiritual Analytics', params: [] },\r\n            { id: 'analytics-khatam', path: '/analytics/khatam', name: 'Lapor Khatam (Post)', params: [], method: 'POST' },\r\n          ],\r\n          other: [\r\n            { id: 'asma-list', path: '/asma', name: 'Semua Asmaul Husna', params: [] },\r\n            { id: 'asma-detail', path: '/asma', name: 'Detail Asmaul Husna', params: [{ name: 'id', placeholder: '1-99', type: 'number', default: '1', hint: 'Nomor 1-99' }] },\r\n            { id: 'doa-list', path: '/doa', name: 'Daftar Doa', params: [] },\r\n            { id: 'doa-detail', path: '/doa', name: 'Detail Doa', params: [{ name: 'id', placeholder: '1-30', type: 'number', default: '1', hint: 'ID Doa (1-30+)' }] },\r\n            { id: 'dzikir', path: '/dzikir', name: 'Dzikir Pagi Petang', params: [] },\r\n            { id: 'asbab-list', path: '/asbab', name: 'Daftar Asbabun Nuzul', params: [] },\r\n            { id: 'asbab-detail', path: '/asbab', name: 'Detail Asbabun Nuzul', params: [{ name: 'id', placeholder: 'ID', type: 'number', default: '1' }] },\r\n            { id: 'calendar-hijri', path: '/calendar/hijri', name: 'Konversi ke Hijriah', params: [{ name: 'date', placeholder: '2025-12-25', type: 'date', default: new Date().toISOString().split('T')[0], hint: 'Format: YYYY-MM-DD' }, { name: 'adj', placeholder: '0', type: 'number', default: '0', hint: 'Koreksi hari (-2 s/d 2)' }] },\r\n            { id: 'calendar-masehi', path: '/calendar/masehi', name: 'Konversi ke Masehi', params: [{ name: 'day', placeholder: '1', type: 'number', default: '1' }, { name: 'month', placeholder: '1', type: 'number', default: '1' }, { name: 'year', placeholder: '1447', type: 'number', default: '1447' }] },\r\n          ]\r\n        };\r\n\r\n        let currentCategory = 'quran';\r\n        let currentEndpoint = null;\r\n        let isInitialLoad = true;\r\n\r\n        window.updateEndpoints = (category) => {\r\n          currentCategory = category;\r\n          const select = document.getElementById('endpoint-select');\r\n          const data = endpoints[category];\r\n          select.innerHTML = data.map(ep => '<option value=\"' + ep.id + '\">' + ep.name + ' (' + ep.path + ')</option>').join('');\r\n          window.updateParams(data[0].id);\r\n        };\r\n\r\n        window.updateParams = (endpointId) => {\r\n          const endpoint = endpoints[currentCategory].find(ep => ep.id === endpointId);\r\n          currentEndpoint = endpoint;\r\n          const container = document.getElementById('params-container');\r\n          const fields = document.getElementById('params-fields');\r\n          \r\n          if (endpoint.params.length > 0) {\r\n            container.classList.remove('hidden');\r\n            fields.innerHTML = endpoint.params.map(param => {\r\n              if (param.type === 'select') {\r\n                const optionsHtml = param.options.map(opt => \r\n                  '<option value=\"' + opt.value + '\" ' + (opt.value === param.default ? 'selected' : '') + '>' + opt.label + '</option>'\r\n                ).join('');\r\n\r\n                return '<div class=\"space-y-1\">' +\r\n                    '<label class=\"block text-[10px] font-bold text-slate-500 uppercase tracking-wider\">' + param.name + '</label>' +\r\n                    '<div class=\"relative\">' +\r\n                      '<select name=\"' + param.name + '\" class=\"px-3 py-2 pr-8 w-full text-sm bg-white rounded-lg border transition-all appearance-none cursor-pointer border-slate-200 focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500\">' +\r\n                        optionsHtml +\r\n                      '</select>' +\r\n                      '<div class=\"flex absolute inset-y-0 right-0 items-center px-2 pointer-events-none text-slate-400\">' +\r\n                        '<svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M19 9l-7 7-7-7\"></path></svg>' +\r\n                      '</div>' +\r\n                    '</div>' +\r\n                    (param.hint ? '<p class=\"text-[10px] text-slate-400 italic leading-tight\">' + param.hint + '</p>' : '') +\r\n                  '</div>';\r\n              }\r\n              return '<div class=\"space-y-1\">' +\r\n                  '<label class=\"block text-[10px] font-bold text-slate-500 uppercase tracking-wider\">' + param.name + '</label>' +\r\n                  '<input type=\"' + param.type + '\" name=\"' + param.name + '\" value=\"' + (param.default || '') + '\" placeholder=\"' + param.placeholder + '\" class=\"px-3 py-2 w-full text-sm bg-white rounded-lg border transition-all border-slate-200 focus:outline-none focus:ring-2 focus:ring-emerald-500/20 focus:border-emerald-500\" />' +\r\n                  (param.hint ? '<p class=\"text-[10px] text-slate-400 italic leading-tight\">' + param.hint + '</p>' : '') +\r\n                '</div>';\r\n            }).join('');\r\n          } else {\r\n            container.classList.add('hidden');\r\n            fields.innerHTML = '';\r\n          }\r\n        };\r\n\r\n        window.sendRequest = async () => {\r\n          const loader = document.getElementById('loader');\r\n          const statusBadge = document.getElementById('status-badge');\r\n          const responseTime = document.getElementById('response-time');\r\n          const responseSize = document.getElementById('response-size');\r\n          \r\n          loader.classList.remove('hidden');\r\n          const startTime = performance.now();\r\n\r\n          try {\r\n            const inputs = document.querySelectorAll('#params-fields input, #params-fields select');\r\n            let path = currentEndpoint.path;\r\n            const queryParams = new URLSearchParams();\r\n\r\n            inputs.forEach(input => {\r\n              if (path.includes(':' + input.name)) {\r\n                path = path.replace(':' + input.name, encodeURIComponent(input.value));\r\n              } else if (input.value) {\r\n                queryParams.append(input.name, input.value);\r\n              }\r\n            });\r\n\r\n            const queryString = queryParams.toString();\r\n            const fullUrl = \\`\\${window.location.origin}/v1\\${path}\\${queryString ? '?' + queryString : ''}\\`;\r\n            \r\n            const fetchOptions = {\r\n              method: currentEndpoint.method || 'GET',\r\n              headers: {\r\n                'Content-Type': 'application/json'\r\n              }\r\n            };\r\n            \r\n            const response = await fetch(fullUrl, fetchOptions);\r\n            const data = await response.json();\r\n            const endTime = performance.now();\r\n\r\n            if (editor) {\r\n              editor.set(data);\r\n              editor.expandAll();\r\n            }\r\n\r\n            // Update stats\r\n            statusBadge.innerHTML = \\`\\u003Cspan class=\"px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider \\${response.ok ? 'bg-emerald-500/20 text-emerald-400 border border-emerald-500/30' : 'bg-rose-500/20 text-rose-400 border border-rose-500/30'}\"\\u003E\\${response.status} \\${response.statusText}\\u003C/span\\u003E\\`;\r\n            statusBadge.classList.remove('hidden');\r\n            responseTime.textContent = \\`Time: \\${Math.round(endTime - startTime)}ms\\`;\r\n            responseSize.textContent = \\`Size: \\${(JSON.stringify(data).length / 1024).toFixed(2)}KB\\`;\r\n\r\n          } catch (error) {\r\n            if (editor) {\r\n              editor.set({ error: error.message });\r\n              editor.expandAll();\r\n            }\r\n          } finally {\r\n            loader.classList.add('hidden');\r\n          }\r\n        };\r\n\r\n        // Initialize from URL params if exists\r\n        window.addEventListener('load', () => {\r\n          const urlParams = new URLSearchParams(window.location.search);\r\n          const category = urlParams.get('category') || 'quran';\r\n          const endpointId = urlParams.get('endpoint');\r\n\r\n          document.getElementById('category-select').value = category;\r\n          window.updateEndpoints(category);\r\n\r\n          if (endpointId) {\r\n            document.getElementById('endpoint-select').value = endpointId;\r\n            window.updateParams(endpointId);\r\n            // Auto send request if directed from other pages\r\n            setTimeout(() => window.sendRequest(), 500);\r\n          }\r\n        });\r\n      ` }} />\r\n      <script src=\"https://cdnjs.cloudflare.com/ajax/libs/jsoneditor/9.10.2/jsoneditor.min.js\"></script>\r\n      <link href=\"https://cdnjs.cloudflare.com/ajax/libs/jsoneditor/9.10.2/jsoneditor.min.css\" rel=\"stylesheet\" type=\"text/css\" />\r\n    </div>\r\n  )\r\n}\r\n", "/** @jsx jsx */\r\nimport { jsx } from 'hono/jsx';\r\n\r\nexport const Status = ({ baseUrl }) => {\r\n  return (\r\n    <div class=\"min-h-screen bg-slate-50 pb-20\">\r\n      {/* Hero Section */}\r\n      <div class=\"bg-gradient-to-b from-emerald-600 to-emerald-800 text-white pt-20 pb-32\">\r\n        <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center\">\r\n          <div class=\"inline-flex items-center gap-2 px-3 py-1 rounded-full bg-emerald-500/20 border border-emerald-400/30 text-emerald-100 text-xs font-bold mb-6 backdrop-blur-sm\">\r\n            <span class=\"relative flex h-2 w-2\">\r\n              <span class=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75\"></span>\r\n              <span class=\"relative inline-flex rounded-full h-2 w-2 bg-emerald-400\"></span>\r\n            </span>\r\n            SYSTEM STATUS: OPERATIONAL\r\n          </div>\r\n          <h1 class=\"text-4xl md:text-5xl font-extrabold mb-6 tracking-tight\">\r\n            API System Monitoring\r\n          </h1>\r\n          <p class=\"text-emerald-100/80 text-lg max-w-2xl mx-auto leading-relaxed\">\r\n            Real-time monitoring and health checks for all Muslim API services and external providers.\r\n          </p>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 -mt-20\">\r\n        {/* Status Grid */}\r\n        <div id=\"status-grid\" class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {/* Internal Services */}\r\n          <div class=\"col-span-full mb-4\">\r\n            <h2 class=\"text-xl font-bold text-slate-900 flex items-center gap-2\">\r\n              <div class=\"w-2 h-6 bg-emerald-500 rounded-full\"></div>\r\n              Core & Internal Services\r\n            </h2>\r\n          </div>\r\n          \r\n          <StatusCard \r\n            name=\"Core API Engine\" \r\n            endpoint=\"/health\" \r\n            description=\"Status inti sistem\"\r\n            type=\"internal\"\r\n          />\r\n          <StatusCard \r\n            name=\"Al-Quran API\" \r\n            endpoint=\"/surah\" \r\n            description=\"Teks, terjemahan, dan tafsir Al-Quran\"\r\n            type=\"internal\"\r\n          />\r\n          <StatusCard \r\n            name=\"Jadwal Sholat API\" \r\n            endpoint=\"/sholat/kota/semua\" \r\n            description=\"Layanan data waktu sholat\"\r\n            type=\"internal\"\r\n          />\r\n          <StatusCard \r\n            name=\"Hadits API\" \r\n            endpoint=\"/hadits?nomor=1\" \r\n            description=\"Koleksi Hadits Arbain & 9 Imam\"\r\n            type=\"internal\"\r\n          />\r\n          <StatusCard \r\n            name=\"Sejarah API\" \r\n            endpoint=\"/sejarah\" \r\n            description=\"Sejarah Islam & Sirah Nabawiyah\"\r\n            type=\"internal\"\r\n          />\r\n          <StatusCard \r\n            name=\"Kemenag API\" \r\n            endpoint=\"/kemenag/masjid\" \r\n            description=\"Data Masjid, Pesantren, & Libur\"\r\n            type=\"internal\"\r\n          />\r\n          <StatusCard \r\n            name=\"Integrity System\" \r\n            endpoint=\"/integrity/verify\" \r\n            description=\"Data integrity verification chain\"\r\n            type=\"internal\"\r\n          />\r\n\r\n          {/* External Providers */}\r\n          <div class=\"col-span-full mt-8 mb-4\">\r\n            <h2 class=\"text-xl font-bold text-slate-900 flex items-center gap-2\">\r\n              <div class=\"w-2 h-6 bg-blue-500 rounded-full\"></div>\r\n              External Data Providers\r\n            </h2>\r\n          </div>\r\n\r\n          <StatusCard \r\n            name=\"equran.id\" \r\n            endpoint=\"https://equran.id/api/v2/surat\" \r\n            description=\"Audio Murottal & Quran v2\"\r\n            type=\"external\"\r\n          />\r\n          <StatusCard \r\n            name=\"MyQuran API\" \r\n            endpoint=\"https://api.myquran.com/v2/sholat/kota/semua\" \r\n            description=\"Source data Jadwal Sholat\"\r\n            type=\"external\"\r\n          />\r\n          <StatusCard \r\n            name=\"Hadith Gading\" \r\n            endpoint=\"https://api.hadith.gading.dev/books\" \r\n            description=\"Source data Hadits Besar\"\r\n            type=\"external\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <script dangerouslySetInnerHTML={{ __html: `\r\n        (function() {\r\n          window.baseUrl = \"${baseUrl}\";\r\n          \r\n          async function checkStatus(card) {\r\n            const endpoint = card.dataset.endpoint;\r\n            const type = card.dataset.type;\r\n            \r\n            let fullUrl;\r\n            if (type === 'internal') {\r\n              // Use relative paths to avoid Mixed Content issues\r\n              fullUrl = endpoint === '/health' ? '/health' : '/v1' + endpoint;\r\n            } else {\r\n              fullUrl = endpoint;\r\n            }\r\n            \r\n            const statusEl = card.querySelector('.status-indicator');\r\n            const textEl = card.querySelector('.status-text');\r\n            const latencyEl = card.querySelector('.latency-text');\r\n            const uptimeEl = card.querySelector('.uptime-bar');\r\n            \r\n            const start = performance.now();\r\n            try {\r\n              const fetchOptions = type === 'internal' ? { mode: 'cors' } : { mode: 'no-cors' };\r\n              const response = await fetch(fullUrl, fetchOptions);\r\n              const latency = Math.round(performance.now() - start);\r\n              \r\n              const isOnline = type === 'internal' ? response.ok : true;\r\n              \r\n              if (isOnline) {\r\n                statusEl.className = 'status-indicator w-3 h-3 rounded-full bg-emerald-500 shadow-[0_0_10px_rgba(16,185,129,0.5)]';\r\n                textEl.innerText = 'Online';\r\n                textEl.className = 'status-text text-sm font-bold text-emerald-600';\r\n                latencyEl.innerText = latency + 'ms';\r\n                updateUptimeBar(uptimeEl, true);\r\n              } else {\r\n                throw new Error('Offline');\r\n              }\r\n            } catch (error) {\r\n              statusEl.className = 'status-indicator w-3 h-3 rounded-full bg-red-500 shadow-[0_0_10px_rgba(239,68,68,0.5)]';\r\n              textEl.innerText = 'Offline';\r\n              textEl.className = 'status-text text-sm font-bold text-red-600';\r\n              latencyEl.innerText = '-- ms';\r\n              updateUptimeBar(uptimeEl, false);\r\n            }\r\n          }\r\n\r\n          function updateUptimeBar(el, isOnline) {\r\n            const dots = el.querySelectorAll('.uptime-dot');\r\n            const lastIndex = dots.length - 1;\r\n            for(let i = 0; i < lastIndex; i++) {\r\n              dots[i].className = dots[i+1].className;\r\n            }\r\n            dots[lastIndex].className = 'uptime-dot h-4 w-1 rounded-full ' + (isOnline ? 'bg-emerald-500' : 'bg-red-500');\r\n          }\r\n\r\n          function initStatus() {\r\n            const cards = document.querySelectorAll('.status-card');\r\n            cards.forEach(card => {\r\n              checkStatus(card);\r\n              setInterval(() => checkStatus(card), 30000);\r\n            });\r\n          }\r\n\r\n          if (document.readyState === 'loading') {\r\n            document.addEventListener('DOMContentLoaded', initStatus);\r\n          } else {\r\n            initStatus();\r\n          }\r\n          \r\n          window.addEventListener('load', function() {\r\n            const cards = document.querySelectorAll('.status-card');\r\n            const firstCard = cards[0];\r\n            if (firstCard) {\r\n              const textEl = firstCard.querySelector('.status-text');\r\n              if (textEl && textEl.innerText === 'Checking...') {\r\n                initStatus();\r\n              }\r\n            }\r\n          });\r\n        })();\r\n      `}} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst StatusCard = ({ name, endpoint, description, type }) => {\r\n  return (\r\n    <div \r\n      class=\"status-card bg-white rounded-2xl border border-slate-200 p-6 shadow-sm hover:shadow-md transition-all group\"\r\n      data-endpoint={endpoint}\r\n      data-type={type}\r\n    >\r\n      <div class=\"flex justify-between items-start mb-4\">\r\n        <div>\r\n          <h3 class=\"font-bold text-slate-900 group-hover:text-emerald-600 transition-colors\">{name}</h3>\r\n          <p class=\"text-xs text-slate-500 mt-1\">{description}</p>\r\n        </div>\r\n        <div class=\"flex flex-col items-end\">\r\n          <div class=\"flex items-center gap-2 bg-slate-50 px-3 py-1 rounded-full border border-slate-100\">\r\n            <div class=\"status-indicator w-3 h-3 rounded-full bg-slate-300 animate-pulse\"></div>\r\n            <span class=\"status-text text-sm font-bold text-slate-400 italic\">Checking...</span>\r\n          </div>\r\n          <span class=\"latency-text text-[10px] font-mono text-slate-400 mt-2\">-- ms</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"space-y-3\">\r\n        <div class=\"flex justify-between items-center text-[10px] text-slate-400 font-bold uppercase tracking-wider\">\r\n          <span>Uptime (Last 24h)</span>\r\n          <span>99.9%</span>\r\n        </div>\r\n        <div class=\"uptime-bar flex gap-0.5 h-4\">\r\n          {[...Array(40)].map((_, i) => (\r\n            <div key={i} class=\"uptime-dot h-4 w-1 rounded-full bg-emerald-500/20\"></div>\r\n          ))}\r\n        </div>\r\n        <div class=\"flex justify-between text-[10px] text-slate-300\">\r\n          <span>24h ago</span>\r\n          <span>Just now</span>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"mt-6 pt-4 border-t border-slate-50\">\r\n        <div class=\"flex items-center justify-between\">\r\n          <span class=\"text-[10px] text-slate-400 font-mono truncate max-w-[180px]\">{endpoint}</span>\r\n          <div class=\"flex gap-2\">\r\n             <div class=\"w-1.5 h-1.5 rounded-full bg-emerald-400\"></div>\r\n             <div class=\"w-1.5 h-1.5 rounded-full bg-emerald-400\"></div>\r\n             <div class=\"w-1.5 h-1.5 rounded-full bg-emerald-400\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n", "/** @jsx jsx */\r\nimport { Hono } from 'hono';\r\nimport { jsx } from 'hono/jsx';\r\nimport { Layout } from '../components/Layout.jsx';\r\nimport { Home } from '../components/Home.jsx';\r\nimport { Other } from '../components/Other.jsx';\r\nimport { Landing } from '../components/Landing.jsx';\r\nimport { Playground } from '../components/Playground.jsx';\r\nimport { Status } from '../components/Status.jsx';\r\nimport { getSejarah } from '../utils/jsonHandler.js';\r\n\r\nconst router = new Hono();\r\n\r\nconst getBaseUrl = (c) => {\r\n  const url = new URL(c.req.url);\r\n  const proto = c.req.header('x-forwarded-proto') || url.protocol.split(':')[0];\r\n  return `${proto}://${url.host}/v1`;\r\n};\r\n\r\nrouter.get(\"/\", async (c) => {\r\n  const sejarah = await getSejarah();\r\n  return c.html(\r\n    <Layout title=\"Muslim All-In-One API | Platform Data Islami Terlengkap\">\r\n      <Landing sejarah={sejarah} />\r\n    </Layout>\r\n  );\r\n});\r\n\r\nrouter.get(\"/docs\", (c) => {\r\n  const baseUrl = getBaseUrl(c);\r\n  \r\n  return c.html(\r\n    <Layout title=\"Muslim API | Documentation\">\r\n      <Home baseUrl={baseUrl} />\r\n    </Layout>\r\n  );\r\n});\r\n\r\nrouter.get(\"/other\", (c) => {\r\n  return c.html(\r\n    <Layout title=\"Muslim All-in-One API | Resources\">\r\n      <Other />\r\n    </Layout>\r\n  );\r\n});\r\n\r\nrouter.get(\"/playground\", (c) => {\r\n  const baseUrl = getBaseUrl(c);\r\n  \r\n  return c.html(\r\n    <Layout title=\"Muslim API | Playground\">\r\n      <Playground baseUrl={baseUrl} />\r\n    </Layout>\r\n  );\r\n});\r\n\r\nrouter.get(\"/status\", (c) => {\r\n  const baseUrl = getBaseUrl(c);\r\n  \r\n  return c.html(\r\n    <Layout title=\"Muslim API | System Status\">\r\n      <Status baseUrl={baseUrl} />\r\n    </Layout>\r\n  );\r\n});\r\n\r\nexport default router;\r\n", "import { Hono } from 'hono';\r\nimport { getAsbabNuzul } from '../../../utils/jsonHandler.js';\r\n\r\nconst asbab = new Hono();\r\n\r\nasbab.get('/', async (c) => {\r\n  try {\r\n    const id = c.req.query('asbabId') || c.req.query('id');\r\n    const allAsbab = await getAsbabNuzul();\r\n    if (!allAsbab) return c.json({ status: false, message: 'Daftar Asbabun Nuzul tidak tersedia.', data: [] }, 404);\r\n\r\n    if (id == null) {\r\n      const sortedData = [...allAsbab].sort((a, b) => parseInt(a.id) - parseInt(b.id));\r\n      return c.json({ status: true, message: 'Berhasil mendapatkan daftar Asbabun Nuzul.', data: sortedData });\r\n    } else {\r\n      const data = allAsbab.find(a => a.id == id);\r\n      if (!data) {\r\n        return c.json({ status: false, message: 'Asbabun Nuzul tidak ditemukan.', data: {} }, 404);\r\n      } else {\r\n        return c.json({ status: true, message: 'Berhasil mendapatkan detail Asbabun Nuzul.', data: data });\r\n      }\r\n    }\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan data Asbabun Nuzul: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\nexport default asbab;\r\n", "import { Hono } from 'hono';\r\nimport { getAsmaulHusna } from '../../../utils/jsonHandler.js';\r\n\r\nconst asma = new Hono();\r\n\r\nasma.get('/', async (c) => {\r\n  try {\r\n    const id = c.req.query('asmaId') || c.req.query('id');\r\n    const allAsma = await getAsmaulHusna();\r\n    if (!allAsma) return c.json({ status: false, message: 'Daftar Asmaul Husna tidak tersedia.', data: [] }, 404);\r\n\r\n    if (id != null) {\r\n      const data = allAsma.find(a => a.id == id);\r\n      if (!data) {\r\n        return c.json({ status: false, message: 'Asmaul Husna tidak ditemukan.', data: {} }, 404);\r\n      } else {\r\n        return c.json({ status: true, message: 'Berhasil mendapatkan detail Asmaul Husna.', data });\r\n      }\r\n    } else {\r\n      const sortedData = [...allAsma].sort((a, b) => parseInt(a.id) - parseInt(b.id));\r\n      return c.json({ status: true, message: 'Berhasil mendapatkan daftar Asmaul Husna.', data: sortedData });\r\n    }\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan data Asmaul Husna: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\nexport default asma;\r\n", "import { Hono } from 'hono';\r\nimport { getAyahBySurah, getSurahList, updateAnalytics } from '../../../utils/jsonHandler.js';\r\n\r\nconst ayah = new Hono();\r\n\r\nconst formatAyah = (a) => {\r\n  if (!a) return a;\r\n  return {\r\n    ...a,\r\n    audio_partial: typeof a.audio_partial === 'string' ? JSON.parse(a.audio_partial) : (a.audio_partial || {})\r\n  };\r\n};\r\n\r\nayah.get('/', async (c) => {\r\n  try {\r\n    const surahList = await getSurahList();\r\n    let allAyahs = [];\r\n    for (const s of surahList) {\r\n      const ayahs = await getAyahBySurah(s.number);\r\n      if (ayahs) allAyahs.push(...ayahs);\r\n    }\r\n    return c.json({ status: true, message: 'Berhasil mendapatkan daftar seluruh ayat.', data: allAyahs.map(formatAyah) });\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan daftar ayat: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\nayah.get('/range', async (c) => {\r\n  try {\r\n    const surahId = c.req.query('surahId') || c.req.query('id');\r\n    const start = parseInt(c.req.query('start'));\r\n    const end = parseInt(c.req.query('end'));\r\n    \r\n    if (surahId != null && !isNaN(start) && !isNaN(end)) {\r\n      const ayahs = await getAyahBySurah(surahId);\r\n      if (!ayahs) {\r\n        return c.json({ status: false, message: 'Surah tidak ditemukan.' }, 404);\r\n      }\r\n      const data = ayahs.filter(a => {\r\n        const num = parseInt(a.ayah);\r\n        return num >= start && num <= end;\r\n      });\r\n      return c.json({ status: true, message: `Berhasil mendapatkan ayat dari surah ${surahId} rentang ${start}-${end}.`, data: data.map(formatAyah) });\r\n    } else {\r\n      return c.json({\r\n        status: false,\r\n        message: \"Parameter diperlukan (surahId, start, end).\",\r\n      }, 400);\r\n    }\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan rentang ayat: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\nayah.get('/surah', async (c) => {\r\n  try {\r\n    const id = c.req.query('surahId') || c.req.query('id');\r\n    if (id != null) {\r\n      const data = await getAyahBySurah(id);\r\n      if (!data) {\r\n        return c.json({ status: false, message: `Surah ${id} tidak ditemukan.`, data: [] }, 404);\r\n      }\r\n      return c.json({ status: true, message: `Berhasil mendapatkan daftar ayat untuk surah ${id}.`, data: data.map(formatAyah) });\r\n    } else {\r\n      return c.json({\r\n        status: false,\r\n        message: \"Parameter diperlukan (surahId).\",\r\n      }, 400);\r\n    }\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan ayat surah: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\nayah.get('/juz', async (c) => {\r\n  try {\r\n    const id = c.req.query('juzId') || c.req.query('id');\r\n    if (id != null) {\r\n      const surahList = await getSurahList();\r\n      let juzAyahs = [];\r\n      for (const s of surahList) {\r\n        const ayahs = await getAyahBySurah(s.number);\r\n        if (ayahs) {\r\n          const filtered = ayahs.filter(a => a.juz == id);\r\n          juzAyahs.push(...filtered);\r\n        }\r\n      }\r\n      return c.json({ status: true, message: `Berhasil mendapatkan daftar ayat untuk juz ${id}.`, data: juzAyahs.map(formatAyah) });\r\n    } else {\r\n      return c.json({\r\n        status: false,\r\n        message: \"Parameter diperlukan (juzId).\",\r\n      }, 400);\r\n    }\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan ayat juz: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\nayah.get('/page', async (c) => {\r\n  try {\r\n    const id = c.req.query('page') || c.req.query('id');\r\n    if (id != null) {\r\n      const surahList = await getSurahList();\r\n      let pageAyahs = [];\r\n      for (const s of surahList) {\r\n        const ayahs = await getAyahBySurah(s.number);\r\n        if (ayahs) {\r\n          const filtered = ayahs.filter(a => a.page == id);\r\n          pageAyahs.push(...filtered);\r\n        }\r\n      }\r\n      return c.json({ status: true, message: `Berhasil mendapatkan daftar ayat untuk halaman ${id}.`, data: pageAyahs.map(formatAyah) });\r\n    } else {\r\n      return c.json({\r\n        status: false,\r\n        message: \"Parameter diperlukan (page).\",\r\n      }, 400);\r\n    }\r\n  } catch (error) {\r\n    return c.json({ status: false, message: error.message }, 500);\r\n  }\r\n});\r\n\r\nayah.get('/specific', async (c) => {\r\n  try {\r\n    const surahId = c.req.query('surahId') || c.req.query('id');\r\n    const ayahId = c.req.query('ayahId');\r\n    if (surahId != null && ayahId != null) {\r\n      const ayahs = await getAyahBySurah(surahId);\r\n      if (!ayahs) {\r\n        return c.json({ status: false, message: `Surah ${surahId} tidak ditemukan.`, data: {} }, 404);\r\n      }\r\n      \r\n      const data = ayahs.find(a => a.ayah == ayahId);\r\n      if (!data) {\r\n        return c.json({ status: false, message: `Ayat ${ayahId} pada surah ${surahId} tidak ditemukan.`, data: {} }, 404);\r\n      } else {\r\n        const formatted = formatAyah(data);\r\n        // Tambahkan link verifikasi eksternal ke Kemenag RI\r\n        formatted.external_verification = `https://quran.kemenag.go.id/quran/per-ayat/surah/${surahId}?from=${ayahId}&to=${ayahId}`;\r\n        \r\n        // Track ayah read analytics\r\n        updateAnalytics('ayah', `${surahId}:${ayahId}`).catch(err => console.error('Analytics error:', err));\r\n        \r\n        return c.json({ status: true, message: `Berhasil mendapatkan detail ayat ${ayahId} pada surah ${surahId}.`, data: formatted });\r\n      }\r\n    } else {\r\n      return c.json({\r\n        status: false,\r\n        message: \"Parameter diperlukan (surahId, ayahId).\",\r\n      }, 400);\r\n    }\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan detail ayat: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\nayah.get('/find', async (c) => {\r\n  try {\r\n    const q = c.req.query('query');\r\n    if (q != null && q.length > 3) {\r\n      const surahList = await getSurahList();\r\n      let results = [];\r\n      const queryLower = q.toLowerCase();\r\n\r\n      for (const s of surahList) {\r\n        const ayahs = await getAyahBySurah(s.number);\r\n        if (ayahs) {\r\n          const matched = ayahs.filter(a => a.text && a.text.toLowerCase().includes(queryLower));\r\n          results.push(...matched);\r\n        }\r\n        // Batasi hasil pencarian agar tidak terlalu berat\r\n        if (results.length >= 100) break;\r\n      }\r\n      \r\n      if (results.length === 0) {\r\n        return c.json({ \r\n          status: false, \r\n          message: `Tidak ada ayat yang ditemukan dengan kata kunci: ${q}.`,\r\n          data: []\r\n        }, 404);\r\n      }\r\n\r\n      return c.json({ status: true, message: `Berhasil mencari ayat dengan kata kunci: ${q}.`, data: results.map(formatAyah) });\r\n    } else {\r\n      return c.json({\r\n        status: false,\r\n        message: \"Parameter diperlukan (query). Harus lebih dari 3 karakter.\",\r\n      }, 400);\r\n    }\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mencari ayat: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\nexport default ayah;\r\n", "import { Hono } from 'hono';\r\nimport { getCalendarMonths, getCalendarDays } from '../../../utils/jsonHandler.js';\r\n\r\nconst calendar = new Hono();\r\n\r\n// Helper to get calendar data from JSON\r\nconst getCalendarData = async () => {\r\n  const months = await getCalendarMonths();\r\n  const days = await getCalendarDays();\r\n\r\n  if (!months || !days) {\r\n    throw new Error('Data kalender tidak tersedia.');\r\n  }\r\n\r\n  return {\r\n    islamicMonths: months.filter(m => m.type === 'islamic').sort((a, b) => a.month_index - b.month_index).map(m => m.name),\r\n    jawaMonths: months.filter(m => m.type === 'jawa').sort((a, b) => a.month_index - b.month_index).map(m => m.name),\r\n    gregorianMonths: months.filter(m => m.type === 'gregorian').sort((a, b) => a.month_index - b.month_index).map(m => m.name),\r\n    pasaran: days.filter(d => d.type === 'pasaran').sort((a, b) => a.day_index - b.day_index).map(d => d.name),\r\n    jawaDays: days.filter(d => d.type === 'jawa').sort((a, b) => a.day_index - b.day_index).map(d => d.name),\r\n    gregorianDays: days.filter(d => d.type === 'gregorian').sort((a, b) => a.day_index - b.day_index).map(d => d.name)\r\n  };\r\n};\r\n\r\n// Algoritma konversi Kalender Hijriah (Kuwaiti Algorithm dengan koreksi Kemenag)\r\n// Kemenag biasanya menggunakan kriteria MABIMS (koreksi +/- 1 hari)\r\nconst g2h = (date, adjustment = 0, calData) => {\r\n  let tempDate = new Date(date);\r\n  if (adjustment !== 0) {\r\n    tempDate.setDate(tempDate.getDate() + adjustment);\r\n  }\r\n  \r\n  let d = tempDate.getDate();\r\n  let m = tempDate.getMonth() + 1;\r\n  let y = tempDate.getFullYear();\r\n\r\n  if (m < 3) {\r\n    y -= 1;\r\n    m += 12;\r\n  }\r\n\r\n  let a = Math.floor(y / 100);\r\n  let b = 2 - a + Math.floor(a / 4);\r\n  let jd = Math.floor(365.25 * (y + 4716)) + Math.floor(30.6001 * (m + 1)) + d + b - 1524;\r\n\r\n  let l = jd - 1948440 + 10632;\r\n  let n = Math.floor((l - 1) / 10631);\r\n  l = l - 10631 * n + 354;\r\n  let j = (Math.floor((10985 - l) / 5316)) * (Math.floor((50 * l) / 17719)) + (Math.floor(l / 5670)) * (Math.floor((43 * l) / 15238));\r\n  l = l - (Math.floor((30 - j) / 15)) * (Math.floor((17719 * j) / 50)) - (Math.floor(j / 16)) * (Math.floor((15238 * j) / 43)) + 29;\r\n  \r\n  let month = Math.floor((24 * l) / 709);\r\n  let day = l - Math.floor((709 * month) / 24);\r\n  let year = 30 * n + j - 30;\r\n\r\n  const { islamicMonths, jawaMonths, pasaran, jawaDays } = calData;\r\n\r\n  // 1 Januari 1970 adalah Kamis Wage (Wage = index 3)\r\n  const baseDate = new Date(1970, 0, 1);\r\n  const diffDays = Math.floor((date.getTime() - baseDate.getTime()) / (1000 * 60 * 60 * 24));\r\n  const pasaranIndex = (((diffDays + 3) % 5) + 5) % 5;\r\n  const jawaDayIndex = date.getDay();\r\n\r\n  return {\r\n    day,\r\n    month: month,\r\n    month_name: islamicMonths[month - 1],\r\n    year,\r\n    jawa: {\r\n      day,\r\n      month: month,\r\n      month_name: jawaMonths[month - 1],\r\n      year: year + 512,\r\n      pasaran: pasaran[pasaranIndex],\r\n      day_name: jawaDays[jawaDayIndex],\r\n      formatted: `${jawaDays[jawaDayIndex]} ${pasaran[pasaranIndex]}, ${day} ${jawaMonths[month - 1]} ${year + 512}`\r\n    },\r\n    formatted: `${day} ${islamicMonths[month - 1]} ${year} AH`\r\n  };\r\n};\r\n\r\nconst h2g = (hDay, hMonth, hYear, calData) => {\r\n  let jd = Math.floor((11 * hYear + 3) / 30) + 354 * hYear + 30 * hMonth - Math.floor((hMonth - 1) / 2) + hDay + 1948440 - 385;\r\n  \r\n  let l = jd + 68569;\r\n  let n = Math.floor((4 * l) / 146097);\r\n  l = l - Math.floor((146097 * n + 3) / 4);\r\n  let i = Math.floor((4000 * (l + 1)) / 1461001);\r\n  l = l - Math.floor((1461 * i) / 4) + 31;\r\n  let j = Math.floor((80 * l) / 2447);\r\n  let d = l - Math.floor((2447 * j) / 80);\r\n  l = Math.floor(j / 11);\r\n  let m = j + 2 - 12 * l;\r\n  let y = 100 * (n - 49) + i + l;\r\n\r\n  const date = new Date(y, m - 1, d);\r\n  const { gregorianDays: dayNames, gregorianMonths: monthNames } = calData;\r\n\r\n  return {\r\n    day: d,\r\n    day_name: dayNames[date.getDay()],\r\n    month: m,\r\n    month_name: monthNames[m - 1],\r\n    year: y,\r\n    formatted: `${dayNames[date.getDay()]}, ${d} ${monthNames[m - 1]} ${y}`\r\n  };\r\n};\r\n\r\n// GET /calendar/hijri?date=2024-03-11&adj=-1\r\ncalendar.get('/hijri', async (c) => {\r\n  try {\r\n    const dateStr = c.req.query('date');\r\n    const adj = parseInt(c.req.query('adj')) || 0; // Default 0 jika tidak ada adj\r\n    let date;\r\n    \r\n    if (dateStr) {\r\n      date = new Date(dateStr);\r\n    } else {\r\n      date = new Date();\r\n    }\r\n\r\n    if (isNaN(date.getTime())) {\r\n      return c.json({ status: false, message: \"Format tanggal tidak valid. Gunakan YYYY-MM-DD.\" }, 400);\r\n    }\r\n\r\n    const calData = await getCalendarData();\r\n    const hijri = g2h(date, adj, calData);\r\n    return c.json({\r\n      status: true,\r\n      message: 'Berhasil mengonversi tanggal Masehi ke Hijriah.',\r\n      data: {\r\n        masehi: date.toISOString().split('T')[0],\r\n        adjustment: adj,\r\n        hijri: hijri\r\n      }\r\n    });\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mengonversi tanggal: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\n// GET /calendar/masehi?day=1&month=9&year=1445\r\ncalendar.get('/masehi', async (c) => {\r\n  try {\r\n    const day = parseInt(c.req.query('day'));\r\n    const month = parseInt(c.req.query('month'));\r\n    const year = parseInt(c.req.query('year'));\r\n\r\n    if (isNaN(day) || isNaN(month) || isNaN(year)) {\r\n      return c.json({ status: false, message: \"Parameter tidak lengkap atau tidak valid. Membutuhkan day, month, dan year.\" }, 400);\r\n    }\r\n\r\n    if (month < 1 || month > 12 || day < 1 || day > 30) {\r\n      return c.json({ status: false, message: \"Nilai tanggal Hijriah tidak valid.\" }, 400);\r\n    }\r\n\r\n    const calData = await getCalendarData();\r\n    const masehi = h2g(day, month, year, calData);\r\n    return c.json({\r\n      status: true,\r\n      message: 'Berhasil mengonversi tanggal Hijriah ke Masehi.',\r\n      data: {\r\n        hijri: {\r\n          day,\r\n          month,\r\n          year\r\n        },\r\n        masehi: masehi\r\n      }\r\n    });\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mengonversi tanggal: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\nexport default calendar;", "import { Hono } from 'hono';\r\nimport { getDoa } from '../../../utils/jsonHandler.js';\r\n\r\nconst doa = new Hono();\r\n\r\ndoa.get('/', async (c) => {\r\n  try {\r\n    const source = c.req.query('source');\r\n    const allDoa = await getDoa();\r\n    if (!allDoa) return c.json({ status: false, message: 'Daftar doa tidak tersedia.', data: [] }, 404);\r\n\r\n    if (source != null) {\r\n      const data = allDoa.filter(d => d.source === source).sort((a, b) => a.judul.localeCompare(b.judul));\r\n      return c.json({ status: true, message: `Berhasil mendapatkan doa dari sumber: ${source}.`, data });\r\n    } else {\r\n      const data = [...allDoa].sort((a, b) => a.judul.localeCompare(b.judul));\r\n      return c.json({ status: true, message: 'Berhasil mendapatkan daftar doa.', data });\r\n    }\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan data doa: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\ndoa.get('/find', async (c) => {\r\n  try {\r\n    const q = c.req.query('query');\r\n    if (q != null) {\r\n      const allDoa = await getDoa();\r\n      if (!allDoa) return c.json({ status: false, message: 'Daftar doa tidak tersedia.', data: [] }, 404);\r\n\r\n      const queryLower = q.toLowerCase();\r\n      const data = allDoa.filter(d => d.judul.toLowerCase().includes(queryLower))\r\n                        .sort((a, b) => a.judul.localeCompare(b.judul));\r\n\r\n      if (data.length === 0) {\r\n        return c.json({ \r\n          status: false, \r\n          message: `Tidak ada doa yang ditemukan dengan kata kunci: ${q}.`,\r\n          data: []\r\n        }, 404);\r\n      }\r\n\r\n      return c.json({ status: true, message: `Berhasil mencari doa dengan kata kunci: ${q}.`, data });\r\n    } else {\r\n      return c.json({\r\n        status: false,\r\n        message: \"Parameter diperlukan (query).\",\r\n      }, 400);\r\n    }\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mencari doa: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\nexport default doa;\r\n", "import { Hono } from 'hono';\r\nimport { getDzikir } from '../../../utils/jsonHandler.js';\r\n\r\nconst dzikir = new Hono();\r\n\r\ndzikir.get('/', async (c) => {\r\n  try {\r\n    const type = c.req.query('type');\r\n    const allDzikir = await getDzikir();\r\n    if (!allDzikir) return c.json({ status: false, message: 'Daftar dzikir tidak tersedia.', data: [] }, 404);\r\n\r\n    if (type != null) {\r\n      const data = allDzikir.filter(d => d.type === type);\r\n      return c.json({ status: true, message: `Berhasil mendapatkan dzikir tipe: ${type}.`, data });\r\n    } else {\r\n      return c.json({ status: true, message: 'Berhasil mendapatkan daftar dzikir.', data: allDzikir });\r\n    }\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan data dzikir: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\nexport default dzikir;\r\n", "import { Hono } from 'hono';\r\nimport { getHaditsArbain, getLocalHadits } from '../../../utils/jsonHandler.js';\r\n\r\nconst hadits = new Hono();\r\n\r\n// Mapping ID buku ke file lokal\r\nconst bookFileMapping = {\r\n  'bukhari': 'bukhari',\r\n  'muslim': 'muslim',\r\n  'abu-daud': 'abu-daud',\r\n  'abudawud': 'abu-daud',\r\n  'ibnu-majah': 'ibnu-majah',\r\n  'ibnmajah': 'ibnu-majah',\r\n  'tirmidzi': 'tirmidzi',\r\n  'tirmidhi': 'tirmidzi',\r\n  'ahmad': 'ahmad',\r\n  'darimi': 'darimi',\r\n  'malik': 'malik',\r\n  'nasai': 'nasai'\r\n};\r\n\r\nconst bookDisplayNames = {\r\n  'bukhari': 'Sahih Bukhari',\r\n  'muslim': 'Sahih Muslim',\r\n  'abu-daud': 'Sunan Abu Daud',\r\n  'ibnu-majah': 'Sunan Ibnu Majah',\r\n  'tirmidzi': 'Sunan Tirmidzi',\r\n  'ahmad': 'Musnad Ahmad',\r\n  'darimi': 'Sunan Darimi',\r\n  'malik': 'Muwatha Malik',\r\n  'nasai': 'Sunan Nasai'\r\n};\r\n\r\n// Hadits Arbain (Existing)\r\nhadits.get('/', async (c) => {\r\n  try {\r\n    const nomor = c.req.query('nomor');\r\n    const allArbain = await getHaditsArbain();\r\n    if (!allArbain) return c.json({ status: false, message: 'Daftar hadits tidak tersedia.', data: [] }, 404);\r\n\r\n    if (nomor != null) {\r\n      const data = allArbain.find(h => h.no == nomor);\r\n      if (!data) {\r\n        return c.json({ status: false, message: 'Hadits tidak ditemukan.', data: {} }, 404);\r\n      } else {\r\n        return c.json({ status: true, message: 'Berhasil mendapatkan detail Hadits Arbain.', data });\r\n      }\r\n    } else {\r\n      const sortedData = [...allArbain].sort((a, b) => parseInt(a.no) - parseInt(b.no));\r\n      return c.json({ status: true, message: 'Berhasil mendapatkan daftar Hadits Arbain.', data: sortedData });\r\n    }\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan data hadits: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\n// List of Hadith Books (Local)\r\nhadits.get('/books', (c) => {\r\n  const books = Object.entries(bookDisplayNames).map(([id, name]) => ({\r\n    id,\r\n    name: `HR. ${name.replace('Sahih ', '').replace('Sunan ', '').replace('Musnad ', '').replace('Muwatha ', '')}`,\r\n    available: 'Lokal (JSON)'\r\n  }));\r\n\r\n  return c.json({\r\n    status: true,\r\n    message: \"Berhasil mendapatkan seluruh koleksi kitab hadits.\",\r\n    data: [\r\n      { id: 'arbain', name: 'Hadits Arbain Nawawi', available: 42 },\r\n      ...books\r\n    ]\r\n  });\r\n});\r\n\r\n// Specific Hadith Book (Local) - List first 50 hadiths\r\nhadits.get('/books/:name', async (c) => {\r\n  try {\r\n    const name = c.req.param('name').toLowerCase();\r\n    const page = parseInt(c.req.query('page') || 1);\r\n    const limit = 50;\r\n    const offset = (page - 1) * limit;\r\n\r\n    const targetBookFile = bookFileMapping[name];\r\n    if (!targetBookFile) {\r\n      return c.json({ status: false, message: `Kitab ${name} tidak ditemukan.` }, 404);\r\n    }\r\n\r\n    const allHadits = await getLocalHadits(targetBookFile);\r\n    if (!allHadits) {\r\n      return c.json({ status: false, message: `Gagal memuat data kitab ${name}.` }, 500);\r\n    }\r\n\r\n    const displayName = bookDisplayNames[targetBookFile] || name;\r\n    const paginatedData = allHadits.slice(offset, offset + limit).map(h => ({\r\n      number: h.number,\r\n      arab: h.arab,\r\n      id: h.id,\r\n      name: `HR. ${displayName.replace('Sahih ', '').replace('Sunan ', '').replace('Musnad ', '').replace('Muwatha ', '')}`\r\n    }));\r\n\r\n    return c.json({\r\n      status: true,\r\n      message: `Berhasil mendapatkan daftar hadits dari kitab ${displayName} (Halaman ${page}).`,\r\n      data: {\r\n        book: displayName,\r\n        total: allHadits.length,\r\n        page,\r\n        limit,\r\n        hadiths: paginatedData\r\n      }\r\n    });\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan daftar hadits: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\n// Specific Hadith by Number (Local)\r\nhadits.get('/books/:name/:number', async (c) => {\r\n  try {\r\n    const name = c.req.param('name').toLowerCase();\r\n    const number = parseInt(c.req.param('number'));\r\n    \r\n    const targetBookFile = bookFileMapping[name];\r\n    if (!targetBookFile) {\r\n      return c.json({ status: false, message: `Kitab ${name} tidak ditemukan.` }, 404);\r\n    }\r\n\r\n    const allHadits = await getLocalHadits(targetBookFile);\r\n    if (!allHadits) {\r\n      return c.json({ status: false, message: `Gagal memuat data kitab ${name}.` }, 500);\r\n    }\r\n\r\n    const hadith = allHadits.find(h => h.number === number);\r\n    if (!hadith) {\r\n      return c.json({ status: false, message: `Hadits nomor ${number} tidak ditemukan di kitab ${name}.` }, 404);\r\n    }\r\n\r\n    const displayName = bookDisplayNames[targetBookFile] || name;\r\n    return c.json({\r\n      status: true,\r\n      message: `Berhasil mendapatkan detail hadits nomor ${number} dari kitab ${displayName}.`,\r\n      data: {\r\n        number: hadith.number,\r\n        arab: hadith.arab,\r\n        id: hadith.id, // Bahasa Indonesia\r\n        name: `HR. ${displayName.replace('Sahih ', '').replace('Sunan ', '').replace('Musnad ', '').replace('Muwatha ', '')}`\r\n      }\r\n    });\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan detail hadits: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\n// Cari Hadits (Query)\r\nhadits.get('/find', async (c) => {\r\n  try {\r\n    const q = c.req.query('query');\r\n    const book = c.req.query('book');\r\n\r\n    if (!q) {\r\n      return c.json({\r\n        status: false,\r\n        message: \"Parameter query diperlukan.\",\r\n      }, 400);\r\n    }\r\n\r\n    // Opsi B: Hadits Arbain (Data JSON)\r\n    if (!book || book.toLowerCase() === 'arbain') {\r\n      const allArbain = await getHaditsArbain();\r\n      \r\n      if (!allArbain || allArbain.length === 0) {\r\n        return c.json({ \r\n          status: false, \r\n          message: `Daftar hadits Arbain tidak tersedia.`,\r\n          data: []\r\n        }, 404);\r\n      }\r\n\r\n      const queryLower = q.toLowerCase();\r\n      const results = allArbain.filter(r => \r\n        (r.judul && r.judul.toLowerCase().includes(queryLower)) || \r\n        (r.indo && r.indo.toLowerCase().includes(queryLower))\r\n      );\r\n\r\n      if (results.length === 0) {\r\n        return c.json({ \r\n          status: false, \r\n          message: `Tidak ada hadits Arbain yang ditemukan dengan kata kunci: ${q}.`,\r\n          data: []\r\n        }, 404);\r\n      }\r\n\r\n      return c.json({ \r\n        status: true, \r\n        message: `Berhasil mencari hadits Arbain dengan kata kunci: ${q}.`, \r\n        data: results.map(r => ({\r\n          ...r,\r\n          sumber: `Hadits Arbain No. ${r.no}: ${r.judul}`\r\n        }))\r\n      });\r\n    } \r\n    \r\n    // Opsi A: Hadits dari File JSON Lokal\r\n    else {\r\n      const targetBookFile = bookFileMapping[book.toLowerCase()];\r\n      \r\n      if (!targetBookFile) {\r\n        return c.json({\r\n          status: false,\r\n          message: `Pencarian untuk buku '${book}' belum didukung. Gunakan: arbain, bukhari, muslim, abu-daud, ibnu-majah, tirmidzi, ahmad, darimi, malik, atau nasai.`\r\n        }, 400);\r\n      }\r\n\r\n      const allHadits = await getLocalHadits(targetBookFile);\r\n      if (!allHadits) {\r\n        return c.json({\r\n          status: false,\r\n          message: `Gagal membaca data hadits untuk kitab ${book}.`\r\n        }, 500);\r\n      }\r\n\r\n      // Cari secara manual di array\r\n      const searchTerms = q.toLowerCase().split(' ');\r\n      const results = allHadits.filter(h => {\r\n        const text = (h.id || '').toLowerCase(); // Field 'id' berisi terjemahan Indo\r\n        return searchTerms.every(term => text.includes(term));\r\n      }).slice(0, 50);\r\n\r\n      if (results.length === 0) {\r\n        return c.json({\r\n          status: false,\r\n          message: `Tidak ada hadits ditemukan di kitab ${book} dengan kata kunci: ${q}.`,\r\n          data: []\r\n        }, 404);\r\n      }\r\n\r\n      const displayName = bookDisplayNames[targetBookFile] || book;\r\n      return c.json({\r\n        status: true,\r\n        message: `Berhasil mencari hadits di kitab ${displayName} dengan kata kunci: ${q}.`,\r\n        data: results.map(h => ({\r\n          no: h.number,\r\n          judul: displayName,\r\n          arab: h.arab,\r\n          indo: h.id, // Field 'id' adalah terjemahan Indonesia\r\n          sumber: `HR. ${displayName.replace('Sahih ', '').replace('Sunan ', '').replace('Musnad ', '').replace('Muwatha ', '')} No. ${h.number}`\r\n        }))\r\n      });\r\n    }\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mencari hadits: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\nexport default hadits;\r\n", "import { Hono } from 'hono';\r\nimport { getJuz } from '../../../utils/jsonHandler.js';\r\n\r\nconst juz = new Hono();\r\n\r\njuz.get('/', async (c) => {\r\n  try {\r\n    const juzId = c.req.query('juzId') || c.req.query('id');\r\n    const allJuz = await getJuz();\r\n    if (!allJuz) return c.json({ status: false, message: 'Daftar juz tidak tersedia.', data: [] }, 404);\r\n\r\n    if (juzId != null) {\r\n      const data = allJuz.find(j => j.number == juzId);\r\n      if (!data) {\r\n        return c.json({ status: false, message: 'Juz tidak ditemukan.', data: {} }, 404);\r\n      } else {\r\n        return c.json({ status: true, message: 'Berhasil mendapatkan detail juz.', data: data });\r\n      }\r\n    } else {\r\n      const sortedData = [...allJuz].sort((a, b) => parseInt(a.number) - parseInt(b.number));\r\n      return c.json({ status: true, message: 'Berhasil mendapatkan daftar seluruh juz.', data: sortedData });\r\n    }\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan data juz: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\nexport default juz;\r\n", "import { Hono } from 'hono';\r\nimport { getQari, getSurahList } from '../../../utils/jsonHandler.js';\r\n\r\nconst murotal = new Hono();\r\n\r\nmurotal.get('/qari', async (c) => {\r\n  try {\r\n    const data = await getQari();\r\n    if (!data) return c.json({ status: false, message: 'Daftar qari tidak tersedia.', data: [] }, 404);\r\n    \r\n    return c.json({\r\n      status: true,\r\n      message: 'Berhasil mendapatkan daftar qari.',\r\n      data: data\r\n    });\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan daftar qari: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\nmurotal.get('/', async (c) => {\r\n  try {\r\n    const qariId = c.req.query('qariId') || '05'; // Default to Misyari Rasyid\r\n    const surahId = c.req.query('surahId');\r\n\r\n    // Get Qari Info\r\n    const allQari = await getQari();\r\n    const qari = allQari ? allQari.find(q => q.id == qariId) : null;\r\n\r\n    if (surahId) {\r\n      const allSurahs = await getSurahList();\r\n      const surah = allSurahs ? allSurahs.find(s => s.number == surahId) : null;\r\n      \r\n      if (!surah) {\r\n        return c.json({ status: false, message: 'Surah tidak ditemukan.' }, 404);\r\n      }\r\n      \r\n      const audioFull = typeof surah.audio_full === 'string' ? JSON.parse(surah.audio_full || '{}') : (surah.audio_full || {});\r\n      \r\n      return c.json({\r\n        status: true,\r\n        message: `Berhasil mendapatkan murotal surah ${surah.name_id} untuk qari ${qari ? qari.name : qariId}.`,\r\n        data: {\r\n          surahId: surah.number,\r\n          name: surah.name_id,\r\n          name_short: surah.name_short,\r\n          qariId: qariId,\r\n          audio_url: audioFull[qariId] || null\r\n        }\r\n      });\r\n    }\r\n\r\n    // If no surahId, return all surahs with audio for that qari\r\n    const allSurahs = await getSurahList();\r\n    if (!allSurahs) return c.json({ status: false, message: 'Daftar surah tidak tersedia.', data: [] }, 404);\r\n    \r\n    const result = allSurahs.sort((a, b) => parseInt(a.number) - parseInt(b.number)).map(s => {\r\n      const audioFull = typeof s.audio_full === 'string' ? JSON.parse(s.audio_full || '{}') : (s.audio_full || {});\r\n      return {\r\n        surahId: s.number,\r\n        name: s.name_id,\r\n        name_short: s.name_short,\r\n        audio_url: audioFull[qariId] || null\r\n      };\r\n    });\r\n\r\n    return c.json({\r\n      status: true,\r\n      message: `Berhasil mendapatkan daftar murotal untuk qari ${qari ? qari.name : qariId}.`,\r\n      qari: qari || { id: qariId, name: 'Unknown' },\r\n      data: result\r\n    });\r\n\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan data murotal: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\nexport default murotal;\r\n", "import { Hono } from 'hono';\r\nimport { getSurahList, getAyahBySurah } from '../../../utils/jsonHandler.js';\r\nimport crypto from 'crypto';\r\n\r\nconst integrity = new Hono();\r\n\r\n// Helper to generate hash\r\nconst generateHash = (data) => {\r\n  return crypto.createHash('sha256').update(JSON.stringify(data)).digest('hex');\r\n};\r\n\r\n// Endpoint: Get Integrity Chain (Proof of Authenticity)\r\nintegrity.get('/chain', async (c) => {\r\n  try {\r\n    const allSurahs = await getSurahList();\r\n    if (!allSurahs) return c.json({ status: false, message: 'Data surah tidak tersedia.' }, 404);\r\n    \r\n    const surahs = [...allSurahs].sort((a, b) => parseInt(a.number) - parseInt(b.number));\r\n    \r\n    let chain = [];\r\n    let previousHash = \"0\".repeat(64); // Genesis block previous hash\r\n\r\n    for (const surah of surahs) {\r\n      // Get all ayahs for this surah to calculate its hash\r\n      const ayahsData = await getAyahBySurah(surah.number);\r\n      if (!ayahsData) continue;\r\n\r\n      const ayahs = ayahsData\r\n        .sort((a, b) => parseInt(a.ayah) - parseInt(b.ayah))\r\n        .map(a => ({ arab: a.arab, text: a.text }));\r\n      \r\n      // Data to be hashed for this block\r\n      const blockData = {\r\n        surah_number: surah.number,\r\n        surah_name: surah.name_id,\r\n        ayah_count: ayahs.length,\r\n        content_hash: generateHash(ayahs), // Hash of all ayahs in this surah\r\n        previous_hash: previousHash,\r\n        version: \"1.0.0\",\r\n        timestamp: \"2025-12-24T00:00:00Z\" // Standardized for this version\r\n      };\r\n\r\n      const blockHash = generateHash(blockData);\r\n      \r\n      chain.push({\r\n        block_height: chain.length + 1,\r\n        hash: blockHash,\r\n        ...blockData\r\n      });\r\n\r\n      previousHash = blockHash;\r\n    }\r\n\r\n    return c.json({\r\n      status: true,\r\n      message: \"Data Integrity Chain (Proof of Authenticity) berhasil dibuat.\",\r\n      algorithm: \"SHA-256\",\r\n      structure: \"Array of Objects { arab, text }\",\r\n      network: \"Muslim-API Data Ledger\",\r\n      root_hash: previousHash,\r\n      chain: chain\r\n    });\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan data integrity chain: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\n// Endpoint: General Integrity Verification (Quick Check)\r\nintegrity.get('/verify', async (c) => {\r\n  try {\r\n    // Quick check using Al-Fatihah (Surah 1)\r\n    const allSurahs = await getSurahList();\r\n    const surah = allSurahs ? allSurahs.find(s => s.number == 1) : null;\r\n    const ayahs = await getAyahBySurah(1);\r\n\r\n    const isDataValid = surah && ayahs && ayahs.length > 0;\r\n\r\n    return c.json({\r\n      status: true,\r\n      message: isDataValid ? \"Integritas sistem terverifikasi.\" : \"Sistem Online (Pengecekan data tertunda).\",\r\n      check: \"Surah Al-Fatihah\",\r\n      integrity: isDataValid ? \"Healthy\" : \"Warning\",\r\n      timestamp: new Date().toISOString()\r\n    });\r\n  } catch (error) {\r\n    // Even if check fails, if the route is reached, the system is partially online\r\n    return c.json({ \r\n      status: true, \r\n      message: \"Sistem Online (Error pada pengecekan integritas).\",\r\n      integrity: \"Error\",\r\n      error: error.message,\r\n      timestamp: new Date().toISOString()\r\n    });\r\n  }\r\n});\r\n\r\n// Endpoint: Verify specific Ayah\r\nintegrity.get('/verify/ayah', async (c) => {\r\n  const surahId = c.req.query('surahId');\r\n  const ayahId = c.req.query('ayahId');\r\n\r\n  if (!surahId || !ayahId) {\r\n    return c.json({ status: false, message: \"Parameter surahId dan ayahId diperlukan.\" }, 400);\r\n  }\r\n\r\n  try {\r\n    const ayahs = await getAyahBySurah(surahId);\r\n    const data = ayahs ? ayahs.find(a => a.ayah == ayahId) : null;\r\n\r\n    if (!data) {\r\n      return c.json({ status: false, message: `Ayat ${ayahId} pada surah ${surahId} tidak ditemukan.`, data: {} }, 404);\r\n    }\r\n\r\n    const verificationData = { arab: data.arab, text: data.text };\r\n\r\n    // Fetch comparison data from EQuran (Kemenag source) for live verification\r\n    let comparison = {\r\n      status: \"Comparison source unavailable\",\r\n      source: \"Kemenag (via EQuran.id)\",\r\n      is_match: null,\r\n      external_data: null\r\n    };\r\n\r\n    try {\r\n      const controller = new AbortController();\r\n      const timeoutId = setTimeout(() => controller.abort(), 3000); // 3 seconds timeout\r\n\r\n      const response = await fetch(`https://equran.id/api/v2/surat/${surahId}`, { signal: controller.signal });\r\n      clearTimeout(timeoutId);\r\n\r\n      if (response.ok) {\r\n        const json = await response.json();\r\n        const externalAyah = json.data && json.data.ayat ? json.data.ayat.find(a => a.nomorAyat == ayahId) : null;\r\n        \r\n        if (externalAyah) {\r\n          // Normalize text for comparison (remove extra spaces/newlines)\r\n          const normalize = (str) => str.replace(/\\s+/g, ' ').trim();\r\n          \r\n          const arabMatch = normalize(externalAyah.teksArab) === normalize(data.arab);\r\n          const textMatch = normalize(externalAyah.teksIndonesia) === normalize(data.text);\r\n          \r\n          comparison = {\r\n            status: \"Success\",\r\n            source: \"Kemenag (via EQuran.id)\",\r\n            is_match: arabMatch && textMatch,\r\n            details: {\r\n              arab_match: arabMatch,\r\n              translation_match: textMatch\r\n            },\r\n            external_data: {\r\n              arab: externalAyah.teksArab,\r\n              text: externalAyah.teksIndonesia\r\n            }\r\n          };\r\n        }\r\n      }\r\n    } catch (e) {\r\n      comparison.status = \"Error: \" + e.message;\r\n    }\r\n\r\n    return c.json({\r\n      status: true,\r\n      message: `Berhasil memverifikasi integritas ayat ${ayahId} pada surah ${surahId}.`,\r\n      data: {\r\n        surahId,\r\n        ayahId,\r\n        local_data: verificationData,\r\n        hash: generateHash(verificationData),\r\n        comparison: comparison,\r\n        external_verification_url: `https://quran.kemenag.go.id/quran/per-ayat/surah/${surahId}?from=${ayahId}&to=${ayahId}`,\r\n        timestamp: new Date().toISOString()\r\n      }\r\n    });\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal memverifikasi integritas ayat: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\nexport default integrity;", "\r\n/**\r\n * External API Configurations\r\n */\r\nexport const API_CONFIG = {\r\n  SHOLAT: {\r\n    MYQURAN: 'https://api.myquran.com/v2/sholat',\r\n    NOMINATIM: 'https://nominatim.openstreetmap.org/reverse'\r\n  },\r\n  HADITS: {\r\n    GADING: 'https://api.hadith.gading.dev'\r\n  },\r\n  KEMENAG: {\r\n    HARI_LIBUR: 'https://api-harilibur.vercel.app/api',\r\n    PESANTREN: 'https://api-pesantren-indonesia.vercel.app'\r\n  }\r\n};\r\n\r\nexport default API_CONFIG;\r\n", "import { Hono } from 'hono';\r\nimport { API_CONFIG } from '../../../config.js';\r\n\r\nconst sholat = new Hono();\r\n\r\nconst BASE_API = API_CONFIG.SHOLAT.MYQURAN;\r\n\r\n// Cache untuk daftar kota agar tidak sering fetch\r\nlet kotaCache = null;\r\n\r\n// Endpoint: Semua Kota\r\nsholat.get('/kota/semua', async (c) => {\r\n  try {\r\n    if (kotaCache) return c.json({ status: true, message: 'Berhasil mendapatkan daftar kota (dari cache).', data: kotaCache });\r\n\r\n    const response = await fetch(`${BASE_API}/kota/semua`);\r\n    const data = await response.json();\r\n    \r\n    if (data.status) {\r\n      kotaCache = data.data;\r\n      return c.json({ status: true, message: 'Berhasil mendapatkan daftar kota.', data: data.data });\r\n    }\r\n    return c.json({ status: false, message: 'Gagal mengambil data kota dari API sumber.' }, 502);\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan daftar kota: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\n// Endpoint: Cari Kota\r\nsholat.get('/kota/cari', async (c) => {\r\n  const query = c.req.query('nama');\r\n  if (!query) return c.json({ status: false, message: 'Parameter nama diperlukan.' }, 400);\r\n\r\n  try {\r\n    const response = await fetch(`${BASE_API}/kota/cari/${query}`);\r\n    const data = await response.json();\r\n\r\n    if (!response.ok || !data.status) {\r\n      return c.json({\r\n        status: false,\r\n        message: `Gagal mencari kota dengan kata kunci: ${query} dari API sumber.`,\r\n        error: data.message || 'Unknown error'\r\n      }, response.status || 502);\r\n    }\r\n\r\n    if (!data.data || data.data.length === 0) {\r\n      return c.json({\r\n        status: false,\r\n        message: `Tidak ada kota yang ditemukan dengan kata kunci: ${query}.`,\r\n        data: []\r\n      }, 404);\r\n    }\r\n\r\n    return c.json({\r\n      status: true,\r\n      message: `Berhasil mencari kota dengan kata kunci: ${query}.`,\r\n      data: data.data || []\r\n    });\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mencari kota: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\n// Endpoint: Jadwal Sholat by Kota ID\r\nsholat.get('/jadwal', async (c) => {\r\n  const kotaId = c.req.query('kotaId');\r\n  const tanggal = c.req.query('tanggal') || new Date().toISOString().split('T')[0];\r\n  \r\n  if (!kotaId) return c.json({ status: false, message: 'Parameter kotaId diperlukan.' }, 400);\r\n\r\n  try {\r\n    const response = await fetch(`${BASE_API}/jadwal/${kotaId}/${tanggal}`);\r\n    const data = await response.json();\r\n\r\n    if (!response.ok || !data.status) {\r\n      return c.json({\r\n        status: false,\r\n        message: `Gagal mengambil jadwal sholat untuk kota ID ${kotaId} dari API sumber.`,\r\n        error: data.message || 'Unknown error'\r\n      }, response.status || 502);\r\n    }\r\n\r\n    return c.json({\r\n      status: true,\r\n      message: `Berhasil mendapatkan jadwal sholat untuk kota ID ${kotaId} pada tanggal ${tanggal}.`,\r\n      data: data.data ? data.data.jadwal : null\r\n    });\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan jadwal sholat: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\n// Endpoint: Jadwal Sholat by Koordinat (Lat, Lon)\r\nsholat.get('/jadwal/koordinat', async (c) => {\r\n  const lat = c.req.query('lat');\r\n  const lon = c.req.query('lon');\r\n  const tanggal = c.req.query('tanggal') || new Date().toISOString().split('T')[0];\r\n\r\n  if (!lat || !lon) {\r\n    return c.json({ status: false, message: 'Parameter lat dan lon diperlukan.' }, 400);\r\n  }\r\n\r\n  try {\r\n    // 1. Reverse Geocode menggunakan Nominatim untuk mendapatkan nama kota\r\n    const geoRes = await fetch(`${API_CONFIG.SHOLAT.NOMINATIM}?format=json&lat=${lat}&lon=${lon}&zoom=10`, {\r\n      headers: { 'User-Agent': 'Muslim-API/1.0' }\r\n    });\r\n    \r\n    if (!geoRes.ok) {\r\n      return c.json({ status: false, message: 'Gagal mendapatkan data lokasi dari Nominatim.' }, 502);\r\n    }\r\n    \r\n    const geoData = await geoRes.json();\r\n    \r\n    // Ambil nama kota/kabupaten\r\n    const address = geoData.address || {};\r\n    const city = address.city || address.town || address.municipality || address.county;\r\n    \r\n    if (!city) {\r\n      return c.json({ status: false, message: 'Lokasi tidak ditemukan.' }, 404);\r\n    }\r\n\r\n    // 2. Cari ID Kota di MyQuran berdasarkan nama kota\r\n    const cleanCityName = city.replace(/Kota Adm. |Kota |Kabupaten |Kab. /g, '').trim();\r\n    const kotaRes = await fetch(`${BASE_API}/kota/cari/${cleanCityName}`);\r\n    const kotaData = await kotaRes.json();\r\n\r\n    if (!kotaRes.ok || !kotaData.status || !kotaData.data || kotaData.data.length === 0) {\r\n      return c.json({ \r\n        status: false, \r\n        message: `Kota ${cleanCityName} tidak ditemukan dalam daftar wilayah Kemenag.`,\r\n        location: city \r\n      }, 404);\r\n    }\r\n\r\n    // Gunakan hasil pertama\r\n    const kotaId = kotaData.data[0].id;\r\n    \r\n    // 3. Ambil Jadwal Sholat\r\n    const jadwalRes = await fetch(`${BASE_API}/jadwal/${kotaId}/${tanggal}`);\r\n    const data = await jadwalRes.json();\r\n    \r\n    if (!jadwalRes.ok || !data.status) {\r\n      return c.json({ status: false, message: 'Gagal mengambil jadwal dari API sumber.' }, 502);\r\n    }\r\n\r\n    return c.json({\r\n      status: true,\r\n      message: `Berhasil mendapatkan jadwal sholat untuk lokasi ${city} (${lat}, ${lon}).`,\r\n      data: {\r\n        location: city,\r\n        coordinates: { lat, lon },\r\n        jadwal: data.data ? data.data.jadwal : null\r\n      }\r\n    });\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan jadwal sholat berdasarkan koordinat: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\n// Endpoint: Waktu Sholat Terdekat\r\nsholat.get('/next', async (c) => {\r\n  const lat = c.req.query('lat');\r\n  const lon = c.req.query('lon');\r\n  \r\n  if (!lat || !lon) {\r\n    return c.json({ status: false, message: 'Parameter lat dan lon diperlukan.' }, 400);\r\n  }\r\n\r\n  try {\r\n    // 1. Dapatkan Jadwal Hari Ini (reuse logika koordinat)\r\n    const today = new Date().toISOString().split('T')[0];\r\n    const cityRes = await fetch(`${API_CONFIG.SHOLAT.NOMINATIM}?format=json&lat=${lat}&lon=${lon}&zoom=10`, {\r\n      headers: { 'User-Agent': 'Muslim-API/1.0' }\r\n    });\r\n\r\n    if (!cityRes.ok) {\r\n      return c.json({ status: false, message: 'Gagal mendapatkan data lokasi dari Nominatim.' }, 502);\r\n    }\r\n\r\n    const geoData = await cityRes.json();\r\n    const address = geoData.address || {};\r\n    const city = address.city || address.town || address.municipality || address.county;\r\n    \r\n    if (!city) {\r\n      return c.json({ status: false, message: 'Lokasi tidak ditemukan.' }, 404);\r\n    }\r\n\r\n    const cleanCityName = city.replace(/Kota Adm. |Kota |Kabupaten |Kab. /g, '').trim();\r\n    \r\n    const kotaRes = await fetch(`${BASE_API}/kota/cari/${cleanCityName}`);\r\n    const kotaData = await kotaRes.json();\r\n\r\n    if (!kotaRes.ok || !kotaData.status || !kotaData.data || kotaData.data.length === 0) {\r\n      return c.json({ status: false, message: `Kota ${cleanCityName} tidak terdaftar.` }, 404);\r\n    }\r\n\r\n    const kotaId = kotaData.data[0].id;\r\n\r\n    const jadwalRes = await fetch(`${BASE_API}/jadwal/${kotaId}/${today}`);\r\n    const jadwalData = await jadwalRes.json();\r\n    \r\n    if (!jadwalRes.ok || !jadwalData.status) return c.json({ status: false, message: 'Gagal mengambil jadwal dari API sumber.' }, 502);\r\n\r\n    const jadwal = jadwalData.data.jadwal;\r\n    const now = new Date();\r\n    const currentTime = now.getHours() * 60 + now.getMinutes();\r\n\r\n    const times = [\r\n      { name: 'Imsak', time: jadwal.imsak },\r\n      { name: 'Subuh', time: jadwal.subuh },\r\n      { name: 'Terbit', time: jadwal.terbit },\r\n      { name: 'Dhuha', time: jadwal.dhuha },\r\n      { name: 'Dzuhur', time: jadwal.dzuhur },\r\n      { name: 'Ashar', time: jadwal.ashar },\r\n      { name: 'Maghrib', time: jadwal.maghrib },\r\n      { name: 'Isya', time: jadwal.isya }\r\n    ];\r\n\r\n    let nextPrayer = null;\r\n    for (const t of times) {\r\n      const [h, m] = t.time.split(':').map(Number);\r\n      const prayerMinutes = h * 60 + m;\r\n      \r\n      if (prayerMinutes > currentTime) {\r\n        const diff = prayerMinutes - currentTime;\r\n        nextPrayer = {\r\n          name: t.name,\r\n          time: t.time,\r\n          remaining_minutes: diff,\r\n          remaining_hours: Math.floor(diff / 60),\r\n          remaining_minutes_only: diff % 60\r\n        };\r\n        break;\r\n      }\r\n    }\r\n\r\n    // Jika sudah lewat Isya, ambil Subuh besok\r\n    if (!nextPrayer) {\r\n      nextPrayer = { name: 'Subuh (Besok)', time: times[1].time, message: 'Waktu Isya telah lewat' };\r\n    }\r\n\r\n    return c.json({\r\n      status: true,\r\n      message: 'Waktu sholat terdekat berhasil didapatkan.',\r\n      data: {\r\n        current_time: now.toLocaleTimeString('id-ID', { hour: '2-digit', minute: '2-digit' }),\r\n        next_prayer: nextPrayer,\r\n        location: city,\r\n        jadwal_today: jadwal\r\n      }\r\n    });\r\n\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan waktu sholat terdekat: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\nexport default sholat;\r\n", "import { Hono } from 'hono';\r\nimport { getSurahList, getSurahDetail, updateAnalytics } from '../../../utils/jsonHandler.js';\r\n\r\nconst surah = new Hono();\r\n\r\nconst formatSurah = (s) => {\r\n  if (!s) return s;\r\n  return {\r\n    ...s,\r\n    audio_full: typeof s.audio_full === 'string' ? JSON.parse(s.audio_full) : (s.audio_full || {})\r\n  };\r\n};\r\n\r\nsurah.get('/', async (c) => {\r\n  try {\r\n    const surahId = c.req.query('surahId') || c.req.query('id');\r\n    if (surahId != null) {\r\n      const data = await getSurahDetail(surahId);\r\n      if (!data) {\r\n        return c.json({ status: false, message: 'Surah tidak ditemukan.', data: {} }, 404);\r\n      } else {\r\n        // Track surah read analytics (async, don't wait for it)\r\n        updateAnalytics('surah', surahId).catch(err => console.error('Analytics error:', err));\r\n        \r\n        return c.json({ status: true, message: 'Berhasil mendapatkan detail surah.', data: formatSurah(data) });\r\n      }\r\n    } else {\r\n      const data = await getSurahList();\r\n      if (!data) {\r\n        return c.json({ status: false, message: 'Daftar surah tidak tersedia.', data: [] }, 404);\r\n      } else {\r\n        // Sort by number just in case\r\n        const sortedData = [...data].sort((a, b) => parseInt(a.number) - parseInt(b.number));\r\n        return c.json({ status: true, message: 'Berhasil mendapatkan daftar surah.', data: sortedData.map(formatSurah) });\r\n      }\r\n    }\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan data surah: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\nexport default surah;\r\n", "import { Hono } from 'hono';\r\nimport { getTafsir } from '../../../utils/jsonHandler.js';\r\n\r\nconst tafsir = new Hono();\r\n\r\ntafsir.get('/', async (c) => {\r\n  try {\r\n    const surahId = c.req.query('surahId') || c.req.query('id');\r\n    const allTafsir = await getTafsir();\r\n    if (!allTafsir) return c.json({ status: false, message: 'Daftar tafsir tidak tersedia.', data: [] }, 404);\r\n\r\n    if (surahId != null) {\r\n      const data = allTafsir.find(t => t.id == surahId);\r\n      if (!data) {\r\n        return c.json({ status: false, message: 'Tafsir surah tidak ditemukan.', data: {} }, 404);\r\n      } else {\r\n        return c.json({ status: true, message: 'Berhasil mendapatkan detail tafsir surah.', data: data });\r\n      }\r\n    } else {\r\n      const sortedData = [...allTafsir].sort((a, b) => parseInt(a.id) - parseInt(b.id));\r\n      return c.json({ status: true, message: 'Berhasil mendapatkan daftar tafsir surah.', data: sortedData });\r\n    }\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan data tafsir: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\nexport default tafsir;\r\n", "import { Hono } from 'hono';\r\nimport { getThemes, getSurahList, getAyahBySurah } from '../../../utils/jsonHandler.js';\r\n\r\nconst theme = new Hono();\r\n\r\ntheme.get('/', async (c) => {\r\n  try {\r\n    const themeId = c.req.query('themeId') || c.req.query('id');\r\n    const allThemes = await getThemes();\r\n    if (!allThemes) return c.json({ status: false, message: 'Daftar tema tidak tersedia.', data: [] }, 404);\r\n\r\n    if (themeId != null) {\r\n      const themeData = allThemes.find(t => t.id == themeId);\r\n      if (!themeData) {\r\n        return c.json({ status: false, message: 'Tema tidak ditemukan.', data: [] }, 404);\r\n      }\r\n\r\n      const surahList = await getSurahList();\r\n      let themeVerses = [];\r\n      for (const s of surahList) {\r\n        const ayahs = await getAyahBySurah(s.number);\r\n        if (ayahs) {\r\n          const filtered = ayahs.filter(a => {\r\n            if (!a.theme) return false;\r\n            const themes = a.theme.split(',').map(t => t.trim());\r\n            return themes.includes(themeId.toString());\r\n          });\r\n          themeVerses.push(...filtered);\r\n        }\r\n      }\r\n\r\n      const formatAyah = (a) => ({\r\n        ...a,\r\n        audio_partial: typeof a.audio_partial === 'string' ? JSON.parse(a.audio_partial) : (a.audio_partial || {})\r\n      });\r\n\r\n      return c.json({ \r\n        status: true, \r\n        message: `Berhasil mendapatkan ayat dengan tema: ${themeData.name}.`, \r\n        data: themeVerses.map(formatAyah) \r\n      });\r\n    } else {\r\n      const sortedThemes = [...allThemes].sort((a, b) => parseInt(a.id) - parseInt(b.id));\r\n      return c.json({ status: true, message: 'Berhasil mendapatkan daftar seluruh tema.', data: sortedThemes });\r\n    }\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan data tema: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\nexport default theme;\r\n", "import { Hono } from 'hono';\r\nimport { getWord } from '../../../utils/jsonHandler.js';\r\n\r\nconst word = new Hono();\r\n\r\nword.get('/', async (c) => {\r\n  try {\r\n    const surahId = c.req.query('surahId') || c.req.query('id');\r\n    const ayahId = c.req.query('ayahId');\r\n\r\n    const allWords = await getWord();\r\n    if (!allWords) return c.json({ status: false, message: 'Daftar kata tidak tersedia.', data: [] }, 404);\r\n\r\n    let data = allWords;\r\n\r\n    if (surahId != null && ayahId != null) {\r\n      data = allWords.filter(w => w.surah == surahId && w.ayah == ayahId);\r\n    } else if (surahId != null) {\r\n      data = allWords.filter(w => w.surah == surahId);\r\n    }\r\n\r\n    const sortedData = [...data].sort((a, b) => {\r\n      const surahDiff = parseInt(a.surah) - parseInt(b.surah);\r\n      if (surahDiff !== 0) return surahDiff;\r\n      const ayahDiff = parseInt(a.ayah) - parseInt(b.ayah);\r\n      if (ayahDiff !== 0) return ayahDiff;\r\n      return parseInt(a.word) - parseInt(b.word);\r\n    });\r\n    \r\n    return c.json({ status: true, message: 'Berhasil mendapatkan daftar kata.', data: sortedData });\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan data kata: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\nexport default word;\r\n", "import { Hono } from 'hono';\r\nimport { \r\n  getAyahBySurah, \r\n  getDzikir, \r\n  getDoa, \r\n  writeJson \r\n} from '../../../utils/jsonHandler.js';\r\n\r\nconst admin = new Hono();\r\n\r\n// Middleware: Simple API Key Auth\r\nconst API_KEY = process.env.ADMIN_API_KEY || 'muslim-api-admin-secret';\r\n\r\nadmin.use('*', async (c, next) => {\r\n  // Check if running on Vercel Production\r\n  if (process.env.VERCEL === '1' || process.env.NODE_ENV === 'production') {\r\n    return c.json({ \r\n      status: false, \r\n      message: 'Pembaruan admin dinonaktifkan di Vercel Production. Harap gunakan strategi Pembaruan Lokal + Git Push.' \r\n    }, 403);\r\n  }\r\n\r\n  const apiKey = c.req.header('x-api-key');\r\n  if (apiKey !== API_KEY) {\r\n    return c.json({ status: false, message: 'Tidak diizinkan: API Key tidak valid atau tidak ada.' }, 401);\r\n  }\r\n  await next();\r\n});\r\n\r\n// Update Ayah\r\nadmin.patch('/ayah', async (c) => {\r\n  try {\r\n    const { surahId, ayahId, arab, text, latin } = await c.req.json();\r\n    \r\n    if (!surahId || !ayahId) {\r\n      return c.json({ status: false, message: 'surahId dan ayahId diperlukan.' }, 400);\r\n    }\r\n\r\n    const ayahs = await getAyahBySurah(surahId);\r\n    if (!ayahs) {\r\n      return c.json({ status: false, message: 'Surah tidak ditemukan.' }, 404);\r\n    }\r\n\r\n    const index = ayahs.findIndex(a => a.ayah == ayahId);\r\n    if (index === -1) {\r\n      return c.json({ status: false, message: 'Ayat tidak ditemukan.' }, 404);\r\n    }\r\n\r\n    const oldData = { ...ayahs[index] };\r\n    \r\n    // Update fields\r\n    if (arab) ayahs[index].arab = arab;\r\n    if (text) ayahs[index].text = text;\r\n    if (latin) ayahs[index].latin = latin;\r\n\r\n    const success = await writeJson(`quran/ayah/${surahId}.json`, ayahs);\r\n\r\n    if (!success) {\r\n      return c.json({ status: false, message: 'Gagal menyimpan perubahan ke file JSON.' }, 500);\r\n    }\r\n\r\n    return c.json({ \r\n      status: true, \r\n      message: 'Berhasil memperbarui ayat.',\r\n      diff: {\r\n        before: { arab: oldData.arab, text: oldData.text, latin: oldData.latin },\r\n        after: { arab: ayahs[index].arab, text: ayahs[index].text, latin: ayahs[index].latin }\r\n      },\r\n      integrity_status: 'Hash akan diperbarui otomatis pada pengecekan integritas berikutnya.'\r\n    });\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal memperbarui ayat: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\n// Update Dzikir\r\nadmin.patch('/dzikir', async (c) => {\r\n  try {\r\n    const { id, title, arabic, translation } = await c.req.json();\r\n    \r\n    if (!id) return c.json({ status: false, message: 'Parameter id diperlukan.' }, 400);\r\n\r\n    const dzikirs = await getDzikir();\r\n    if (!dzikirs) return c.json({ status: false, message: 'Daftar dzikir tidak tersedia.' }, 500);\r\n\r\n    const index = dzikirs.findIndex(d => d.id == id);\r\n    if (index === -1) return c.json({ status: false, message: 'Dzikir tidak ditemukan.' }, 404);\r\n\r\n    const oldData = { ...dzikirs[index] };\r\n\r\n    if (title) dzikirs[index].title = title;\r\n    if (arabic) dzikirs[index].arabic = arabic;\r\n    if (translation) dzikirs[index].translation = translation;\r\n\r\n    const success = await writeJson('common/dzikir.json', dzikirs);\r\n\r\n    if (!success) {\r\n      return c.json({ status: false, message: 'Gagal menyimpan perubahan ke file JSON.' }, 500);\r\n    }\r\n\r\n    return c.json({\r\n      status: true,\r\n      message: 'Berhasil memperbarui dzikir.',\r\n      diff: {\r\n        before: { title: oldData.title, arabic: oldData.arabic, translation: oldData.translation },\r\n        after: { title: dzikirs[index].title, arabic: dzikirs[index].arabic, translation: dzikirs[index].translation }\r\n      }\r\n    });\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal memperbarui dzikir: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\n// Update Doa\r\nadmin.patch('/doa', async (c) => {\r\n  try {\r\n    const { id, title, arabic, translation } = await c.req.json();\r\n    \r\n    if (!id) return c.json({ status: false, message: 'Parameter id diperlukan.' }, 400);\r\n\r\n    const doas = await getDoa();\r\n    if (!doas) return c.json({ status: false, message: 'Daftar doa tidak tersedia.' }, 500);\r\n\r\n    const index = doas.findIndex(d => d.id == id);\r\n    if (index === -1) return c.json({ status: false, message: 'Doa tidak ditemukan.' }, 404);\r\n\r\n    const oldData = { ...doas[index] };\r\n\r\n    if (title) doas[index].title = title;\r\n    if (arabic) doas[index].arabic = arabic;\r\n    if (translation) doas[index].translation = translation;\r\n\r\n    const success = await writeJson('common/doa.json', doas);\r\n\r\n    if (!success) {\r\n      return c.json({ status: false, message: 'Gagal menyimpan perubahan ke file JSON.' }, 500);\r\n    }\r\n\r\n    return c.json({\r\n      status: true,\r\n      message: 'Berhasil memperbarui doa.',\r\n      diff: {\r\n        before: { title: oldData.title, arabic: oldData.arabic, translation: oldData.translation },\r\n        after: { title: doas[index].title, arabic: doas[index].arabic, translation: doas[index].translation }\r\n      }\r\n    });\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal memperbarui doa: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\nexport default admin;\r\n", "import { Hono } from 'hono';\r\nimport { getMasjid } from '../../../utils/jsonHandler.js';\r\nimport { API_CONFIG } from '../../../config.js';\r\n\r\nconst kemenag = new Hono();\r\n\r\n// Helper for Haversine distance\r\nfunction getDistance(lat1, lon1, lat2, lon2) {\r\n  const R = 6371; // Radius of the earth in km\r\n  const dLat = (lat2 - lat1) * Math.PI / 180;\r\n  const dLon = (lon2 - lon1) * Math.PI / 180;\r\n  const a = \r\n    Math.sin(dLat/2) * Math.sin(dLat/2) +\r\n    Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * \r\n    Math.sin(dLon/2) * Math.sin(dLon/2);\r\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\r\n  const d = R * c; // Distance in km\r\n  return d;\r\n}\r\n\r\n// Data Hari Libur Nasional (Source: https://github.com/kresnasatya/api-harilibur)\r\nkemenag.get('/libur', async (c) => {\r\n  const year = c.req.query('year') || new Date().getFullYear().toString();\r\n  try {\r\n    const response = await fetch(`${API_CONFIG.KEMENAG.HARI_LIBUR}?year=${year}`);\r\n    if (!response.ok) {\r\n      return c.json({ status: false, message: `Data libur tahun ${year} tidak ditemukan` }, 404);\r\n    }\r\n    const data = await response.json();\r\n    \r\n    // Map data to maintain consistent internal format\r\n    const mappedData = data.map(item => ({\r\n      tanggal: item.holiday_date,\r\n      keterangan: item.holiday_name,\r\n      is_cuti: !item.is_national_holiday\r\n    }));\r\n\r\n    return c.json({\r\n      status: true,\r\n      message: `Berhasil mendapatkan daftar hari libur tahun ${year}.`,\r\n      data: {\r\n        year: year,\r\n        holidays: mappedData\r\n      }\r\n    });\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan data libur: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\n// Data Pesantren (Source: https://github.com/nasrul21/data-pesantren-indonesia)\r\nkemenag.get('/provinsi', async (c) => {\r\n  try {\r\n    const response = await fetch(`${API_CONFIG.KEMENAG.PESANTREN}/provinsi.json`);\r\n    if (!response.ok) return c.json({ status: false, message: 'Gagal mengambil data provinsi.' }, response.status);\r\n    const data = await response.json();\r\n    return c.json({ status: true, message: 'Berhasil mendapatkan daftar provinsi.', data });\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan data provinsi: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\nkemenag.get('/kabupaten', async (c) => {\r\n  const provinsiId = c.req.query('provinsiId');\r\n  if (!provinsiId) return c.json({ status: false, message: 'Parameter provinsiId diperlukan.' }, 400);\r\n  try {\r\n    const response = await fetch(`${API_CONFIG.KEMENAG.PESANTREN}/kabupaten/${provinsiId}.json`);\r\n    if (!response.ok) return c.json({ status: false, message: `Gagal mengambil data kabupaten untuk provinsi ID ${provinsiId}.` }, response.status);\r\n    const data = await response.json();\r\n    return c.json({ status: true, message: `Berhasil mendapatkan daftar kabupaten untuk provinsi ${provinsiId}.`, data });\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan data kabupaten: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\nkemenag.get('/pesantren', async (c) => {\r\n  const kabupatenId = c.req.query('kabupatenId');\r\n  if (!kabupatenId) return c.json({ status: false, message: 'Parameter kabupatenId diperlukan.' }, 400);\r\n  try {\r\n    const response = await fetch(`${API_CONFIG.KEMENAG.PESANTREN}/pesantren/${kabupatenId}.json`);\r\n    if (!response.ok) return c.json({ status: false, message: `Data pesantren untuk kabupaten ID ${kabupatenId} tidak ditemukan.` }, response.status);\r\n    const data = await response.json();\r\n    return c.json({ status: true, message: `Berhasil mendapatkan daftar pesantren untuk kabupaten ${kabupatenId}.`, data });\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan data pesantren: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\n// Data Masjid (Source: SIMAS Kemenag)\r\nkemenag.get('/masjid', async (c) => {\r\n  try {\r\n    const search = c.req.query('search');\r\n    const lokasi = c.req.query('lokasi');\r\n    const jenis = c.req.query('jenis'); // Masjid, Mushalla\r\n    const tipologi = c.req.query('tipologi'); // Nasional, Raya, Agung, Besar, Jami, Bersejarah, Publik, dll\r\n    \r\n    const allMasjid = await getMasjid();\r\n    if (!allMasjid) return c.json({ status: false, message: 'Daftar masjid tidak tersedia.', data: [] }, 404);\r\n\r\n    let data = allMasjid;\r\n\r\n    if (search) {\r\n      const searchLower = search.toLowerCase();\r\n      data = data.filter(m => \r\n        (m.nama && m.nama.toLowerCase().includes(searchLower)) || \r\n        (m.deskripsi && m.deskripsi.toLowerCase().includes(searchLower))\r\n      );\r\n    }\r\n    if (lokasi) {\r\n      const lokasiLower = lokasi.toLowerCase();\r\n      data = data.filter(m => m.lokasi && m.lokasi.toLowerCase().includes(lokasiLower));\r\n    }\r\n    if (jenis) {\r\n      data = data.filter(m => m.jenis === jenis);\r\n    }\r\n    if (tipologi) {\r\n      data = data.filter(m => m.tipologi === tipologi);\r\n    }\r\n\r\n    return c.json({\r\n      status: true,\r\n      message: search || lokasi || jenis || tipologi \r\n        ? `Berhasil mencari masjid dengan kriteria tertentu.` \r\n        : `Berhasil mendapatkan daftar seluruh masjid.`,\r\n      data: data\r\n    });\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan daftar masjid: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\n// Get Masjid Detail\r\nkemenag.get('/masjid/detail', async (c) => {\r\n  const id = c.req.query('id');\r\n  if (!id) return c.json({ status: false, message: 'Parameter id diperlukan.' }, 400);\r\n\r\n  try {\r\n    const allMasjid = await getMasjid();\r\n    const data = allMasjid ? allMasjid.find(m => m.id == id) : null;\r\n    \r\n    if (!data) {\r\n      return c.json({ status: false, message: 'Masjid tidak ditemukan.', data: {} }, 404);\r\n    }\r\n    return c.json({ status: true, message: 'Berhasil mendapatkan detail masjid.', data: data });\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan detail masjid: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\nkemenag.get('/masjid/:id', async (c) => {\r\n  try {\r\n    const id = c.req.param('id');\r\n    const allMasjid = await getMasjid();\r\n    const data = allMasjid ? allMasjid.find(m => m.id == id) : null;\r\n\r\n    if (!data) {\r\n      return c.json({ status: false, message: \"Masjid tidak ditemukan.\", data: {} }, 404);\r\n    }\r\n\r\n    return c.json({\r\n      status: true,\r\n      message: 'Berhasil mendapatkan detail masjid.',\r\n      data: data\r\n    });\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan detail masjid: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\n// Nearby Masjid (Geo-Location)\r\nkemenag.get('/masjid/nearby', async (c) => {\r\n  try {\r\n    const lat = parseFloat(c.req.query('lat'));\r\n    const lng = parseFloat(c.req.query('lng'));\r\n    const radius = parseFloat(c.req.query('radius') || 5); // Default 5km\r\n\r\n    if (isNaN(lat) || isNaN(lng)) {\r\n      return c.json({ status: false, message: 'Parameter lat dan lng diperlukan.' }, 400);\r\n    }\r\n\r\n    const allMasjid = await getMasjid();\r\n    if (!allMasjid) return c.json({ status: false, message: 'Daftar masjid tidak tersedia.', data: [] }, 404);\r\n\r\n    // Calculate distance and filter\r\n    const data = allMasjid\r\n      .map(m => {\r\n        const distance = getDistance(lat, lng, parseFloat(m.latitude), parseFloat(m.longitude));\r\n        return { ...m, distance };\r\n      })\r\n      .filter(m => m.distance <= radius)\r\n      .sort((a, b) => a.distance - b.distance)\r\n      .slice(0, 20);\r\n\r\n    return c.json({\r\n      status: true,\r\n      message: `Berhasil menemukan masjid dalam radius ${radius}km.`,\r\n      data: data\r\n    });\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mencari masjid terdekat: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\nexport default kemenag;\r\n", "import { Hono } from 'hono';\r\nimport { getSejarah } from '../../../utils/jsonHandler.js';\r\n\r\nconst sejarah = new Hono();\r\n\r\n// Get Sejarah List\r\nsejarah.get('/', async (c) => {\r\n  try {\r\n    const kategori = c.req.query('kategori');\r\n    const allSejarah = await getSejarah();\r\n    if (!allSejarah) return c.json({ status: false, message: 'Daftar sejarah tidak tersedia.', data: [] }, 404);\r\n\r\n    let data = allSejarah;\r\n    if (kategori) {\r\n      const kategoriLower = kategori.toLowerCase();\r\n      data = allSejarah.filter(s => s.kategori && s.kategori.toLowerCase().includes(kategoriLower));\r\n    }\r\n\r\n    return c.json({\r\n      status: true,\r\n      message: kategori ? `Berhasil mendapatkan daftar sejarah kategori ${kategori}.` : 'Berhasil mendapatkan seluruh daftar sejarah.',\r\n      data: data\r\n    });\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan daftar sejarah: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\n// Get Sejarah Detail\r\nsejarah.get('/detail', async (c) => {\r\n  try {\r\n    const id = c.req.query('id');\r\n    if (!id) return c.json({ status: false, message: 'Parameter id diperlukan.' }, 400);\r\n\r\n    const allSejarah = await getSejarah();\r\n    if (!allSejarah) return c.json({ status: false, message: 'Daftar sejarah tidak tersedia.', data: {} }, 404);\r\n\r\n    // Cari dengan ID sebagai string atau number\r\n    const item = allSejarah.find(s => s.id == id || (s.id && s.id.toString() === id.toString()));\r\n    \r\n    if (!item) return c.json({ status: false, message: `Data sejarah dengan ID ${id} tidak ditemukan.`, data: {} }, 404);\r\n    \r\n    return c.json({ status: true, message: 'Berhasil mendapatkan detail sejarah.', data: item });\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan detail sejarah: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\n// Get Sejarah Today (On This Day)\r\nsejarah.get('/today', async (c) => {\r\n  try {\r\n    const today = new Date();\r\n    const day = today.getDate();\r\n    const monthNames = [\"Januari\", \"Februari\", \"Maret\", \"April\", \"Mei\", \"Juni\",\r\n      \"Juli\", \"Agustus\", \"September\", \"Oktober\", \"November\", \"Desember\"\r\n    ];\r\n    const month = monthNames[today.getMonth()];\r\n    \r\n    const allSejarah = await getSejarah();\r\n    if (!allSejarah) return c.json({ status: false, message: 'Daftar sejarah tidak tersedia.', data: [] }, 404);\r\n\r\n    const searchStr = `${day} ${month}`;\r\n    const searchMonth = month;\r\n    \r\n    // Perbaikan logika filter: pastikan pencarian lebih akurat\r\n    const data = allSejarah.filter(s => {\r\n      const deskripsiLower = (s.deskripsi || '').toLowerCase();\r\n      const tahunLower = (s.tahun || '').toLowerCase();\r\n      const searchStrLower = searchStr.toLowerCase();\r\n      const monthLower = searchMonth.toLowerCase();\r\n\r\n      return tahunLower.includes(searchStrLower) || \r\n             tahunLower.includes(monthLower) || \r\n             deskripsiLower.includes(searchStrLower);\r\n    });\r\n\r\n    // Jika data kosong, coba cari berdasarkan bulan saja sebagai fallback\r\n    let finalData = data;\r\n    if (finalData.length === 0) {\r\n      finalData = allSejarah.filter(s => \r\n        (s.tahun && s.tahun.toLowerCase().includes(month.toLowerCase())) ||\r\n        (s.deskripsi && s.deskripsi.toLowerCase().includes(month.toLowerCase()))\r\n      );\r\n    }\r\n\r\n    return c.json({\r\n      status: true,\r\n      message: `Berhasil mendapatkan peristiwa sejarah untuk hari ini (${day} ${month}).`,\r\n      data: {\r\n        events: finalData.slice(0, 10),\r\n        today: `${day} ${month}`\r\n      }\r\n    });\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mendapatkan peristiwa sejarah hari ini: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\nexport default sejarah;\r\n", "import { Hono } from 'hono';\r\nimport { getSurahList, getAyahBySurah, getHaditsArbain, getLocalHadits, getPuasa, getFiqhPuasa } from '../../../utils/jsonHandler.js';\r\n\r\nconst tools = new Hono();\r\n\r\n// Daily Quotes (Ayat/Hadits Hari Ini)\r\ntools.get('/quotes/daily', async (c) => {\r\n  try {\r\n    const surahList = await getSurahList();\r\n    if (!surahList) throw new Error('Daftar surah tidak tersedia');\r\n\r\n    // Pilih surah acak\r\n    const randomSurah = surahList[Math.floor(Math.random() * surahList.length)];\r\n    const ayahs = await getAyahBySurah(randomSurah.number);\r\n    if (!ayahs) throw new Error('Daftar ayat tidak tersedia');\r\n\r\n    // Pilih ayat acak\r\n    const randomAyah = ayahs[Math.floor(Math.random() * ayahs.length)];\r\n    const surahName = randomSurah.name_id || randomSurah.name_en || randomSurah.name_long;\r\n\r\n    // Ambil 1 hadits arbain acak\r\n    const allArbain = await getHaditsArbain();\r\n    const randomHadits = allArbain ? allArbain[Math.floor(Math.random() * allArbain.length)] : null;\r\n\r\n    return c.json({\r\n      status: true,\r\n      message: 'Berhasil mengambil kutipan harian.',\r\n      data: {\r\n        ayat: {\r\n          arab: randomAyah.arab,\r\n          text: randomAyah.text,\r\n          sumber: `QS. ${surahName}: ${randomAyah.ayah}`\r\n        },\r\n        hadits: randomHadits ? {\r\n          arab: randomHadits.arab,\r\n          text: randomHadits.indo,\r\n          sumber: `Hadits Arbain No. ${randomHadits.no}: ${randomHadits.judul}`\r\n        } : null\r\n      }\r\n    });\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal mengambil kutipan harian: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\n// Kalkulator Zakat\r\ntools.get('/zakat', (c) => {\r\n  const type = c.req.query('type'); // maal, penghasilan, fitrah\r\n  const amount = parseFloat(c.req.query('amount') || 0);\r\n  const hargaEmas = parseFloat(c.req.query('hargaEmas') || 1200000); // Default harga emas per gram\r\n\r\n  if (!type) {\r\n    return c.json({ \r\n      status: false, \r\n      message: 'Parameter type (maal/penghasilan/fitrah) diperlukan.' \r\n    }, 400);\r\n  }\r\n\r\n  if (isNaN(amount) || amount <= 0) {\r\n    return c.json({ \r\n      status: false, \r\n      message: 'Parameter amount harus berupa angka valid dan lebih besar dari 0.' \r\n    }, 400);\r\n  }\r\n\r\n  let result = {\r\n    status: true,\r\n    message: 'Kalkulasi zakat berhasil.',\r\n    data: {\r\n      type: type,\r\n      amount: amount,\r\n      nishab: 0,\r\n      isWajib: false,\r\n      zakat: 0\r\n    }\r\n  };\r\n\r\n  if (type === 'maal') {\r\n    const nishabEmas = 85 * hargaEmas;\r\n    result.data.nishab = nishabEmas;\r\n    result.data.isWajib = amount >= nishabEmas;\r\n    result.data.zakat = result.data.isWajib ? amount * 0.025 : 0;\r\n    result.data.keterangan = 'Nishab Zakat Maal adalah setara 85 gram emas per tahun. Tarif zakat 2,5%.';\r\n    result.data.sumber = 'BAZNAS (Badan Amil Zakat Nasional)';\r\n  } \r\n  else if (type === 'penghasilan') {\r\n    const nishabEmasBulan = (85 * hargaEmas) / 12;\r\n    result.data.nishab = nishabEmasBulan;\r\n    result.data.isWajib = amount >= nishabEmasBulan;\r\n    result.data.zakat = result.data.isWajib ? amount * 0.025 : 0;\r\n    result.data.keterangan = 'Nishab Zakat Penghasilan setara 85 gram emas per tahun (dibagi 12 bulan). Tarif 2,5%.';\r\n    result.data.sumber = 'Peraturan Menteri Agama No. 31 Tahun 2019 & BAZNAS';\r\n  }\r\n  else if (type === 'fitrah') {\r\n    const hargaBeras = parseFloat(c.req.query('hargaBeras') || 15000);\r\n    const jumlahOrang = parseInt(c.req.query('jumlahOrang') || 1);\r\n    const zakatPerOrang = 2.5 * hargaBeras; // 2.5 kg atau 3.5 liter beras\r\n    result.data.nishab = 0;\r\n    result.data.isWajib = true;\r\n    result.data.zakat = zakatPerOrang * jumlahOrang;\r\n    result.data.keterangan = `Zakat Fitrah adalah 2.5kg beras per jiwa. Estimasi Rp${zakatPerOrang.toLocaleString('id-ID')} per jiwa.`;\r\n    result.data.sumber = 'Ketentuan Fiqh (Zakat Fitrah 2.5kg/3.5 liter beras)';\r\n  } else {\r\n    return c.json({ status: false, message: 'Tipe zakat tidak valid. Gunakan: maal, penghasilan, atau fitrah.' }, 400);\r\n  }\r\n\r\n  return c.json(result);\r\n});\r\n\r\n// Qibla Direction (Arah Kiblat)\r\ntools.get('/qibla', async (c) => {\r\n  const lat = parseFloat(c.req.query('lat'));\r\n  const lng = parseFloat(c.req.query('lng'));\r\n\r\n  if (isNaN(lat) || isNaN(lng)) {\r\n    return c.json({ status: false, message: 'Parameter lat dan lng diperlukan dan harus berupa angka.' }, 400);\r\n  }\r\n\r\n  // Kaaba coordinates\r\n  const kaabaLat = 21.4225;\r\n  const kaabaLng = 39.8262;\r\n\r\n  // Formula: tan(q) = sin(\u0394L) / (cos(\u03C61)tan(\u03C62) - sin(\u03C61)cos(\u0394L))\r\n  const dL = (kaabaLng - lng) * Math.PI / 180;\r\n  const phi1 = lat * Math.PI / 180;\r\n  const phi2 = kaabaLat * Math.PI / 180;\r\n\r\n  const q = Math.atan2(Math.sin(dL), (Math.cos(phi1) * Math.tan(phi2) - Math.sin(phi1) * Math.cos(dL)));\r\n  const direction = (q * 180 / Math.PI + 360) % 360;\r\n\r\n  return c.json({\r\n    status: true,\r\n    message: 'Berhasil menghitung arah kiblat.',\r\n    data: {\r\n      coordinates: { lat, lng },\r\n      kaaba: { lat: kaabaLat, lng: kaabaLng },\r\n      qibla_direction: direction,\r\n      unit: 'degrees'\r\n    }\r\n  });\r\n});\r\n\r\n// Semantic Search (RAG-lite) - Mencari berdasarkan kata kunci di Quran & Hadits\r\ntools.get('/semantic-search', async (c) => {\r\n  const query = c.req.query('query');\r\n\r\n  if (!query) return c.json({ status: false, message: 'Parameter query diperlukan.' }, 400);\r\n\r\n  try {\r\n    const queryLower = query.toLowerCase();\r\n    const searchTerms = queryLower.split(' ');\r\n\r\n    // Cari di Quran\r\n    const surahList = await getSurahList();\r\n    let quranResults = [];\r\n    \r\n    for (const s of surahList) {\r\n      const ayahs = await getAyahBySurah(s.number);\r\n      if (ayahs) {\r\n        const matches = ayahs.filter(a => {\r\n          const text = (a.text || '').toLowerCase();\r\n          return searchTerms.every(term => text.includes(term));\r\n        }).slice(0, 5);\r\n\r\n        if (matches.length > 0) {\r\n          const surahName = s.name_id || s.name_en || s.name_long;\r\n          quranResults.push(...matches.map(a => ({\r\n            arab: a.arab,\r\n            text: a.text,\r\n            sumber: `QS. ${surahName}: ${a.ayah}`\r\n          })));\r\n        }\r\n      }\r\n      if (quranResults.length >= 10) break;\r\n    }\r\n\r\n    // Cari di Hadits Arbain\r\n    const allArbain = await getHaditsArbain();\r\n    const arbainMatches = allArbain ? allArbain.filter(h => {\r\n      const text = (h.judul + ' ' + h.indo).toLowerCase();\r\n      return searchTerms.every(term => text.includes(term));\r\n    }).slice(0, 5) : [];\r\n\r\n    const formattedArbain = arbainMatches.map(h => ({\r\n      arab: h.arab,\r\n      text: h.indo,\r\n      sumber: `Hadits Arbain No. ${h.no}: ${h.judul}`\r\n    }));\r\n\r\n    // Cari di Kitab Hadits (9 Kitab + Arbain) secara lokal\r\n    let globalHadits = [];\r\n    const allBooks = [\r\n      'bukhari', 'muslim', 'abu-daud', 'tirmidzi', 'nasai', \r\n      'ibnu-majah', 'ahmad', 'darimi', 'malik'\r\n    ];\r\n\r\n    for (const book of allBooks) {\r\n      const allHadits = await getLocalHadits(book);\r\n      if (allHadits) {\r\n        const matches = allHadits.filter(h => {\r\n          const text = (h.id || '').toLowerCase();\r\n          return searchTerms.every(term => text.includes(term));\r\n        }).slice(0, 2);\r\n\r\n        const bookName = book.split('-').map(word => word.charAt(0).toUpperCase() + word.slice(1)).join(' ');\r\n        globalHadits.push(...matches.map(h => ({\r\n          arab: h.arab,\r\n          text: h.id,\r\n          sumber: `HR. ${bookName} No. ${h.number}`\r\n        })));\r\n      }\r\n      if (globalHadits.length >= 15) break;\r\n    }\r\n\r\n    const totalHadits = [...formattedArbain, ...globalHadits];\r\n\r\n    // Cari di Puasa & Fiqh\r\n    const allPuasa = await getPuasa();\r\n    const puasaMatches = allPuasa ? allPuasa.filter(p => {\r\n      const text = (p.nama + ' ' + p.deskripsi + ' ' + p.dalil).toLowerCase();\r\n      return searchTerms.every(term => text.includes(term));\r\n    }).slice(0, 5) : [];\r\n\r\n    const formattedPuasa = puasaMatches.map(p => ({\r\n      text: `${p.nama}: ${p.deskripsi}`,\r\n      dalil: p.dalil,\r\n      sumber: `Fitur Puasa (${p.hukum})`\r\n    }));\r\n\r\n    const allFiqh = await getFiqhPuasa();\r\n    let fiqhResults = [];\r\n    if (allFiqh) {\r\n      for (const category of allFiqh) {\r\n        const matches = category.points.filter(pt => {\r\n          const text = (pt.title + ' ' + pt.content).toLowerCase();\r\n          return searchTerms.every(term => text.includes(term));\r\n        }).slice(0, 3);\r\n        \r\n        fiqhResults.push(...matches.map(pt => ({\r\n          text: pt.title,\r\n          content: pt.content,\r\n          sumber: `70 Masalah Puasa - Sumber: islamqa.info`\r\n        })));\r\n        if (fiqhResults.length >= 10) break;\r\n      }\r\n    }\r\n\r\n    if (quranResults.length === 0 && totalHadits.length === 0 && formattedPuasa.length === 0 && fiqhResults.length === 0) {\r\n      return c.json({\r\n        status: false,\r\n        message: `Tidak ada hasil pencarian semantik untuk '${query}'.`,\r\n        data: {\r\n          query: query,\r\n          quran: [],\r\n          hadits: [],\r\n          puasa: [],\r\n          fiqh: []\r\n        }\r\n      }, 404);\r\n    }\r\n\r\n    return c.json({\r\n      status: true,\r\n      message: `Pencarian semantik untuk '${query}' berhasil.`,\r\n      data: {\r\n        query: query,\r\n        quran: quranResults,\r\n        hadits: totalHadits,\r\n        puasa: formattedPuasa,\r\n        fiqh: fiqhResults\r\n      }\r\n    });\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Pencarian semantik gagal: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\n/**\r\n * Kalkulator Waris (Faraidh)\r\n * Berdasarkan Hukum Waris Islam (Kompilasi Hukum Islam)\r\n */\r\ntools.get('/faraidh', (c) => {\r\n  try {\r\n    const totalHarta = parseFloat(c.req.query('totalHarta') || 0);\r\n    const suami = parseInt(c.req.query('suami') || 0);\r\n    const istri = parseInt(c.req.query('istri') || 0);\r\n    const anakLk = parseInt(c.req.query('anakLk') || 0);\r\n    const anakPr = parseInt(c.req.query('anakPr') || 0);\r\n    const ayah = c.req.query('ayah') === 'true';\r\n    const ibu = c.req.query('ibu') === 'true';\r\n\r\n    if (totalHarta <= 0) {\r\n      return c.json({ status: false, message: 'Total harta harus lebih besar dari 0.' }, 400);\r\n    }\r\n\r\n    if (suami > 0 && istri > 0) {\r\n      return c.json({ status: false, message: 'Tidak mungkin ada suami dan istri secara bersamaan dalam satu kasus waris.' }, 400);\r\n    }\r\n\r\n    let results = [];\r\n    let denominators = []; // Untuk menghitung KPK/Aul\r\n    \r\n    const adaAnak = anakLk > 0 || anakPr > 0;\r\n    \r\n    // 1. Tentukan Bagian Pasti (Ashabul Furud)\r\n    let furud = {\r\n      suami: 0,\r\n      istri: 0,\r\n      ibu: 0,\r\n      ayah: 0,\r\n      anakPr: 0\r\n    };\r\n\r\n    // Suami\r\n    if (suami > 0) {\r\n      furud.suami = adaAnak ? 1/4 : 1/2;\r\n    }\r\n\r\n    // Istri\r\n    if (istri > 0) {\r\n      furud.istri = adaAnak ? 1/8 : 1/4;\r\n    }\r\n\r\n    // Ibu\r\n    if (ibu) {\r\n      furud.ibu = adaAnak ? 1/6 : 1/3;\r\n    }\r\n\r\n    // Ayah (sebagai ahli waris fard jika ada anak laki-laki)\r\n    if (ayah) {\r\n      if (anakLk > 0) {\r\n        furud.ayah = 1/6;\r\n      } else if (anakPr > 0) {\r\n        furud.ayah = 1/6; // Nanti ditambah sisa jika ada\r\n      } else {\r\n        furud.ayah = 0; // Asabah murni\r\n      }\r\n    }\r\n\r\n    // Anak Perempuan (jika tidak ada anak laki-laki)\r\n    if (anakLk === 0 && anakPr > 0) {\r\n      if (anakPr === 1) {\r\n        furud.anakPr = 1/2;\r\n      } else {\r\n        furud.anakPr = 2/3;\r\n      }\r\n    }\r\n\r\n    // Hitung Total Furud\r\n    let totalFurud = furud.suami + furud.istri + furud.ibu + furud.ayah + furud.anakPr;\r\n\r\n    // 2. Handle Asabah (Sisa)\r\n    let sisa = 1 - totalFurud;\r\n    let asabah = {\r\n      ayah: 0,\r\n      anakLk: 0,\r\n      anakPr: 0\r\n    };\r\n\r\n    if (sisa > 0) {\r\n      // Ayah menjadi asabah jika tidak ada anak laki-laki\r\n      if (ayah && anakLk === 0) {\r\n        asabah.ayah = sisa;\r\n        sisa = 0;\r\n      } \r\n      // Jika ada anak laki-laki, anak-anak menjadi asabah\r\n      else if (anakLk > 0) {\r\n        const totalRasio = (anakLk * 2) + anakPr;\r\n        const perBagian = sisa / totalRasio;\r\n        asabah.anakLk = perBagian * 2 * anakLk;\r\n        asabah.anakPr = perBagian * anakPr;\r\n        sisa = 0;\r\n      }\r\n    }\r\n\r\n    // 3. Handle Aul (Jika total bagian > 1)\r\n    if (totalFurud > 1) {\r\n      const faktorAul = 1 / totalFurud;\r\n      furud.suami *= faktorAul;\r\n      furud.istri *= faktorAul;\r\n      furud.ibu *= faktorAul;\r\n      furud.ayah *= faktorAul;\r\n      furud.anakPr *= faktorAul;\r\n      totalFurud = 1;\r\n    }\r\n\r\n    // 4. Handle Radd (Jika total bagian < 1 dan tidak ada asabah)\r\n    // Sederhananya, radd dibagi ke semua fard kecuali suami/istri\r\n    if (totalFurud < 1 && anakLk === 0 && !(ayah)) {\r\n      let raddBeneficiaries = furud.ibu + furud.anakPr;\r\n      if (raddBeneficiaries > 0) {\r\n        const faktorRadd = (1 - (furud.suami + furud.istri)) / raddBeneficiaries;\r\n        furud.ibu *= faktorRadd;\r\n        furud.anakPr *= faktorRadd;\r\n      }\r\n    }\r\n\r\n    // Susun Response\r\n    const addResult = (nama, rasio, jumlah = 1) => {\r\n      if (rasio > 0) {\r\n        results.push({\r\n          ahli_waris: nama,\r\n          jumlah: jumlah,\r\n          bagian_persen: (rasio * 100).toFixed(2) + '%',\r\n          nominal: Math.floor(totalHarta * rasio)\r\n        });\r\n      }\r\n    };\r\n\r\n    addResult('Suami', furud.suami);\r\n    addResult('Istri', furud.istri, istri);\r\n    addResult('Ibu', furud.ibu);\r\n    addResult('Ayah', furud.ayah + asabah.ayah);\r\n    addResult('Anak Laki-laki', asabah.anakLk, anakLk);\r\n    addResult('Anak Perempuan', furud.anakPr + asabah.anakPr, anakPr);\r\n\r\n    return c.json({\r\n      status: true,\r\n      message: 'Kalkulasi waris berhasil.',\r\n      data: {\r\n        total_harta: totalHarta,\r\n        rincian: results,\r\n        zakat_harta: totalHarta >= 85000000 ? Math.floor(totalHarta * 0.025) : 0, // Reminder zakat jika mencapai nishab\r\n        keterangan: 'Perhitungan ini menggunakan standar ilmu Faraidh (KHI). Sangat disarankan untuk berkonsultasi dengan ahli agama/KUA setempat.',\r\n        sumber: 'Kompilasi Hukum Islam (KHI) & Fiqh Mawaris'\r\n      }\r\n    });\r\n\r\n  } catch (error) {\r\n    return c.json({ status: false, message: 'Gagal menghitung waris: ' + error.message }, 500);\r\n  }\r\n});\r\n\r\nexport default tools;\r\n", "import { Hono } from 'hono';\nimport { getAnalytics, updateAnalytics, getSurahList } from '../../../utils/jsonHandler.js';\n\nconst analytics = new Hono();\n\n// Endpoint: Get Global Spiritual Analytics\nanalytics.get('/', async (c) => {\n  try {\n    const stats = await getAnalytics();\n    const surahList = await getSurahList();\n\n    // Transform trending surahs into a more readable format\n    const trendingSurahs = Object.entries(stats.trending_surahs)\n      .map(([id, count]) => {\n        const surah = surahList ? surahList.find(s => s.number == id) : null;\n        return {\n          id,\n          name: surah ? surah.name_id : 'Unknown',\n          reads: count\n        };\n      })\n      .sort((a, b) => b.reads - a.reads)\n      .slice(0, 10);\n\n    return c.json({\n      status: true,\n      message: \"Berhasil mendapatkan statistik spiritual global.\",\n      data: {\n        total_reads: stats.total_reads,\n        global_khatam_count: stats.global_khatam,\n        trending_surahs: trendingSurahs,\n        last_updated: stats.last_updated\n      }\n    });\n  } catch (error) {\n    return c.json({ status: false, message: 'Gagal mendapatkan data analitik: ' + error.message }, 500);\n  }\n});\n\n// Endpoint: Report Khatam (Community Event)\nanalytics.post('/khatam', async (c) => {\n  try {\n    const success = await updateAnalytics('khatam');\n    if (success) {\n      return c.json({ \n        status: true, \n        message: \"Alhamdulillah! Satu khatam baru telah tercatat dalam statistik global. Semoga berkah.\" \n      });\n    }\n    return c.json({ status: false, message: \"Gagal mencatat khatam.\" }, 500);\n  } catch (error) {\n    return c.json({ status: false, message: error.message }, 500);\n  }\n});\n\nexport default analytics;\n", "import { Hono } from 'hono';\nimport { getPuasa, getFiqhPuasa } from '../../../utils/jsonHandler.js';\n\nconst puasa = new Hono();\n\n// Get all puasa (sunnah & ramadhan)\npuasa.get('/', async (c) => {\n  try {\n    const data = await getPuasa();\n    if (!data) throw new Error('Data puasa tidak tersedia');\n\n    return c.json({\n      status: true,\n      message: 'Berhasil mengambil daftar puasa.',\n      data: data\n    });\n  } catch (error) {\n    return c.json({ status: false, message: 'Gagal mengambil data puasa: ' + error.message }, 500);\n  }\n});\n\n// Get Fiqh/Adab Puasa (70 Matters)\npuasa.get('/fiqh', async (c) => {\n  try {\n    const data = await getFiqhPuasa();\n    if (!data) throw new Error('Data fiqh puasa tidak tersedia');\n\n    return c.json({\n      status: true,\n      message: 'Berhasil mengambil 70 Masalah Terkait Puasa (Fiqh & Adab).',\n      data: data\n    });\n  } catch (error) {\n    return c.json({ status: false, message: 'Gagal mengambil data fiqh puasa: ' + error.message }, 500);\n  }\n});\n\n// Search puasa by name\npuasa.get('/find', async (c) => {\n  const query = c.req.query('query');\n  if (!query) return c.json({ status: false, message: 'Parameter query diperlukan.' }, 400);\n\n  try {\n    const data = await getPuasa();\n    const filtered = data.filter(p => \n      p.nama.toLowerCase().includes(query.toLowerCase()) || \n      p.deskripsi.toLowerCase().includes(query.toLowerCase())\n    );\n\n    return c.json({\n      status: true,\n      message: `Berhasil mencari puasa dengan query: ${query}`,\n      data: filtered\n    });\n  } catch (error) {\n    return c.json({ status: false, message: 'Gagal mencari data puasa: ' + error.message }, 500);\n  }\n});\n\n// Get puasa by type (mingguan, bulanan, tahunan)\npuasa.get('/type/:type', async (c) => {\n  const type = c.req.param('type');\n  try {\n    const data = await getPuasa();\n    const filtered = data.filter(p => p.type === type);\n\n    return c.json({\n      status: true,\n      message: `Berhasil mengambil daftar puasa tipe: ${type}`,\n      data: filtered\n    });\n  } catch (error) {\n    return c.json({ status: false, message: 'Gagal mengambil data puasa: ' + error.message }, 500);\n  }\n});\n\nexport default puasa;\n", "import { Hono } from 'hono';\r\nimport asbab from './asbab.js';\r\nimport asma from './asma.js';\r\nimport ayah from './ayah.js';\r\nimport calendar from './calendar.js';\r\nimport doa from './doa.js';\r\nimport dzikir from './dzikir.js';\r\nimport hadits from './hadits.js';\r\nimport juz from './juz.js';\r\nimport murotal from './murotal.js';\r\nimport integrity from './integrity.js';\r\nimport sholat from './sholat.js';\r\nimport surah from './surah.js';\r\nimport tafsir from './tafsir.js';\r\nimport theme from './theme.js';\r\nimport word from './word.js';\r\nimport admin from './admin.js';\r\nimport kemenag from './kemenag.js';\r\nimport sejarah from './sejarah.js';\r\nimport tools from './tools.js';\r\nimport analytics from './analytics.js';\r\nimport puasa from './puasa.js';\r\n\r\nconst v1 = new Hono();\r\n\r\nv1.route('/asbab', asbab);\r\nv1.route('/asma', asma);\r\nv1.route('/ayah', ayah);\r\nv1.route('/calendar', calendar);\r\nv1.route('/doa', doa);\r\nv1.route('/dzikir', dzikir);\r\nv1.route('/hadits', hadits);\r\nv1.route('/juz', juz);\r\nv1.route('/murotal', murotal);\r\nv1.route('/integrity', integrity);\r\nv1.route('/sholat', sholat);\r\nv1.route('/surah', surah);\r\nv1.route('/tafsir', tafsir);\r\nv1.route('/theme', theme);\r\nv1.route('/word', word);\r\nv1.route('/admin', admin);\r\nv1.route('/kemenag', kemenag);\r\nv1.route('/sejarah', sejarah);\r\nv1.route('/tools', tools);\r\nv1.route('/analytics', analytics);\r\nv1.route('/puasa', puasa);\r\n\r\nv1.get('/', (c) => {\r\n  return c.json({\r\n    status: true,\r\n    message: \"Selamat datang di Muslim API v1. Berikut adalah daftar endpoint yang tersedia.\",\r\n    data: {\r\n      quran: {\r\n        surah: {\r\n          daftarSurah: {\r\n            pattern: \"/v1/surah\",\r\n          },\r\n          infoSurah: {\r\n            pattern: \"/v1/surah?surahId={surahId}\",\r\n            contoh: \"/v1/surah?surahId=114\",\r\n          },\r\n        },\r\n        ayah: {\r\n          range: {\r\n            pattern: \"/v1/ayah/range?surahId={surahId}&start={start}&end={end}\",\r\n            contoh: \"/v1/ayah/range?surahId=1&start=1&end=7\",\r\n          },\r\n          spesifikSurah: {\r\n            pattern: \"/v1/ayah/surah?surahId={surahId}\",\r\n            contoh: \"/v1/ayah/surah?surahId=1\",\r\n          },\r\n          spesifikJuz: {\r\n            pattern: \"/v1/ayah/juz?juzId={juzId}\",\r\n            contoh: \"/v1/ayah/juz?juzId=30\",\r\n          },\r\n          spesifikHalaman: {\r\n            pattern: \"/v1/ayah/page?page={page}\",\r\n            contoh: \"/v1/ayah/page?page=604\",\r\n          },\r\n          spesifikAyat: {\r\n            pattern: \"/v1/ayah/specific?surahId={surahId}&ayahId={ayahId}\",\r\n            contoh: \"/v1/ayah/specific?surahId=1&ayahId=1\",\r\n          },\r\n          cari: {\r\n            pattern: \"/v1/ayah/find?query={query}\",\r\n            contoh: \"/v1/ayah/find?query=puasa\",\r\n          },\r\n        },\r\n        juz: {\r\n          semua: {\r\n            pattern: \"/v1/juz\",\r\n          },\r\n          spesifik: {\r\n            pattern: \"/v1/juz?juzId={juzId}\",\r\n            contoh: \"/v1/juz?juzId=30\",\r\n          },\r\n        },\r\n        asbabNujul: {\r\n          semua: {\r\n            pattern: \"/v1/asbab\",\r\n          },\r\n          spesifik: {\r\n            pattern: \"/v1/asbab?id={asbabId}\",\r\n            contoh: \"/v1/asbab?id=1\",\r\n          },\r\n        },\r\n        asmaulHusna: {\r\n          semua: {\r\n            pattern: \"/v1/asma\",\r\n          },\r\n          spesifik: {\r\n            pattern: \"/v1/asma?id={asmaId}\",\r\n            contoh: \"/v1/asma?id=1\",\r\n          },\r\n        },\r\n        murotal: {\r\n          qari: {\r\n            pattern: \"/v1/murotal/qari\",\r\n          },\r\n          semua: {\r\n            pattern: \"/v1/murotal\",\r\n          },\r\n          spesifikQari: {\r\n            pattern: \"/v1/murotal?qariId={qariId}\",\r\n            contoh: \"/v1/murotal?qariId=05\",\r\n          },\r\n          spesifikSurah: {\r\n            pattern: \"/v1/murotal?surahId={surahId}&qariId={qariId}\",\r\n            contoh: \"/v1/murotal?surahId=1&qariId=05\",\r\n          },\r\n        },\r\n        jadwalSholat: {\r\n          semuaKota: {\r\n            pattern: \"/v1/sholat/kota/semua\",\r\n          },\r\n          cariKota: {\r\n            pattern: \"/v1/sholat/kota/cari?nama={namaKota}\",\r\n            contoh: \"/v1/sholat/kota/cari?nama=jakarta\",\r\n          },\r\n          jadwalByKota: {\r\n            pattern: \"/v1/sholat/jadwal?kotaId={kotaId}&tanggal={YYYY-MM-DD}\",\r\n            contoh: \"/v1/sholat/jadwal?kotaId=58a2fc6ed39fd083f55d4182bf88826d&tanggal=2025-12-24\",\r\n          },\r\n          jadwalByKoordinat: {\r\n            pattern: \"/v1/sholat/jadwal/koordinat?lat={latitude}&lon={longitude}\",\r\n            contoh: \"/v1/sholat/jadwal/koordinat?lat=-6.1751&lon=106.8272\",\r\n          },\r\n          sholatTerdekat: {\r\n            pattern: \"/v1/sholat/next?lat={lat}&lon={lon}\",\r\n            contoh: \"/v1/sholat/next?lat=-6.1751&lon=106.8272\",\r\n          },\r\n        },\r\n        calendar: {\r\n          masehiToHijri: {\r\n            pattern: \"/v1/calendar/hijri?date={YYYY-MM-DD}\",\r\n            contoh: \"/v1/calendar/hijri?date=2024-03-11\",\r\n          },\r\n          hijriToMasehi: {\r\n            pattern: \"/v1/calendar/masehi?day={day}&month={month}&year={year}\",\r\n            contoh: \"/v1/calendar/masehi?day=1&month=9&year=1445\",\r\n          },\r\n        },\r\n        tafsir: {\r\n          semua: {\r\n            pattern: \"/v1/tafsir\",\r\n          },\r\n          spesifikSurah: {\r\n            pattern: \"/v1/tafsir?surahId={surahId}\",\r\n            contoh: \"/v1/tafsir?surahId=1\",\r\n          },\r\n        },\r\n        theme: {\r\n          semua: {\r\n            pattern: \"/v1/theme\",\r\n          },\r\n          spesifik: {\r\n            pattern: \"/v1/theme?themeId={themeId}\",\r\n            contoh: \"/v1/theme?themeId=1\",\r\n          },\r\n        },\r\n        kataPerKata: {\r\n          semua: {\r\n            pattern: \"/v1/word\",\r\n          },\r\n          spesifikSurah: {\r\n            pattern: \"/v1/word?surahId={surahId}\",\r\n            contoh: \"/v1/word?surahId=1\",\r\n          },\r\n          spesifikAyat: {\r\n            pattern: \"/v1/word?surahId={surahId}&ayahId={ayahId}\",\r\n            contoh: \"/v1/word?surahId=1&ayahId=1\",\r\n          },\r\n        },\r\n      },\r\n      doa: {\r\n        semua: {\r\n          pattern: \"/v1/doa\",\r\n        },\r\n        spesifikSumber: {\r\n          pattern: \"/v1/doa?source={source}\",\r\n          contoh: \"/v1/doa?source=quran\",\r\n        },\r\n        cari: {\r\n          pattern: \"/v1/doa/find?query={query}\",\r\n          contoh: \"/v1/doa/find?query=makan\",\r\n        },\r\n      },\r\n      dzikir: {\r\n        semua: {\r\n          pattern: \"/v1/dzikir\",\r\n        },\r\n        spesifikTipe: {\r\n          pattern: \"/v1/dzikir?type={type}\",\r\n          contoh: \"/v1/dzikir?type=pagi\",\r\n        },\r\n      },\r\n      hadits: {\r\n        semua: {\r\n          pattern: \"/v1/hadits\",\r\n        },\r\n        spesifikNomor: {\r\n          pattern: \"/v1/hadits?nomor={nomor}\",\r\n          contoh: \"/v1/hadits?nomor=1\",\r\n        },\r\n        cari: {\r\n          pattern: \"/v1/hadits/find?query={query}\",\r\n          contoh: \"/v1/hadits/find?query=niat\",\r\n        },\r\n      },\r\n      sejarah: {\r\n        semua: {\r\n          pattern: \"/v1/sejarah\",\r\n        },\r\n        spesifik: {\r\n          pattern: \"/v1/sejarah?id={sejarahId}\",\r\n          contoh: \"/v1/sejarah?id=1\",\r\n        },\r\n      },\r\n      puasa: {\r\n        semua: {\r\n          pattern: \"/v1/puasa\",\r\n        },\r\n        fiqh: {\r\n          pattern: \"/v1/puasa/fiqh\",\r\n        },\r\n        cari: {\r\n          pattern: \"/v1/puasa/find?query={query}\",\r\n          contoh: \"/v1/puasa/find?query=bidh\",\r\n        },\r\n        filterTipe: {\r\n          pattern: \"/v1/puasa/type/{type}\",\r\n          contoh: \"/v1/puasa/type/mingguan\",\r\n        },\r\n      },\r\n      kemenag: {\r\n        hariLibur: {\r\n          pattern: \"/v1/kemenag/libur?year={year}\",\r\n          contoh: \"/v1/kemenag/libur?year=2025\",\r\n        },\r\n        pesantren: {\r\n          provinsi: {\r\n            pattern: \"/v1/kemenag/provinsi\",\r\n          },\r\n          kabupaten: {\r\n            pattern: \"/v1/kemenag/kabupaten?provinsiId={provinsiId}\",\r\n            contoh: \"/v1/kemenag/kabupaten?provinsiId=13\",\r\n          },\r\n          daftar: {\r\n            pattern: \"/v1/kemenag/pesantren?kabupatenId={kabupatenId}\",\r\n            contoh: \"/v1/kemenag/pesantren?kabupatenId=1301\",\r\n          },\r\n        },\r\n        masjid: {\r\n          daftar: {\r\n            pattern: \"/v1/kemenag/masjid?search={query}&lokasi={lokasi}\",\r\n            contoh: \"/v1/kemenag/masjid?search=istiqlal\",\r\n          },\r\n          detail: {\r\n            pattern: \"/v1/kemenag/masjid/detail?id={id}\",\r\n            contoh: \"/v1/kemenag/masjid/detail?id=1\",\r\n          },\r\n          terdekat: {\r\n            pattern: \"/v1/kemenag/masjid/nearby?lat={lat}&lng={lng}&radius={radius}\",\r\n            contoh: \"/v1/kemenag/masjid/nearby?lat=-6.1702&lng=106.8315\",\r\n          },\r\n        },\r\n      },\r\n      tools: {\r\n        quotesHarian: {\r\n          pattern: \"/v1/tools/quotes/daily\",\r\n        },\r\n        zakat: {\r\n          pattern: \"/v1/tools/zakat?type={type}&amount={amount}&hargaEmas={hargaEmas}&hargaBeras={hargaBeras}&jumlahOrang={jumlahOrang}\",\r\n          contoh: \"/v1/tools/zakat?type=maal&amount=100000000\",\r\n        },\r\n        faraidh: {\r\n          pattern: \"/v1/tools/faraidh?totalHarta={totalHarta}&suami={suami}&istri={istri}&anakLk={anakLk}&anakPr={anakPr}&ayah={ayah}&ibu={ibu}\",\r\n          contoh: \"/v1/tools/faraidh?totalHarta=120000000&suami=1&anakLk=1&anakPr=1\",\r\n        },\r\n        qibla: {\r\n          pattern: \"/v1/tools/qibla?lat={lat}&lng={lng}\",\r\n          contoh: \"/v1/tools/qibla?lat=-6.1751&lng=106.8272\",\r\n        },\r\n        semanticSearch: {\r\n          pattern: \"/v1/tools/semantic-search?query={query}\",\r\n          contoh: \"/v1/tools/semantic-search?query=sabar\",\r\n        },\r\n      },\r\n      analytics: {\r\n        global: {\r\n          pattern: \"/v1/analytics\",\r\n        },\r\n        laporKhatam: {\r\n          pattern: \"/v1/analytics/khatam\",\r\n          method: \"POST\",\r\n        },\r\n      },\r\n      integrity: {\r\n        chain: {\r\n          pattern: \"/v1/integrity/chain\",\r\n        },\r\n        verify: {\r\n          pattern: \"/v1/integrity/verify\",\r\n        },\r\n        verifyAyah: {\r\n          pattern: \"/v1/integrity/verify/ayah?surahId={surahId}&ayahId={ayahId}\",\r\n          contoh: \"/v1/integrity/verify/ayah?surahId=1&ayahId=1\",\r\n        },\r\n      },\r\n    }\r\n  });\r\n});\r\n\r\nexport default v1;\r\n", "/**\r\n * Utilitas untuk manipulasi string QRIS (Static to Dynamic)\r\n * Tanpa dependensi eksternal yang menggunakan 'fs' atau 'path'.\r\n */\r\n\r\nexport function generateCRC16(data) {\r\n  let crc = 0xffff;\r\n  for (let i = 0; i < data.length; i++) {\r\n    crc ^= data.charCodeAt(i) << 8;\r\n    for (let j = 0; j < 8; j++) {\r\n      if ((crc & 0x8000) !== 0) {\r\n        crc = ((crc << 1) ^ 0x1021) & 0xffff;\r\n      } else {\r\n        crc = (crc << 1) & 0xffff;\r\n      }\r\n    }\r\n  }\r\n  return crc.toString(16).toUpperCase().padStart(4, \"0\");\r\n}\r\n\r\nexport function createDynamicQRIS(staticQris, amount) {\r\n  if (!staticQris) throw new Error(\"QRIS statis diperlukan\");\r\n  \r\n  // Hapus CRC16 lama (4 karakter terakhir + tag 63)\r\n  let baseQris = staticQris.slice(0, -4);\r\n  if (baseQris.endsWith(\"6304\")) {\r\n    baseQris = baseQris.slice(0, -4);\r\n  }\r\n\r\n  // Helper untuk parsing TLV sederhana\r\n  const parts = [];\r\n  let pos = 0;\r\n  while (pos < baseQris.length) {\r\n    const tag = baseQris.substring(pos, pos + 2);\r\n    const len = parseInt(baseQris.substring(pos + 2, pos + 4));\r\n    const val = baseQris.substring(pos + 4, pos + 4 + len);\r\n    parts.push({ tag, len, val });\r\n    pos += 4 + len;\r\n  }\r\n\r\n  // Update tag 01 ke 12 (Dynamic)\r\n  const tag01 = parts.find(p => p.tag === \"01\");\r\n  if (tag01) {\r\n    tag01.val = \"12\";\r\n    tag01.len = 2;\r\n  }\r\n\r\n  // Tambah/Update tag 54 (Amount)\r\n  const amountStr = amount.toString();\r\n  const tag54 = parts.find(p => p.tag === \"54\");\r\n  if (tag54) {\r\n    tag54.val = amountStr;\r\n    tag54.len = amountStr.length;\r\n  } else {\r\n    // Masukkan tag 54 sebelum tag 58 atau di posisi yang sesuai\r\n    const index58 = parts.findIndex(p => parseInt(p.tag) > 54);\r\n    const newTag = { tag: \"54\", len: amountStr.length, val: amountStr };\r\n    if (index58 !== -1) {\r\n      parts.splice(index58, 0, newTag);\r\n    } else {\r\n      parts.push(newTag);\r\n    }\r\n  }\r\n\r\n  // Susun kembali string QRIS\r\n  let dynamicQris = parts\r\n    .sort((a, b) => a.tag.localeCompare(b.tag))\r\n    .map(p => p.tag + p.len.toString().padStart(2, \"0\") + p.val)\r\n    .join(\"\");\r\n\r\n  // Tambahkan tag 6304 untuk CRC\r\n  dynamicQris += \"6304\";\r\n  \r\n  // Hitung CRC16 baru\r\n  const crc = generateCRC16(dynamicQris);\r\n  \r\n  return dynamicQris + crc;\r\n}\r\n", "//---------------------------------------------------------------------\n//\n// QR Code Generator for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//  http://www.opensource.org/licenses/mit-license.php\n//\n// The word 'QR Code' is registered trademark of\n// DENSO WAVE INCORPORATED\n//  http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\n\n//---------------------------------------------------------------------\n// qrcode\n//---------------------------------------------------------------------\n\n/**\n * qrcode\n * @param typeNumber 1 to 40\n * @param errorCorrectionLevel 'L','M','Q','H'\n */\nexport const qrcode = function(typeNumber, errorCorrectionLevel) {\n\n  const PAD0 = 0xEC;\n  const PAD1 = 0x11;\n\n  let _typeNumber = typeNumber;\n  const _errorCorrectionLevel = QRErrorCorrectionLevel[errorCorrectionLevel];\n  let _modules = null;\n  let _moduleCount = 0;\n  let _dataCache = null;\n  const _dataList = [];\n\n  const _this = {};\n\n  const makeImpl = function(test, maskPattern) {\n\n    _moduleCount = _typeNumber * 4 + 17;\n    _modules = function(moduleCount) {\n      const modules = new Array(moduleCount);\n      for (let row = 0; row < moduleCount; row += 1) {\n        modules[row] = new Array(moduleCount);\n        for (let col = 0; col < moduleCount; col += 1) {\n          modules[row][col] = null;\n        }\n      }\n      return modules;\n    }(_moduleCount);\n\n    setupPositionProbePattern(0, 0);\n    setupPositionProbePattern(_moduleCount - 7, 0);\n    setupPositionProbePattern(0, _moduleCount - 7);\n    setupPositionAdjustPattern();\n    setupTimingPattern();\n    setupTypeInfo(test, maskPattern);\n\n    if (_typeNumber >= 7) {\n      setupTypeNumber(test);\n    }\n\n    if (_dataCache == null) {\n      _dataCache = createData(_typeNumber, _errorCorrectionLevel, _dataList);\n    }\n\n    mapData(_dataCache, maskPattern);\n  };\n\n  const setupPositionProbePattern = function(row, col) {\n\n    for (let r = -1; r <= 7; r += 1) {\n\n      if (row + r <= -1 || _moduleCount <= row + r) continue;\n\n      for (let c = -1; c <= 7; c += 1) {\n\n        if (col + c <= -1 || _moduleCount <= col + c) continue;\n\n        if ( (0 <= r && r <= 6 && (c == 0 || c == 6) )\n            || (0 <= c && c <= 6 && (r == 0 || r == 6) )\n            || (2 <= r && r <= 4 && 2 <= c && c <= 4) ) {\n          _modules[row + r][col + c] = true;\n        } else {\n          _modules[row + r][col + c] = false;\n        }\n      }\n    }\n  };\n\n  const getBestMaskPattern = function() {\n\n    let minLostPoint = 0;\n    let pattern = 0;\n\n    for (let i = 0; i < 8; i += 1) {\n\n      makeImpl(true, i);\n\n      const lostPoint = QRUtil.getLostPoint(_this);\n\n      if (i == 0 || minLostPoint > lostPoint) {\n        minLostPoint = lostPoint;\n        pattern = i;\n      }\n    }\n\n    return pattern;\n  };\n\n  const setupTimingPattern = function() {\n\n    for (let r = 8; r < _moduleCount - 8; r += 1) {\n      if (_modules[r][6] != null) {\n        continue;\n      }\n      _modules[r][6] = (r % 2 == 0);\n    }\n\n    for (let c = 8; c < _moduleCount - 8; c += 1) {\n      if (_modules[6][c] != null) {\n        continue;\n      }\n      _modules[6][c] = (c % 2 == 0);\n    }\n  };\n\n  const setupPositionAdjustPattern = function() {\n\n    const pos = QRUtil.getPatternPosition(_typeNumber);\n\n    for (let i = 0; i < pos.length; i += 1) {\n\n      for (let j = 0; j < pos.length; j += 1) {\n\n        const row = pos[i];\n        const col = pos[j];\n\n        if (_modules[row][col] != null) {\n          continue;\n        }\n\n        for (let r = -2; r <= 2; r += 1) {\n\n          for (let c = -2; c <= 2; c += 1) {\n\n            if (r == -2 || r == 2 || c == -2 || c == 2\n                || (r == 0 && c == 0) ) {\n              _modules[row + r][col + c] = true;\n            } else {\n              _modules[row + r][col + c] = false;\n            }\n          }\n        }\n      }\n    }\n  };\n\n  const setupTypeNumber = function(test) {\n\n    const bits = QRUtil.getBCHTypeNumber(_typeNumber);\n\n    for (let i = 0; i < 18; i += 1) {\n      const mod = (!test && ( (bits >> i) & 1) == 1);\n      _modules[Math.floor(i / 3)][i % 3 + _moduleCount - 8 - 3] = mod;\n    }\n\n    for (let i = 0; i < 18; i += 1) {\n      const mod = (!test && ( (bits >> i) & 1) == 1);\n      _modules[i % 3 + _moduleCount - 8 - 3][Math.floor(i / 3)] = mod;\n    }\n  };\n\n  const setupTypeInfo = function(test, maskPattern) {\n\n    const data = (_errorCorrectionLevel << 3) | maskPattern;\n    const bits = QRUtil.getBCHTypeInfo(data);\n\n    // vertical\n    for (let i = 0; i < 15; i += 1) {\n\n      const mod = (!test && ( (bits >> i) & 1) == 1);\n\n      if (i < 6) {\n        _modules[i][8] = mod;\n      } else if (i < 8) {\n        _modules[i + 1][8] = mod;\n      } else {\n        _modules[_moduleCount - 15 + i][8] = mod;\n      }\n    }\n\n    // horizontal\n    for (let i = 0; i < 15; i += 1) {\n\n      const mod = (!test && ( (bits >> i) & 1) == 1);\n\n      if (i < 8) {\n        _modules[8][_moduleCount - i - 1] = mod;\n      } else if (i < 9) {\n        _modules[8][15 - i - 1 + 1] = mod;\n      } else {\n        _modules[8][15 - i - 1] = mod;\n      }\n    }\n\n    // fixed module\n    _modules[_moduleCount - 8][8] = (!test);\n  };\n\n  const mapData = function(data, maskPattern) {\n\n    let inc = -1;\n    let row = _moduleCount - 1;\n    let bitIndex = 7;\n    let byteIndex = 0;\n    const maskFunc = QRUtil.getMaskFunction(maskPattern);\n\n    for (let col = _moduleCount - 1; col > 0; col -= 2) {\n\n      if (col == 6) col -= 1;\n\n      while (true) {\n\n        for (let c = 0; c < 2; c += 1) {\n\n          if (_modules[row][col - c] == null) {\n\n            let dark = false;\n\n            if (byteIndex < data.length) {\n              dark = ( ( (data[byteIndex] >>> bitIndex) & 1) == 1);\n            }\n\n            const mask = maskFunc(row, col - c);\n\n            if (mask) {\n              dark = !dark;\n            }\n\n            _modules[row][col - c] = dark;\n            bitIndex -= 1;\n\n            if (bitIndex == -1) {\n              byteIndex += 1;\n              bitIndex = 7;\n            }\n          }\n        }\n\n        row += inc;\n\n        if (row < 0 || _moduleCount <= row) {\n          row -= inc;\n          inc = -inc;\n          break;\n        }\n      }\n    }\n  };\n\n  const createBytes = function(buffer, rsBlocks) {\n\n    let offset = 0;\n\n    let maxDcCount = 0;\n    let maxEcCount = 0;\n\n    const dcdata = new Array(rsBlocks.length);\n    const ecdata = new Array(rsBlocks.length);\n\n    for (let r = 0; r < rsBlocks.length; r += 1) {\n\n      const dcCount = rsBlocks[r].dataCount;\n      const ecCount = rsBlocks[r].totalCount - dcCount;\n\n      maxDcCount = Math.max(maxDcCount, dcCount);\n      maxEcCount = Math.max(maxEcCount, ecCount);\n\n      dcdata[r] = new Array(dcCount);\n\n      for (let i = 0; i < dcdata[r].length; i += 1) {\n        dcdata[r][i] = 0xff & buffer.getBuffer()[i + offset];\n      }\n      offset += dcCount;\n\n      const rsPoly = QRUtil.getErrorCorrectPolynomial(ecCount);\n      const rawPoly = qrPolynomial(dcdata[r], rsPoly.getLength() - 1);\n\n      const modPoly = rawPoly.mod(rsPoly);\n      ecdata[r] = new Array(rsPoly.getLength() - 1);\n      for (let i = 0; i < ecdata[r].length; i += 1) {\n        const modIndex = i + modPoly.getLength() - ecdata[r].length;\n        ecdata[r][i] = (modIndex >= 0)? modPoly.getAt(modIndex) : 0;\n      }\n    }\n\n    let totalCodeCount = 0;\n    for (let i = 0; i < rsBlocks.length; i += 1) {\n      totalCodeCount += rsBlocks[i].totalCount;\n    }\n\n    const data = new Array(totalCodeCount);\n    let index = 0;\n\n    for (let i = 0; i < maxDcCount; i += 1) {\n      for (let r = 0; r < rsBlocks.length; r += 1) {\n        if (i < dcdata[r].length) {\n          data[index] = dcdata[r][i];\n          index += 1;\n        }\n      }\n    }\n\n    for (let i = 0; i < maxEcCount; i += 1) {\n      for (let r = 0; r < rsBlocks.length; r += 1) {\n        if (i < ecdata[r].length) {\n          data[index] = ecdata[r][i];\n          index += 1;\n        }\n      }\n    }\n\n    return data;\n  };\n\n  const createData = function(typeNumber, errorCorrectionLevel, dataList) {\n\n    const rsBlocks = QRRSBlock.getRSBlocks(typeNumber, errorCorrectionLevel);\n\n    const buffer = qrBitBuffer();\n\n    for (let i = 0; i < dataList.length; i += 1) {\n      const data = dataList[i];\n      buffer.put(data.getMode(), 4);\n      buffer.put(data.getLength(), QRUtil.getLengthInBits(data.getMode(), typeNumber) );\n      data.write(buffer);\n    }\n\n    // calc num max data.\n    let totalDataCount = 0;\n    for (let i = 0; i < rsBlocks.length; i += 1) {\n      totalDataCount += rsBlocks[i].dataCount;\n    }\n\n    if (buffer.getLengthInBits() > totalDataCount * 8) {\n      throw 'code length overflow. ('\n        + buffer.getLengthInBits()\n        + '>'\n        + totalDataCount * 8\n        + ')';\n    }\n\n    // end code\n    if (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {\n      buffer.put(0, 4);\n    }\n\n    // padding\n    while (buffer.getLengthInBits() % 8 != 0) {\n      buffer.putBit(false);\n    }\n\n    // padding\n    while (true) {\n\n      if (buffer.getLengthInBits() >= totalDataCount * 8) {\n        break;\n      }\n      buffer.put(PAD0, 8);\n\n      if (buffer.getLengthInBits() >= totalDataCount * 8) {\n        break;\n      }\n      buffer.put(PAD1, 8);\n    }\n\n    return createBytes(buffer, rsBlocks);\n  };\n\n  _this.addData = function(data, mode) {\n\n    mode = mode || 'Byte';\n\n    let newData = null;\n\n    switch(mode) {\n    case 'Numeric' :\n      newData = qrNumber(data);\n      break;\n    case 'Alphanumeric' :\n      newData = qrAlphaNum(data);\n      break;\n    case 'Byte' :\n      newData = qr8BitByte(data);\n      break;\n    case 'Kanji' :\n      newData = qrKanji(data);\n      break;\n    default :\n      throw 'mode:' + mode;\n    }\n\n    _dataList.push(newData);\n    _dataCache = null;\n  };\n\n  _this.isDark = function(row, col) {\n    if (row < 0 || _moduleCount <= row || col < 0 || _moduleCount <= col) {\n      throw row + ',' + col;\n    }\n    return _modules[row][col];\n  };\n\n  _this.getModuleCount = function() {\n    return _moduleCount;\n  };\n\n  _this.make = function() {\n    if (_typeNumber < 1) {\n      let typeNumber = 1;\n\n      for (; typeNumber < 40; typeNumber++) {\n        const rsBlocks = QRRSBlock.getRSBlocks(typeNumber, _errorCorrectionLevel);\n        const buffer = qrBitBuffer();\n\n        for (let i = 0; i < _dataList.length; i++) {\n          const data = _dataList[i];\n          buffer.put(data.getMode(), 4);\n          buffer.put(data.getLength(), QRUtil.getLengthInBits(data.getMode(), typeNumber) );\n          data.write(buffer);\n        }\n\n        let totalDataCount = 0;\n        for (let i = 0; i < rsBlocks.length; i++) {\n          totalDataCount += rsBlocks[i].dataCount;\n        }\n\n        if (buffer.getLengthInBits() <= totalDataCount * 8) {\n          break;\n        }\n      }\n\n      _typeNumber = typeNumber;\n    }\n\n    makeImpl(false, getBestMaskPattern() );\n  };\n\n  _this.createTableTag = function(cellSize, margin) {\n\n    cellSize = cellSize || 2;\n    margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n    let qrHtml = '';\n\n    qrHtml += '<table style=\"';\n    qrHtml += ' border-width: 0px; border-style: none;';\n    qrHtml += ' border-collapse: collapse;';\n    qrHtml += ' padding: 0px; margin: ' + margin + 'px;';\n    qrHtml += '\">';\n    qrHtml += '<tbody>';\n\n    for (let r = 0; r < _this.getModuleCount(); r += 1) {\n\n      qrHtml += '<tr>';\n\n      for (let c = 0; c < _this.getModuleCount(); c += 1) {\n        qrHtml += '<td style=\"';\n        qrHtml += ' border-width: 0px; border-style: none;';\n        qrHtml += ' border-collapse: collapse;';\n        qrHtml += ' padding: 0px; margin: 0px;';\n        qrHtml += ' width: ' + cellSize + 'px;';\n        qrHtml += ' height: ' + cellSize + 'px;';\n        qrHtml += ' background-color: ';\n        qrHtml += _this.isDark(r, c)? '#000000' : '#ffffff';\n        qrHtml += ';';\n        qrHtml += '\"/>';\n      }\n\n      qrHtml += '</tr>';\n    }\n\n    qrHtml += '</tbody>';\n    qrHtml += '</table>';\n\n    return qrHtml;\n  };\n\n  _this.createSvgTag = function(cellSize, margin, alt, title) {\n\n    let opts = {};\n    if (typeof arguments[0] == 'object') {\n      // Called by options.\n      opts = arguments[0];\n      // overwrite cellSize and margin.\n      cellSize = opts.cellSize;\n      margin = opts.margin;\n      alt = opts.alt;\n      title = opts.title;\n    }\n\n    cellSize = cellSize || 2;\n    margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n    // Compose alt property surrogate\n    alt = (typeof alt === 'string') ? {text: alt} : alt || {};\n    alt.text = alt.text || null;\n    alt.id = (alt.text) ? alt.id || 'qrcode-description' : null;\n\n    // Compose title property surrogate\n    title = (typeof title === 'string') ? {text: title} : title || {};\n    title.text = title.text || null;\n    title.id = (title.text) ? title.id || 'qrcode-title' : null;\n\n    const size = _this.getModuleCount() * cellSize + margin * 2;\n    let c, mc, r, mr, qrSvg='', rect;\n\n    rect = 'l' + cellSize + ',0 0,' + cellSize +\n      ' -' + cellSize + ',0 0,-' + cellSize + 'z ';\n\n    qrSvg += '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"';\n    qrSvg += !opts.scalable ? ' width=\"' + size + 'px\" height=\"' + size + 'px\"' : '';\n    qrSvg += ' viewBox=\"0 0 ' + size + ' ' + size + '\" ';\n    qrSvg += ' preserveAspectRatio=\"xMinYMin meet\"';\n    qrSvg += (title.text || alt.text) ? ' role=\"img\" aria-labelledby=\"' +\n        escapeXml([title.id, alt.id].join(' ').trim() ) + '\"' : '';\n    qrSvg += '>';\n    qrSvg += (title.text) ? '<title id=\"' + escapeXml(title.id) + '\">' +\n        escapeXml(title.text) + '</title>' : '';\n    qrSvg += (alt.text) ? '<description id=\"' + escapeXml(alt.id) + '\">' +\n        escapeXml(alt.text) + '</description>' : '';\n    qrSvg += '<rect width=\"100%\" height=\"100%\" fill=\"white\" cx=\"0\" cy=\"0\"/>';\n    qrSvg += '<path d=\"';\n\n    for (r = 0; r < _this.getModuleCount(); r += 1) {\n      mr = r * cellSize + margin;\n      for (c = 0; c < _this.getModuleCount(); c += 1) {\n        if (_this.isDark(r, c) ) {\n          mc = c*cellSize+margin;\n          qrSvg += 'M' + mc + ',' + mr + rect;\n        }\n      }\n    }\n\n    qrSvg += '\" stroke=\"transparent\" fill=\"black\"/>';\n    qrSvg += '</svg>';\n\n    return qrSvg;\n  };\n\n  _this.createDataURL = function(cellSize, margin) {\n\n    cellSize = cellSize || 2;\n    margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n    const size = _this.getModuleCount() * cellSize + margin * 2;\n    const min = margin;\n    const max = size - margin;\n\n    return createDataURL(size, size, function(x, y) {\n      if (min <= x && x < max && min <= y && y < max) {\n        const c = Math.floor( (x - min) / cellSize);\n        const r = Math.floor( (y - min) / cellSize);\n        return _this.isDark(r, c)? 0 : 1;\n      } else {\n        return 1;\n      }\n    } );\n  };\n\n  _this.createImgTag = function(cellSize, margin, alt) {\n\n    cellSize = cellSize || 2;\n    margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n    const size = _this.getModuleCount() * cellSize + margin * 2;\n\n    let img = '';\n    img += '<img';\n    img += '\\u0020src=\"';\n    img += _this.createDataURL(cellSize, margin);\n    img += '\"';\n    img += '\\u0020width=\"';\n    img += size;\n    img += '\"';\n    img += '\\u0020height=\"';\n    img += size;\n    img += '\"';\n    if (alt) {\n      img += '\\u0020alt=\"';\n      img += escapeXml(alt);\n      img += '\"';\n    }\n    img += '/>';\n\n    return img;\n  };\n\n  const escapeXml = function(s) {\n    let escaped = '';\n    for (let i = 0; i < s.length; i += 1) {\n      const c = s.charAt(i);\n      switch(c) {\n      case '<': escaped += '&lt;'; break;\n      case '>': escaped += '&gt;'; break;\n      case '&': escaped += '&amp;'; break;\n      case '\"': escaped += '&quot;'; break;\n      default : escaped += c; break;\n      }\n    }\n    return escaped;\n  };\n\n  const _createHalfASCII = function(margin) {\n    const cellSize = 1;\n    margin = (typeof margin == 'undefined')? cellSize * 2 : margin;\n\n    const size = _this.getModuleCount() * cellSize + margin * 2;\n    const min = margin;\n    const max = size - margin;\n\n    let y, x, r1, r2, p;\n\n    const blocks = {\n      '\u2588\u2588': '\u2588',\n      '\u2588 ': '\u2580',\n      ' \u2588': '\u2584',\n      '  ': ' '\n    };\n\n    const blocksLastLineNoMargin = {\n      '\u2588\u2588': '\u2580',\n      '\u2588 ': '\u2580',\n      ' \u2588': ' ',\n      '  ': ' '\n    };\n\n    let ascii = '';\n    for (y = 0; y < size; y += 2) {\n      r1 = Math.floor((y - min) / cellSize);\n      r2 = Math.floor((y + 1 - min) / cellSize);\n      for (x = 0; x < size; x += 1) {\n        p = '\u2588';\n\n        if (min <= x && x < max && min <= y && y < max && _this.isDark(r1, Math.floor((x - min) / cellSize))) {\n          p = ' ';\n        }\n\n        if (min <= x && x < max && min <= y+1 && y+1 < max && _this.isDark(r2, Math.floor((x - min) / cellSize))) {\n          p += ' ';\n        }\n        else {\n          p += '\u2588';\n        }\n\n        // Output 2 characters per pixel, to create full square. 1 character per pixels gives only half width of square.\n        ascii += (margin < 1 && y+1 >= max) ? blocksLastLineNoMargin[p] : blocks[p];\n      }\n\n      ascii += '\\n';\n    }\n\n    if (size % 2 && margin > 0) {\n      return ascii.substring(0, ascii.length - size - 1) + Array(size+1).join('\u2580');\n    }\n\n    return ascii.substring(0, ascii.length-1);\n  };\n\n  _this.createASCII = function(cellSize, margin) {\n    cellSize = cellSize || 1;\n\n    if (cellSize < 2) {\n      return _createHalfASCII(margin);\n    }\n\n    cellSize -= 1;\n    margin = (typeof margin == 'undefined')? cellSize * 2 : margin;\n\n    const size = _this.getModuleCount() * cellSize + margin * 2;\n    const min = margin;\n    const max = size - margin;\n\n    let y, x, r, p;\n\n    const white = Array(cellSize+1).join('\u2588\u2588');\n    const black = Array(cellSize+1).join('  ');\n\n    let ascii = '';\n    let line = '';\n    for (y = 0; y < size; y += 1) {\n      r = Math.floor( (y - min) / cellSize);\n      line = '';\n      for (x = 0; x < size; x += 1) {\n        p = 1;\n\n        if (min <= x && x < max && min <= y && y < max && _this.isDark(r, Math.floor((x - min) / cellSize))) {\n          p = 0;\n        }\n\n        // Output 2 characters per pixel, to create full square. 1 character per pixels gives only half width of square.\n        line += p ? white : black;\n      }\n\n      for (r = 0; r < cellSize; r += 1) {\n        ascii += line + '\\n';\n      }\n    }\n\n    return ascii.substring(0, ascii.length-1);\n  };\n\n  _this.renderTo2dContext = function(context, cellSize) {\n    cellSize = cellSize || 2;\n    const length = _this.getModuleCount();\n    for (let row = 0; row < length; row++) {\n      for (let col = 0; col < length; col++) {\n        context.fillStyle = _this.isDark(row, col) ? 'black' : 'white';\n        context.fillRect(col * cellSize, row * cellSize, cellSize, cellSize);\n      }\n    }\n  }\n\n  return _this;\n};\n\n//---------------------------------------------------------------------\n// qrcode.stringToBytes\n//---------------------------------------------------------------------\n\nqrcode.stringToBytes = function(s) {\n  const bytes = [];\n  for (let i = 0; i < s.length; i += 1) {\n    const c = s.charCodeAt(i);\n    bytes.push(c & 0xff);\n  }\n  return bytes;\n};\n\n//---------------------------------------------------------------------\n// qrcode.createStringToBytes\n//---------------------------------------------------------------------\n\n/**\n * @param unicodeData base64 string of byte array.\n * [16bit Unicode],[16bit Bytes], ...\n * @param numChars\n */\nqrcode.createStringToBytes = function(unicodeData, numChars) {\n\n  // create conversion map.\n\n  const unicodeMap = function() {\n\n    const bin = base64DecodeInputStream(unicodeData);\n    const read = function() {\n      const b = bin.read();\n      if (b == -1) throw 'eof';\n      return b;\n    };\n\n    let count = 0;\n    const unicodeMap = {};\n    while (true) {\n      const b0 = bin.read();\n      if (b0 == -1) break;\n      const b1 = read();\n      const b2 = read();\n      const b3 = read();\n      const k = String.fromCharCode( (b0 << 8) | b1);\n      const v = (b2 << 8) | b3;\n      unicodeMap[k] = v;\n      count += 1;\n    }\n    if (count != numChars) {\n      throw count + ' != ' + numChars;\n    }\n\n    return unicodeMap;\n  }();\n\n  const unknownChar = '?'.charCodeAt(0);\n\n  return function(s) {\n    const bytes = [];\n    for (let i = 0; i < s.length; i += 1) {\n      const c = s.charCodeAt(i);\n      if (c < 128) {\n        bytes.push(c);\n      } else {\n        const b = unicodeMap[s.charAt(i)];\n        if (typeof b == 'number') {\n          if ( (b & 0xff) == b) {\n            // 1byte\n            bytes.push(b);\n          } else {\n            // 2bytes\n            bytes.push(b >>> 8);\n            bytes.push(b & 0xff);\n          }\n        } else {\n          bytes.push(unknownChar);\n        }\n      }\n    }\n    return bytes;\n  };\n};\n\n//---------------------------------------------------------------------\n// QRMode\n//---------------------------------------------------------------------\n\nconst QRMode = {\n  MODE_NUMBER :    1 << 0,\n  MODE_ALPHA_NUM : 1 << 1,\n  MODE_8BIT_BYTE : 1 << 2,\n  MODE_KANJI :     1 << 3\n};\n\n//---------------------------------------------------------------------\n// QRErrorCorrectionLevel\n//---------------------------------------------------------------------\n\nconst QRErrorCorrectionLevel = {\n  L : 1,\n  M : 0,\n  Q : 3,\n  H : 2\n};\n\n//---------------------------------------------------------------------\n// QRMaskPattern\n//---------------------------------------------------------------------\n\nconst QRMaskPattern = {\n  PATTERN000 : 0,\n  PATTERN001 : 1,\n  PATTERN010 : 2,\n  PATTERN011 : 3,\n  PATTERN100 : 4,\n  PATTERN101 : 5,\n  PATTERN110 : 6,\n  PATTERN111 : 7\n};\n\n//---------------------------------------------------------------------\n// QRUtil\n//---------------------------------------------------------------------\n\nconst QRUtil = function() {\n\n  const PATTERN_POSITION_TABLE = [\n    [],\n    [6, 18],\n    [6, 22],\n    [6, 26],\n    [6, 30],\n    [6, 34],\n    [6, 22, 38],\n    [6, 24, 42],\n    [6, 26, 46],\n    [6, 28, 50],\n    [6, 30, 54],\n    [6, 32, 58],\n    [6, 34, 62],\n    [6, 26, 46, 66],\n    [6, 26, 48, 70],\n    [6, 26, 50, 74],\n    [6, 30, 54, 78],\n    [6, 30, 56, 82],\n    [6, 30, 58, 86],\n    [6, 34, 62, 90],\n    [6, 28, 50, 72, 94],\n    [6, 26, 50, 74, 98],\n    [6, 30, 54, 78, 102],\n    [6, 28, 54, 80, 106],\n    [6, 32, 58, 84, 110],\n    [6, 30, 58, 86, 114],\n    [6, 34, 62, 90, 118],\n    [6, 26, 50, 74, 98, 122],\n    [6, 30, 54, 78, 102, 126],\n    [6, 26, 52, 78, 104, 130],\n    [6, 30, 56, 82, 108, 134],\n    [6, 34, 60, 86, 112, 138],\n    [6, 30, 58, 86, 114, 142],\n    [6, 34, 62, 90, 118, 146],\n    [6, 30, 54, 78, 102, 126, 150],\n    [6, 24, 50, 76, 102, 128, 154],\n    [6, 28, 54, 80, 106, 132, 158],\n    [6, 32, 58, 84, 110, 136, 162],\n    [6, 26, 54, 82, 110, 138, 166],\n    [6, 30, 58, 86, 114, 142, 170]\n  ];\n  const G15 = (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0);\n  const G18 = (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0);\n  const G15_MASK = (1 << 14) | (1 << 12) | (1 << 10) | (1 << 4) | (1 << 1);\n\n  const _this = {};\n\n  const getBCHDigit = function(data) {\n    let digit = 0;\n    while (data != 0) {\n      digit += 1;\n      data >>>= 1;\n    }\n    return digit;\n  };\n\n  _this.getBCHTypeInfo = function(data) {\n    let d = data << 10;\n    while (getBCHDigit(d) - getBCHDigit(G15) >= 0) {\n      d ^= (G15 << (getBCHDigit(d) - getBCHDigit(G15) ) );\n    }\n    return ( (data << 10) | d) ^ G15_MASK;\n  };\n\n  _this.getBCHTypeNumber = function(data) {\n    let d = data << 12;\n    while (getBCHDigit(d) - getBCHDigit(G18) >= 0) {\n      d ^= (G18 << (getBCHDigit(d) - getBCHDigit(G18) ) );\n    }\n    return (data << 12) | d;\n  };\n\n  _this.getPatternPosition = function(typeNumber) {\n    return PATTERN_POSITION_TABLE[typeNumber - 1];\n  };\n\n  _this.getMaskFunction = function(maskPattern) {\n\n    switch (maskPattern) {\n\n    case QRMaskPattern.PATTERN000 :\n      return function(i, j) { return (i + j) % 2 == 0; };\n    case QRMaskPattern.PATTERN001 :\n      return function(i, j) { return i % 2 == 0; };\n    case QRMaskPattern.PATTERN010 :\n      return function(i, j) { return j % 3 == 0; };\n    case QRMaskPattern.PATTERN011 :\n      return function(i, j) { return (i + j) % 3 == 0; };\n    case QRMaskPattern.PATTERN100 :\n      return function(i, j) { return (Math.floor(i / 2) + Math.floor(j / 3) ) % 2 == 0; };\n    case QRMaskPattern.PATTERN101 :\n      return function(i, j) { return (i * j) % 2 + (i * j) % 3 == 0; };\n    case QRMaskPattern.PATTERN110 :\n      return function(i, j) { return ( (i * j) % 2 + (i * j) % 3) % 2 == 0; };\n    case QRMaskPattern.PATTERN111 :\n      return function(i, j) { return ( (i * j) % 3 + (i + j) % 2) % 2 == 0; };\n\n    default :\n      throw 'bad maskPattern:' + maskPattern;\n    }\n  };\n\n  _this.getErrorCorrectPolynomial = function(errorCorrectLength) {\n    let a = qrPolynomial([1], 0);\n    for (let i = 0; i < errorCorrectLength; i += 1) {\n      a = a.multiply(qrPolynomial([1, QRMath.gexp(i)], 0) );\n    }\n    return a;\n  };\n\n  _this.getLengthInBits = function(mode, type) {\n\n    if (1 <= type && type < 10) {\n\n      // 1 - 9\n\n      switch(mode) {\n      case QRMode.MODE_NUMBER    : return 10;\n      case QRMode.MODE_ALPHA_NUM : return 9;\n      case QRMode.MODE_8BIT_BYTE : return 8;\n      case QRMode.MODE_KANJI     : return 8;\n      default :\n        throw 'mode:' + mode;\n      }\n\n    } else if (type < 27) {\n\n      // 10 - 26\n\n      switch(mode) {\n      case QRMode.MODE_NUMBER    : return 12;\n      case QRMode.MODE_ALPHA_NUM : return 11;\n      case QRMode.MODE_8BIT_BYTE : return 16;\n      case QRMode.MODE_KANJI     : return 10;\n      default :\n        throw 'mode:' + mode;\n      }\n\n    } else if (type < 41) {\n\n      // 27 - 40\n\n      switch(mode) {\n      case QRMode.MODE_NUMBER    : return 14;\n      case QRMode.MODE_ALPHA_NUM : return 13;\n      case QRMode.MODE_8BIT_BYTE : return 16;\n      case QRMode.MODE_KANJI     : return 12;\n      default :\n        throw 'mode:' + mode;\n      }\n\n    } else {\n      throw 'type:' + type;\n    }\n  };\n\n  _this.getLostPoint = function(qrcode) {\n\n    const moduleCount = qrcode.getModuleCount();\n\n    let lostPoint = 0;\n\n    // LEVEL1\n\n    for (let row = 0; row < moduleCount; row += 1) {\n      for (let col = 0; col < moduleCount; col += 1) {\n\n        let sameCount = 0;\n        const dark = qrcode.isDark(row, col);\n\n        for (let r = -1; r <= 1; r += 1) {\n\n          if (row + r < 0 || moduleCount <= row + r) {\n            continue;\n          }\n\n          for (let c = -1; c <= 1; c += 1) {\n\n            if (col + c < 0 || moduleCount <= col + c) {\n              continue;\n            }\n\n            if (r == 0 && c == 0) {\n              continue;\n            }\n\n            if (dark == qrcode.isDark(row + r, col + c) ) {\n              sameCount += 1;\n            }\n          }\n        }\n\n        if (sameCount > 5) {\n          lostPoint += (3 + sameCount - 5);\n        }\n      }\n    };\n\n    // LEVEL2\n\n    for (let row = 0; row < moduleCount - 1; row += 1) {\n      for (let col = 0; col < moduleCount - 1; col += 1) {\n        let count = 0;\n        if (qrcode.isDark(row, col) ) count += 1;\n        if (qrcode.isDark(row + 1, col) ) count += 1;\n        if (qrcode.isDark(row, col + 1) ) count += 1;\n        if (qrcode.isDark(row + 1, col + 1) ) count += 1;\n        if (count == 0 || count == 4) {\n          lostPoint += 3;\n        }\n      }\n    }\n\n    // LEVEL3\n\n    for (let row = 0; row < moduleCount; row += 1) {\n      for (let col = 0; col < moduleCount - 6; col += 1) {\n        if (qrcode.isDark(row, col)\n            && !qrcode.isDark(row, col + 1)\n            &&  qrcode.isDark(row, col + 2)\n            &&  qrcode.isDark(row, col + 3)\n            &&  qrcode.isDark(row, col + 4)\n            && !qrcode.isDark(row, col + 5)\n            &&  qrcode.isDark(row, col + 6) ) {\n          lostPoint += 40;\n        }\n      }\n    }\n\n    for (let col = 0; col < moduleCount; col += 1) {\n      for (let row = 0; row < moduleCount - 6; row += 1) {\n        if (qrcode.isDark(row, col)\n            && !qrcode.isDark(row + 1, col)\n            &&  qrcode.isDark(row + 2, col)\n            &&  qrcode.isDark(row + 3, col)\n            &&  qrcode.isDark(row + 4, col)\n            && !qrcode.isDark(row + 5, col)\n            &&  qrcode.isDark(row + 6, col) ) {\n          lostPoint += 40;\n        }\n      }\n    }\n\n    // LEVEL4\n\n    let darkCount = 0;\n\n    for (let col = 0; col < moduleCount; col += 1) {\n      for (let row = 0; row < moduleCount; row += 1) {\n        if (qrcode.isDark(row, col) ) {\n          darkCount += 1;\n        }\n      }\n    }\n\n    const ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;\n    lostPoint += ratio * 10;\n\n    return lostPoint;\n  };\n\n  return _this;\n}();\n\n//---------------------------------------------------------------------\n// QRMath\n//---------------------------------------------------------------------\n\nconst QRMath = function() {\n\n  const EXP_TABLE = new Array(256);\n  const LOG_TABLE = new Array(256);\n\n  // initialize tables\n  for (let i = 0; i < 8; i += 1) {\n    EXP_TABLE[i] = 1 << i;\n  }\n  for (let i = 8; i < 256; i += 1) {\n    EXP_TABLE[i] = EXP_TABLE[i - 4]\n      ^ EXP_TABLE[i - 5]\n      ^ EXP_TABLE[i - 6]\n      ^ EXP_TABLE[i - 8];\n  }\n  for (let i = 0; i < 255; i += 1) {\n    LOG_TABLE[EXP_TABLE[i] ] = i;\n  }\n\n  const _this = {};\n\n  _this.glog = function(n) {\n\n    if (n < 1) {\n      throw 'glog(' + n + ')';\n    }\n\n    return LOG_TABLE[n];\n  };\n\n  _this.gexp = function(n) {\n\n    while (n < 0) {\n      n += 255;\n    }\n\n    while (n >= 256) {\n      n -= 255;\n    }\n\n    return EXP_TABLE[n];\n  };\n\n  return _this;\n}();\n\n//---------------------------------------------------------------------\n// qrPolynomial\n//---------------------------------------------------------------------\n\nconst qrPolynomial = function(num, shift) {\n\n  if (typeof num.length == 'undefined') {\n    throw num.length + '/' + shift;\n  }\n\n  const _num = function() {\n    let offset = 0;\n    while (offset < num.length && num[offset] == 0) {\n      offset += 1;\n    }\n    const _num = new Array(num.length - offset + shift);\n    for (let i = 0; i < num.length - offset; i += 1) {\n      _num[i] = num[i + offset];\n    }\n    return _num;\n  }();\n\n  const _this = {};\n\n  _this.getAt = function(index) {\n    return _num[index];\n  };\n\n  _this.getLength = function() {\n    return _num.length;\n  };\n\n  _this.multiply = function(e) {\n\n    const num = new Array(_this.getLength() + e.getLength() - 1);\n\n    for (let i = 0; i < _this.getLength(); i += 1) {\n      for (let j = 0; j < e.getLength(); j += 1) {\n        num[i + j] ^= QRMath.gexp(QRMath.glog(_this.getAt(i) ) + QRMath.glog(e.getAt(j) ) );\n      }\n    }\n\n    return qrPolynomial(num, 0);\n  };\n\n  _this.mod = function(e) {\n\n    if (_this.getLength() - e.getLength() < 0) {\n      return _this;\n    }\n\n    const ratio = QRMath.glog(_this.getAt(0) ) - QRMath.glog(e.getAt(0) );\n\n    const num = new Array(_this.getLength() );\n    for (let i = 0; i < _this.getLength(); i += 1) {\n      num[i] = _this.getAt(i);\n    }\n\n    for (let i = 0; i < e.getLength(); i += 1) {\n      num[i] ^= QRMath.gexp(QRMath.glog(e.getAt(i) ) + ratio);\n    }\n\n    // recursive call\n    return qrPolynomial(num, 0).mod(e);\n  };\n\n  return _this;\n};\n\n//---------------------------------------------------------------------\n// QRRSBlock\n//---------------------------------------------------------------------\n\nconst QRRSBlock = function() {\n\n  const RS_BLOCK_TABLE = [\n\n    // L\n    // M\n    // Q\n    // H\n\n    // 1\n    [1, 26, 19],\n    [1, 26, 16],\n    [1, 26, 13],\n    [1, 26, 9],\n\n    // 2\n    [1, 44, 34],\n    [1, 44, 28],\n    [1, 44, 22],\n    [1, 44, 16],\n\n    // 3\n    [1, 70, 55],\n    [1, 70, 44],\n    [2, 35, 17],\n    [2, 35, 13],\n\n    // 4\n    [1, 100, 80],\n    [2, 50, 32],\n    [2, 50, 24],\n    [4, 25, 9],\n\n    // 5\n    [1, 134, 108],\n    [2, 67, 43],\n    [2, 33, 15, 2, 34, 16],\n    [2, 33, 11, 2, 34, 12],\n\n    // 6\n    [2, 86, 68],\n    [4, 43, 27],\n    [4, 43, 19],\n    [4, 43, 15],\n\n    // 7\n    [2, 98, 78],\n    [4, 49, 31],\n    [2, 32, 14, 4, 33, 15],\n    [4, 39, 13, 1, 40, 14],\n\n    // 8\n    [2, 121, 97],\n    [2, 60, 38, 2, 61, 39],\n    [4, 40, 18, 2, 41, 19],\n    [4, 40, 14, 2, 41, 15],\n\n    // 9\n    [2, 146, 116],\n    [3, 58, 36, 2, 59, 37],\n    [4, 36, 16, 4, 37, 17],\n    [4, 36, 12, 4, 37, 13],\n\n    // 10\n    [2, 86, 68, 2, 87, 69],\n    [4, 69, 43, 1, 70, 44],\n    [6, 43, 19, 2, 44, 20],\n    [6, 43, 15, 2, 44, 16],\n\n    // 11\n    [4, 101, 81],\n    [1, 80, 50, 4, 81, 51],\n    [4, 50, 22, 4, 51, 23],\n    [3, 36, 12, 8, 37, 13],\n\n    // 12\n    [2, 116, 92, 2, 117, 93],\n    [6, 58, 36, 2, 59, 37],\n    [4, 46, 20, 6, 47, 21],\n    [7, 42, 14, 4, 43, 15],\n\n    // 13\n    [4, 133, 107],\n    [8, 59, 37, 1, 60, 38],\n    [8, 44, 20, 4, 45, 21],\n    [12, 33, 11, 4, 34, 12],\n\n    // 14\n    [3, 145, 115, 1, 146, 116],\n    [4, 64, 40, 5, 65, 41],\n    [11, 36, 16, 5, 37, 17],\n    [11, 36, 12, 5, 37, 13],\n\n    // 15\n    [5, 109, 87, 1, 110, 88],\n    [5, 65, 41, 5, 66, 42],\n    [5, 54, 24, 7, 55, 25],\n    [11, 36, 12, 7, 37, 13],\n\n    // 16\n    [5, 122, 98, 1, 123, 99],\n    [7, 73, 45, 3, 74, 46],\n    [15, 43, 19, 2, 44, 20],\n    [3, 45, 15, 13, 46, 16],\n\n    // 17\n    [1, 135, 107, 5, 136, 108],\n    [10, 74, 46, 1, 75, 47],\n    [1, 50, 22, 15, 51, 23],\n    [2, 42, 14, 17, 43, 15],\n\n    // 18\n    [5, 150, 120, 1, 151, 121],\n    [9, 69, 43, 4, 70, 44],\n    [17, 50, 22, 1, 51, 23],\n    [2, 42, 14, 19, 43, 15],\n\n    // 19\n    [3, 141, 113, 4, 142, 114],\n    [3, 70, 44, 11, 71, 45],\n    [17, 47, 21, 4, 48, 22],\n    [9, 39, 13, 16, 40, 14],\n\n    // 20\n    [3, 135, 107, 5, 136, 108],\n    [3, 67, 41, 13, 68, 42],\n    [15, 54, 24, 5, 55, 25],\n    [15, 43, 15, 10, 44, 16],\n\n    // 21\n    [4, 144, 116, 4, 145, 117],\n    [17, 68, 42],\n    [17, 50, 22, 6, 51, 23],\n    [19, 46, 16, 6, 47, 17],\n\n    // 22\n    [2, 139, 111, 7, 140, 112],\n    [17, 74, 46],\n    [7, 54, 24, 16, 55, 25],\n    [34, 37, 13],\n\n    // 23\n    [4, 151, 121, 5, 152, 122],\n    [4, 75, 47, 14, 76, 48],\n    [11, 54, 24, 14, 55, 25],\n    [16, 45, 15, 14, 46, 16],\n\n    // 24\n    [6, 147, 117, 4, 148, 118],\n    [6, 73, 45, 14, 74, 46],\n    [11, 54, 24, 16, 55, 25],\n    [30, 46, 16, 2, 47, 17],\n\n    // 25\n    [8, 132, 106, 4, 133, 107],\n    [8, 75, 47, 13, 76, 48],\n    [7, 54, 24, 22, 55, 25],\n    [22, 45, 15, 13, 46, 16],\n\n    // 26\n    [10, 142, 114, 2, 143, 115],\n    [19, 74, 46, 4, 75, 47],\n    [28, 50, 22, 6, 51, 23],\n    [33, 46, 16, 4, 47, 17],\n\n    // 27\n    [8, 152, 122, 4, 153, 123],\n    [22, 73, 45, 3, 74, 46],\n    [8, 53, 23, 26, 54, 24],\n    [12, 45, 15, 28, 46, 16],\n\n    // 28\n    [3, 147, 117, 10, 148, 118],\n    [3, 73, 45, 23, 74, 46],\n    [4, 54, 24, 31, 55, 25],\n    [11, 45, 15, 31, 46, 16],\n\n    // 29\n    [7, 146, 116, 7, 147, 117],\n    [21, 73, 45, 7, 74, 46],\n    [1, 53, 23, 37, 54, 24],\n    [19, 45, 15, 26, 46, 16],\n\n    // 30\n    [5, 145, 115, 10, 146, 116],\n    [19, 75, 47, 10, 76, 48],\n    [15, 54, 24, 25, 55, 25],\n    [23, 45, 15, 25, 46, 16],\n\n    // 31\n    [13, 145, 115, 3, 146, 116],\n    [2, 74, 46, 29, 75, 47],\n    [42, 54, 24, 1, 55, 25],\n    [23, 45, 15, 28, 46, 16],\n\n    // 32\n    [17, 145, 115],\n    [10, 74, 46, 23, 75, 47],\n    [10, 54, 24, 35, 55, 25],\n    [19, 45, 15, 35, 46, 16],\n\n    // 33\n    [17, 145, 115, 1, 146, 116],\n    [14, 74, 46, 21, 75, 47],\n    [29, 54, 24, 19, 55, 25],\n    [11, 45, 15, 46, 46, 16],\n\n    // 34\n    [13, 145, 115, 6, 146, 116],\n    [14, 74, 46, 23, 75, 47],\n    [44, 54, 24, 7, 55, 25],\n    [59, 46, 16, 1, 47, 17],\n\n    // 35\n    [12, 151, 121, 7, 152, 122],\n    [12, 75, 47, 26, 76, 48],\n    [39, 54, 24, 14, 55, 25],\n    [22, 45, 15, 41, 46, 16],\n\n    // 36\n    [6, 151, 121, 14, 152, 122],\n    [6, 75, 47, 34, 76, 48],\n    [46, 54, 24, 10, 55, 25],\n    [2, 45, 15, 64, 46, 16],\n\n    // 37\n    [17, 152, 122, 4, 153, 123],\n    [29, 74, 46, 14, 75, 47],\n    [49, 54, 24, 10, 55, 25],\n    [24, 45, 15, 46, 46, 16],\n\n    // 38\n    [4, 152, 122, 18, 153, 123],\n    [13, 74, 46, 32, 75, 47],\n    [48, 54, 24, 14, 55, 25],\n    [42, 45, 15, 32, 46, 16],\n\n    // 39\n    [20, 147, 117, 4, 148, 118],\n    [40, 75, 47, 7, 76, 48],\n    [43, 54, 24, 22, 55, 25],\n    [10, 45, 15, 67, 46, 16],\n\n    // 40\n    [19, 148, 118, 6, 149, 119],\n    [18, 75, 47, 31, 76, 48],\n    [34, 54, 24, 34, 55, 25],\n    [20, 45, 15, 61, 46, 16]\n  ];\n\n  const qrRSBlock = function(totalCount, dataCount) {\n    const _this = {};\n    _this.totalCount = totalCount;\n    _this.dataCount = dataCount;\n    return _this;\n  };\n\n  const _this = {};\n\n  const getRsBlockTable = function(typeNumber, errorCorrectionLevel) {\n\n    switch(errorCorrectionLevel) {\n    case QRErrorCorrectionLevel.L :\n      return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];\n    case QRErrorCorrectionLevel.M :\n      return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];\n    case QRErrorCorrectionLevel.Q :\n      return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];\n    case QRErrorCorrectionLevel.H :\n      return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];\n    default :\n      return undefined;\n    }\n  };\n\n  _this.getRSBlocks = function(typeNumber, errorCorrectionLevel) {\n\n    const rsBlock = getRsBlockTable(typeNumber, errorCorrectionLevel);\n\n    if (typeof rsBlock == 'undefined') {\n      throw 'bad rs block @ typeNumber:' + typeNumber +\n          '/errorCorrectionLevel:' + errorCorrectionLevel;\n    }\n\n    const length = rsBlock.length / 3;\n\n    const list = [];\n\n    for (let i = 0; i < length; i += 1) {\n\n      const count = rsBlock[i * 3 + 0];\n      const totalCount = rsBlock[i * 3 + 1];\n      const dataCount = rsBlock[i * 3 + 2];\n\n      for (let j = 0; j < count; j += 1) {\n        list.push(qrRSBlock(totalCount, dataCount) );\n      }\n    }\n\n    return list;\n  };\n\n  return _this;\n}();\n\n//---------------------------------------------------------------------\n// qrBitBuffer\n//---------------------------------------------------------------------\n\nconst qrBitBuffer = function() {\n\n  const _buffer = [];\n  let _length = 0;\n\n  const _this = {};\n\n  _this.getBuffer = function() {\n    return _buffer;\n  };\n\n  _this.getAt = function(index) {\n    const bufIndex = Math.floor(index / 8);\n    return ( (_buffer[bufIndex] >>> (7 - index % 8) ) & 1) == 1;\n  };\n\n  _this.put = function(num, length) {\n    for (let i = 0; i < length; i += 1) {\n      _this.putBit( ( (num >>> (length - i - 1) ) & 1) == 1);\n    }\n  };\n\n  _this.getLengthInBits = function() {\n    return _length;\n  };\n\n  _this.putBit = function(bit) {\n\n    const bufIndex = Math.floor(_length / 8);\n    if (_buffer.length <= bufIndex) {\n      _buffer.push(0);\n    }\n\n    if (bit) {\n      _buffer[bufIndex] |= (0x80 >>> (_length % 8) );\n    }\n\n    _length += 1;\n  };\n\n  return _this;\n};\n\n//---------------------------------------------------------------------\n// qrNumber\n//---------------------------------------------------------------------\n\nconst qrNumber = function(data) {\n\n  const _mode = QRMode.MODE_NUMBER;\n  const _data = data;\n\n  const _this = {};\n\n  _this.getMode = function() {\n    return _mode;\n  };\n\n  _this.getLength = function(buffer) {\n    return _data.length;\n  };\n\n  _this.write = function(buffer) {\n\n    const data = _data;\n\n    let i = 0;\n\n    while (i + 2 < data.length) {\n      buffer.put(strToNum(data.substring(i, i + 3) ), 10);\n      i += 3;\n    }\n\n    if (i < data.length) {\n      if (data.length - i == 1) {\n        buffer.put(strToNum(data.substring(i, i + 1) ), 4);\n      } else if (data.length - i == 2) {\n        buffer.put(strToNum(data.substring(i, i + 2) ), 7);\n      }\n    }\n  };\n\n  const strToNum = function(s) {\n    let num = 0;\n    for (let i = 0; i < s.length; i += 1) {\n      num = num * 10 + chatToNum(s.charAt(i) );\n    }\n    return num;\n  };\n\n  const chatToNum = function(c) {\n    if ('0' <= c && c <= '9') {\n      return c.charCodeAt(0) - '0'.charCodeAt(0);\n    }\n    throw 'illegal char :' + c;\n  };\n\n  return _this;\n};\n\n//---------------------------------------------------------------------\n// qrAlphaNum\n//---------------------------------------------------------------------\n\nconst qrAlphaNum = function(data) {\n\n  const _mode = QRMode.MODE_ALPHA_NUM;\n  const _data = data;\n\n  const _this = {};\n\n  _this.getMode = function() {\n    return _mode;\n  };\n\n  _this.getLength = function(buffer) {\n    return _data.length;\n  };\n\n  _this.write = function(buffer) {\n\n    const s = _data;\n\n    let i = 0;\n\n    while (i + 1 < s.length) {\n      buffer.put(\n        getCode(s.charAt(i) ) * 45 +\n        getCode(s.charAt(i + 1) ), 11);\n      i += 2;\n    }\n\n    if (i < s.length) {\n      buffer.put(getCode(s.charAt(i) ), 6);\n    }\n  };\n\n  const getCode = function(c) {\n\n    if ('0' <= c && c <= '9') {\n      return c.charCodeAt(0) - '0'.charCodeAt(0);\n    } else if ('A' <= c && c <= 'Z') {\n      return c.charCodeAt(0) - 'A'.charCodeAt(0) + 10;\n    } else {\n      switch (c) {\n      case '\\u0020' : return 36;\n      case '$' : return 37;\n      case '%' : return 38;\n      case '*' : return 39;\n      case '+' : return 40;\n      case '-' : return 41;\n      case '.' : return 42;\n      case '/' : return 43;\n      case ':' : return 44;\n      default :\n        throw 'illegal char :' + c;\n      }\n    }\n  };\n\n  return _this;\n};\n\n//---------------------------------------------------------------------\n// qr8BitByte\n//---------------------------------------------------------------------\n\nconst qr8BitByte = function(data) {\n\n  const _mode = QRMode.MODE_8BIT_BYTE;\n  const _data = data;\n  const _bytes = qrcode.stringToBytes(data);\n\n  const _this = {};\n\n  _this.getMode = function() {\n    return _mode;\n  };\n\n  _this.getLength = function(buffer) {\n    return _bytes.length;\n  };\n\n  _this.write = function(buffer) {\n    for (let i = 0; i < _bytes.length; i += 1) {\n      buffer.put(_bytes[i], 8);\n    }\n  };\n\n  return _this;\n};\n\n//---------------------------------------------------------------------\n// qrKanji\n//---------------------------------------------------------------------\n\nconst qrKanji = function(data) {\n\n  const _mode = QRMode.MODE_KANJI;\n  const _data = data;\n\n  const stringToBytes = qrcode.stringToBytes;\n  !function(c, code) {\n    // self test for sjis support.\n    const test = stringToBytes(c);\n    if (test.length != 2 || ( (test[0] << 8) | test[1]) != code) {\n      throw 'sjis not supported.';\n    }\n  }('\\u53cb', 0x9746);\n\n  const _bytes = stringToBytes(data);\n\n  const _this = {};\n\n  _this.getMode = function() {\n    return _mode;\n  };\n\n  _this.getLength = function(buffer) {\n    return ~~(_bytes.length / 2);\n  };\n\n  _this.write = function(buffer) {\n\n    const data = _bytes;\n\n    let i = 0;\n\n    while (i + 1 < data.length) {\n\n      let c = ( (0xff & data[i]) << 8) | (0xff & data[i + 1]);\n\n      if (0x8140 <= c && c <= 0x9FFC) {\n        c -= 0x8140;\n      } else if (0xE040 <= c && c <= 0xEBBF) {\n        c -= 0xC140;\n      } else {\n        throw 'illegal char at ' + (i + 1) + '/' + c;\n      }\n\n      c = ( (c >>> 8) & 0xff) * 0xC0 + (c & 0xff);\n\n      buffer.put(c, 13);\n\n      i += 2;\n    }\n\n    if (i < data.length) {\n      throw 'illegal char at ' + (i + 1);\n    }\n  };\n\n  return _this;\n};\n\n//=====================================================================\n// GIF Support etc.\n//\n\n//---------------------------------------------------------------------\n// byteArrayOutputStream\n//---------------------------------------------------------------------\n\nconst byteArrayOutputStream = function() {\n\n  const _bytes = [];\n\n  const _this = {};\n\n  _this.writeByte = function(b) {\n    _bytes.push(b & 0xff);\n  };\n\n  _this.writeShort = function(i) {\n    _this.writeByte(i);\n    _this.writeByte(i >>> 8);\n  };\n\n  _this.writeBytes = function(b, off, len) {\n    off = off || 0;\n    len = len || b.length;\n    for (let i = 0; i < len; i += 1) {\n      _this.writeByte(b[i + off]);\n    }\n  };\n\n  _this.writeString = function(s) {\n    for (let i = 0; i < s.length; i += 1) {\n      _this.writeByte(s.charCodeAt(i) );\n    }\n  };\n\n  _this.toByteArray = function() {\n    return _bytes;\n  };\n\n  _this.toString = function() {\n    let s = '';\n    s += '[';\n    for (let i = 0; i < _bytes.length; i += 1) {\n      if (i > 0) {\n        s += ',';\n      }\n      s += _bytes[i];\n    }\n    s += ']';\n    return s;\n  };\n\n  return _this;\n};\n\n//---------------------------------------------------------------------\n// base64EncodeOutputStream\n//---------------------------------------------------------------------\n\nconst base64EncodeOutputStream = function() {\n\n  let _buffer = 0;\n  let _buflen = 0;\n  let _length = 0;\n  let _base64 = '';\n\n  const _this = {};\n\n  const writeEncoded = function(b) {\n    _base64 += String.fromCharCode(encode(b & 0x3f) );\n  };\n\n  const encode = function(n) {\n    if (n < 0) {\n      throw 'n:' + n;\n    } else if (n < 26) {\n      return 0x41 + n;\n    } else if (n < 52) {\n      return 0x61 + (n - 26);\n    } else if (n < 62) {\n      return 0x30 + (n - 52);\n    } else if (n == 62) {\n      return 0x2b;\n    } else if (n == 63) {\n      return 0x2f;\n    } else {\n      throw 'n:' + n;\n    }\n  };\n\n  _this.writeByte = function(n) {\n\n    _buffer = (_buffer << 8) | (n & 0xff);\n    _buflen += 8;\n    _length += 1;\n\n    while (_buflen >= 6) {\n      writeEncoded(_buffer >>> (_buflen - 6) );\n      _buflen -= 6;\n    }\n  };\n\n  _this.flush = function() {\n\n    if (_buflen > 0) {\n      writeEncoded(_buffer << (6 - _buflen) );\n      _buffer = 0;\n      _buflen = 0;\n    }\n\n    if (_length % 3 != 0) {\n      // padding\n      const padlen = 3 - _length % 3;\n      for (let i = 0; i < padlen; i += 1) {\n        _base64 += '=';\n      }\n    }\n  };\n\n  _this.toString = function() {\n    return _base64;\n  };\n\n  return _this;\n};\n\n//---------------------------------------------------------------------\n// base64DecodeInputStream\n//---------------------------------------------------------------------\n\nconst base64DecodeInputStream = function(str) {\n\n  const _str = str;\n  let _pos = 0;\n  let _buffer = 0;\n  let _buflen = 0;\n\n  const _this = {};\n\n  _this.read = function() {\n\n    while (_buflen < 8) {\n\n      if (_pos >= _str.length) {\n        if (_buflen == 0) {\n          return -1;\n        }\n        throw 'unexpected end of file./' + _buflen;\n      }\n\n      const c = _str.charAt(_pos);\n      _pos += 1;\n\n      if (c == '=') {\n        _buflen = 0;\n        return -1;\n      } else if (c.match(/^\\s$/) ) {\n        // ignore if whitespace.\n        continue;\n      }\n\n      _buffer = (_buffer << 6) | decode(c.charCodeAt(0) );\n      _buflen += 6;\n    }\n\n    const n = (_buffer >>> (_buflen - 8) ) & 0xff;\n    _buflen -= 8;\n    return n;\n  };\n\n  const decode = function(c) {\n    if (0x41 <= c && c <= 0x5a) {\n      return c - 0x41;\n    } else if (0x61 <= c && c <= 0x7a) {\n      return c - 0x61 + 26;\n    } else if (0x30 <= c && c <= 0x39) {\n      return c - 0x30 + 52;\n    } else if (c == 0x2b) {\n      return 62;\n    } else if (c == 0x2f) {\n      return 63;\n    } else {\n      throw 'c:' + c;\n    }\n  };\n\n  return _this;\n};\n\n//---------------------------------------------------------------------\n// gifImage (B/W)\n//---------------------------------------------------------------------\n\nconst gifImage = function(width, height) {\n\n  const _width = width;\n  const _height = height;\n  const _data = new Array(width * height);\n\n  const _this = {};\n\n  _this.setPixel = function(x, y, pixel) {\n    _data[y * _width + x] = pixel;\n  };\n\n  _this.write = function(out) {\n\n    //---------------------------------\n    // GIF Signature\n\n    out.writeString('GIF87a');\n\n    //---------------------------------\n    // Screen Descriptor\n\n    out.writeShort(_width);\n    out.writeShort(_height);\n\n    out.writeByte(0x80); // 2bit\n    out.writeByte(0);\n    out.writeByte(0);\n\n    //---------------------------------\n    // Global Color Map\n\n    // black\n    out.writeByte(0x00);\n    out.writeByte(0x00);\n    out.writeByte(0x00);\n\n    // white\n    out.writeByte(0xff);\n    out.writeByte(0xff);\n    out.writeByte(0xff);\n\n    //---------------------------------\n    // Image Descriptor\n\n    out.writeString(',');\n    out.writeShort(0);\n    out.writeShort(0);\n    out.writeShort(_width);\n    out.writeShort(_height);\n    out.writeByte(0);\n\n    //---------------------------------\n    // Local Color Map\n\n    //---------------------------------\n    // Raster Data\n\n    const lzwMinCodeSize = 2;\n    const raster = getLZWRaster(lzwMinCodeSize);\n\n    out.writeByte(lzwMinCodeSize);\n\n    let offset = 0;\n\n    while (raster.length - offset > 255) {\n      out.writeByte(255);\n      out.writeBytes(raster, offset, 255);\n      offset += 255;\n    }\n\n    out.writeByte(raster.length - offset);\n    out.writeBytes(raster, offset, raster.length - offset);\n    out.writeByte(0x00);\n\n    //---------------------------------\n    // GIF Terminator\n    out.writeString(';');\n  };\n\n  const bitOutputStream = function(out) {\n\n    const _out = out;\n    let _bitLength = 0;\n    let _bitBuffer = 0;\n\n    const _this = {};\n\n    _this.write = function(data, length) {\n\n      if ( (data >>> length) != 0) {\n        throw 'length over';\n      }\n\n      while (_bitLength + length >= 8) {\n        _out.writeByte(0xff & ( (data << _bitLength) | _bitBuffer) );\n        length -= (8 - _bitLength);\n        data >>>= (8 - _bitLength);\n        _bitBuffer = 0;\n        _bitLength = 0;\n      }\n\n      _bitBuffer = (data << _bitLength) | _bitBuffer;\n      _bitLength = _bitLength + length;\n    };\n\n    _this.flush = function() {\n      if (_bitLength > 0) {\n        _out.writeByte(_bitBuffer);\n      }\n    };\n\n    return _this;\n  };\n\n  const getLZWRaster = function(lzwMinCodeSize) {\n\n    const clearCode = 1 << lzwMinCodeSize;\n    const endCode = (1 << lzwMinCodeSize) + 1;\n    let bitLength = lzwMinCodeSize + 1;\n\n    // Setup LZWTable\n    const table = lzwTable();\n\n    for (let i = 0; i < clearCode; i += 1) {\n      table.add(String.fromCharCode(i) );\n    }\n    table.add(String.fromCharCode(clearCode) );\n    table.add(String.fromCharCode(endCode) );\n\n    const byteOut = byteArrayOutputStream();\n    const bitOut = bitOutputStream(byteOut);\n\n    // clear code\n    bitOut.write(clearCode, bitLength);\n\n    let dataIndex = 0;\n\n    let s = String.fromCharCode(_data[dataIndex]);\n    dataIndex += 1;\n\n    while (dataIndex < _data.length) {\n\n      const c = String.fromCharCode(_data[dataIndex]);\n      dataIndex += 1;\n\n      if (table.contains(s + c) ) {\n\n        s = s + c;\n\n      } else {\n\n        bitOut.write(table.indexOf(s), bitLength);\n\n        if (table.size() < 0xfff) {\n\n          if (table.size() == (1 << bitLength) ) {\n            bitLength += 1;\n          }\n\n          table.add(s + c);\n        }\n\n        s = c;\n      }\n    }\n\n    bitOut.write(table.indexOf(s), bitLength);\n\n    // end code\n    bitOut.write(endCode, bitLength);\n\n    bitOut.flush();\n\n    return byteOut.toByteArray();\n  };\n\n  const lzwTable = function() {\n\n    const _map = {};\n    let _size = 0;\n\n    const _this = {};\n\n    _this.add = function(key) {\n      if (_this.contains(key) ) {\n        throw 'dup key:' + key;\n      }\n      _map[key] = _size;\n      _size += 1;\n    };\n\n    _this.size = function() {\n      return _size;\n    };\n\n    _this.indexOf = function(key) {\n      return _map[key];\n    };\n\n    _this.contains = function(key) {\n      return typeof _map[key] != 'undefined';\n    };\n\n    return _this;\n  };\n\n  return _this;\n};\n\nconst createDataURL = function(width, height, getPixel) {\n  const gif = gifImage(width, height);\n  for (let y = 0; y < height; y += 1) {\n    for (let x = 0; x < width; x += 1) {\n      gif.setPixel(x, y, getPixel(x, y) );\n    }\n  }\n\n  const b = byteArrayOutputStream();\n  gif.write(b);\n\n  const base64 = base64EncodeOutputStream();\n  const bytes = b.toByteArray();\n  for (let i = 0; i < bytes.length; i += 1) {\n    base64.writeByte(bytes[i]);\n  }\n  base64.flush();\n\n  return 'data:image/gif;base64,' + base64;\n};\n\nexport default qrcode;\n\nexport const stringToBytes = qrcode.stringToBytes;\n", "import { Hono } from 'hono';\r\nimport { createDynamicQRIS } from '../utils/qris.js';\r\nimport qrcode from 'qrcode-generator';\r\n\r\nconst router = new Hono();\r\n\r\nconst STATIC_QRIS = \"00020101021126570011ID.DANA.WWW011893600915314378691502091437869150303UMI51440014ID.CO.QRIS.WWW0215ID10210738442970303UMI5204899953033605802ID5916Hariistimewa.com6015Kota Jakarta Se6105128206304D1F0\";\r\n\r\nrouter.get('/generate', async (c) => {\r\n  const amount = parseInt(c.req.query('amount'));\r\n  \r\n  if (!amount || isNaN(amount)) {\r\n    return c.json({ status: 400, message: 'Amount is required and must be a number' }, 400);\r\n  }\r\n\r\n  try {\r\n    // Menggunakan utilitas lokal yang bebas dari dependensi 'fs'\r\n    const qrisDynamic = createDynamicQRIS(STATIC_QRIS, amount);\r\n    \r\n    // Menggunakan qrcode-generator yang aman untuk serverless/edge\r\n    const qr = qrcode(0, 'M');\r\n    qr.addData(qrisDynamic);\r\n    qr.make();\r\n    \r\n    const svgTag = qr.createSvgTag(6, 2);\r\n    const qrImage = `data:image/svg+xml;base64,${Buffer.from(svgTag).toString('base64')}`;\r\n\r\n    return c.json({\r\n      status: 200,\r\n      data: {\r\n        amount,\r\n        qris_string: qrisDynamic,\r\n        qr_image: qrImage\r\n      }\r\n    });\r\n  } catch (error) {\r\n    console.error('QRIS Error:', error);\r\n    return c.json({ status: 500, message: error.message }, 500);\r\n  }\r\n});\r\n\r\nexport default router;\r\n", "/** @jsx jsx */\nimport { jsx } from 'hono/jsx';\n\nexport const WidgetLayout = ({ children, title }) => {\n  return (\n    <html lang=\"id\">\n      <head>\n        <meta charset=\"UTF-8\" />\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n        <title>{title}</title>\n        <script src=\"https://cdn.tailwindcss.com\"></script>\n        <link href=\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Amiri&display=swap\" rel=\"stylesheet\" />\n        <style>{`\n          body { font-family: 'Inter', sans-serif; }\n          .font-arabic { font-family: 'Amiri', serif; }\n        `}</style>\n      </head>\n      <body class=\"bg-transparent m-0 p-0 overflow-hidden\">\n        {children}\n      </body>\n    </html>\n  );\n};\n", "/** @jsx jsx */\nimport { jsx } from 'hono/jsx';\n\nexport const SholatWidget = ({ data, city, baseUrl }) => {\n  const displayUrl = baseUrl ? baseUrl.replace(/^https?:\\/\\//, '') : 'muslim-api.vercel.app';\n  const fullUrl = baseUrl || 'https://muslim-api.vercel.app';\n\n  if (!data) return (\n    <div class=\"flex justify-center items-center p-4 h-screen font-medium text-center text-emerald-800 bg-emerald-50\">\n      Gagal memuat jadwal sholat. Pastikan parameter kota benar.\n    </div>\n  );\n\n  const times = [\n    { name: 'Imsak', time: data.imsak },\n    { name: 'Subuh', time: data.subuh },\n    { name: 'Terbit', time: data.terbit },\n    { name: 'Dzuhur', time: data.dzuhur },\n    { name: 'Ashar', time: data.ashar },\n    { name: 'Maghrib', time: data.maghrib },\n    { name: 'Isya', time: data.isya },\n  ];\n\n  return (\n    <div class=\"min-h-screen font-sans bg-white\">\n      <div class=\"p-4 text-white bg-emerald-600\">\n        <h2 class=\"text-lg font-bold\">Jadwal Sholat</h2>\n        <p class=\"text-xs opacity-90\">{city} - {data.tanggal}</p>\n      </div>\n      <div class=\"p-3 space-y-2\">\n        {times.map((item) => (\n          <div key={item.name} class=\"flex justify-between items-center pb-1.5 border-b border-slate-50 last:border-0\">\n            <span class=\"text-sm font-medium text-slate-600\">{item.name}</span>\n            <span class=\"text-sm font-bold text-emerald-700\">{item.time}</span>\n          </div>\n        ))}\n      </div>\n      <div class=\"p-2 mt-auto text-center bg-slate-50\">\n        <a href={fullUrl} target=\"_blank\" class=\"text-[10px] text-slate-400 hover:text-emerald-600 transition-colors\">\n          {displayUrl}\n        </a>\n      </div>\n    </div>\n  );\n};\n", "/** @jsx jsx */\nimport { jsx } from 'hono/jsx';\n\nexport const AyatWidget = ({ data, baseUrl }) => {\n  const displayUrl = baseUrl ? baseUrl.replace(/^https?:\\/\\//, '') : 'muslim-api.vercel.app';\n  const fullUrl = baseUrl || 'https://muslim-api.vercel.app';\n\n  if (!data) return (\n    <div class=\"flex justify-center items-center p-4 h-screen font-medium text-center text-blue-800 bg-blue-50\">\n      Gagal memuat ayat harian.\n    </div>\n  );\n\n  return (\n    <div class=\"flex flex-col min-h-screen font-sans bg-white\">\n      <div class=\"p-4 text-white bg-blue-600\">\n        <h2 class=\"text-lg font-bold\">Ayat Harian</h2>\n        <p class=\"text-xs opacity-90\">{data.surah_name} : {data.ayah}</p>\n      </div>\n      <div class=\"flex flex-col flex-grow justify-center p-4 text-center\">\n        <p class=\"mb-2 font-serif text-xl leading-loose text-slate-900\" dir=\"rtl\">\n          {data.arab}\n        </p>\n        <p class=\"text-xs italic leading-relaxed text-slate-600\">\n          \"{data.translation}\"\n        </p>\n      </div>\n      <div class=\"p-2 mt-auto text-center bg-slate-50\">\n        <a href={fullUrl} target=\"_blank\" class=\"text-[10px] text-slate-400 hover:text-blue-600 transition-colors\">\n          {displayUrl}\n        </a>\n      </div>\n    </div>\n  );\n};\n", "/** @jsx jsx */\nimport { Hono } from 'hono';\nimport { jsx } from 'hono/jsx';\nimport { WidgetLayout } from '../components/widgets/WidgetLayout.jsx';\nimport { SholatWidget } from '../components/widgets/SholatWidget.jsx';\nimport { AyatWidget } from '../components/widgets/AyatWidget.jsx';\nimport { API_CONFIG } from '../config.js';\nimport { getSurahList, getAyahBySurah } from '../utils/jsonHandler.js';\n\nconst widget = new Hono();\n\n// Widget Jadwal Sholat\nwidget.get('/sholat', async (c) => {\n  const cityName = c.req.query('city') || 'jakarta';\n  const BASE_API = API_CONFIG.SHOLAT.MYQURAN;\n  \n  try {\n    // 1. Cari ID Kota\n    const kotaRes = await fetch(`${BASE_API}/kota/cari/${cityName}`);\n    const kotaData = await kotaRes.json();\n    \n    if (!kotaData.status || !kotaData.data || kotaData.data.length === 0) {\n      return c.html(\n        <WidgetLayout title=\"Jadwal Sholat Widget\">\n          <SholatWidget data={null} city={cityName} />\n        </WidgetLayout>\n      );\n    }\n    \n    const kota = kotaData.data[0];\n    const today = new Date().toISOString().split('T')[0];\n    \n    // 2. Ambil Jadwal\n    const jadwalRes = await fetch(`${BASE_API}/jadwal/${kota.id}/${today}`);\n    const jadwalData = await jadwalRes.json();\n    \n    if (!jadwalData.status || !jadwalData.data || !jadwalData.data.jadwal) {\n        throw new Error('Jadwal tidak ditemukan');\n    }\n\n    return c.html(\n      <WidgetLayout title={`Jadwal Sholat ${kota.lokasi}`}>\n        <SholatWidget data={jadwalData.data.jadwal} city={kota.lokasi} baseUrl={new URL(c.req.url).origin} />\n      </WidgetLayout>\n    );\n  } catch (error) {\n    return c.html(\n      <WidgetLayout title=\"Jadwal Sholat Widget\">\n        <SholatWidget data={null} city={cityName} baseUrl={new URL(c.req.url).origin} />\n      </WidgetLayout>\n    );\n  }\n});\n\n// Widget Ayat Harian\nwidget.get('/ayat', async (c) => {\n  const baseUrl = new URL(c.req.url).origin;\n  try {\n    const surahList = await getSurahList();\n    const randomSurah = surahList[Math.floor(Math.random() * surahList.length)];\n    const ayahs = await getAyahBySurah(randomSurah.number);\n    const randomAyah = ayahs[Math.floor(Math.random() * ayahs.length)];\n    \n    const data = {\n      surah_name: randomSurah.name_id,\n      surah_number: randomSurah.number,\n      ayah: randomAyah.ayah,\n      arab: randomAyah.arab,\n      translation: randomAyah.translation_id || randomAyah.text\n    };\n    \n    return c.html(\n      <WidgetLayout title=\"Ayat Harian Widget\">\n        <AyatWidget data={data} baseUrl={baseUrl} />\n      </WidgetLayout>\n    );\n  } catch (error) {\n    console.error('Widget Ayat Error:', error);\n    return c.html(\n      <WidgetLayout title=\"Ayat Harian Widget\">\n        <AyatWidget data={null} baseUrl={baseUrl} />\n      </WidgetLayout>\n    );\n  }\n});\n\nexport default widget;\n", "import { Hono } from 'hono';\r\nimport { trimTrailingSlash } from 'hono/trailing-slash';\r\nimport { logger } from 'hono/logger';\r\nimport { cors } from 'hono/cors';\r\nimport { getSurahList } from './utils/jsonHandler.js';\r\n\r\nimport apiRouter from './routes/index.jsx';\r\nimport apiV1Router from './routes/muslim/v1/index.js';\r\nimport qrisRouter from './routes/qris.js';\r\nimport widgetRouter from './routes/widget.jsx';\r\n\r\nconst app = new Hono();\r\n\r\napp.use('*', trimTrailingSlash());\r\napp.use('*', logger());\r\napp.use('*', cors());\r\n\r\n// Global Health Check\r\napp.get('/health', async (c) => {\r\n  let jsonStatus = 'disconnected';\r\n  try {\r\n    const result = await getSurahList();\r\n    if (result) jsonStatus = 'connected';\r\n  } catch (e) {\r\n    jsonStatus = 'error: ' + e.message;\r\n  }\r\n\r\n  return c.json({\r\n    status: 'ok',\r\n    timestamp: new Date().toISOString(),\r\n    version: '1.0.0',\r\n    services: {\r\n      storage: jsonStatus,\r\n      uptime: process.uptime()\r\n    },\r\n    env: process.env.NODE_ENV || 'development'\r\n  });\r\n});\r\n\r\napp.get('/v1/*', async (c, next) => {\r\n  await next();\r\n  if (c.res.ok && c.req.method === 'GET') {\r\n    c.res.headers.set('Cache-Control', 'public, s-maxage=3600, stale-while-revalidate=86400');\r\n  }\r\n});\r\n\r\nconst rateLimitMap = new Map();\r\napp.use('/v1/*', async (c, next) => {\r\n  const ip = c.req.header('x-forwarded-for') || c.req.header('x-real-ip') || 'local';\r\n  const userAgent = c.req.header('user-agent') || 'unknown';\r\n  const method = c.req.method;\r\n  const path = c.req.path;\r\n\r\n  if (process.env.NODE_ENV === 'production') {\r\n    console.log(`[HIT] ${new Date().toISOString()} | IP: ${ip} | Path: ${path} | UA: ${userAgent}`);\r\n    return await next();\r\n  }\r\n\r\n  const now = Date.now();\r\n  const windowMs = 60 * 1000;\r\n  const maxRequests = 100;\r\n\r\n  const clientData = rateLimitMap.get(ip) || { count: 0, resetTime: now + windowMs };\r\n\r\n  if (now > clientData.resetTime) {\r\n    clientData.count = 1;\r\n    clientData.resetTime = now + windowMs;\r\n  } else {\r\n    clientData.count++;\r\n  }\r\n\r\n  rateLimitMap.set(ip, clientData);\r\n\r\n  if (clientData.count > maxRequests) {\r\n    console.warn(`[BLOCKED] ${new Date().toISOString()} | IP: ${ip} | Reason: Rate Limit Exceeded`);\r\n    return c.json({ \r\n      status: 429, \r\n      message: 'Anda diblokir sementara karena melakukan terlalu banyak permintaan (spamming). Silakan coba lagi dalam 1 menit.',\r\n      reason: 'Rate limit exceeded',\r\n      client_info: { ip, user_agent: userAgent }\r\n    }, 429);\r\n  }\r\n\r\n  console.log(`[HIT] ${new Date().toISOString()} | IP: ${ip} | Method: ${method} | Path: ${path}`);\r\n  await next();\r\n});\r\n\r\napp.route('/v1', apiV1Router);\r\napp.route('/api/qris', qrisRouter);\r\napp.route('/widget', widgetRouter);\r\napp.route('/', apiRouter);\r\n\r\napp.notFound((c) => {\r\n  return c.json({ status: 404, message: 'Not Found' }, 404);\r\n});\r\n\r\napp.onError((err, c) => {\r\n  console.error(`${err}`);\r\n  return c.json({ status: 500, message: err.message }, 500);\r\n});\r\n\r\nexport default app;\r\n", "import { handle } from '@hono/node-server/vercel';\r\nimport app from './src/app.jsx';\r\n\r\n// Menggunakan adapter dari @hono/node-server/vercel yang lebih stabil untuk Node.js runtime di Vercel\r\n// Ini memperbaiki error \"this.raw.headers.get is not a function\"\r\nexport default handle(app);\r\n"],
  "mappings": ";klBAAA,IAAAA,GAAAC,GAAA,CAAAC,GAAAC,KAAA,UAASC,GAASC,EAAO,CACvB,IAAIC,EAAc,EACdC,EAAO,CAAC,EAEZ,SAASC,GAAU,CACjBF,IAEIA,EAAcD,GAChBI,EAAQ,CAEZ,CAEA,SAASA,GAAW,CAClB,IAAIC,EAAMH,EAAK,MAAM,EACrBI,EAAU,MAAQJ,EAAK,OAEnBG,GACFE,EAAIF,EAAI,EAAE,EAAE,KAAKA,EAAI,OAAO,EAAE,MAAMA,EAAI,MAAM,CAElD,CAEA,SAASG,EAAOC,EAAI,CAClB,OAAO,IAAI,QAAQ,SAAUC,EAASC,EAAQ,CAC5CT,EAAK,KAAK,CAAC,GAAIO,EAAI,QAASC,EAAS,OAAQC,CAAM,CAAC,EACpDL,EAAU,MAAQJ,EAAK,MACzB,CAAC,CACH,CAEA,SAASK,EAAKE,EAAI,CAChBR,IACA,GAAI,CACF,OAAO,QAAQ,QAAQQ,EAAG,CAAC,EAAE,KAAK,SAAUG,EAAQ,CAClD,OAAAT,EAAO,EACAS,CACT,EAAG,SAAUC,EAAO,CAClB,MAAAV,EAAO,EACDU,CACR,CAAC,CACH,OAASC,EAAK,CACZ,OAAAX,EAAO,EACA,QAAQ,OAAOW,CAAG,CAC3B,CACF,CAEA,IAAIR,EAAY,SAAUG,EAAI,CAC5B,OAAIR,GAAeD,EACVQ,EAAMC,CAAE,EAERF,EAAIE,CAAE,CAEjB,EAEA,OAAOH,CACT,CAEA,SAASS,GAAKC,EAAOC,EAAQ,CAC3B,IAAIC,EAAS,GAETC,EAAQ,KAEZ,OAAO,QAAQ,IAAIH,EAAM,IAAI,UAAY,CACvC,IAAII,EAAO,UACX,OAAOD,EAAM,UAAY,CACvB,GAAI,CAACD,EACH,OAAOD,EAAO,MAAM,OAAWG,CAAI,EAAE,MAAM,SAAUC,EAAG,CACtD,MAAAH,EAAS,GACHG,CACR,CAAC,CAEL,CAAC,CACH,CAAC,CAAC,CACJ,CAEA,SAASC,GAAWb,EAAI,CACtB,OAAAA,EAAG,MAAQ,EACXA,EAAG,IAAMM,GACFN,CACT,CAEAX,GAAO,QAAU,SAAUE,EAAO,CAChC,OACSsB,GADLtB,EACeD,GAAQC,CAAK,EAEb,SAAUS,EAAI,CAC7B,OAAOA,EAAG,CACZ,CAJ+B,CAMnC,ICtFA,OAAS,sBAAsBc,OAA2B,QAG1D,OAAS,sBAAAC,OAA0B,QACnC,OAAS,YAAAC,OAAgB,SAkUzB,OAAOC,OAAY,SAjUnB,IAAIC,GAAe,cAAc,KAAM,CACrC,YAAYC,EAASC,EAAS,CAC5B,MAAMD,EAASC,CAAO,EACtB,KAAK,KAAO,cACd,CACF,EACIC,GAAkBC,GAChBA,aAAaJ,GACRI,EAEF,IAAIJ,GAAaI,EAAE,QAAS,CAAE,MAAOA,CAAE,CAAC,EAE7CC,GAAgB,OAAO,QACvBC,GAAU,cAAcD,EAAc,CACxC,YAAYE,EAAOL,EAAS,CACtB,OAAOK,GAAU,UAAYC,MAAmBD,IAClDA,EAAQA,EAAMC,EAAe,EAAE,GAE7B,OAAON,GAAS,MAAM,UAAc,MAEtCA,EAAQ,SAAW,QAErB,MAAMK,EAAOL,CAAO,CACtB,CACF,EACIO,GAA0BC,GAAa,CACzC,IAAMC,EAAe,CAAC,EAChBC,EAAaF,EAAS,WAC5B,QAASG,EAAI,EAAGA,EAAID,EAAW,OAAQC,GAAK,EAAG,CAC7C,GAAM,CAAE,CAACA,CAAC,EAAGC,EAAK,CAACD,EAAI,CAAC,EAAGE,CAAM,EAAIH,EACjCE,EAAI,WAAW,CAAC,IACpB,IACEH,EAAa,KAAK,CAACG,EAAKC,CAAK,CAAC,CAElC,CACA,OAAO,IAAI,QAAQJ,CAAY,CACjC,EACIK,GAAiB,OAAO,gBAAgB,EACxCC,GAAyB,CAACC,EAAQC,EAAKC,EAASV,EAAUW,IAAoB,CAChF,IAAMC,EAAO,CACX,OAAAJ,EACA,QAAAE,EACA,OAAQC,EAAgB,MAC1B,EACA,GAAIH,IAAW,QAAS,CACtBI,EAAK,OAAS,MACd,IAAMC,EAAM,IAAIjB,GAAQa,EAAKG,CAAI,EACjC,cAAO,eAAeC,EAAK,SAAU,CACnC,KAAM,CACJ,MAAO,OACT,CACF,CAAC,EACMA,CACT,CACA,GAAI,EAAEL,IAAW,OAASA,IAAW,QACnC,GAAI,YAAaR,GAAYA,EAAS,mBAAmB,OACvDY,EAAK,KAAO,IAAI,eAAe,CAC7B,MAAME,EAAY,CAChBA,EAAW,QAAQd,EAAS,OAAO,EACnCc,EAAW,MAAM,CACnB,CACF,CAAC,UACQd,EAASM,EAAc,EAAG,CACnC,IAAIS,EACJH,EAAK,KAAO,IAAI,eAAe,CAC7B,MAAM,KAAKE,EAAY,CACrB,GAAI,CACFC,IAAW3B,GAAS,MAAMY,CAAQ,EAAE,UAAU,EAC9C,GAAM,CAAE,KAAAgB,EAAM,MAAAX,CAAM,EAAI,MAAMU,EAAO,KAAK,EACtCC,EACFF,EAAW,MAAM,EAEjBA,EAAW,QAAQT,CAAK,CAE5B,OAASY,EAAO,CACdH,EAAW,MAAMG,CAAK,CACxB,CACF,CACF,CAAC,CACH,MACEL,EAAK,KAAOxB,GAAS,MAAMY,CAAQ,EAGvC,OAAO,IAAIJ,GAAQa,EAAKG,CAAI,CAC9B,EACId,GAAkB,OAAO,iBAAiB,EAC1CoB,GAAe,OAAO,cAAc,EACpCC,GAAc,OAAO,aAAa,EAClCC,GAAS,OAAO,QAAQ,EACxBC,GAAa,OAAO,YAAY,EAChCC,GAAqB,OAAO,oBAAoB,EAChDC,GAAqB,OAAO,oBAAoB,EAChDC,GAAmB,CACrB,IAAI,QAAS,CACX,OAAO,KAAKL,EAAW,EAAE,QAAU,KACrC,EACA,IAAI,KAAM,CACR,OAAO,KAAKC,EAAM,CACpB,EACA,IAAI,SAAU,CACZ,OAAO,KAAKC,EAAU,IAAMtB,GAAuB,KAAKoB,EAAW,CAAC,CACtE,EACA,CAACI,EAAkB,GAAI,CACrB,YAAKzB,EAAe,EAAE,EACf,KAAKwB,EAAkB,CAChC,EACA,CAACxB,EAAe,GAAI,CAClB,YAAKwB,EAAkB,IAAM,IAAI,gBAC1B,KAAKJ,EAAY,IAAMX,GAC5B,KAAK,OACL,KAAKa,EAAM,EACX,KAAK,QACL,KAAKD,EAAW,EAChB,KAAKG,EAAkB,CACzB,CACF,CACF,EACA,CACE,OACA,WACA,QACA,cACA,cACA,YACA,OACA,WACA,WACA,iBACA,SACA,WACF,EAAE,QAASG,GAAM,CACf,OAAO,eAAeD,GAAkBC,EAAG,CACzC,KAAM,CACJ,OAAO,KAAK3B,EAAe,EAAE,EAAE2B,CAAC,CAClC,CACF,CAAC,CACH,CAAC,EACD,CAAC,cAAe,OAAQ,QAAS,WAAY,OAAQ,MAAM,EAAE,QAASA,GAAM,CAC1E,OAAO,eAAeD,GAAkBC,EAAG,CACzC,MAAO,UAAW,CAChB,OAAO,KAAK3B,EAAe,EAAE,EAAE2B,CAAC,EAAE,CACpC,CACF,CAAC,CACH,CAAC,EACD,OAAO,eAAeD,GAAkB5B,GAAQ,SAAS,EACzD,IAAI8B,GAAa,CAAC1B,EAAU2B,IAAoB,CAC9C,IAAMd,EAAM,OAAO,OAAOW,EAAgB,EAC1CX,EAAIM,EAAW,EAAInB,EACnB,IAAM4B,EAAc5B,EAAS,KAAO,GACpC,GAAI4B,EAAY,CAAC,IAAM,MACtBA,EAAY,WAAW,SAAS,GAAKA,EAAY,WAAW,UAAU,GAAI,CACzE,GAAI5B,aAAoBb,GACtB,MAAM,IAAIG,GAAa,iDAAiD,EAE1E,GAAI,CACF,IAAMuC,EAAO,IAAI,IAAID,CAAW,EAChCf,EAAIO,EAAM,EAAIS,EAAK,IACrB,OAASnC,EAAG,CACV,MAAM,IAAIJ,GAAa,uBAAwB,CAAE,MAAOI,CAAE,CAAC,CAC7D,CACA,OAAOmB,CACT,CACA,IAAMiB,GAAQ9B,aAAoBb,GAAqBa,EAAS,UAAYA,EAAS,QAAQ,OAAS2B,EACtG,GAAI,CAACG,EACH,MAAM,IAAIxC,GAAa,qBAAqB,EAE9C,IAAIyC,EACJ,GAAI/B,aAAoBb,IAEtB,GADA4C,EAAS/B,EAAS,OACd,EAAE+B,IAAW,QAAUA,IAAW,SACpC,MAAM,IAAIzC,GAAa,oBAAoB,OAG7CyC,EAAS/B,EAAS,QAAUA,EAAS,OAAO,UAAY,QAAU,OAEpE,IAAMS,EAAM,IAAI,IAAI,GAAGsB,CAAM,MAAMD,CAAI,GAAGF,CAAW,EAAE,EACvD,GAAInB,EAAI,SAAS,SAAWqB,EAAK,QAAUrB,EAAI,WAAaqB,EAAK,QAAQ,QAAS,EAAE,EAClF,MAAM,IAAIxC,GAAa,qBAAqB,EAE9C,OAAAuB,EAAIO,EAAM,EAAIX,EAAI,KACXI,CACT,EAGImB,GAAgB,OAAO,eAAe,EACtCC,GAAmB,OAAO,kBAAkB,EAC5CC,GAAW,OAAO,OAAO,EACzBC,GAAiB,OAAO,SACxBC,GAAY,MAAMC,EAAU,CAC9BC,GACAC,GACA,CAACN,EAAgB,GAAI,CACnB,cAAO,KAAKC,EAAQ,EACb,KAAKF,EAAa,IAAM,IAAIG,GAAe,KAAKG,GAAO,KAAKC,EAAK,CAC1E,CACA,YAAYC,EAAM5B,EAAM,CACtB,IAAIF,EAEJ,GADA,KAAK4B,GAAQE,EACT5B,aAAgByB,GAAW,CAC7B,IAAMI,EAAuB7B,EAAKoB,EAAa,EAC/C,GAAIS,EAAsB,CACxB,KAAKF,GAAQE,EACb,KAAKR,EAAgB,EAAE,EACvB,MACF,MACE,KAAKM,GAAQ3B,EAAK2B,GAClB7B,EAAU,IAAI,QAAQE,EAAK2B,GAAM,OAAO,CAE5C,MACE,KAAKA,GAAQ3B,GAEX,OAAO4B,GAAS,UAAY,OAAOA,GAAM,UAAc,KAAeA,aAAgB,MAAQA,aAAgB,cAChH9B,IAAYE,GAAM,SAAW,CAAE,eAAgB,2BAA4B,EAC3E,KAAKsB,EAAQ,EAAI,CAACtB,GAAM,QAAU,IAAK4B,EAAM9B,CAAO,EAExD,CACA,IAAI,SAAU,CACZ,IAAMgC,EAAQ,KAAKR,EAAQ,EAC3B,OAAIQ,GACIA,EAAM,CAAC,YAAa,UACxBA,EAAM,CAAC,EAAI,IAAI,QAAQA,EAAM,CAAC,CAAC,GAE1BA,EAAM,CAAC,GAET,KAAKT,EAAgB,EAAE,EAAE,OAClC,CACA,IAAI,QAAS,CACX,OAAO,KAAKC,EAAQ,IAAI,CAAC,GAAK,KAAKD,EAAgB,EAAE,EAAE,MACzD,CACA,IAAI,IAAK,CACP,IAAMU,EAAS,KAAK,OACpB,OAAOA,GAAU,KAAOA,EAAS,GACnC,CACF,EACA,CAAC,OAAQ,WAAY,aAAc,aAAc,WAAY,OAAQ,KAAK,EAAE,QAASlB,GAAM,CACzF,OAAO,eAAeW,GAAU,UAAWX,EAAG,CAC5C,KAAM,CACJ,OAAO,KAAKQ,EAAgB,EAAE,EAAER,CAAC,CACnC,CACF,CAAC,CACH,CAAC,EACD,CAAC,cAAe,OAAQ,QAAS,WAAY,OAAQ,MAAM,EAAE,QAASA,GAAM,CAC1E,OAAO,eAAeW,GAAU,UAAWX,EAAG,CAC5C,MAAO,UAAW,CAChB,OAAO,KAAKQ,EAAgB,EAAE,EAAER,CAAC,EAAE,CACrC,CACF,CAAC,CACH,CAAC,EACD,OAAO,eAAeW,GAAWD,EAAc,EAC/C,OAAO,eAAeC,GAAU,UAAWD,GAAe,SAAS,EAGnE,eAAeS,GAAoBC,EAAa,CAC9C,OAAO,QAAQ,KAAK,CAACA,EAAa,QAAQ,QAAQ,EAAE,KAAK,IAAM,QAAQ,QAAQ,MAAM,CAAC,CAAC,CAAC,CAC1F,CACA,SAASC,GAAqC/B,EAAQgC,EAAUC,EAAoB,CAClF,IAAMC,EAAUhC,GAAU,CACxBF,EAAO,OAAOE,CAAK,EAAE,MAAM,IAAM,CACjC,CAAC,CACH,EACA,OAAA8B,EAAS,GAAG,QAASE,CAAM,EAC3BF,EAAS,GAAG,QAASE,CAAM,GAC1BD,GAAsBjC,EAAO,KAAK,GAAG,KAAKmC,EAAMC,CAAiB,EAC3DpC,EAAO,OAAO,QAAQ,IAAM,CACjCgC,EAAS,IAAI,QAASE,CAAM,EAC5BF,EAAS,IAAI,QAASE,CAAM,CAC9B,CAAC,EACD,SAASE,EAAkBlC,EAAO,CAC5BA,GACF8B,EAAS,QAAQ9B,CAAK,CAE1B,CACA,SAASmC,GAAU,CACjBrC,EAAO,KAAK,EAAE,KAAKmC,EAAMC,CAAiB,CAC5C,CACA,SAASD,EAAK,CAAE,KAAAlC,EAAM,MAAAX,CAAM,EAAG,CAC7B,GAAI,CACF,GAAIW,EACF+B,EAAS,IAAI,UACJ,CAACA,EAAS,MAAM1C,CAAK,EAC9B0C,EAAS,KAAK,QAASK,CAAO,MAE9B,QAAOrC,EAAO,KAAK,EAAE,KAAKmC,EAAMC,CAAiB,CAErD,OAASzD,EAAG,CACVyD,EAAkBzD,CAAC,CACrB,CACF,CACF,CACA,SAAS2D,GAAwBC,EAAQP,EAAU,CACjD,GAAIO,EAAO,OACT,MAAM,IAAI,UAAU,2BAA2B,EAC1C,OAAIP,EAAS,UAClB,OAEKD,GAAqCQ,EAAO,UAAU,EAAGP,CAAQ,CAC1E,CACA,IAAIQ,GAA4B7C,GAAY,CAC1C,IAAM8C,EAAM,CAAC,EACP9C,aAAmB,UACvBA,EAAU,IAAI,QAAQA,GAAW,MAAM,GAEzC,IAAM+C,EAAU,CAAC,EACjB,OAAW,CAAChC,EAAGiC,CAAC,IAAKhD,EACfe,IAAM,aACRgC,EAAQ,KAAKC,CAAC,EAEdF,EAAI/B,CAAC,EAAIiC,EAGb,OAAID,EAAQ,OAAS,IACnBD,EAAI,YAAY,EAAIC,GAEtBD,EAAI,cAAc,IAAM,4BACjBA,CACT,EAGIG,GAAiB,sBAIjBC,GAAW,OAAO,MAClB,OAAO,OAAO,OAAW,MAC3B,OAAO,OAASvE,IAElB,OAAO,MAAQ,CAACwE,EAAMjD,KACpBA,EAAO,CAGL,SAAU,GACV,GAAGA,CACL,EACOgD,GAASC,EAAMjD,CAAI,GAI5B,IAAIkD,GAAgB,OAAO,eAAe,EACtCC,GAAqB,IAAM,IAAI,SAAS,KAAM,CAChD,OAAQ,GACV,CAAC,EACGC,GAAoBtE,GAAM,IAAI,SAAS,KAAM,CAC/C,OAAQA,aAAa,QAAUA,EAAE,OAAS,gBAAkBA,EAAE,YAAY,OAAS,gBAAkB,IAAM,GAC7G,CAAC,EACGuE,GAAsB,CAACvE,EAAGwE,IAAa,CACzC,IAAMC,EAAMzE,aAAa,MAAQA,EAAI,IAAI,MAAM,gBAAiB,CAAE,MAAOA,CAAE,CAAC,EACxEyE,EAAI,OAAS,6BACf,QAAQ,KAAK,6BAA6B,GAE1C,QAAQ,MAAMzE,CAAC,EACVwE,EAAS,aACZA,EAAS,UAAU,IAAK,CAAE,eAAgB,YAAa,CAAC,EAE1DA,EAAS,IAAI,UAAUC,EAAI,OAAO,EAAE,EACpCD,EAAS,QAAQC,CAAG,EAExB,EACIC,GAAgBF,GAAa,CAC3B,iBAAkBA,GAAYA,EAAS,UACzCA,EAAS,aAAa,CAE1B,EACIG,GAAmB,MAAOb,EAAKU,IAAa,CAC9C,GAAI,CAACvB,EAAQH,EAAM8B,CAAM,EAAId,EAAItB,EAAQ,EACrCoC,aAAkB,UACpBA,EAASf,GAAyBe,CAAM,GAEtC,OAAO9B,GAAS,SAClB8B,EAAO,gBAAgB,EAAI,OAAO,WAAW9B,CAAI,EACxCA,aAAgB,WACzB8B,EAAO,gBAAgB,EAAI9B,EAAK,WACvBA,aAAgB,OACzB8B,EAAO,gBAAgB,EAAI9B,EAAK,MAElC0B,EAAS,UAAUvB,EAAQ2B,CAAM,EAC7B,OAAO9B,GAAS,UAAYA,aAAgB,WAC9C0B,EAAS,IAAI1B,CAAI,EACRA,aAAgB,KACzB0B,EAAS,IAAI,IAAI,WAAW,MAAM1B,EAAK,YAAY,CAAC,CAAC,GAErD4B,GAAaF,CAAQ,EACrB,MAAMb,GAAwBb,EAAM0B,CAAQ,GAAG,MAC5CxE,GAAMuE,GAAoBvE,EAAGwE,CAAQ,CACxC,GAGFA,EAASJ,EAAa,IAAI,CAC5B,EACIS,GAAaf,GAAQ,OAAOA,EAAI,MAAS,WACzCgB,GAA4B,MAAOhB,EAAKU,EAAU1E,EAAU,CAAC,IAAM,CACrE,GAAI+E,GAAUf,CAAG,EACf,GAAIhE,EAAQ,aACV,GAAI,CACFgE,EAAM,MAAMA,CACd,OAASW,EAAK,CACZ,IAAMM,EAAS,MAAMjF,EAAQ,aAAa2E,CAAG,EAC7C,GAAI,CAACM,EACH,OAEFjB,EAAMiB,CACR,MAEAjB,EAAM,MAAMA,EAAI,MAAMQ,EAAgB,EAG1C,GAAI9B,MAAYsB,EACd,OAAOa,GAAiBb,EAAKU,CAAQ,EAEvC,IAAMQ,EAAkBnB,GAAyBC,EAAI,OAAO,EAC5D,GAAIA,EAAI,KAAM,CACZ,IAAMzC,EAASyC,EAAI,KAAK,UAAU,EAC5BmB,EAAS,CAAC,EACZ3D,EAAO,GACPgC,EACJ,GAAI0B,EAAgB,mBAAmB,IAAM,UAAW,CACtD,IAAIE,EAAe,EACnB,QAASzE,EAAI,EAAGA,EAAIyE,EAAczE,IAAK,CACrC6C,IAAuBjC,EAAO,KAAK,EACnC,IAAM8D,EAAQ,MAAMjC,GAAoBI,CAAkB,EAAE,MAAOtD,GAAM,CACvE,QAAQ,MAAMA,CAAC,EACfsB,EAAO,EACT,CAAC,EACD,GAAI,CAAC6D,EAAO,CACV,GAAI1E,IAAM,EAAG,CACX,MAAM,IAAI,QAAS2E,GAAY,WAAWA,CAAO,CAAC,EAClDF,EAAe,EACf,QACF,CACA,KACF,CAKA,GAJA5B,EAAqB,OACjB6B,EAAM,OACRF,EAAO,KAAKE,EAAM,KAAK,EAErBA,EAAM,KAAM,CACd7D,EAAO,GACP,KACF,CACF,CACIA,GAAQ,EAAE,mBAAoB0D,KAChCA,EAAgB,gBAAgB,EAAIC,EAAO,OAAO,CAACI,EAAK1E,IAAU0E,EAAM1E,EAAM,OAAQ,CAAC,EAE3F,CACA6D,EAAS,UAAUV,EAAI,OAAQkB,CAAe,EAC9CC,EAAO,QAAStE,GAAU,CAExB6D,EAAS,MAAM7D,CAAK,CACtB,CAAC,EACGW,EACFkD,EAAS,IAAI,GAETS,EAAO,SAAW,GACpBP,GAAaF,CAAQ,EAEvB,MAAMpB,GAAqC/B,EAAQmD,EAAUlB,CAAkB,EAEnF,MAAW0B,EAAgBf,EAAc,IAEvCO,EAAS,UAAUV,EAAI,OAAQkB,CAAe,EAC9CR,EAAS,IAAI,GAGfA,EAASJ,EAAa,IAAI,CAC5B,EACIkB,GAAqB,CAACC,EAAezF,EAAU,CAAC,IAAM,CACxD,IAAM0F,EAAsB1F,EAAQ,qBAAuB,GAC3D,OAAIA,EAAQ,wBAA0B,IAAS,OAAO,UAAYI,KAChE,OAAO,eAAe,OAAQ,UAAW,CACvC,MAAOA,EACT,CAAC,EACD,OAAO,eAAe,OAAQ,WAAY,CACxC,MAAOwC,EACT,CAAC,GAEI,MAAOpC,EAAUkE,IAAa,CACnC,IAAIV,EAAK3C,EACT,GAAI,CACFA,EAAMa,GAAW1B,EAAUR,EAAQ,QAAQ,EAC3C,IAAI2F,EAAgB,CAACD,GAAuBlF,EAAS,SAAW,OAASA,EAAS,SAAW,OA2C7F,GA1CKmF,IAEHnF,EAASM,EAAc,EAAI,GAC3BN,EAAS,GAAG,MAAO,IAAM,CACvBmF,EAAgB,EAClB,CAAC,EACGnF,aAAoBd,KAEtBgF,EAASJ,EAAa,EAAI,IAAM,CACzBqB,GACH,WAAW,IAAM,CACVA,GACH,WAAW,IAAM,CACfnF,EAAS,QAAQ,EACjBkE,EAAS,QAAQ,CACnB,CAAC,CAEL,CAAC,CAEL,IAGJA,EAAS,GAAG,QAAS,IAAM,CACDrD,EAAIS,EAAkB,IAExCtB,EAAS,QACXa,EAAIS,EAAkB,EAAE,MAAMtB,EAAS,QAAQ,SAAS,CAAC,EAC/CkE,EAAS,kBACnBrD,EAAIS,EAAkB,EAAE,MAAM,uCAAuC,GAGpE6D,GACH,WAAW,IAAM,CACVA,GACH,WAAW,IAAM,CACfnF,EAAS,QAAQ,CACnB,CAAC,CAEL,CAAC,CAEL,CAAC,EACDwD,EAAMyB,EAAcpE,EAAK,CAAE,SAAAb,EAAU,SAAAkE,CAAS,CAAC,EAC3ChC,MAAYsB,EACd,OAAOa,GAAiBb,EAAKU,CAAQ,CAEzC,OAASxE,EAAG,CACV,GAAK8D,EAYH,OAAOS,GAAoBvE,EAAGwE,CAAQ,EAXtC,GAAI1E,EAAQ,cAEV,GADAgE,EAAM,MAAMhE,EAAQ,aAAaqB,EAAMnB,EAAID,GAAeC,CAAC,CAAC,EACxD,CAAC8D,EACH,YAEQ3C,EAGV2C,EAAMQ,GAAiBtE,CAAC,EAFxB8D,EAAMO,GAAmB,CAO/B,CACA,GAAI,CACF,OAAO,MAAMS,GAA0BhB,EAAKU,EAAU1E,CAAO,CAC/D,OAASE,EAAG,CACV,OAAOuE,GAAoBvE,EAAGwE,CAAQ,CACxC,CACF,CACF,EAGIkB,GAAUC,GACLL,GAAmBK,EAAI,KAAK,EC3iBrC,IAAIC,GAAU,CAACC,EAAYC,EAASC,IAC3B,CAACC,EAASC,IAAS,CACxB,IAAIC,EAAQ,GACZ,OAAOC,EAAS,CAAC,EACjB,eAAeA,EAASC,EAAG,CACzB,GAAIA,GAAKF,EACP,MAAM,IAAI,MAAM,8BAA8B,EAEhDA,EAAQE,EACR,IAAIC,EACAC,EAAU,GACVC,EAOJ,GANIV,EAAWO,CAAC,GACdG,EAAUV,EAAWO,CAAC,EAAE,CAAC,EAAE,CAAC,EAC5BJ,EAAQ,IAAI,WAAaI,GAEzBG,EAAUH,IAAMP,EAAW,QAAUI,GAAQ,OAE3CM,EACF,GAAI,CACFF,EAAM,MAAME,EAAQP,EAAS,IAAMG,EAASC,EAAI,CAAC,CAAC,CACpD,OAASI,EAAK,CACZ,GAAIA,aAAe,OAASV,EAC1BE,EAAQ,MAAQQ,EAChBH,EAAM,MAAMP,EAAQU,EAAKR,CAAO,EAChCM,EAAU,OAEV,OAAME,CAEV,MAEIR,EAAQ,YAAc,IAASD,IACjCM,EAAM,MAAMN,EAAWC,CAAO,GAGlC,OAAIK,IAAQL,EAAQ,YAAc,IAASM,KACzCN,EAAQ,IAAMK,GAETL,CACT,CACF,ECxCF,IAAIS,GAAmC,OAAO,ECC9C,IAAIC,GAAY,MAAOC,EAASC,EAA0B,OAAO,OAAO,IAAI,IAAM,CAChF,GAAM,CAAE,IAAAC,EAAM,GAAO,IAAAC,EAAM,EAAM,EAAIF,EAE/BG,GADUJ,aAAmBK,GAAcL,EAAQ,IAAI,QAAUA,EAAQ,SACnD,IAAI,cAAc,EAC9C,OAAII,GAAa,WAAW,qBAAqB,GAAKA,GAAa,WAAW,mCAAmC,EACxGE,GAAcN,EAAS,CAAE,IAAAE,EAAK,IAAAC,CAAI,CAAC,EAErC,CAAC,CACV,EACA,eAAeG,GAAcN,EAASC,EAAS,CAC7C,IAAMM,EAAW,MAAMP,EAAQ,SAAS,EACxC,OAAIO,EACKC,GAA0BD,EAAUN,CAAO,EAE7C,CAAC,CACV,CACA,SAASO,GAA0BD,EAAUN,EAAS,CACpD,IAAMQ,EAAuB,OAAO,OAAO,IAAI,EAC/C,OAAAF,EAAS,QAAQ,CAACG,EAAOC,IAAQ,CACFV,EAAQ,KAAOU,EAAI,SAAS,IAAI,EAI3DC,GAAuBH,EAAME,EAAKD,CAAK,EAFvCD,EAAKE,CAAG,EAAID,CAIhB,CAAC,EACGT,EAAQ,KACV,OAAO,QAAQQ,CAAI,EAAE,QAAQ,CAAC,CAACE,EAAKD,CAAK,IAAM,CAChBC,EAAI,SAAS,GAAG,IAE3CE,GAA0BJ,EAAME,EAAKD,CAAK,EAC1C,OAAOD,EAAKE,CAAG,EAEnB,CAAC,EAEIF,CACT,CACA,IAAIG,GAAyB,CAACH,EAAME,EAAKD,IAAU,CAC7CD,EAAKE,CAAG,IAAM,OACZ,MAAM,QAAQF,EAAKE,CAAG,CAAC,EAEzBF,EAAKE,CAAG,EAAE,KAAKD,CAAK,EAEpBD,EAAKE,CAAG,EAAI,CAACF,EAAKE,CAAG,EAAGD,CAAK,EAG1BC,EAAI,SAAS,IAAI,EAGpBF,EAAKE,CAAG,EAAI,CAACD,CAAK,EAFlBD,EAAKE,CAAG,EAAID,CAKlB,EACIG,GAA4B,CAACJ,EAAME,EAAKD,IAAU,CACpD,IAAII,EAAaL,EACXM,EAAOJ,EAAI,MAAM,GAAG,EAC1BI,EAAK,QAAQ,CAACC,EAAMC,IAAU,CACxBA,IAAUF,EAAK,OAAS,EAC1BD,EAAWE,CAAI,EAAIN,IAEf,CAACI,EAAWE,CAAI,GAAK,OAAOF,EAAWE,CAAI,GAAM,UAAY,MAAM,QAAQF,EAAWE,CAAI,CAAC,GAAKF,EAAWE,CAAI,YAAa,QAC9HF,EAAWE,CAAI,EAAoB,OAAO,OAAO,IAAI,GAEvDF,EAAaA,EAAWE,CAAI,EAEhC,CAAC,CACH,ECnEA,IAAIE,GAAaC,GAAS,CACxB,IAAMC,EAAQD,EAAK,MAAM,GAAG,EAC5B,OAAIC,EAAM,CAAC,IAAM,IACfA,EAAM,MAAM,EAEPA,CACT,EACIC,GAAoBC,GAAc,CACpC,GAAM,CAAE,OAAAC,EAAQ,KAAAJ,CAAK,EAAIK,GAAsBF,CAAS,EAClDF,EAAQF,GAAUC,CAAI,EAC5B,OAAOM,GAAkBL,EAAOG,CAAM,CACxC,EACIC,GAAyBL,GAAS,CACpC,IAAMI,EAAS,CAAC,EAChB,OAAAJ,EAAOA,EAAK,QAAQ,aAAc,CAACO,EAAOC,IAAU,CAClD,IAAMC,EAAO,IAAID,CAAK,GACtB,OAAAJ,EAAO,KAAK,CAACK,EAAMF,CAAK,CAAC,EAClBE,CACT,CAAC,EACM,CAAE,OAAAL,EAAQ,KAAAJ,CAAK,CACxB,EACIM,GAAoB,CAACL,EAAOG,IAAW,CACzC,QAASM,EAAIN,EAAO,OAAS,EAAGM,GAAK,EAAGA,IAAK,CAC3C,GAAM,CAACD,CAAI,EAAIL,EAAOM,CAAC,EACvB,QAASC,EAAIV,EAAM,OAAS,EAAGU,GAAK,EAAGA,IACrC,GAAIV,EAAMU,CAAC,EAAE,SAASF,CAAI,EAAG,CAC3BR,EAAMU,CAAC,EAAIV,EAAMU,CAAC,EAAE,QAAQF,EAAML,EAAOM,CAAC,EAAE,CAAC,CAAC,EAC9C,KACF,CAEJ,CACA,OAAOT,CACT,EACIW,GAAe,CAAC,EAChBC,GAAa,CAACC,EAAOC,IAAS,CAChC,GAAID,IAAU,IACZ,MAAO,IAET,IAAMP,EAAQO,EAAM,MAAM,6BAA6B,EACvD,GAAIP,EAAO,CACT,IAAMS,EAAW,GAAGF,CAAK,IAAIC,CAAI,GACjC,OAAKH,GAAaI,CAAQ,IACpBT,EAAM,CAAC,EACTK,GAAaI,CAAQ,EAAID,GAAQA,EAAK,CAAC,IAAM,KAAOA,EAAK,CAAC,IAAM,IAAM,CAACC,EAAUT,EAAM,CAAC,EAAG,IAAI,OAAO,IAAIA,EAAM,CAAC,CAAC,OAAOQ,CAAI,GAAG,CAAC,EAAI,CAACD,EAAOP,EAAM,CAAC,EAAG,IAAI,OAAO,IAAIA,EAAM,CAAC,CAAC,GAAG,CAAC,EAElLK,GAAaI,CAAQ,EAAI,CAACF,EAAOP,EAAM,CAAC,EAAG,EAAI,GAG5CK,GAAaI,CAAQ,CAC9B,CACA,OAAO,IACT,EACIC,GAAY,CAACC,EAAKC,IAAY,CAChC,GAAI,CACF,OAAOA,EAAQD,CAAG,CACpB,MAAQ,CACN,OAAOA,EAAI,QAAQ,wBAA0BX,GAAU,CACrD,GAAI,CACF,OAAOY,EAAQZ,CAAK,CACtB,MAAQ,CACN,OAAOA,CACT,CACF,CAAC,CACH,CACF,EACIa,GAAgBF,GAAQD,GAAUC,EAAK,SAAS,EAChDG,GAAWC,GAAY,CACzB,IAAMC,EAAMD,EAAQ,IACdE,EAAQD,EAAI,QAAQ,IAAKA,EAAI,QAAQ,GAAG,EAAI,CAAC,EAC/Cb,EAAIc,EACR,KAAOd,EAAIa,EAAI,OAAQb,IAAK,CAC1B,IAAMe,EAAWF,EAAI,WAAWb,CAAC,EACjC,GAAIe,IAAa,GAAI,CACnB,IAAMC,EAAaH,EAAI,QAAQ,IAAKb,CAAC,EAC/BV,EAAOuB,EAAI,MAAMC,EAAOE,IAAe,GAAK,OAASA,CAAU,EACrE,OAAON,GAAapB,EAAK,SAAS,KAAK,EAAIA,EAAK,QAAQ,OAAQ,OAAO,EAAIA,CAAI,CACjF,SAAWyB,IAAa,GACtB,KAEJ,CACA,OAAOF,EAAI,MAAMC,EAAOd,CAAC,CAC3B,EAKA,IAAIiB,GAAmBC,GAAY,CACjC,IAAMC,EAASC,GAAQF,CAAO,EAC9B,OAAOC,EAAO,OAAS,GAAKA,EAAO,GAAG,EAAE,IAAM,IAAMA,EAAO,MAAM,EAAG,EAAE,EAAIA,CAC5E,EACIE,GAAY,CAACC,EAAMC,KAAQC,KACzBA,EAAK,SACPD,EAAMF,GAAUE,EAAK,GAAGC,CAAI,GAEvB,GAAGF,IAAO,CAAC,IAAM,IAAM,GAAK,GAAG,GAAGA,CAAI,GAAGC,IAAQ,IAAM,GAAK,GAAGD,GAAM,GAAG,EAAE,IAAM,IAAM,GAAK,GAAG,GAAGC,IAAM,CAAC,IAAM,IAAMA,EAAI,MAAM,CAAC,EAAIA,CAAG,EAAE,IAE7IE,GAA0BC,GAAS,CACrC,GAAIA,EAAK,WAAWA,EAAK,OAAS,CAAC,IAAM,IAAM,CAACA,EAAK,SAAS,GAAG,EAC/D,OAAO,KAET,IAAMC,EAAWD,EAAK,MAAM,GAAG,EACzBE,EAAU,CAAC,EACbC,EAAW,GACf,OAAAF,EAAS,QAASG,GAAY,CAC5B,GAAIA,IAAY,IAAM,CAAC,KAAK,KAAKA,CAAO,EACtCD,GAAY,IAAMC,UACT,KAAK,KAAKA,CAAO,EAC1B,GAAI,KAAK,KAAKA,CAAO,EAAG,CAClBF,EAAQ,SAAW,GAAKC,IAAa,GACvCD,EAAQ,KAAK,GAAG,EAEhBA,EAAQ,KAAKC,CAAQ,EAEvB,IAAME,EAAkBD,EAAQ,QAAQ,IAAK,EAAE,EAC/CD,GAAY,IAAME,EAClBH,EAAQ,KAAKC,CAAQ,CACvB,MACEA,GAAY,IAAMC,CAGxB,CAAC,EACMF,EAAQ,OAAO,CAACI,EAAGC,EAAGC,IAAMA,EAAE,QAAQF,CAAC,IAAMC,CAAC,CACvD,EACIE,GAAcC,GACX,OAAO,KAAKA,CAAK,GAGlBA,EAAM,QAAQ,GAAG,IAAM,KACzBA,EAAQA,EAAM,QAAQ,MAAO,GAAG,GAE3BA,EAAM,QAAQ,GAAG,IAAM,GAAKC,GAAUD,EAAOE,EAAmB,EAAIF,GALlEA,EAOPG,GAAiB,CAACC,EAAKC,EAAKC,IAAa,CAC3C,IAAIC,EACJ,GAAI,CAACD,GAAYD,GAAO,CAAC,OAAO,KAAKA,CAAG,EAAG,CACzC,IAAIG,EAAYJ,EAAI,QAAQ,IAAK,CAAC,EAClC,GAAII,IAAc,GAChB,OAKF,IAHKJ,EAAI,WAAWC,EAAKG,EAAY,CAAC,IACpCA,EAAYJ,EAAI,QAAQ,IAAIC,CAAG,GAAIG,EAAY,CAAC,GAE3CA,IAAc,IAAI,CACvB,IAAMC,EAAkBL,EAAI,WAAWI,EAAYH,EAAI,OAAS,CAAC,EACjE,GAAII,IAAoB,GAAI,CAC1B,IAAMC,EAAaF,EAAYH,EAAI,OAAS,EACtCM,EAAWP,EAAI,QAAQ,IAAKM,CAAU,EAC5C,OAAOX,GAAWK,EAAI,MAAMM,EAAYC,IAAa,GAAK,OAASA,CAAQ,CAAC,CAC9E,SAAWF,GAAmB,IAAM,MAAMA,CAAe,EACvD,MAAO,GAETD,EAAYJ,EAAI,QAAQ,IAAIC,CAAG,GAAIG,EAAY,CAAC,CAClD,CAEA,GADAD,EAAU,OAAO,KAAKH,CAAG,EACrB,CAACG,EACH,MAEJ,CACA,IAAMf,EAAU,CAAC,EACjBe,IAAY,OAAO,KAAKH,CAAG,EAC3B,IAAIQ,EAAWR,EAAI,QAAQ,IAAK,CAAC,EACjC,KAAOQ,IAAa,IAAI,CACtB,IAAMC,EAAeT,EAAI,QAAQ,IAAKQ,EAAW,CAAC,EAC9CF,EAAaN,EAAI,QAAQ,IAAKQ,CAAQ,EACtCF,EAAaG,GAAgBA,IAAiB,KAChDH,EAAa,IAEf,IAAII,EAAOV,EAAI,MACbQ,EAAW,EACXF,IAAe,GAAKG,IAAiB,GAAK,OAASA,EAAeH,CACpE,EAKA,GAJIH,IACFO,EAAOf,GAAWe,CAAI,GAExBF,EAAWC,EACPC,IAAS,GACX,SAEF,IAAId,EACAU,IAAe,GACjBV,EAAQ,IAERA,EAAQI,EAAI,MAAMM,EAAa,EAAGG,IAAiB,GAAK,OAASA,CAAY,EACzEN,IACFP,EAAQD,GAAWC,CAAK,IAGxBM,GACId,EAAQsB,CAAI,GAAK,MAAM,QAAQtB,EAAQsB,CAAI,CAAC,IAChDtB,EAAQsB,CAAI,EAAI,CAAC,GAGnBtB,EAAQsB,CAAI,EAAE,KAAKd,CAAK,GAExBR,EAAQsB,CAAI,IAAMd,CAEtB,CACA,OAAOK,EAAMb,EAAQa,CAAG,EAAIb,CAC9B,EACIuB,GAAgBZ,GAChBa,GAAiB,CAACZ,EAAKC,IAClBF,GAAeC,EAAKC,EAAK,EAAI,EAElCH,GAAsB,mBCvM1B,IAAIe,GAAyBC,GAAQC,GAAUD,EAAKE,EAAmB,EACnEC,GAAc,KAAM,CAetB,IACAC,GAEAC,GACA,WAAa,EAab,KACA,UAAY,CAAC,EACb,YAAYC,EAASC,EAAO,IAAKC,EAAc,CAAC,CAAC,CAAC,EAAG,CACnD,KAAK,IAAMF,EACX,KAAK,KAAOC,EACZ,KAAKF,GAAeG,EACpB,KAAKJ,GAAiB,CAAC,CACzB,CACA,MAAMK,EAAK,CACT,OAAOA,EAAM,KAAKC,GAAiBD,CAAG,EAAI,KAAKE,GAAqB,CACtE,CACAD,GAAiBD,EAAK,CACpB,IAAMG,EAAW,KAAKP,GAAa,CAAC,EAAE,KAAK,UAAU,EAAE,CAAC,EAAEI,CAAG,EACvDI,EAAQ,KAAKC,GAAeF,CAAQ,EAC1C,OAAOC,GAAS,KAAK,KAAKA,CAAK,EAAId,GAAsBc,CAAK,EAAIA,CACpE,CACAF,IAAuB,CACrB,IAAMI,EAAU,CAAC,EACXC,EAAO,OAAO,KAAK,KAAKX,GAAa,CAAC,EAAE,KAAK,UAAU,EAAE,CAAC,CAAC,EACjE,QAAWI,KAAOO,EAAM,CACtB,IAAMC,EAAQ,KAAKH,GAAe,KAAKT,GAAa,CAAC,EAAE,KAAK,UAAU,EAAE,CAAC,EAAEI,CAAG,CAAC,EAC3EQ,IAAU,SACZF,EAAQN,CAAG,EAAI,KAAK,KAAKQ,CAAK,EAAIlB,GAAsBkB,CAAK,EAAIA,EAErE,CACA,OAAOF,CACT,CACAD,GAAeF,EAAU,CACvB,OAAO,KAAKP,GAAa,CAAC,EAAI,KAAKA,GAAa,CAAC,EAAEO,CAAQ,EAAIA,CACjE,CACA,MAAMH,EAAK,CACT,OAAOS,GAAc,KAAK,IAAKT,CAAG,CACpC,CACA,QAAQA,EAAK,CACX,OAAOU,GAAe,KAAK,IAAKV,CAAG,CACrC,CACA,OAAOW,EAAM,CACX,GAAIA,EACF,OAAO,KAAK,IAAI,QAAQ,IAAIA,CAAI,GAAK,OAEvC,IAAMC,EAAa,CAAC,EACpB,YAAK,IAAI,QAAQ,QAAQ,CAACJ,EAAOR,IAAQ,CACvCY,EAAWZ,CAAG,EAAIQ,CACpB,CAAC,EACMI,CACT,CACA,MAAM,UAAUC,EAAS,CACvB,OAAO,KAAK,UAAU,aAAe,MAAMC,GAAU,KAAMD,CAAO,CACpE,CACAE,GAAef,GAAQ,CACrB,GAAM,CAAE,UAAAgB,EAAW,IAAAC,CAAI,EAAI,KACrBC,EAAaF,EAAUhB,CAAG,EAChC,GAAIkB,EACF,OAAOA,EAET,IAAMC,EAAe,OAAO,KAAKH,CAAS,EAAE,CAAC,EAC7C,OAAIG,EACKH,EAAUG,CAAY,EAAE,KAAMC,IAC/BD,IAAiB,SACnBC,EAAO,KAAK,UAAUA,CAAI,GAErB,IAAI,SAASA,CAAI,EAAEpB,CAAG,EAAE,EAChC,EAEIgB,EAAUhB,CAAG,EAAIiB,EAAIjB,CAAG,EAAE,CACnC,EAaA,MAAO,CACL,OAAO,KAAKe,GAAY,MAAM,EAAE,KAAMM,GAAS,KAAK,MAAMA,CAAI,CAAC,CACjE,CAaA,MAAO,CACL,OAAO,KAAKN,GAAY,MAAM,CAChC,CAaA,aAAc,CACZ,OAAO,KAAKA,GAAY,aAAa,CACvC,CAWA,MAAO,CACL,OAAO,KAAKA,GAAY,MAAM,CAChC,CAWA,UAAW,CACT,OAAO,KAAKA,GAAY,UAAU,CACpC,CAOA,iBAAiBO,EAAQC,EAAM,CAC7B,KAAK5B,GAAe2B,CAAM,EAAIC,CAChC,CACA,MAAMD,EAAQ,CACZ,OAAO,KAAK3B,GAAe2B,CAAM,CACnC,CAcA,IAAI,KAAM,CACR,OAAO,KAAK,IAAI,GAClB,CAaA,IAAI,QAAS,CACX,OAAO,KAAK,IAAI,MAClB,CACA,IAAKE,EAAgB,GAAI,CACvB,OAAO,KAAK5B,EACd,CA4BA,IAAI,eAAgB,CAClB,OAAO,KAAKA,GAAa,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAE6B,CAAK,CAAC,IAAMA,CAAK,CACxD,CAiBA,IAAI,WAAY,CACd,OAAO,KAAK7B,GAAa,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,CAAE6B,CAAK,CAAC,IAAMA,CAAK,EAAE,KAAK,UAAU,EAAE,IAC3E,CACF,EC7QA,IAAIC,GAA2B,CAC7B,UAAW,EACX,aAAc,EACd,OAAQ,CACV,EACIC,EAAM,CAACC,EAAOC,IAAc,CAC9B,IAAMC,EAAgB,IAAI,OAAOF,CAAK,EACtC,OAAAE,EAAc,UAAY,GAC1BA,EAAc,UAAYD,EACnBC,CACT,EACIC,GAAW,UACXC,GAAuB,MAAOC,EAAQJ,IAAc,CACtD,IAAIK,EAAM,GACVL,IAAc,CAAC,EACf,IAAMM,EAAiB,MAAM,QAAQ,IAAIF,CAAM,EAC/C,QAASG,EAAID,EAAe,OAAS,EACnCD,GAAOC,EAAeC,CAAC,EACvBA,IACI,EAAAA,EAAI,GAHgCA,IAAK,CAM7C,IAAIC,EAAIF,EAAeC,CAAC,EACpB,OAAOC,GAAM,UACfR,EAAU,KAAK,GAAGQ,EAAE,WAAa,CAAC,CAAC,EAErC,IAAMC,EAAYD,EAAE,UAKpB,GAJAA,EAAI,MAAO,OAAOA,GAAM,SAAWA,EAAE,SAAS,EAAIA,GAC9C,OAAOA,GAAM,UACfR,EAAU,KAAK,GAAGQ,EAAE,WAAa,CAAC,CAAC,EAEjCA,EAAE,WAAaC,EACjBJ,GAAOG,MACF,CACL,IAAME,EAAM,CAACL,CAAG,EAChBM,GAAeH,EAAGE,CAAG,EACrBL,EAAMK,EAAI,CAAC,CACb,CACF,CACA,OAAOZ,EAAIO,EAAKL,CAAS,CAC3B,EACIW,GAAiB,CAACN,EAAKD,IAAW,CACpC,IAAMQ,EAAQP,EAAI,OAAOH,EAAQ,EACjC,GAAIU,IAAU,GAAI,CAChBR,EAAO,CAAC,GAAKC,EACb,MACF,CACA,IAAIQ,EACAC,EACAC,EAAY,EAChB,IAAKD,EAAQF,EAAOE,EAAQT,EAAI,OAAQS,IAAS,CAC/C,OAAQT,EAAI,WAAWS,CAAK,EAAG,CAC7B,IAAK,IACHD,EAAS,SACT,MACF,IAAK,IACHA,EAAS,QACT,MACF,IAAK,IACHA,EAAS,QACT,MACF,IAAK,IACHA,EAAS,OACT,MACF,IAAK,IACHA,EAAS,OACT,MACF,QACE,QACJ,CACAT,EAAO,CAAC,GAAKC,EAAI,UAAUU,EAAWD,CAAK,EAAID,EAC/CE,EAAYD,EAAQ,CACtB,CACAV,EAAO,CAAC,GAAKC,EAAI,UAAUU,EAAWD,CAAK,CAC7C,EACIE,GAAuBX,GAAQ,CACjC,IAAML,EAAYK,EAAI,UACtB,GAAI,CAACL,GAAW,OACd,OAAOK,EAET,IAAMD,EAAS,CAACC,CAAG,EACbY,EAAU,CAAC,EACjB,OAAAjB,EAAU,QAASkB,GAAMA,EAAE,CAAE,MAAOrB,GAAyB,UAAW,OAAAO,EAAQ,QAAAa,CAAQ,CAAC,CAAC,EACnFb,EAAO,CAAC,CACjB,EACIe,GAAkB,MAAOd,EAAKe,EAAOC,EAAmBJ,EAASb,IAAW,CAC1E,OAAOC,GAAQ,UAAY,EAAEA,aAAe,UACxCA,aAAe,UACnBA,EAAMA,EAAI,SAAS,GAEjBA,aAAe,UACjBA,EAAM,MAAMA,IAGhB,IAAML,EAAYK,EAAI,UACtB,GAAI,CAACL,GAAW,OACd,OAAO,QAAQ,QAAQK,CAAG,EAExBD,EACFA,EAAO,CAAC,GAAKC,EAEbD,EAAS,CAACC,CAAG,EAEf,IAAMiB,EAAS,QAAQ,IAAItB,EAAU,IAAKkB,GAAMA,EAAE,CAAE,MAAAE,EAAO,OAAAhB,EAAQ,QAAAa,CAAQ,CAAC,CAAC,CAAC,EAAE,KAC7EM,GAAQ,QAAQ,IACfA,EAAI,OAAO,OAAO,EAAE,IAAKC,GAASL,GAAgBK,EAAMJ,EAAO,GAAOH,EAASb,CAAM,CAAC,CACxF,EAAE,KAAK,IAAMA,EAAO,CAAC,CAAC,CACxB,EACA,OAAIiB,EACKvB,EAAI,MAAMwB,EAAQtB,CAAS,EAE3BsB,CAEX,EC/GA,IAAIG,GAAa,4BACbC,GAAwB,CAACC,EAAaC,KACjC,CACL,eAAgBD,EAChB,GAAGC,CACL,GAEEC,GAAU,KAAM,CAClBC,GACAC,GAcA,IAAM,CAAC,EACPC,GACA,UAAY,GAgBZ,MACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GAOA,YAAYC,EAAKC,EAAS,CACxB,KAAKb,GAAcY,EACfC,IACF,KAAKT,GAAgBS,EAAQ,aAC7B,KAAK,IAAMA,EAAQ,IACnB,KAAKL,GAAmBK,EAAQ,gBAChC,KAAKF,GAAQE,EAAQ,KACrB,KAAKH,GAAeG,EAAQ,YAEhC,CAIA,IAAI,KAAM,CACR,YAAKZ,KAAS,IAAIa,GAAY,KAAKd,GAAa,KAAKW,GAAO,KAAKD,EAAY,EACtE,KAAKT,EACd,CAOA,IAAI,OAAQ,CACV,GAAI,KAAKG,IAAiB,gBAAiB,KAAKA,GAC9C,OAAO,KAAKA,GAEZ,MAAM,MAAM,gCAAgC,CAEhD,CAOA,IAAI,cAAe,CACjB,GAAI,KAAKA,GACP,OAAO,KAAKA,GAEZ,MAAM,MAAM,sCAAsC,CAEtD,CAKA,IAAI,KAAM,CACR,OAAO,KAAKC,KAAS,IAAI,SAAS,KAAM,CACtC,QAAS,KAAKI,KAAqB,IAAI,OACzC,CAAC,CACH,CAMA,IAAI,IAAIM,EAAM,CACZ,GAAI,KAAKV,IAAQU,EAAM,CACrBA,EAAO,IAAI,SAASA,EAAK,KAAMA,CAAI,EACnC,OAAW,CAACC,EAAGC,CAAC,IAAK,KAAKZ,GAAK,QAAQ,QAAQ,EAC7C,GAAIW,IAAM,eAGV,GAAIA,IAAM,aAAc,CACtB,IAAME,EAAU,KAAKb,GAAK,QAAQ,aAAa,EAC/CU,EAAK,QAAQ,OAAO,YAAY,EAChC,QAAWI,KAAUD,EACnBH,EAAK,QAAQ,OAAO,aAAcI,CAAM,CAE5C,MACEJ,EAAK,QAAQ,IAAIC,EAAGC,CAAC,CAG3B,CACA,KAAKZ,GAAOU,EACZ,KAAK,UAAY,EACnB,CAaA,OAAS,IAAIK,KACX,KAAKb,KAAec,GAAY,KAAK,KAAKA,CAAO,EAC1C,KAAKd,GAAU,GAAGa,CAAI,GAQ/B,UAAaE,GAAW,KAAKhB,GAAUgB,EAMvC,UAAY,IAAM,KAAKhB,GAsBvB,YAAeiB,GAAa,CAC1B,KAAKhB,GAAYgB,CACnB,EAiBA,OAAS,CAACC,EAAMC,EAAOZ,IAAY,CAC7B,KAAK,YACP,KAAKR,GAAO,IAAI,SAAS,KAAKA,GAAK,KAAM,KAAKA,EAAI,GAEpD,IAAMP,EAAU,KAAKO,GAAO,KAAKA,GAAK,QAAU,KAAKI,KAAqB,IAAI,QAC1EgB,IAAU,OACZ3B,EAAQ,OAAO0B,CAAI,EACVX,GAAS,OAClBf,EAAQ,OAAO0B,EAAMC,CAAK,EAE1B3B,EAAQ,IAAI0B,EAAMC,CAAK,CAE3B,EACA,OAAUC,GAAW,CACnB,KAAKvB,GAAUuB,CACjB,EAcA,IAAM,CAACC,EAAKF,IAAU,CACpB,KAAKvB,KAAyB,IAAI,IAClC,KAAKA,GAAK,IAAIyB,EAAKF,CAAK,CAC1B,EAcA,IAAOE,GACE,KAAKzB,GAAO,KAAKA,GAAK,IAAIyB,CAAG,EAAI,OAa1C,IAAI,KAAM,CACR,OAAK,KAAKzB,GAGH,OAAO,YAAY,KAAKA,EAAI,EAF1B,CAAC,CAGZ,CACA0B,GAAaC,EAAMC,EAAKhC,EAAS,CAC/B,IAAMiC,EAAkB,KAAK1B,GAAO,IAAI,QAAQ,KAAKA,GAAK,OAAO,EAAI,KAAKI,IAAoB,IAAI,QAClG,GAAI,OAAOqB,GAAQ,UAAY,YAAaA,EAAK,CAC/C,IAAME,EAAaF,EAAI,mBAAmB,QAAUA,EAAI,QAAU,IAAI,QAAQA,EAAI,OAAO,EACzF,OAAW,CAACH,EAAKF,CAAK,IAAKO,EACrBL,EAAI,YAAY,IAAM,aACxBI,EAAgB,OAAOJ,EAAKF,CAAK,EAEjCM,EAAgB,IAAIJ,EAAKF,CAAK,CAGpC,CACA,GAAI3B,EACF,OAAW,CAACkB,EAAGC,CAAC,IAAK,OAAO,QAAQnB,CAAO,EACzC,GAAI,OAAOmB,GAAM,SACfc,EAAgB,IAAIf,EAAGC,CAAC,MACnB,CACLc,EAAgB,OAAOf,CAAC,EACxB,QAAWiB,KAAMhB,EACfc,EAAgB,OAAOf,EAAGiB,CAAE,CAEhC,CAGJ,IAAMP,EAAS,OAAOI,GAAQ,SAAWA,EAAMA,GAAK,QAAU,KAAK3B,GACnE,OAAO,IAAI,SAAS0B,EAAM,CAAE,OAAAH,EAAQ,QAASK,CAAgB,CAAC,CAChE,CACA,YAAc,IAAIX,IAAS,KAAKQ,GAAa,GAAGR,CAAI,EAsBpD,KAAO,CAACS,EAAMC,EAAKhC,IAAY,KAAK8B,GAAaC,EAAMC,EAAKhC,CAAO,EAanE,KAAO,CAACoC,EAAMJ,EAAKhC,IACV,CAAC,KAAKW,IAAoB,CAAC,KAAKN,IAAW,CAAC2B,GAAO,CAAChC,GAAW,CAAC,KAAK,UAAY,IAAI,SAASoC,CAAI,EAAI,KAAKN,GAChHM,EACAJ,EACAlC,GAAsBD,GAAYG,CAAO,CAC3C,EAcF,KAAO,CAACqC,EAAQL,EAAKhC,IACZ,KAAK8B,GACV,KAAK,UAAUO,CAAM,EACrBL,EACAlC,GAAsB,mBAAoBE,CAAO,CACnD,EAEF,KAAO,CAACsC,EAAMN,EAAKhC,IAAY,CAC7B,IAAMuC,EAAOC,GAAU,KAAKV,GAAaU,EAAOR,EAAKlC,GAAsB,2BAA4BE,CAAO,CAAC,EAC/G,OAAO,OAAOsC,GAAS,SAAWG,GAAgBH,EAAMI,GAAyB,UAAW,GAAO,CAAC,CAAC,EAAE,KAAKH,CAAG,EAAIA,EAAID,CAAI,CAC7H,EAgBA,SAAW,CAACK,EAAUf,IAAW,CAC/B,IAAMgB,EAAiB,OAAOD,CAAQ,EACtC,YAAK,OACH,WAGC,eAAe,KAAKC,CAAc,EAAqB,UAAUA,CAAc,EAAzCA,CACzC,EACO,KAAK,YAAY,KAAMhB,GAAU,GAAG,CAC7C,EAaA,SAAW,KACT,KAAKlB,KAAqB,IAAM,IAAI,SAC7B,KAAKA,GAAiB,IAAI,EAErC,ECrZA,IAAImC,EAAkB,MAClBC,GAA4B,MAC5BC,GAAU,CAAC,MAAO,OAAQ,MAAO,SAAU,UAAW,OAAO,EAC7DC,GAAmC,0DACnCC,GAAuB,cAAc,KAAM,CAC/C,ECLA,IAAIC,GAAmB,qBCKvB,IAAIC,GAAmBC,GACdA,EAAE,KAAK,gBAAiB,GAAG,EAEhCC,GAAe,CAACC,EAAKF,IAAM,CAC7B,GAAI,gBAAiBE,EAAK,CACxB,IAAMC,EAAMD,EAAI,YAAY,EAC5B,OAAOF,EAAE,YAAYG,EAAI,KAAMA,CAAG,CACpC,CACA,eAAQ,MAAMD,CAAG,EACVF,EAAE,KAAK,wBAAyB,GAAG,CAC5C,EACII,GAAO,MAAMC,EAAM,CACrB,IACA,KACA,IACA,OACA,QACA,MACA,IACA,GACA,IAKA,OACA,QAEA,UAAY,IACZC,GAAQ,IACR,OAAS,CAAC,EACV,YAAYC,EAAU,CAAC,EAAG,CACL,CAAC,GAAGC,GAASC,EAAyB,EAC9C,QAASC,GAAW,CAC7B,KAAKA,CAAM,EAAI,CAACC,KAAUC,KACpB,OAAOD,GAAU,SACnB,KAAKL,GAAQK,EAEb,KAAKE,GAAUH,EAAQ,KAAKJ,GAAOK,CAAK,EAE1CC,EAAK,QAASE,GAAY,CACxB,KAAKD,GAAUH,EAAQ,KAAKJ,GAAOQ,CAAO,CAC5C,CAAC,EACM,KAEX,CAAC,EACD,KAAK,GAAK,CAACJ,EAAQK,KAASC,IAAa,CACvC,QAAWC,IAAK,CAACF,CAAI,EAAE,KAAK,EAAG,CAC7B,KAAKT,GAAQW,EACb,QAAWC,IAAK,CAACR,CAAM,EAAE,KAAK,EAC5BM,EAAS,IAAKF,GAAY,CACxB,KAAKD,GAAUK,EAAE,YAAY,EAAG,KAAKZ,GAAOQ,CAAO,CACrD,CAAC,CAEL,CACA,OAAO,IACT,EACA,KAAK,IAAM,CAACK,KAASH,KACf,OAAOG,GAAS,SAClB,KAAKb,GAAQa,GAEb,KAAKb,GAAQ,IACbU,EAAS,QAAQG,CAAI,GAEvBH,EAAS,QAASF,GAAY,CAC5B,KAAKD,GAAUO,EAAiB,KAAKd,GAAOQ,CAAO,CACrD,CAAC,EACM,MAET,GAAM,CAAE,OAAAO,EAAQ,GAAGC,CAAqB,EAAIf,EAC5C,OAAO,OAAO,KAAMe,CAAoB,EACxC,KAAK,QAAUD,GAAU,GAAOd,EAAQ,SAAWgB,GAAUC,EAC/D,CACAC,IAAS,CACP,IAAMC,EAAQ,IAAIrB,GAAM,CACtB,OAAQ,KAAK,OACb,QAAS,KAAK,OAChB,CAAC,EACD,OAAAqB,EAAM,aAAe,KAAK,aAC1BA,EAAMC,GAAmB,KAAKA,GAC9BD,EAAM,OAAS,KAAK,OACbA,CACT,CACAC,GAAmB5B,GAEnB,aAAeE,GAmBf,MAAMc,EAAMa,EAAK,CACf,IAAMC,EAAS,KAAK,SAASd,CAAI,EACjC,OAAAa,EAAI,OAAO,IAAKE,GAAM,CACpB,IAAIhB,EACAc,EAAI,eAAiB3B,GACvBa,EAAUgB,EAAE,SAEZhB,EAAU,MAAOd,EAAG+B,KAAU,MAAMC,GAAQ,CAAC,EAAGJ,EAAI,YAAY,EAAE5B,EAAG,IAAM8B,EAAE,QAAQ9B,EAAG+B,CAAI,CAAC,GAAG,IAChGjB,EAAQmB,EAAgB,EAAIH,EAAE,SAEhCD,EAAOhB,GAAUiB,EAAE,OAAQA,EAAE,KAAMhB,CAAO,CAC5C,CAAC,EACM,IACT,CAcA,SAASC,EAAM,CACb,IAAMc,EAAS,KAAKJ,GAAO,EAC3B,OAAAI,EAAO,UAAYK,GAAU,KAAK,UAAWnB,CAAI,EAC1Cc,CACT,CAiBA,QAAWf,IACT,KAAK,aAAeA,EACb,MAiBT,SAAYA,IACV,KAAKa,GAAmBb,EACjB,MAkCT,MAAMC,EAAMoB,EAAoB5B,EAAS,CACvC,IAAI6B,EACAC,EACA9B,IACE,OAAOA,GAAY,WACrB8B,EAAgB9B,GAEhB8B,EAAgB9B,EAAQ,cACpBA,EAAQ,iBAAmB,GAC7B6B,EAAkBE,GAAYA,EAE9BF,EAAiB7B,EAAQ,iBAI/B,IAAMgC,EAAaF,EAAiBrC,GAAM,CACxC,IAAMwC,EAAWH,EAAcrC,CAAC,EAChC,OAAO,MAAM,QAAQwC,CAAQ,EAAIA,EAAW,CAACA,CAAQ,CACvD,EAAKxC,GAAM,CACT,IAAIyC,EACJ,GAAI,CACFA,EAAmBzC,EAAE,YACvB,MAAQ,CACR,CACA,MAAO,CAACA,EAAE,IAAKyC,CAAgB,CACjC,EACAL,KAAoB,IAAM,CACxB,IAAMM,EAAaR,GAAU,KAAK,UAAWnB,CAAI,EAC3C4B,EAAmBD,IAAe,IAAM,EAAIA,EAAW,OAC7D,OAAQJ,GAAY,CAClB,IAAMM,EAAM,IAAI,IAAIN,EAAQ,GAAG,EAC/B,OAAAM,EAAI,SAAWA,EAAI,SAAS,MAAMD,CAAgB,GAAK,IAChD,IAAI,QAAQC,EAAKN,CAAO,CACjC,CACF,GAAG,EACH,IAAMxB,EAAU,MAAOd,EAAG+B,IAAS,CACjC,IAAM5B,EAAM,MAAMgC,EAAmBC,EAAepC,EAAE,IAAI,GAAG,EAAG,GAAGuC,EAAWvC,CAAC,CAAC,EAChF,GAAIG,EACF,OAAOA,EAET,MAAM4B,EAAK,CACb,EACA,YAAKlB,GAAUO,EAAiBc,GAAUnB,EAAM,GAAG,EAAGD,CAAO,EACtD,IACT,CACAD,GAAUH,EAAQK,EAAMD,EAAS,CAC/BJ,EAASA,EAAO,YAAY,EAC5BK,EAAOmB,GAAU,KAAK,UAAWnB,CAAI,EACrC,IAAMe,EAAI,CAAE,SAAU,KAAK,UAAW,KAAAf,EAAM,OAAAL,EAAQ,QAAAI,CAAQ,EAC5D,KAAK,OAAO,IAAIJ,EAAQK,EAAM,CAACD,EAASgB,CAAC,CAAC,EAC1C,KAAK,OAAO,KAAKA,CAAC,CACpB,CACAe,GAAa3C,EAAKF,EAAG,CACnB,GAAIE,aAAe,MACjB,OAAO,KAAK,aAAaA,EAAKF,CAAC,EAEjC,MAAME,CACR,CACA4C,GAAUR,EAASS,EAAcC,EAAKtC,EAAQ,CAC5C,GAAIA,IAAW,OACb,OAAQ,SAAY,IAAI,SAAS,KAAM,MAAM,KAAKoC,GAAUR,EAASS,EAAcC,EAAK,KAAK,CAAC,GAAG,EAEnG,IAAMjC,EAAO,KAAK,QAAQuB,EAAS,CAAE,IAAAU,CAAI,CAAC,EACpCC,EAAc,KAAK,OAAO,MAAMvC,EAAQK,CAAI,EAC5Cf,EAAI,IAAIkD,GAAQZ,EAAS,CAC7B,KAAAvB,EACA,YAAAkC,EACA,IAAAD,EACA,aAAAD,EACA,gBAAiB,KAAKpB,EACxB,CAAC,EACD,GAAIsB,EAAY,CAAC,EAAE,SAAW,EAAG,CAC/B,IAAI9C,EACJ,GAAI,CACFA,EAAM8C,EAAY,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAEjD,EAAG,SAAY,CAC3CA,EAAE,IAAM,MAAM,KAAK2B,GAAiB3B,CAAC,CACvC,CAAC,CACH,OAASE,EAAK,CACZ,OAAO,KAAK2C,GAAa3C,EAAKF,CAAC,CACjC,CACA,OAAOG,aAAe,QAAUA,EAAI,KACjCgD,GAAaA,IAAanD,EAAE,UAAYA,EAAE,IAAM,KAAK2B,GAAiB3B,CAAC,EAC1E,EAAE,MAAOE,GAAQ,KAAK2C,GAAa3C,EAAKF,CAAC,CAAC,EAAIG,GAAO,KAAKwB,GAAiB3B,CAAC,CAC9E,CACA,IAAMoD,EAAWpB,GAAQiB,EAAY,CAAC,EAAG,KAAK,aAAc,KAAKtB,EAAgB,EACjF,OAAQ,SAAY,CAClB,GAAI,CACF,IAAM0B,EAAU,MAAMD,EAASpD,CAAC,EAChC,GAAI,CAACqD,EAAQ,UACX,MAAM,IAAI,MACR,yFACF,EAEF,OAAOA,EAAQ,GACjB,OAASnD,EAAK,CACZ,OAAO,KAAK2C,GAAa3C,EAAKF,CAAC,CACjC,CACF,GAAG,CACL,CAYA,MAAQ,CAACsC,KAAYgB,IACZ,KAAKR,GAAUR,EAASgB,EAAK,CAAC,EAAGA,EAAK,CAAC,EAAGhB,EAAQ,MAAM,EAcjE,QAAU,CAACiB,EAAOC,EAAaC,EAAKV,IAC9BQ,aAAiB,QACZ,KAAK,MAAMC,EAAc,IAAI,QAAQD,EAAOC,CAAW,EAAID,EAAOE,EAAKV,CAAY,GAE5FQ,EAAQA,EAAM,SAAS,EAChB,KAAK,MACV,IAAI,QACF,eAAe,KAAKA,CAAK,EAAIA,EAAQ,mBAAmBrB,GAAU,IAAKqB,CAAK,CAAC,GAC7EC,CACF,EACAC,EACAV,CACF,GAmBF,KAAO,IAAM,CACX,iBAAiB,QAAUW,GAAU,CACnCA,EAAM,YAAY,KAAKZ,GAAUY,EAAM,QAASA,EAAO,OAAQA,EAAM,QAAQ,MAAM,CAAC,CACtF,CAAC,CACH,CACF,ECpXA,IAAIC,GAAa,CAAC,EAClB,SAASC,GAAMC,EAAQC,EAAM,CAC3B,IAAMC,EAAW,KAAK,iBAAiB,EACjCC,GAAU,CAACC,EAASC,IAAU,CAClC,IAAMC,EAAUJ,EAASE,CAAO,GAAKF,EAASK,CAAe,EACvDC,EAAcF,EAAQ,CAAC,EAAED,CAAK,EACpC,GAAIG,EACF,OAAOA,EAET,IAAMC,EAASJ,EAAM,MAAMC,EAAQ,CAAC,CAAC,EACrC,GAAI,CAACG,EACH,MAAO,CAAC,CAAC,EAAGX,EAAU,EAExB,IAAMY,EAAQD,EAAO,QAAQ,GAAI,CAAC,EAClC,MAAO,CAACH,EAAQ,CAAC,EAAEI,CAAK,EAAGD,CAAM,CACnC,GACA,YAAK,MAAQN,EACNA,EAAOH,EAAQC,CAAI,CAC5B,CCnBA,IAAIU,GAAoB,QACpBC,GAA4B,KAC5BC,GAA4B,WAC5BC,GAA6B,OAAO,EACpCC,GAAkB,IAAI,IAAI,aAAa,EAC3C,SAASC,GAAWC,EAAGC,EAAG,CACxB,OAAID,EAAE,SAAW,EACRC,EAAE,SAAW,EAAID,EAAIC,EAAI,GAAK,EAAI,GAEvCA,EAAE,SAAW,GAGbD,IAAML,IAA6BK,IAAMJ,GACpC,EACEK,IAAMN,IAA6BM,IAAML,GAC3C,GAELI,IAAMN,GACD,EACEO,IAAMP,GACR,GAEFM,EAAE,SAAWC,EAAE,OAASD,EAAIC,EAAI,GAAK,EAAIA,EAAE,OAASD,EAAE,MAC/D,CACA,IAAIE,GAAO,MAAMC,EAAM,CACrBC,GACAC,GACAC,GAA4B,OAAO,OAAO,IAAI,EAC9C,OAAOC,EAAQC,EAAOC,EAAUC,EAASC,EAAoB,CAC3D,GAAIJ,EAAO,SAAW,EAAG,CACvB,GAAI,KAAKH,KAAW,OAClB,MAAMP,GAER,GAAIc,EACF,OAEF,KAAKP,GAASI,EACd,MACF,CACA,GAAM,CAACI,EAAO,GAAGC,CAAU,EAAIN,EACzBO,EAAUF,IAAU,IAAMC,EAAW,SAAW,EAAI,CAAC,GAAI,GAAIlB,EAAyB,EAAI,CAAC,GAAI,GAAID,EAAiB,EAAIkB,IAAU,KAAO,CAAC,GAAI,GAAIhB,EAAyB,EAAIgB,EAAM,MAAM,6BAA6B,EAC1NG,EACJ,GAAID,EAAS,CACX,IAAME,EAAOF,EAAQ,CAAC,EAClBG,EAAYH,EAAQ,CAAC,GAAKpB,GAC9B,GAAIsB,GAAQF,EAAQ,CAAC,IACfG,IAAc,OAGlBA,EAAYA,EAAU,QAAQ,yBAA0B,KAAK,EACzD,YAAY,KAAKA,CAAS,IAC5B,MAAMpB,GAIV,GADAkB,EAAO,KAAKT,GAAUW,CAAS,EAC3B,CAACF,EAAM,CACT,GAAI,OAAO,KAAK,KAAKT,EAAS,EAAE,KAC7BY,GAAMA,IAAMvB,IAA6BuB,IAAMtB,EAClD,EACE,MAAMC,GAER,GAAIc,EACF,OAEFI,EAAO,KAAKT,GAAUW,CAAS,EAAI,IAAId,GACnCa,IAAS,KACXD,EAAKV,GAAYK,EAAQ,WAE7B,CACI,CAACC,GAAsBK,IAAS,IAClCP,EAAS,KAAK,CAACO,EAAMD,EAAKV,EAAS,CAAC,CAExC,SACEU,EAAO,KAAKT,GAAUM,CAAK,EACvB,CAACG,EAAM,CACT,GAAI,OAAO,KAAK,KAAKT,EAAS,EAAE,KAC7BY,GAAMA,EAAE,OAAS,GAAKA,IAAMvB,IAA6BuB,IAAMtB,EAClE,EACE,MAAMC,GAER,GAAIc,EACF,OAEFI,EAAO,KAAKT,GAAUM,CAAK,EAAI,IAAIT,EACrC,CAEFY,EAAK,OAAOF,EAAYL,EAAOC,EAAUC,EAASC,CAAkB,CACtE,CACA,gBAAiB,CAEf,IAAMQ,EADY,OAAO,KAAK,KAAKb,EAAS,EAAE,KAAKP,EAAU,EACnC,IAAKmB,GAAM,CACnC,IAAME,EAAI,KAAKd,GAAUY,CAAC,EAC1B,OAAQ,OAAOE,EAAEf,IAAc,SAAW,IAAIa,CAAC,KAAKE,EAAEf,EAAS,GAAKP,GAAgB,IAAIoB,CAAC,EAAI,KAAKA,CAAC,GAAKA,GAAKE,EAAE,eAAe,CAChI,CAAC,EAID,OAHI,OAAO,KAAKhB,IAAW,UACzBe,EAAQ,QAAQ,IAAI,KAAKf,EAAM,EAAE,EAE/Be,EAAQ,SAAW,EACd,GAELA,EAAQ,SAAW,EACdA,EAAQ,CAAC,EAEX,MAAQA,EAAQ,KAAK,GAAG,EAAI,GACrC,CACF,ECxGA,IAAIE,GAAO,KAAM,CACfC,GAAW,CAAE,SAAU,CAAE,EACzBC,GAAQ,IAAIC,GACZ,OAAOC,EAAMC,EAAOC,EAAoB,CACtC,IAAMC,EAAa,CAAC,EACdC,EAAS,CAAC,EAChB,QAAS,EAAI,IAAO,CAClB,IAAIC,EAAW,GAQf,GAPAL,EAAOA,EAAK,QAAQ,aAAeM,GAAM,CACvC,IAAMC,EAAO,MAAM,CAAC,GACpB,OAAAH,EAAO,CAAC,EAAI,CAACG,EAAMD,CAAC,EACpB,IACAD,EAAW,GACJE,CACT,CAAC,EACG,CAACF,EACH,KAEJ,CACA,IAAMG,EAASR,EAAK,MAAM,0BAA0B,GAAK,CAAC,EAC1D,QAAS,EAAII,EAAO,OAAS,EAAG,GAAK,EAAG,IAAK,CAC3C,GAAM,CAACG,CAAI,EAAIH,EAAO,CAAC,EACvB,QAASK,EAAID,EAAO,OAAS,EAAGC,GAAK,EAAGA,IACtC,GAAID,EAAOC,CAAC,EAAE,QAAQF,CAAI,IAAM,GAAI,CAClCC,EAAOC,CAAC,EAAID,EAAOC,CAAC,EAAE,QAAQF,EAAMH,EAAO,CAAC,EAAE,CAAC,CAAC,EAChD,KACF,CAEJ,CACA,YAAKN,GAAM,OAAOU,EAAQP,EAAOE,EAAY,KAAKN,GAAUK,CAAkB,EACvEC,CACT,CACA,aAAc,CACZ,IAAIO,EAAS,KAAKZ,GAAM,eAAe,EACvC,GAAIY,IAAW,GACb,MAAO,CAAC,KAAM,CAAC,EAAG,CAAC,CAAC,EAEtB,IAAIC,EAAe,EACbC,EAAsB,CAAC,EACvBC,EAAsB,CAAC,EAC7B,OAAAH,EAASA,EAAO,QAAQ,wBAAyB,CAACI,EAAGC,EAAcC,IAC7DD,IAAiB,QACnBH,EAAoB,EAAED,CAAY,EAAI,OAAOI,CAAY,EAClD,QAELC,IAAe,SACjBH,EAAoB,OAAOG,CAAU,CAAC,EAAI,EAAEL,GACrC,GAGV,EACM,CAAC,IAAI,OAAO,IAAID,CAAM,EAAE,EAAGE,EAAqBC,CAAmB,CAC5E,CACF,EC7CA,IAAII,GAAc,CAAC,KAAM,CAAC,EAAmB,OAAO,OAAO,IAAI,CAAC,EAC5DC,GAAsC,OAAO,OAAO,IAAI,EAC5D,SAASC,GAAoBC,EAAM,CACjC,OAAOF,GAAoBE,CAAI,IAAM,IAAI,OACvCA,IAAS,IAAM,GAAK,IAAIA,EAAK,QAC3B,0BACA,CAACC,EAAGC,IAAaA,EAAW,KAAKA,CAAQ,GAAK,UAChD,CAAC,GACH,CACF,CACA,SAASC,IAA2B,CAClCL,GAAsC,OAAO,OAAO,IAAI,CAC1D,CACA,SAASM,GAAmCC,EAAQ,CAClD,IAAMC,EAAO,IAAIC,GACXC,EAAc,CAAC,EACrB,GAAIH,EAAO,SAAW,EACpB,OAAOR,GAET,IAAMY,EAA2BJ,EAAO,IACrCK,GAAU,CAAC,CAAC,SAAS,KAAKA,EAAM,CAAC,CAAC,EAAG,GAAGA,CAAK,CAChD,EAAE,KACA,CAAC,CAACC,EAAWC,CAAK,EAAG,CAACC,EAAWC,CAAK,IAAMH,EAAY,EAAIE,EAAY,GAAKD,EAAM,OAASE,EAAM,MACpG,EACMC,EAA4B,OAAO,OAAO,IAAI,EACpD,QAASC,EAAI,EAAGC,EAAI,GAAIC,EAAMT,EAAyB,OAAQO,EAAIE,EAAKF,IAAK,CAC3E,GAAM,CAACG,EAAoBnB,EAAMoB,CAAQ,EAAIX,EAAyBO,CAAC,EACnEG,EACFJ,EAAUf,CAAI,EAAI,CAACoB,EAAS,IAAI,CAAC,CAACC,CAAC,IAAM,CAACA,EAAmB,OAAO,OAAO,IAAI,CAAC,CAAC,EAAGC,EAAU,EAE9FL,IAEF,IAAIM,EACJ,GAAI,CACFA,EAAajB,EAAK,OAAON,EAAMiB,EAAGE,CAAkB,CACtD,OAASK,EAAG,CACV,MAAMA,IAAMC,GAAa,IAAIC,GAAqB1B,CAAI,EAAIwB,CAC5D,CACIL,IAGJX,EAAYS,CAAC,EAAIG,EAAS,IAAI,CAAC,CAACC,EAAGM,CAAU,IAAM,CACjD,IAAMC,EAAgC,OAAO,OAAO,IAAI,EAExD,IADAD,GAAc,EACPA,GAAc,EAAGA,IAAc,CACpC,GAAM,CAACE,EAAKC,CAAK,EAAIP,EAAWI,CAAU,EAC1CC,EAAcC,CAAG,EAAIC,CACvB,CACA,MAAO,CAACT,EAAGO,CAAa,CAC1B,CAAC,EACH,CACA,GAAM,CAACG,EAAQC,EAAqBC,CAAmB,EAAI3B,EAAK,YAAY,EAC5E,QAASU,EAAI,EAAGE,EAAMV,EAAY,OAAQQ,EAAIE,EAAKF,IACjD,QAASC,EAAI,EAAGiB,EAAO1B,EAAYQ,CAAC,EAAE,OAAQC,EAAIiB,EAAMjB,IAAK,CAC3D,IAAMkB,EAAM3B,EAAYQ,CAAC,EAAEC,CAAC,IAAI,CAAC,EACjC,GAAI,CAACkB,EACH,SAEF,IAAMC,EAAO,OAAO,KAAKD,CAAG,EAC5B,QAASE,EAAI,EAAGC,EAAOF,EAAK,OAAQC,EAAIC,EAAMD,IAC5CF,EAAIC,EAAKC,CAAC,CAAC,EAAIJ,EAAoBE,EAAIC,EAAKC,CAAC,CAAC,CAAC,CAEnD,CAEF,IAAME,EAAa,CAAC,EACpB,QAAWvB,KAAKgB,EACdO,EAAWvB,CAAC,EAAIR,EAAYwB,EAAoBhB,CAAC,CAAC,EAEpD,MAAO,CAACe,EAAQQ,EAAYxB,CAAS,CACvC,CACA,SAASyB,GAAeC,EAAYzC,EAAM,CACxC,GAAKyC,GAGL,QAAWJ,KAAK,OAAO,KAAKI,CAAU,EAAE,KAAK,CAACC,EAAGC,IAAMA,EAAE,OAASD,EAAE,MAAM,EACxE,GAAI3C,GAAoBsC,CAAC,EAAE,KAAKrC,CAAI,EAClC,MAAO,CAAC,GAAGyC,EAAWJ,CAAC,CAAC,EAI9B,CACA,IAAIO,GAAe,KAAM,CACvB,KAAO,eACPC,GACAC,GACA,aAAc,CACZ,KAAKD,GAAc,CAAE,CAACE,CAAe,EAAmB,OAAO,OAAO,IAAI,CAAE,EAC5E,KAAKD,GAAU,CAAE,CAACC,CAAe,EAAmB,OAAO,OAAO,IAAI,CAAE,CAC1E,CACA,IAAIC,EAAQhD,EAAMiD,EAAS,CACzB,IAAMR,EAAa,KAAKI,GAClBxC,EAAS,KAAKyC,GACpB,GAAI,CAACL,GAAc,CAACpC,EAClB,MAAM,IAAI,MAAM6C,EAAgC,EAE7CT,EAAWO,CAAM,GAEpB,CAACP,EAAYpC,CAAM,EAAE,QAASkC,GAAe,CAC3CA,EAAWS,CAAM,EAAoB,OAAO,OAAO,IAAI,EACvD,OAAO,KAAKT,EAAWQ,CAAe,CAAC,EAAE,QAASI,GAAM,CACtDZ,EAAWS,CAAM,EAAEG,CAAC,EAAI,CAAC,GAAGZ,EAAWQ,CAAe,EAAEI,CAAC,CAAC,CAC5D,CAAC,CACH,CAAC,EAECnD,IAAS,OACXA,EAAO,KAET,IAAM2B,GAAc3B,EAAK,MAAM,MAAM,GAAK,CAAC,GAAG,OAC9C,GAAI,MAAM,KAAKA,CAAI,EAAG,CACpB,IAAMoD,EAAKrD,GAAoBC,CAAI,EAC/BgD,IAAWD,EACb,OAAO,KAAKN,CAAU,EAAE,QAASY,GAAM,CACrCZ,EAAWY,CAAC,EAAErD,CAAI,IAAMwC,GAAeC,EAAWY,CAAC,EAAGrD,CAAI,GAAKwC,GAAeC,EAAWM,CAAe,EAAG/C,CAAI,GAAK,CAAC,CACvH,CAAC,EAEDyC,EAAWO,CAAM,EAAEhD,CAAI,IAAMwC,GAAeC,EAAWO,CAAM,EAAGhD,CAAI,GAAKwC,GAAeC,EAAWM,CAAe,EAAG/C,CAAI,GAAK,CAAC,EAEjI,OAAO,KAAKyC,CAAU,EAAE,QAASY,GAAM,EACjCL,IAAWD,GAAmBC,IAAWK,IAC3C,OAAO,KAAKZ,EAAWY,CAAC,CAAC,EAAE,QAASF,GAAM,CACxCC,EAAG,KAAKD,CAAC,GAAKV,EAAWY,CAAC,EAAEF,CAAC,EAAE,KAAK,CAACF,EAAStB,CAAU,CAAC,CAC3D,CAAC,CAEL,CAAC,EACD,OAAO,KAAKtB,CAAM,EAAE,QAASgD,GAAM,EAC7BL,IAAWD,GAAmBC,IAAWK,IAC3C,OAAO,KAAKhD,EAAOgD,CAAC,CAAC,EAAE,QACpBF,GAAMC,EAAG,KAAKD,CAAC,GAAK9C,EAAOgD,CAAC,EAAEF,CAAC,EAAE,KAAK,CAACF,EAAStB,CAAU,CAAC,CAC9D,CAEJ,CAAC,EACD,MACF,CACA,IAAM2B,EAAQC,GAAuBvD,CAAI,GAAK,CAACA,CAAI,EACnD,QAASgB,EAAI,EAAGE,EAAMoC,EAAM,OAAQtC,EAAIE,EAAKF,IAAK,CAChD,IAAMwC,EAAQF,EAAMtC,CAAC,EACrB,OAAO,KAAKX,CAAM,EAAE,QAASgD,GAAM,EAC7BL,IAAWD,GAAmBC,IAAWK,KAC3ChD,EAAOgD,CAAC,EAAEG,CAAK,IAAM,CACnB,GAAGhB,GAAeC,EAAWY,CAAC,EAAGG,CAAK,GAAKhB,GAAeC,EAAWM,CAAe,EAAGS,CAAK,GAAK,CAAC,CACpG,EACAnD,EAAOgD,CAAC,EAAEG,CAAK,EAAE,KAAK,CAACP,EAAStB,EAAaT,EAAMF,EAAI,CAAC,CAAC,EAE7D,CAAC,CACH,CACF,CACA,MAAQyC,GACR,kBAAmB,CACjB,IAAMC,EAA2B,OAAO,OAAO,IAAI,EACnD,cAAO,KAAK,KAAKZ,EAAO,EAAE,OAAO,OAAO,KAAK,KAAKD,EAAW,CAAC,EAAE,QAASG,GAAW,CAClFU,EAASV,CAAM,IAAM,KAAKW,GAAcX,CAAM,CAChD,CAAC,EACD,KAAKH,GAAc,KAAKC,GAAU,OAClC3C,GAAyB,EAClBuD,CACT,CACAC,GAAcX,EAAQ,CACpB,IAAM3C,EAAS,CAAC,EACZuD,EAAcZ,IAAWD,EAY7B,MAXA,CAAC,KAAKF,GAAa,KAAKC,EAAO,EAAE,QAAS,GAAM,CAC9C,IAAMe,EAAW,EAAEb,CAAM,EAAI,OAAO,KAAK,EAAEA,CAAM,CAAC,EAAE,IAAKhD,GAAS,CAACA,EAAM,EAAEgD,CAAM,EAAEhD,CAAI,CAAC,CAAC,EAAI,CAAC,EAC1F6D,EAAS,SAAW,GACtBD,IAAgB,GAChBvD,EAAO,KAAK,GAAGwD,CAAQ,GACdb,IAAWD,GACpB1C,EAAO,KACL,GAAG,OAAO,KAAK,EAAE0C,CAAe,CAAC,EAAE,IAAK/C,GAAS,CAACA,EAAM,EAAE+C,CAAe,EAAE/C,CAAI,CAAC,CAAC,CACnF,CAEJ,CAAC,EACI4D,EAGIxD,GAAmCC,CAAM,EAFzC,IAIX,CACF,ECxLA,IAAIyD,GAAc,KAAM,CACtB,KAAO,cACPC,GAAW,CAAC,EACZC,GAAU,CAAC,EACX,YAAYC,EAAM,CAChB,KAAKF,GAAWE,EAAK,OACvB,CACA,IAAIC,EAAQC,EAAMC,EAAS,CACzB,GAAI,CAAC,KAAKJ,GACR,MAAM,IAAI,MAAMK,EAAgC,EAElD,KAAKL,GAAQ,KAAK,CAACE,EAAQC,EAAMC,CAAO,CAAC,CAC3C,CACA,MAAMF,EAAQC,EAAM,CAClB,GAAI,CAAC,KAAKH,GACR,MAAM,IAAI,MAAM,aAAa,EAE/B,IAAMM,EAAU,KAAKP,GACfQ,EAAS,KAAKP,GACdQ,EAAMF,EAAQ,OAChBG,EAAI,EACJC,EACJ,KAAOD,EAAID,EAAKC,IAAK,CACnB,IAAME,EAASL,EAAQG,CAAC,EACxB,GAAI,CACF,QAASG,EAAK,EAAGC,EAAON,EAAO,OAAQK,EAAKC,EAAMD,IAChDD,EAAO,IAAI,GAAGJ,EAAOK,CAAE,CAAC,EAE1BF,EAAMC,EAAO,MAAMT,EAAQC,CAAI,CACjC,OAASW,EAAG,CACV,GAAIA,aAAaC,GACf,SAEF,MAAMD,CACR,CACA,KAAK,MAAQH,EAAO,MAAM,KAAKA,CAAM,EACrC,KAAKZ,GAAW,CAACY,CAAM,EACvB,KAAKX,GAAU,OACf,KACF,CACA,GAAIS,IAAMD,EACR,MAAM,IAAI,MAAM,aAAa,EAE/B,YAAK,KAAO,iBAAiB,KAAK,aAAa,IAAI,GAC5CE,CACT,CACA,IAAI,cAAe,CACjB,GAAI,KAAKV,IAAW,KAAKD,GAAS,SAAW,EAC3C,MAAM,IAAI,MAAM,2CAA2C,EAE7D,OAAO,KAAKA,GAAS,CAAC,CACxB,CACF,ECnDA,IAAIiB,GAA8B,OAAO,OAAO,IAAI,EAChDC,GAAO,MAAMC,EAAM,CACrBC,GACAC,GACAC,GACAC,GAAS,EACTC,GAAUP,GACV,YAAYQ,EAAQC,EAASC,EAAU,CAGrC,GAFA,KAAKN,GAAYM,GAA4B,OAAO,OAAO,IAAI,EAC/D,KAAKP,GAAW,CAAC,EACbK,GAAUC,EAAS,CACrB,IAAME,EAAoB,OAAO,OAAO,IAAI,EAC5CA,EAAEH,CAAM,EAAI,CAAE,QAAAC,EAAS,aAAc,CAAC,EAAG,MAAO,CAAE,EAClD,KAAKN,GAAW,CAACQ,CAAC,CACpB,CACA,KAAKN,GAAY,CAAC,CACpB,CACA,OAAOG,EAAQI,EAAMH,EAAS,CAC5B,KAAKH,GAAS,EAAE,KAAKA,GACrB,IAAIO,EAAU,KACRC,EAAQC,GAAiBH,CAAI,EAC7BI,EAAe,CAAC,EACtB,QAASC,EAAI,EAAGC,EAAMJ,EAAM,OAAQG,EAAIC,EAAKD,IAAK,CAChD,IAAME,EAAIL,EAAMG,CAAC,EACXG,EAAQN,EAAMG,EAAI,CAAC,EACnBI,EAAUC,GAAWH,EAAGC,CAAK,EAC7BG,EAAM,MAAM,QAAQF,CAAO,EAAIA,EAAQ,CAAC,EAAIF,EAClD,GAAII,KAAOV,EAAQT,GAAW,CAC5BS,EAAUA,EAAQT,GAAUmB,CAAG,EAC3BF,GACFL,EAAa,KAAKK,EAAQ,CAAC,CAAC,EAE9B,QACF,CACAR,EAAQT,GAAUmB,CAAG,EAAI,IAAIrB,GACzBmB,IACFR,EAAQR,GAAU,KAAKgB,CAAO,EAC9BL,EAAa,KAAKK,EAAQ,CAAC,CAAC,GAE9BR,EAAUA,EAAQT,GAAUmB,CAAG,CACjC,CACA,OAAAV,EAAQV,GAAS,KAAK,CACpB,CAACK,CAAM,EAAG,CACR,QAAAC,EACA,aAAcO,EAAa,OAAO,CAACQ,EAAGP,EAAGQ,IAAMA,EAAE,QAAQD,CAAC,IAAMP,CAAC,EACjE,MAAO,KAAKX,EACd,CACF,CAAC,EACMO,CACT,CACAa,GAAgBC,EAAMnB,EAAQoB,EAAYC,EAAQ,CAChD,IAAMC,EAAc,CAAC,EACrB,QAAS,EAAI,EAAGZ,EAAMS,EAAKxB,GAAS,OAAQ,EAAIe,EAAK,IAAK,CACxD,IAAMP,EAAIgB,EAAKxB,GAAS,CAAC,EACnB4B,EAAapB,EAAEH,CAAM,GAAKG,EAAEqB,CAAe,EAC3CC,EAAe,CAAC,EACtB,GAAIF,IAAe,SACjBA,EAAW,OAAyB,OAAO,OAAO,IAAI,EACtDD,EAAY,KAAKC,CAAU,EACvBH,IAAe5B,IAAe6B,GAAUA,IAAW7B,IACrD,QAASkC,EAAK,EAAGC,EAAOJ,EAAW,aAAa,OAAQG,EAAKC,EAAMD,IAAM,CACvE,IAAMX,EAAMQ,EAAW,aAAaG,CAAE,EAChCE,EAAYH,EAAaF,EAAW,KAAK,EAC/CA,EAAW,OAAOR,CAAG,EAAIM,IAASN,CAAG,GAAK,CAACa,EAAYP,EAAON,CAAG,EAAIK,EAAWL,CAAG,GAAKM,IAASN,CAAG,EACpGU,EAAaF,EAAW,KAAK,EAAI,EACnC,CAGN,CACA,OAAOD,CACT,CACA,OAAOtB,EAAQI,EAAM,CACnB,IAAMkB,EAAc,CAAC,EACrB,KAAKvB,GAAUP,GAEf,IAAIqC,EAAW,CADC,IACO,EACjBvB,EAAQwB,GAAU1B,CAAI,EACtB2B,EAAgB,CAAC,EACvB,QAAStB,EAAI,EAAGC,EAAMJ,EAAM,OAAQG,EAAIC,EAAKD,IAAK,CAChD,IAAMuB,EAAO1B,EAAMG,CAAC,EACdwB,EAASxB,IAAMC,EAAM,EACrBwB,EAAY,CAAC,EACnB,QAASC,EAAI,EAAGR,EAAOE,EAAS,OAAQM,EAAIR,EAAMQ,IAAK,CACrD,IAAMhB,EAAOU,EAASM,CAAC,EACjBC,EAAWjB,EAAKvB,GAAUoC,CAAI,EAChCI,IACFA,EAASrC,GAAUoB,EAAKpB,GACpBkC,GACEG,EAASxC,GAAU,GAAG,GACxB0B,EAAY,KACV,GAAG,KAAKJ,GAAgBkB,EAASxC,GAAU,GAAG,EAAGI,EAAQmB,EAAKpB,EAAO,CACvE,EAEFuB,EAAY,KAAK,GAAG,KAAKJ,GAAgBkB,EAAUpC,EAAQmB,EAAKpB,EAAO,CAAC,GAExEmC,EAAU,KAAKE,CAAQ,GAG3B,QAASC,EAAI,EAAGC,EAAOnB,EAAKtB,GAAU,OAAQwC,EAAIC,EAAMD,IAAK,CAC3D,IAAMxB,EAAUM,EAAKtB,GAAUwC,CAAC,EAC1BhB,EAASF,EAAKpB,KAAYP,GAAc,CAAC,EAAI,CAAE,GAAG2B,EAAKpB,EAAQ,EACrE,GAAIc,IAAY,IAAK,CACnB,IAAM0B,EAAUpB,EAAKvB,GAAU,GAAG,EAC9B2C,IACFjB,EAAY,KAAK,GAAG,KAAKJ,GAAgBqB,EAASvC,EAAQmB,EAAKpB,EAAO,CAAC,EACvEwC,EAAQxC,GAAUsB,EAClBa,EAAU,KAAKK,CAAO,GAExB,QACF,CACA,GAAM,CAACxB,EAAKyB,EAAMC,CAAO,EAAI5B,EAC7B,GAAI,CAACmB,GAAQ,EAAES,aAAmB,QAChC,SAEF,IAAMC,EAAQvB,EAAKvB,GAAUmB,CAAG,EAC1B4B,EAAiBrC,EAAM,MAAMG,CAAC,EAAE,KAAK,GAAG,EAC9C,GAAIgC,aAAmB,OAAQ,CAC7B,IAAMtC,EAAIsC,EAAQ,KAAKE,CAAc,EACrC,GAAIxC,EAAG,CAGL,GAFAkB,EAAOmB,CAAI,EAAIrC,EAAE,CAAC,EAClBmB,EAAY,KAAK,GAAG,KAAKJ,GAAgBwB,EAAO1C,EAAQmB,EAAKpB,GAASsB,CAAM,CAAC,EACzE,OAAO,KAAKqB,EAAM9C,EAAS,EAAE,OAAQ,CACvC8C,EAAM3C,GAAUsB,EAChB,IAAMuB,EAAiBzC,EAAE,CAAC,EAAE,MAAM,IAAI,GAAG,QAAU,GAC5B4B,EAAca,CAAc,IAAM,CAAC,GAC3C,KAAKF,CAAK,CAC3B,CACA,QACF,CACF,EACID,IAAY,IAAQA,EAAQ,KAAKT,CAAI,KACvCX,EAAOmB,CAAI,EAAIR,EACXC,GACFX,EAAY,KAAK,GAAG,KAAKJ,GAAgBwB,EAAO1C,EAAQqB,EAAQF,EAAKpB,EAAO,CAAC,EACzE2C,EAAM9C,GAAU,GAAG,GACrB0B,EAAY,KACV,GAAG,KAAKJ,GAAgBwB,EAAM9C,GAAU,GAAG,EAAGI,EAAQqB,EAAQF,EAAKpB,EAAO,CAC5E,IAGF2C,EAAM3C,GAAUsB,EAChBa,EAAU,KAAKQ,CAAK,GAG1B,CACF,CACAb,EAAWK,EAAU,OAAOH,EAAc,MAAM,GAAK,CAAC,CAAC,CACzD,CACA,OAAIT,EAAY,OAAS,GACvBA,EAAY,KAAK,CAACL,EAAG4B,IACZ5B,EAAE,MAAQ4B,EAAE,KACpB,EAEI,CAACvB,EAAY,IAAI,CAAC,CAAE,QAAArB,EAAS,OAAAoB,CAAO,IAAM,CAACpB,EAASoB,CAAM,CAAC,CAAC,CACrE,CACF,EC3JA,IAAIyB,GAAa,KAAM,CACrB,KAAO,aACPC,GACA,aAAc,CACZ,KAAKA,GAAQ,IAAIC,EACnB,CACA,IAAIC,EAAQC,EAAMC,EAAS,CACzB,IAAMC,EAAUC,GAAuBH,CAAI,EAC3C,GAAIE,EAAS,CACX,QAASE,EAAI,EAAGC,EAAMH,EAAQ,OAAQE,EAAIC,EAAKD,IAC7C,KAAKP,GAAM,OAAOE,EAAQG,EAAQE,CAAC,EAAGH,CAAO,EAE/C,MACF,CACA,KAAKJ,GAAM,OAAOE,EAAQC,EAAMC,CAAO,CACzC,CACA,MAAMF,EAAQC,EAAM,CAClB,OAAO,KAAKH,GAAM,OAAOE,EAAQC,CAAI,CACvC,CACF,ECjBA,IAAIM,EAAO,cAAcA,EAAS,CAMhC,YAAYC,EAAU,CAAC,EAAG,CACxB,MAAMA,CAAO,EACb,KAAK,OAASA,EAAQ,QAAU,IAAIC,GAAY,CAC9C,QAAS,CAAC,IAAIC,GAAgB,IAAIC,EAAY,CAChD,CAAC,CACH,CACF,EChBA,IAAIC,GAAoB,IACf,eAAkCC,EAAGC,EAAM,CAEhD,GADA,MAAMA,EAAK,EACPD,EAAE,IAAI,SAAW,MAAQA,EAAE,IAAI,SAAW,OAASA,EAAE,IAAI,SAAW,SAAWA,EAAE,IAAI,OAAS,KAAOA,EAAE,IAAI,KAAK,GAAG,EAAE,IAAM,IAAK,CAClI,IAAME,EAAM,IAAI,IAAIF,EAAE,IAAI,GAAG,EAC7BE,EAAI,SAAWA,EAAI,SAAS,UAAU,EAAGA,EAAI,SAAS,OAAS,CAAC,EAChEF,EAAE,IAAMA,EAAE,SAASE,EAAI,SAAS,EAAG,GAAG,CACxC,CACF,ECRF,SAASC,IAAkB,CACzB,GAAM,CAAE,QAAAC,EAAS,KAAAC,CAAK,EAAI,WAK1B,MAAO,EAJW,OAAOA,GAAM,SAAY,UAAYA,EAAK,QAAUD,IAAY,OAEhF,aAAcA,GAAS,IACrB,GAEN,CACA,eAAeE,IAAuB,CACpC,GAAM,CAAE,UAAAC,CAAU,EAAI,WAChBC,EAAY,qBAQlB,MAAO,EAPWD,IAAc,QAAUA,EAAU,YAAc,qBAAuB,MAAO,SAAY,CAC1G,GAAI,CACF,MAAO,cAAgB,MAAM,OAAOC,IAAY,KAAO,CAAC,EAC1D,MAAQ,CACN,MAAO,EACT,CACF,GAAG,EAAI,CAACL,GAAgB,EAE1B,CClBA,IAAIM,GAAYC,GAAU,CACxB,GAAM,CAACC,EAAWC,CAAS,EAAI,CAAC,IAAK,GAAG,EAExC,OADmBF,EAAM,IAAKG,GAAMA,EAAE,QAAQ,2BAA4B,KAAOF,CAAS,CAAC,EACzE,KAAKC,CAAS,CAClC,EACIE,GAAQC,GAAU,CACpB,IAAMC,EAAQ,KAAK,IAAI,EAAID,EAC3B,OAAON,GAAS,CAACO,EAAQ,IAAMA,EAAQ,KAAO,KAAK,MAAMA,EAAQ,GAAG,EAAI,GAAG,CAAC,CAC9E,EACIC,GAAc,MAAOC,GAAW,CAElC,GADqB,MAAMC,GAAqB,EAE9C,OAAQD,EAAS,IAAM,EAAG,CACxB,IAAK,GACH,MAAO,WAAWA,CAAM,UAC1B,IAAK,GACH,MAAO,WAAWA,CAAM,UAC1B,IAAK,GACH,MAAO,WAAWA,CAAM,UAC1B,IAAK,GACH,MAAO,WAAWA,CAAM,SAC5B,CAEF,MAAO,GAAGA,CAAM,EAClB,EACA,eAAeE,GAAIC,EAAIC,EAAQC,EAAQC,EAAMN,EAAS,EAAGO,EAAS,CAChE,IAAMC,EAAMJ,IAAW,MAAuB,GAAGA,CAAM,IAAIC,CAAM,IAAIC,CAAI,GAAK,GAAGF,CAAM,IAAIC,CAAM,IAAIC,CAAI,IAAI,MAAMP,GAAYC,CAAM,CAAC,IAAIO,CAAO,GACjJJ,EAAGK,CAAG,CACR,CACA,IAAIC,GAAS,CAACN,EAAK,QAAQ,MAClB,eAAuBO,EAAGC,EAAM,CACrC,GAAM,CAAE,OAAAN,EAAQ,IAAAO,CAAI,EAAIF,EAAE,IACpBJ,EAAOM,EAAI,MAAMA,EAAI,QAAQ,IAAK,CAAC,CAAC,EAC1C,MAAMV,GAAIC,EAAI,MAAsBE,EAAQC,CAAI,EAChD,IAAMT,EAAQ,KAAK,IAAI,EACvB,MAAMc,EAAK,EACX,MAAMT,GAAIC,EAAI,MAAsBE,EAAQC,EAAMI,EAAE,IAAI,OAAQd,GAAKC,CAAK,CAAC,CAC7E,ECtCF,IAAIgB,GAAQC,GAAY,CAOtB,IAAMC,EAAO,CACX,GAPe,CACf,OAAQ,IACR,aAAc,CAAC,MAAO,OAAQ,MAAO,OAAQ,SAAU,OAAO,EAC9D,aAAc,CAAC,EACf,cAAe,CAAC,CAClB,EAGE,GAAGD,CACL,EACME,GAAoBC,GACpB,OAAOA,GAAe,SACpBA,IAAe,IACV,IAAMA,EAELC,GAAWD,IAAeC,EAASA,EAAS,KAE7C,OAAOD,GAAe,WACxBA,EAECC,GAAWD,EAAW,SAASC,CAAM,EAAIA,EAAS,MAE3DH,EAAK,MAAM,EACRI,GAAqBC,GACrB,OAAOA,GAAqB,WACvBA,EACE,MAAM,QAAQA,CAAgB,EAChC,IAAMA,EAEN,IAAM,CAAC,GAEfL,EAAK,YAAY,EACpB,OAAO,eAAqBM,EAAGC,EAAM,CACnC,SAASC,EAAIC,EAAKC,EAAO,CACvBJ,EAAE,IAAI,QAAQ,IAAIG,EAAKC,CAAK,CAC9B,CACA,IAAMC,EAAc,MAAMV,EAAgBK,EAAE,IAAI,OAAO,QAAQ,GAAK,GAAIA,CAAC,EAUzE,GATIK,GACFH,EAAI,8BAA+BG,CAAW,EAE5CX,EAAK,aACPQ,EAAI,mCAAoC,MAAM,EAE5CR,EAAK,eAAe,QACtBQ,EAAI,gCAAiCR,EAAK,cAAc,KAAK,GAAG,CAAC,EAE/DM,EAAE,IAAI,SAAW,UAAW,CAC1BN,EAAK,SAAW,KAClBQ,EAAI,OAAQ,QAAQ,EAElBR,EAAK,QAAU,MACjBQ,EAAI,yBAA0BR,EAAK,OAAO,SAAS,CAAC,EAEtD,IAAMY,EAAe,MAAMR,EAAiBE,EAAE,IAAI,OAAO,QAAQ,GAAK,GAAIA,CAAC,EACvEM,EAAa,QACfJ,EAAI,+BAAgCI,EAAa,KAAK,GAAG,CAAC,EAE5D,IAAIC,EAAUb,EAAK,aACnB,GAAI,CAACa,GAAS,OAAQ,CACpB,IAAMC,EAAiBR,EAAE,IAAI,OAAO,gCAAgC,EAChEQ,IACFD,EAAUC,EAAe,MAAM,SAAS,EAE5C,CACA,OAAID,GAAS,SACXL,EAAI,+BAAgCK,EAAQ,KAAK,GAAG,CAAC,EACrDP,EAAE,IAAI,QAAQ,OAAO,OAAQ,gCAAgC,GAE/DA,EAAE,IAAI,QAAQ,OAAO,gBAAgB,EACrCA,EAAE,IAAI,QAAQ,OAAO,cAAc,EAC5B,IAAI,SAAS,KAAM,CACxB,QAASA,EAAE,IAAI,QACf,OAAQ,IACR,WAAY,YACd,CAAC,CACH,CACA,MAAMC,EAAK,EACPP,EAAK,SAAW,KAClBM,EAAE,OAAO,OAAQ,SAAU,CAAE,OAAQ,EAAK,CAAC,CAE/C,CACF,ECnFA,OAAOS,OAAQ,cACf,OAAOC,OAAU,OACjB,MAA8B,MCDvB,IAAMC,EAAN,cAA0B,KAAM,CAEnC,KAEA,QACA,YAAYC,EAASC,EAAMC,EAASC,EAAO,CACnCF,IAAS,SACTD,EAAU,GAAGC,CAAI,KAAKD,CAAO,IAEjC,MAAMA,EAAS,CAAE,MAAAG,CAAM,CAAC,EACxB,KAAK,KAAOF,EACZ,KAAK,QAAUC,EACf,KAAK,KAAO,aAChB,CACJ,ECVO,SAASE,GAASC,EAAM,CAC3B,IAAMC,EAAQC,GAAO,KAAKF,CAAI,EAC9B,GAAIC,IAAU,KACV,MAAM,IAAIE,EAAY,YAAYH,CAAI,6BAA8B,aAAa,EAErF,IAAMI,EAASH,EAAM,OACfI,EAASD,EAAO,OAChBE,EAAYF,EAAO,YAAiB,OACpCG,GAAeH,EAAO,SAAY,EAClC,OACAI,EAAOC,GAAcL,EAAO,IAAO,EACnCM,EAAQN,EAAO,QAAa,OAAYO,GAAWP,EAAO,KAAQ,EAAI,OACtEQ,EAAWR,EAAO,WAAgB,OAClCK,GAAcL,EAAO,QAAW,EAChC,OACN,MAAO,CAAE,OAAAC,EAAQ,UAAAC,EAAW,KAAAE,EAAM,MAAAE,EAAO,SAAAE,CAAS,CACtD,CACA,IAAMV,IAAU,IAAM,CAClB,IAAMW,EAAS,kCACTC,EAAY,wBACZC,EAAO,kBACPC,EAAQ,kBACRC,EAAW,kBACjB,OAAO,IAAI,OAAO,IAAIJ,CAAM,OAAOC,CAAS,KAAKC,CAAI,OAAOC,CAAK,OAAOC,CAAQ,MAAO,IAAI,CAC/F,GAAG,EACH,SAASV,GAAeP,EAAM,CAC1B,IAAMC,EAAQiB,GAAa,KAAKlB,CAAI,EACpC,GAAIC,IAAU,KACV,MAAM,IAAIE,EAAY,yDAA0D,aAAa,EAEjG,IAAMC,EAASH,EAAM,OACfkB,EAAOV,GAAcL,EAAO,SAAcA,EAAO,IAAO,EACxDgB,EAAOhB,EAAO,KAAU,SAASA,EAAO,KAAS,EAAE,EAAI,OACvDiB,EAAWjB,EAAO,WAAgB,OAClC,CACE,SAAUK,GAAcL,EAAO,QAAW,EAC1C,SAAUA,EAAO,WAAgB,OAC3BK,GAAcL,EAAO,QAAW,EAChC,MACV,EACE,OACN,MAAO,CAAE,KAAAe,EAAM,KAAAC,EAAM,SAAAC,CAAS,CAClC,CACA,IAAMH,GACK,IAAI,OAAO,sHAAuH,IAAI,EAIjJ,SAASP,GAAWX,EAAM,CACtB,IAAMsB,EAAYtB,EAAK,MAAM,GAAG,EAC1BuB,EAAQ,CAAC,EACf,QAAWC,KAAYF,EAAW,CAC9B,GAAIE,IAAa,GACb,SAEJ,IAAIC,EACAC,EACEC,EAAWH,EAAS,QAAQ,GAAG,EACjCG,EAAW,GACXF,EAAMD,EACNE,EAAQ,KAGRD,EAAMD,EAAS,UAAU,EAAGG,CAAQ,EACpCD,EAAQF,EAAS,UAAUG,EAAW,CAAC,GAE3CJ,EAAM,KAAK,CACP,IAAKd,GAAcgB,EAAI,WAAW,IAAK,GAAG,CAAC,EAC3C,MAAOhB,GAAciB,EAAM,WAAW,IAAK,GAAG,CAAC,CACnD,CAAC,CACL,CACA,MAAO,CAAE,MAAAH,CAAM,CACnB,CACA,SAASd,GAAcT,EAAM,CACzB,GAAI,CACA,OAAO,mBAAmBA,CAAI,CAClC,OACO,EAAG,CACN,MAAI,aAAa,SACP,IAAIG,EAAY,+CAA+C,CAAC,GAAI,cAAe,OAAW,CAAC,EAEnG,CACV,CACJ,CACO,SAASyB,GAAcvB,EAAQC,EAAWE,EAAM,CACnD,GAAIF,IAAc,OACd,MAAM,IAAIH,EAAY,mBAAmB,KAAK,UAAUE,EAAS,GAAG,CAAC,sCAAuC,aAAa,EAE7H,IAAMwB,EAAa,GAAGxB,CAAM,IACtByB,EAAWC,GAAWzB,EAAU,IAAI,EACpC0B,EAAWC,GAAW3B,EAAU,IAAI,EAEpC4B,EAAgB,KADDC,GAAe7B,EAAU,QAAQ,CACf,GAAGwB,CAAQ,GAAGE,CAAQ,GACzDI,EAAW5B,EAAK,MAAM,GAAG,EAAE,IAAI,kBAAkB,EAAE,KAAK,GAAG,EAC/D,OAAI4B,IAAa,IAAM,CAACA,EAAS,WAAW,GAAG,IAC3CA,EAAW,IAAMA,GAEd,IAAI,IAAI,GAAGP,CAAU,GAAGK,CAAa,GAAGE,CAAQ,EAAE,CAC7D,CACA,SAASL,GAAWZ,EAAM,CACtB,OAAOA,EAAK,SAAS,GAAG,EAAI,IAAI,UAAUA,CAAI,CAAC,IAAM,UAAUA,CAAI,CACvE,CACA,SAASc,GAAWb,EAAM,CACtB,OAAOA,IAAS,OAAY,IAAIA,CAAI,GAAK,EAC7C,CACA,SAASe,GAAed,EAAU,CAC9B,GAAIA,IAAa,OACb,MAAO,GAEX,IAAMgB,EAAe,mBAAmBhB,EAAS,QAAQ,EACnDiB,EAAejB,EAAS,WAAa,OACrC,IAAI,mBAAmBA,EAAS,QAAQ,CAAC,GACzC,GACN,MAAO,GAAGgB,CAAY,GAAGC,CAAY,GACzC,CC5GA,IAAMC,GAAU,QAIVC,GAAUD,GACVE,GAAa,OAAO,QAAW,WAC/BC,GAAM,OAAO,aAAgB,WAAa,IAAI,YAAgB,OAC9DC,GAAM,OAAO,aAAgB,WAAa,IAAI,YAAgB,OAC9DC,GAAQ,oEACRC,GAAS,MAAM,UAAU,MAAM,KAAKD,EAAK,EACzCE,IAAWC,GAAM,CACnB,IAAIC,EAAM,CAAC,EACX,OAAAD,EAAE,QAAQ,CAACE,EAAGC,IAAMF,EAAIC,CAAC,EAAIC,CAAC,EACvBF,CACX,GAAGH,EAAM,EACHM,GAAQ,0EACRC,GAAU,OAAO,aAAa,KAAK,MAAM,EACzCC,GAAW,OAAO,WAAW,MAAS,WACtC,WAAW,KAAK,KAAK,UAAU,EAC9BC,GAAO,IAAI,WAAW,MAAM,UAAU,MAAM,KAAKA,EAAI,CAAC,CAAC,EACxDC,GAAcC,GAAQA,EACvB,QAAQ,KAAM,EAAE,EAAE,QAAQ,SAAWC,GAAOA,GAAM,IAAM,IAAM,GAAG,EAChEC,GAAYC,GAAMA,EAAE,QAAQ,oBAAqB,EAAE,EAInDC,GAAgBC,GAAQ,CAE1B,IAAIC,EAAKC,EAAIC,EAAIC,EAAIC,EAAM,GACrBC,EAAMN,EAAI,OAAS,EACzB,QAASX,EAAI,EAAGA,EAAIW,EAAI,QAAS,CAC7B,IAAKE,EAAKF,EAAI,WAAWX,GAAG,GAAK,MAC5Bc,EAAKH,EAAI,WAAWX,GAAG,GAAK,MAC5Be,EAAKJ,EAAI,WAAWX,GAAG,GAAK,IAC7B,MAAM,IAAI,UAAU,yBAAyB,EACjDY,EAAOC,GAAM,GAAOC,GAAM,EAAKC,EAC/BC,GAAOrB,GAAOiB,GAAO,GAAK,EAAE,EACtBjB,GAAOiB,GAAO,GAAK,EAAE,EACrBjB,GAAOiB,GAAO,EAAI,EAAE,EACpBjB,GAAOiB,EAAM,EAAE,CACzB,CACA,OAAOK,EAAMD,EAAI,MAAM,EAAGC,EAAM,CAAC,EAAI,MAAM,UAAUA,CAAG,EAAID,CAChE,EAMME,GAAQ,OAAO,MAAS,WAAcP,GAAQ,KAAKA,CAAG,EACtDpB,GAAcoB,GAAQ,OAAO,KAAKA,EAAK,QAAQ,EAAE,SAAS,QAAQ,EAC9DD,GACJS,GAAkB5B,GACjB6B,GAAQ,OAAO,KAAKA,CAAG,EAAE,SAAS,QAAQ,EAC1CA,GAAQ,CAGP,IAAIC,EAAO,CAAC,EACZ,QAASrB,EAAI,EAAGsB,EAAIF,EAAI,OAAQpB,EAAIsB,EAAGtB,GAAK,KACxCqB,EAAK,KAAKnB,GAAQ,MAAM,KAAMkB,EAAI,SAASpB,EAAGA,EAAI,IAAO,CAAC,CAAC,EAE/D,OAAOkB,GAAMG,EAAK,KAAK,EAAE,CAAC,CAC9B,EAMEE,GAAiB,CAACH,EAAKI,EAAU,KAAUA,EAAUnB,GAAWc,GAAgBC,CAAG,CAAC,EAAID,GAAgBC,CAAG,EAI3GK,GAAW1B,GAAM,CACnB,GAAIA,EAAE,OAAS,EAAG,CACd,IAAI2B,EAAK3B,EAAE,WAAW,CAAC,EACvB,OAAO2B,EAAK,IAAO3B,EACb2B,EAAK,KAASxB,GAAQ,IAAQwB,IAAO,CAAE,EACnCxB,GAAQ,IAAQwB,EAAK,EAAK,EACzBxB,GAAQ,IAASwB,IAAO,GAAM,EAAK,EAChCxB,GAAQ,IAASwB,IAAO,EAAK,EAAK,EAClCxB,GAAQ,IAAQwB,EAAK,EAAK,CAC5C,KACK,CACD,IAAIA,EAAK,OACF3B,EAAE,WAAW,CAAC,EAAI,OAAU,MAC5BA,EAAE,WAAW,CAAC,EAAI,OACzB,OAAQG,GAAQ,IAASwB,IAAO,GAAM,CAAK,EACrCxB,GAAQ,IAASwB,IAAO,GAAM,EAAK,EACnCxB,GAAQ,IAASwB,IAAO,EAAK,EAAK,EAClCxB,GAAQ,IAAQwB,EAAK,EAAK,CACpC,CACJ,EACMC,GAAU,gDAMVC,GAAQC,GAAMA,EAAE,QAAQF,GAASF,EAAO,EAExCK,GAAUvC,GACTkB,GAAM,OAAO,KAAKA,EAAG,MAAM,EAAE,SAAS,QAAQ,EAC/ChB,GACKgB,GAAMU,GAAgB1B,GAAI,OAAOgB,CAAC,CAAC,EACnCA,GAAMS,GAAMU,GAAKnB,CAAC,CAAC,EAMxBsB,GAAS,CAACzB,EAAKkB,EAAU,KAAUA,EACnCnB,GAAWyB,GAAQxB,CAAG,CAAC,EACvBwB,GAAQxB,CAAG,EAKX0B,GAAa1B,GAAQyB,GAAOzB,EAAK,EAAI,EAIrC2B,GAAU,8EACVC,GAAWC,GAAS,CACtB,OAAQA,EAAK,OAAQ,CACjB,IAAK,GACD,IAAIC,GAAO,EAAOD,EAAK,WAAW,CAAC,IAAM,IACjC,GAAOA,EAAK,WAAW,CAAC,IAAM,IAC9B,GAAOA,EAAK,WAAW,CAAC,IAAM,EAC/B,GAAOA,EAAK,WAAW,CAAC,EAAIE,EAASD,EAAK,MACjD,OAAQlC,IAASmC,IAAW,IAAM,KAAM,EAClCnC,IAASmC,EAAS,MAAS,KAAM,EAC3C,IAAK,GACD,OAAOnC,IAAU,GAAOiC,EAAK,WAAW,CAAC,IAAM,IACvC,GAAOA,EAAK,WAAW,CAAC,IAAM,EAC/B,GAAOA,EAAK,WAAW,CAAC,CAAE,EACrC,QACI,OAAOjC,IAAU,GAAOiC,EAAK,WAAW,CAAC,IAAM,EACxC,GAAOA,EAAK,WAAW,CAAC,CAAE,CACzC,CACJ,EAMMG,GAAQC,GAAMA,EAAE,QAAQN,GAASC,EAAO,EAIxCM,GAAgBxB,GAAQ,CAG1B,GADAA,EAAMA,EAAI,QAAQ,OAAQ,EAAE,EACxB,CAACf,GAAM,KAAKe,CAAG,EACf,MAAM,IAAI,UAAU,mBAAmB,EAC3CA,GAAO,KAAK,MAAM,GAAKA,EAAI,OAAS,EAAE,EACtC,IAAIyB,EAAKC,EAAIC,EACTC,EAAW,CAAC,EAChB,QAAS5C,EAAI,EAAGA,EAAIgB,EAAI,QACpByB,EAAM7C,GAAOoB,EAAI,OAAOhB,GAAG,CAAC,GAAK,GAC3BJ,GAAOoB,EAAI,OAAOhB,GAAG,CAAC,GAAK,IAC1B0C,EAAK9C,GAAOoB,EAAI,OAAOhB,GAAG,CAAC,IAAM,GACjC2C,EAAK/C,GAAOoB,EAAI,OAAOhB,GAAG,CAAC,GAC9B0C,IAAO,GACPE,EAAS,KAAK1C,GAAQuC,GAAO,GAAK,GAAG,CAAC,EAEjCE,IAAO,GACZC,EAAS,KAAK1C,GAAQuC,GAAO,GAAK,IAAKA,GAAO,EAAI,GAAG,CAAC,EAGtDG,EAAS,KAAK1C,GAAQuC,GAAO,GAAK,IAAKA,GAAO,EAAI,IAAKA,EAAM,GAAG,CAAC,EAGzE,OAAOG,EAAS,KAAK,EAAE,CAC3B,EAMMC,GAAQ,OAAO,MAAS,WAAc7B,GAAQ,KAAKR,GAASQ,CAAG,CAAC,EAChEzB,GAAcyB,GAAQ,OAAO,KAAKA,EAAK,QAAQ,EAAE,SAAS,QAAQ,EAC9DwB,GAEJM,GAAgBvD,GACfM,GAAMM,GAAS,OAAO,KAAKN,EAAG,QAAQ,CAAC,EACvCA,GAAMM,GAAS0C,GAAMhD,CAAC,EAAE,MAAM,EAAE,EAAE,IAAIE,GAAKA,EAAE,WAAW,CAAC,CAAC,CAAC,EAI5DgD,GAAgBlD,GAAMiD,GAAcE,GAAOnD,CAAC,CAAC,EAE7CoD,GAAU1D,GACTM,GAAM,OAAO,KAAKA,EAAG,QAAQ,EAAE,SAAS,MAAM,EAC/CL,GACKK,GAAML,GAAI,OAAOsD,GAAcjD,CAAC,CAAC,EACjCA,GAAMyC,GAAKO,GAAMhD,CAAC,CAAC,EACxBmD,GAAUnD,GAAMW,GAASX,EAAE,QAAQ,QAAUU,GAAOA,GAAM,IAAM,IAAM,GAAG,CAAC,EAM1E2C,GAAU5C,GAAQ2C,GAAQD,GAAO1C,CAAG,CAAC,EAKrC6C,GAAW7C,GAAQ,CACrB,GAAI,OAAOA,GAAQ,SACf,MAAO,GACX,IAAMG,EAAIH,EAAI,QAAQ,OAAQ,EAAE,EAAE,QAAQ,UAAW,EAAE,EACvD,MAAO,CAAC,oBAAoB,KAAKG,CAAC,GAAK,CAAC,oBAAoB,KAAKA,CAAC,CACtE,EAEM2C,GAAWC,IACN,CACH,MAAOA,EAAG,WAAY,GAAO,SAAU,GAAM,aAAc,EAC/D,GAKEC,GAAe,UAAY,CAC7B,IAAMC,EAAO,CAACC,EAAMC,IAAS,OAAO,eAAe,OAAO,UAAWD,EAAMJ,GAAQK,CAAI,CAAC,EACxFF,EAAK,aAAc,UAAY,CAAE,OAAOL,GAAO,IAAI,CAAG,CAAC,EACvDK,EAAK,WAAY,SAAU/B,EAAS,CAAE,OAAOO,GAAO,KAAMP,CAAO,CAAG,CAAC,EACrE+B,EAAK,cAAe,UAAY,CAAE,OAAOxB,GAAO,KAAM,EAAI,CAAG,CAAC,EAC9DwB,EAAK,cAAe,UAAY,CAAE,OAAOxB,GAAO,KAAM,EAAI,CAAG,CAAC,EAC9DwB,EAAK,eAAgB,UAAY,CAAE,OAAOR,GAAa,IAAI,CAAG,CAAC,CACnE,EAIMW,GAAmB,UAAY,CACjC,IAAMH,EAAO,CAACC,EAAMC,IAAS,OAAO,eAAe,WAAW,UAAWD,EAAMJ,GAAQK,CAAI,CAAC,EAC5FF,EAAK,WAAY,SAAU/B,EAAS,CAAE,OAAOD,GAAe,KAAMC,CAAO,CAAG,CAAC,EAC7E+B,EAAK,cAAe,UAAY,CAAE,OAAOhC,GAAe,KAAM,EAAI,CAAG,CAAC,EACtEgC,EAAK,cAAe,UAAY,CAAE,OAAOhC,GAAe,KAAM,EAAI,CAAG,CAAC,CAC1E,EAIMoC,GAAiB,IAAM,CACzBL,GAAa,EACbI,GAAiB,CACrB,EACME,GAAU,CACZ,QAASvE,GACT,QAASC,GACT,KAAMuD,GACN,aAAcL,GACd,KAAMtB,GACN,aAAcR,GACd,WAAYwC,GACZ,SAAUnB,GACV,OAAQA,GACR,UAAWC,GACX,UAAWA,GACX,KAAMJ,GACN,KAAMU,GACN,OAAQY,GACR,QAASC,GACT,eAAgB5B,GAChB,aAAcwB,GACd,aAAcO,GACd,iBAAkBI,GAClB,eAAgBC,EACpB,ECpRO,IAAME,GAAmB,4DACzB,SAASC,GAAuBC,EAAM,CACzC,GAAIA,IAAS,QACT,MAAO,kBAEN,GAAIA,IAAS,OACd,MAAO,6BAEN,GAAIA,IAAS,WACd,MAAO,iBAGP,MAAM,WAAW,+EAA+E,CAExG,CACO,IAAMC,GAAN,KAAoB,CACvB,QACA,YACA,KACA,aACA,gBACA,YAAYC,EAASC,EAAaC,EAAMC,EAAcC,EAAiB,CACnE,KAAK,QAAUJ,EACf,KAAK,YAAcC,EACnB,KAAK,KAAOC,EACZ,KAAK,aAAeC,EACpB,KAAK,gBAAkBC,CAC3B,CACA,QAAS,CACL,MAAO,CACH,QAAS,KAAK,QACd,YAAa,KAAK,YAClB,KAAM,KAAK,KAAK,IAAIC,EAAS,EAC7B,aAAc,KAAK,aACnB,gBAAiB,KAAK,kBAAoB,OACpC,GAAK,KAAK,gBACV,IACV,CACJ,CACJ,EACA,SAASA,GAAUC,EAAK,CACpB,OAAO,MAAM,UAAU,IAAI,KAAKA,EAAKC,EAAW,CACpD,CACA,SAASA,GAAYC,EAAO,CACxB,OAAI,OAAOA,GAAU,SACV,GAAKA,EAEPA,aAAiB,YACfC,GAAO,eAAe,IAAI,WAAWD,CAAK,CAAC,EAG3CA,CAEf,CCnDA,IAAME,GAAe,WAKd,SAASC,GAAaC,EAAQC,EAAY,CAC7C,GAAI,OAAOD,GAAW,SAGlB,MAAM,IAAI,UAAU,gDAAgD,OAAOA,CAAM,EAAE,EAEvF,GAAI,CAAE,IAAAE,EAAK,UAAAC,EAAW,IAAAC,EAAK,QAAAC,EAAS,YAAAC,CAAY,EAAIN,EAEpDM,EAAc,KAAK,IAAI,EAAGA,GAAe,EAAE,EAC3CD,IAAY,SACZ,IAAIE,EAAwB,CAAC,EAEzBL,IAAQM,KACRN,EAAM,iBAGV,IAAMO,EAAMC,GAASR,CAAG,EAClBS,EAAoBF,EAAI,OAAO,YAAY,EAC3CG,EAAiBD,IAAsB,QACzCF,EAAI,OAASD,IACbC,EAAI,YAAc,OAClBI,EACAD,EACAC,EAAiB,CACb,MAAO,CACH,OAAQ,CAAC,SAAU,SAAS,EAC5B,OAAQ,CAACC,EAAKC,IAAUR,EAAsB,KAAK,GAAGO,CAAG,IAAIC,CAAK,EAAE,CACxE,CACJ,EAGAF,EAAiB,CACb,IAAK,CACD,OAAQ,CAAC,IAAK,GAAG,EACjB,OAAQ,CAACG,EAAGD,IAAWX,EAAMW,IAAU,GAC3C,EACA,UAAW,CACP,OAAQ,CAACC,EAAGD,IAAWZ,EAAYY,CACvC,CACJ,EAEJ,OAAW,CAAE,IAAAD,EAAK,MAAAC,CAAM,IAAKN,EAAI,OAAO,OAAS,CAAC,EAAG,CACjD,GAAI,CAAC,OAAO,OAAOI,EAAgBC,CAAG,EAClC,MAAM,IAAIG,EAAY,mCAAmC,KAAK,UAAUH,CAAG,CAAC,GAAI,yBAAyB,EAE7G,IAAMI,EAAgBL,EAAeC,CAAG,EACxC,GAAII,EAAc,SAAW,QACzB,CAACA,EAAc,OAAO,SAASH,CAAK,EACpC,MAAM,IAAIE,EAAY,0BAA0BH,CAAG,qBAAqB,KAAK,UAAUC,CAAK,CAAC,4BAA4BG,EAAc,OAAO,IAAKC,GAAM,IAAMA,EAAI,GAAG,EAAE,KAAK,IAAI,CAAC,IAAK,aAAa,EAEpMD,EAAc,SAAW,QACzBA,GAAe,OAAOJ,EAAKC,CAAK,CAExC,CAEA,IAAMK,EAA8Bb,EAAsB,SAAW,EAC/D,GACA,IAAIA,EAAsB,KAAK,GAAG,CAAC,GACnCc,EAAOZ,EAAI,KAAOW,EACpBE,EACJ,GAAIX,IAAsB,SACtB,GAAIP,IAAQ,GAAO,CACf,GAAIK,EAAI,WAAW,OAAS,OACxB,MAAM,IAAIQ,EAAY,4DAA6D,aAAa,EAEpGK,EAASrB,EAAa,OAAS,IACnC,MAEIqB,EAASrB,EAAa,QAAU,WAIpCqB,EAASX,EAQb,GANIW,IAAW,QAAUA,IAAW,KAChClB,IAAQ,GAGRA,IAAQ,GAERkB,IAAW,QACXA,IAAW,MACXA,IAAW,SACXA,IAAW,OACXA,IAAW,OACX,MAAM,IAAIL,EAAY,8FACX,KAAK,UAAUR,EAAI,OAAS,GAAG,CAAC,uCACFc,EAAgB,GAAI,0BAA0B,EAE3F,GAAIlB,IAAY,UAAYA,IAAY,UAAYA,IAAY,SAC5D,MAAM,IAAI,UAAU,2EAA2E,KAAK,UAAUA,CAAO,CAAC,EAAE,EAE5H,GAAII,EAAI,WAAa,OACjB,MAAM,IAAIQ,EAAY,oCAAoC,KAAK,UAAU,IAAMR,EAAI,QAAQ,CAAC,GAAI,aAAa,EAEjH,OAAIG,EACO,CACH,OAAQ,OACR,IAAK,GACL,KAAAS,EACA,QAAAhB,EACA,YAAAC,EACA,QAASN,EAAO,QAChB,aAAcA,EAAO,aACrB,eAAgBA,EAAO,eACvB,QAASA,EAAO,QAChB,MAAOA,EAAO,MACd,UAAW,OACX,cAAe,OACf,UAAW,MACf,EAEG,CACH,OAAAsB,EACA,IAAAlB,EACA,UAAWK,EAAI,UACf,KAAAY,EACA,UAAAlB,EACA,QAAAE,EACA,YAAAC,EACA,cAAeN,EAAO,cACtB,QAASA,EAAO,QAChB,aAAcA,EAAO,aACrB,eAAgBA,EAAO,eACvB,QAASA,EAAO,QAChB,MAAOA,EAAO,KAClB,CACJ,CCvIA,OAAS,aAAAwB,OAAiB,KCCnB,IAAMC,GAAN,KAAa,CAEhB,aAAc,CACV,KAAK,QAAU,QACnB,CAMA,OACJ,ECXO,IAAMC,EAAN,cAA0B,KAAM,CAEnC,YAAYC,EAAS,CACjB,MAAMA,CAAO,EACb,KAAK,KAAO,aAChB,CACJ,EAEaC,EAAN,cAAyBF,CAAY,CAExC,YAAYC,EAAS,CACjB,MAAMA,CAAO,EACb,KAAK,KAAO,YAChB,CACJ,EAEaE,GAAN,cAA4BH,CAAY,CAC3C,KAEA,MAEA,YAAYC,EAASG,EAAY,CAC7B,MAAMH,CAAO,EACb,KAAK,KAAO,gBACZ,KAAK,KAAOG,EAAW,KACvB,KAAK,MAAQA,EACb,KAAK,MAAQ,MACjB,CACJ,EAEaC,EAAN,cAA0BL,CAAY,CAEzC,YAAYC,EAASK,EAAO,CACpBA,IAAU,QACV,MAAM,GAAGL,CAAO,KAAKK,CAAK,EAAE,EAC5B,KAAK,MAAQA,GAGb,MAAML,CAAO,EAEjB,KAAK,KAAO,aAChB,CACJ,EAEaM,GAAN,cAAwCP,CAAY,CAEvD,YAAYC,EAAS,CACjB,MAAMA,CAAO,EACb,KAAK,KAAO,2BAChB,CACJ,EAEaO,GAAN,cAA6BR,CAAY,CAE5C,YAAYC,EAAS,CACjB,MAAMA,CAAO,EACb,KAAK,KAAO,gBAChB,CACJ,EAEaQ,GAAN,cAA8BT,CAAY,CAC7C,OAEA,YAAYC,EAASS,EAAQ,CACzB,MAAMT,CAAO,EACb,KAAK,OAASS,EACd,KAAK,KAAO,iBAChB,CACJ,EAUO,IAAMC,GAAN,cAAmCC,CAAY,CAElD,YAAYC,EAAS,CACjB,MAAMA,CAAO,EACb,KAAK,KAAO,sBAChB,CACJ,EAEaC,GAAN,cAA4BF,CAAY,CAE3C,YAAYC,EAAS,CACjB,MAAMA,CAAO,EACb,KAAK,KAAO,eAChB,CACJ,EAEaE,GAAN,cAA0BH,CAAY,CAEzC,YAAYC,EAAS,CACjB,MAAMA,CAAO,EACb,KAAK,KAAO,aAChB,CACJ,ECpGO,SAASG,GAAOC,EAAO,CAC1B,GAAI,OAAOA,GAAU,SACjB,OAAOA,EAEX,MAAMC,GAAUD,EAAO,QAAQ,CACnC,CACO,SAASE,GAAUF,EAAO,CAC7B,GAAIA,GAAU,KAGT,IAAI,OAAOA,GAAU,SACtB,OAAOA,EAEX,MAAMC,GAAUD,EAAO,gBAAgB,EAC3C,CACO,SAASG,GAAOH,EAAO,CAC1B,GAAI,OAAOA,GAAU,SACjB,OAAOA,EAEX,MAAMC,GAAUD,EAAO,QAAQ,CACnC,CACO,SAASI,GAAQJ,EAAO,CAC3B,GAAI,OAAOA,GAAU,UACjB,OAAOA,EAEX,MAAMC,GAAUD,EAAO,SAAS,CACpC,CACO,SAASK,GAAML,EAAO,CACzB,GAAI,MAAM,QAAQA,CAAK,EACnB,OAAOA,EAEX,MAAMC,GAAUD,EAAO,OAAO,CAClC,CACO,SAASM,EAAON,EAAO,CAC1B,GAAIA,IAAU,MAAQ,OAAOA,GAAU,UAAY,CAAC,MAAM,QAAQA,CAAK,EACnE,OAAOA,EAEX,MAAMC,GAAUD,EAAO,QAAQ,CACnC,CACO,SAASO,GAAgBP,EAAOQ,EAAK,CACxC,OAAOH,GAAML,CAAK,EAAE,IAAKS,GAAcD,EAAIF,EAAOG,CAAS,CAAC,CAAC,CACjE,CACA,SAASR,GAAUD,EAAOU,EAAU,CAChC,GAAIV,IAAU,OACV,OAAO,IAAIW,EAAW,YAAYD,CAAQ,gCAAgC,EAE9E,IAAIE,EAAW,OAAOZ,EACtB,OAAIA,IAAU,KACVY,EAAW,OAEN,MAAM,QAAQZ,CAAK,IACxBY,EAAW,SAER,IAAID,EAAW,YAAYD,CAAQ,cAAcE,CAAQ,EAAE,CACtE,CACO,SAASC,GAAeb,EAAOQ,EAAK,CACvC,OAAOA,EAAIF,EAAON,CAAK,CAAC,CAC5B,CC1DO,IAAMc,GAAN,KAAmB,CACtBC,GACAC,GACA,YAAYC,EAAQ,CAChB,KAAKF,GAAUE,EACf,KAAKD,GAAW,EACpB,CACA,OAAQ,CACJ,KAAKD,GAAQ,KAAK,GAAG,EACrB,KAAKC,GAAW,EACpB,CACA,KAAM,CACF,KAAKD,GAAQ,KAAK,GAAG,EACrB,KAAKC,GAAW,EACpB,CACAE,GAAKC,EAAM,CACH,KAAKH,IACL,KAAKD,GAAQ,KAAK,GAAG,EACrB,KAAKC,GAAW,IAGhB,KAAKD,GAAQ,KAAK,IAAI,EAE1B,KAAKA,GAAQ,KAAKI,CAAI,EACtB,KAAKJ,GAAQ,KAAK,IAAI,CAC1B,CACA,OAAOI,EAAMC,EAAO,CAChB,KAAKF,GAAKC,CAAI,EACd,KAAKJ,GAAQ,KAAK,KAAK,UAAUK,CAAK,CAAC,CAC3C,CACA,UAAUD,EAAMC,EAAO,CACnB,KAAKF,GAAKC,CAAI,EACd,KAAKJ,GAAQ,KAAK,GAAG,EACrB,KAAKA,GAAQ,KAAKK,CAAK,EACvB,KAAKL,GAAQ,KAAK,GAAG,CACzB,CACA,OAAOI,EAAMC,EAAO,CAChB,KAAKF,GAAKC,CAAI,EACd,KAAKJ,GAAQ,KAAK,GAAKK,CAAK,CAChC,CACA,QAAQD,EAAMC,EAAO,CACjB,KAAKF,GAAKC,CAAI,EACd,KAAKJ,GAAQ,KAAKK,EAAQ,OAAS,OAAO,CAC9C,CACA,OAAOD,EAAMC,EAAOC,EAAU,CAC1B,KAAKH,GAAKC,CAAI,EACd,KAAK,MAAM,EACXE,EAAS,KAAMD,CAAK,EACpB,KAAK,IAAI,CACb,CACA,aAAaD,EAAMG,EAAQD,EAAU,CACjC,KAAKH,GAAKC,CAAI,EACd,KAAKJ,GAAQ,KAAK,GAAG,EACrB,QAASQ,EAAI,EAAGA,EAAID,EAAO,OAAQ,EAAEC,EAC7BA,IAAM,GACN,KAAKR,GAAQ,KAAK,GAAG,EAEzB,KAAK,MAAM,EACXM,EAAS,KAAMC,EAAOC,CAAC,CAAC,EACxB,KAAK,IAAI,EAEb,KAAKR,GAAQ,KAAK,GAAG,CACzB,CACJ,EACO,SAASS,GAAgBJ,EAAOK,EAAK,CACxC,IAAMR,EAAS,CAAC,EACVS,EAAS,IAAIZ,GAAaG,CAAM,EACtC,OAAAS,EAAO,MAAM,EACbD,EAAIC,EAAQN,CAAK,EACjBM,EAAO,IAAI,EACJT,EAAO,KAAK,EAAE,CACzB,CCrEA,IAAMU,GAAN,KAAoB,CAChBC,GACAC,GACAC,GACA,YAAYC,EAAO,CACf,KAAKH,GAASG,EACd,KAAKF,GAAQ,IAAI,SAASE,EAAM,OAAQA,EAAM,WAAYA,EAAM,UAAU,EAC1E,KAAKD,GAAO,CAChB,CACA,QAAS,CACL,IAAIE,EAAQ,EACZ,QAASC,EAAQ,GAAIA,GAAS,EAAG,CAC7B,IAAMC,EAAO,KAAKN,GAAO,KAAKE,IAAM,EAEpC,GADAE,IAAUE,EAAO,MAASD,EACtB,EAAEC,EAAO,KACT,KAER,CACA,OAAOF,CACX,CACA,WAAY,CACR,IAAIA,EAAQ,GACZ,QAASC,EAAQ,IAAKA,GAAS,GAAI,CAC/B,IAAMC,EAAO,KAAKN,GAAO,KAAKE,IAAM,EAEpC,GADAE,GAAS,OAAOE,EAAO,GAAI,GAAKD,EAC5B,EAAEC,EAAO,KACT,KAER,CACA,OAAOF,CACX,CACA,MAAMG,EAAQ,CACV,IAAMJ,EAAQ,IAAI,WAAW,KAAKH,GAAO,OAAQ,KAAKA,GAAO,WAAa,KAAKE,GAAMK,CAAM,EAC3F,YAAKL,IAAQK,EACNJ,CACX,CACA,QAAS,CACL,IAAMC,EAAQ,KAAKH,GAAM,WAAW,KAAKC,GAAM,EAAI,EACnD,YAAKA,IAAQ,EACNE,CACX,CACA,YAAa,CACT,KACiB,KAAKJ,GAAO,KAAKE,IAAM,EACvB,KAAb,CAIR,CACA,KAAKM,EAAO,CACR,KAAKN,IAAQM,CACjB,CACA,KAAM,CACF,OAAO,KAAKN,IAAQ,KAAKF,GAAO,UACpC,CACJ,EACaS,GAAN,KAAkB,CACrBC,GACAC,GACA,YAAYC,EAAQ,CAChB,KAAKF,GAAUE,EACf,KAAKD,GAAY,EACrB,CACA,MAAME,EAAU,CACZ,KAAKF,GAAYE,CACrB,CACAC,GAAQC,EAAkB,CACtB,GAAI,KAAKJ,KAAcI,EACnB,MAAM,IAAIC,EAAW,sBAAsBD,CAAgB,SAAS,KAAKJ,EAAS,EAAE,EAExF,KAAKA,GAAY,EACrB,CACA,OAAQ,CACJ,KAAKG,GAAQ,CAAgB,EAC7B,IAAMP,EAAS,KAAKG,GAAQ,OAAO,EACnC,OAAO,KAAKA,GAAQ,MAAMH,CAAM,CACpC,CACA,QAAS,CACL,OAAO,IAAI,YAAY,EAAE,OAAO,KAAK,MAAM,CAAC,CAChD,CACA,QAAQU,EAAK,CACT,OAAOC,GAAoB,KAAK,MAAM,EAAGD,CAAG,CAChD,CACA,OAAQ,CACJ,YAAKH,GAAQ,CAAM,EACZ,KAAKJ,GAAQ,OAAO,CAC/B,CACA,QAAS,CACL,OAAO,KAAK,MAAM,CACtB,CACA,MAAO,CACH,OAAO,KAAK,MAAM,IAAM,CAC5B,CACA,QAAS,CACL,YAAKI,GAAQ,CAAM,EACZ,KAAKJ,GAAQ,UAAU,CAClC,CACA,QAAS,CACL,IAAMN,EAAQ,KAAK,OAAO,EAC1B,OAAQA,GAAS,GAAO,EAAEA,EAAQ,GACtC,CACA,QAAS,CACL,YAAKU,GAAQ,CAAQ,EACd,KAAKJ,GAAQ,OAAO,CAC/B,CACA,WAAY,CACR,GAAI,OAAKC,GAAY,GAGhB,IAAI,KAAKA,KAAc,EACxB,KAAKD,GAAQ,WAAW,UAEnB,KAAKC,KAAc,EACxB,KAAKD,GAAQ,KAAK,CAAC,UAEd,KAAKC,KAAc,EAAkB,CAC1C,IAAMJ,EAAS,KAAKG,GAAQ,OAAO,EACnC,KAAKA,GAAQ,KAAKH,CAAM,CAC5B,SACS,KAAKI,KAAc,EACxB,KAAKD,GAAQ,KAAK,CAAC,MAGnB,OAAM,IAAIM,EAAW,wBAAwB,KAAKL,EAAS,EAAE,EAEjE,KAAKA,GAAY,GACrB,CACJ,EACO,SAASO,GAAoBC,EAAMF,EAAK,CAC3C,IAAMG,EAAY,IAAIrB,GAAcoB,CAAI,EAClCE,EAAc,IAAIZ,GAAYW,CAAS,EACzChB,EAAQa,EAAI,QAAQ,EACxB,KAAO,CAACG,EAAU,IAAI,GAAG,CACrB,IAAME,EAAMF,EAAU,OAAO,EACvBG,EAAMD,GAAO,EACbT,EAAWS,EAAM,EACvBD,EAAY,MAAMR,CAAQ,EAC1B,IAAMW,EAASP,EAAIM,CAAG,EACtB,GAAIC,IAAW,OAAW,CACtB,IAAMC,EAAgBD,EAAOH,EAAajB,CAAK,EAC3CqB,IAAkB,SAClBrB,EAAQqB,EAEhB,CACAJ,EAAY,UAAU,CAC1B,CACA,OAAOjB,CACX,CCpJO,IAAMsB,GAAN,MAAMC,CAAc,CACvBC,GACAC,GACAC,GACAC,GACA,aAAc,CACV,KAAKH,GAAO,IAAI,YAAY,GAAG,EAC/B,KAAKC,GAAS,IAAI,WAAW,KAAKD,EAAI,EACtC,KAAKE,GAAQ,IAAI,SAAS,KAAKF,EAAI,EACnC,KAAKG,GAAO,CAChB,CACAC,GAAQC,EAAO,CACX,GAAI,KAAKF,GAAOE,GAAS,KAAKL,GAAK,WAC/B,OAEJ,IAAIM,EAAS,KAAKN,GAAK,WACvB,KAAOM,EAAS,KAAKH,GAAOE,GACxBC,GAAU,EAEd,IAAMC,EAAS,IAAI,YAAYD,CAAM,EAC/BE,EAAW,IAAI,WAAWD,CAAM,EAChCE,EAAU,IAAI,SAASF,CAAM,EACnCC,EAAS,IAAI,IAAI,WAAW,KAAKR,GAAM,EAAG,KAAKG,EAAI,CAAC,EACpD,KAAKH,GAAOO,EACZ,KAAKN,GAASO,EACd,KAAKN,GAAQO,CACjB,CACAC,GAAQC,EAAO,CACX,KAAKP,GAAQ,CAAC,EACdO,EAAQ,EAAIA,EACZ,EAAG,CACC,IAAIC,EAAOD,EAAQ,IACnBA,KAAW,EACXC,GAASD,EAAQ,IAAO,EACxB,KAAKV,GAAO,KAAKE,IAAM,EAAIS,CAC/B,OAASD,EACb,CACAE,GAAWF,EAAO,CACd,KAAKP,GAAQ,EAAE,EACfO,EAAQA,EAAQ,oBAChB,EAAG,CACC,IAAIC,EAAO,OAAOD,EAAQ,KAAK,EAC/BA,IAAU,GACVC,GAASD,EAAQ,IAAO,EACxB,KAAKV,GAAO,KAAKE,IAAM,EAAIS,CAC/B,OAASD,EACb,CACAG,GAAKC,EAAKC,EAAU,CAChB,KAAKN,GAASK,GAAO,EAAKC,CAAQ,CACtC,CACA,MAAMD,EAAKJ,EAAO,CACd,KAAKG,GAAKC,EAAK,CAAgB,EAC/B,KAAKL,GAAQC,EAAM,UAAU,EAC7B,KAAKP,GAAQO,EAAM,UAAU,EAC7B,KAAKV,GAAO,IAAIU,EAAO,KAAKR,EAAI,EAChC,KAAKA,IAAQQ,EAAM,UACvB,CACA,OAAOI,EAAKJ,EAAO,CACf,KAAK,MAAMI,EAAK,IAAI,YAAY,EAAE,OAAOJ,CAAK,CAAC,CACnD,CACA,QAAQI,EAAKJ,EAAOM,EAAK,CACrB,IAAMC,EAAS,IAAInB,EACnBkB,EAAIC,EAAQP,CAAK,EACjB,KAAK,MAAMI,EAAKG,EAAO,KAAK,CAAC,CACjC,CACA,MAAMH,EAAKJ,EAAO,CACd,KAAKG,GAAKC,EAAK,CAAM,EACrB,KAAKL,GAAQC,CAAK,CACtB,CACA,OAAOI,EAAKJ,EAAO,CACf,KAAK,MAAMI,EAAKJ,CAAK,CACzB,CACA,KAAKI,EAAKJ,EAAO,CACb,KAAK,MAAMI,EAAKJ,EAAQ,EAAI,CAAC,CACjC,CACA,OAAOI,EAAKJ,EAAO,CACf,KAAKG,GAAKC,EAAK,CAAM,EACrB,KAAKF,GAAYF,GAAS,GAAOA,GAAS,GAAI,CAClD,CACA,OAAOI,EAAKJ,EAAO,CACf,KAAKG,GAAKC,EAAK,CAAQ,EACvB,KAAKX,GAAQ,CAAC,EACd,KAAKF,GAAM,WAAW,KAAKC,GAAMQ,EAAO,EAAI,EAC5C,KAAKR,IAAQ,CACjB,CACA,MAAO,CACH,OAAO,IAAI,WAAW,KAAKH,GAAM,EAAG,KAAKG,EAAI,CACjD,CACJ,EACO,SAASgB,GAAqBR,EAAOM,EAAK,CAC7C,IAAMG,EAAI,IAAItB,GACd,OAAAmB,EAAIG,EAAGT,CAAK,EACLS,EAAE,KAAK,CAClB,CCtFO,IAAMC,GAAN,KAAc,CAEjBC,GAEAC,GACA,aAAc,CACV,KAAKD,GAAW,IAAI,IACpB,KAAKC,GAAW,IAAI,GACxB,CAEA,OAAQ,CAEJ,QAAWC,KAAU,KAAKD,GACtB,YAAKA,GAAS,OAAOC,CAAM,EAC3B,KAAKF,GAAS,IAAIE,CAAM,EAEnB,KAAKF,GAAS,IAAI,KAAKA,GAAS,KAAO,CAAC,GACzC,KAAKC,GAAS,IAAI,KAAKD,GAAS,KAAO,CAAC,EAErCE,EAKX,IAAMA,EAAS,KAAKF,GAAS,KAC7B,YAAKA,GAAS,IAAIE,CAAM,EACjBA,CACX,CACA,KAAKC,EAAI,CACL,GAAI,CAAC,KAAKH,GAAS,OAAOG,CAAE,EACxB,MAAM,IAAIC,GAAc,qCAAqC,EAGjE,KAAKH,GAAS,OAAO,KAAKD,GAAS,IAAI,EACnCG,EAAK,KAAKH,GAAS,MACnB,KAAKC,GAAS,IAAIE,CAAE,CAE5B,CACJ,EC7CO,SAASE,EAAWC,EAAOC,EAAS,CACvC,MAAM,IAAIC,GAAcD,CAAO,CACnC,CCDO,SAASE,GAAaC,EAAO,CAChC,GAAIA,IAAU,KACV,OAAO,KAEN,GAAI,OAAOA,GAAU,SACtB,OAAOA,EAEN,GAAI,OAAOA,GAAU,SAAU,CAChC,GAAI,CAAC,OAAO,SAASA,CAAK,EACtB,MAAM,IAAI,WAAW,sEAAsE,EAE/F,OAAOA,CACX,SACS,OAAOA,GAAU,SAAU,CAChC,GAAIA,EAAQC,IAAcD,EAAQE,GAC9B,MAAM,IAAI,WAAW,6FAA6F,EAEtH,OAAOF,CACX,KACK,IAAI,OAAOA,GAAU,UACtB,OAAOA,EAAQ,GAAK,GAEnB,GAAIA,aAAiB,YACtB,OAAO,IAAI,WAAWA,CAAK,EAE1B,GAAIA,aAAiB,WACtB,OAAOA,EAEN,GAAIA,aAAiB,KACtB,MAAO,CAACA,EAAM,QAAQ,EAErB,GAAI,OAAOA,GAAU,SACtB,MAAO,GAAKA,EAAM,SAAS,EAG3B,MAAM,IAAI,UAAU,2BAA2B,EAEvD,CACA,IAAMC,GAAa,CAAC,qBACdC,GAAa,qBACZ,SAASC,GAAeH,EAAOI,EAAS,CAC3C,GAAIJ,IAAU,KACV,OAAO,KAEN,GAAI,OAAOA,GAAU,SACtB,OAAOA,EAEN,GAAI,OAAOA,GAAU,SACtB,OAAOA,EAEN,GAAI,OAAOA,GAAU,SACtB,GAAII,IAAY,SAAU,CACtB,IAAMC,EAAM,OAAOL,CAAK,EACxB,GAAI,CAAC,OAAO,cAAcK,CAAG,EACzB,MAAM,IAAI,WAAW,qFAAqF,EAE9G,OAAOA,CACX,KACK,IAAID,IAAY,SACjB,OAAOJ,EAEN,GAAII,IAAY,SACjB,MAAO,GAAKJ,EAGZ,MAAM,IAAIM,GAAY,2BAA2B,MAGpD,IAAIN,aAAiB,WAItB,OAAOA,EAAM,MAAM,EAAE,OAEpB,MAAIA,IAAU,OACT,IAAIO,EAAW,qCAAqC,EAGpDC,EAAWR,EAAO,0BAA0B,EAE1D,CChFO,SAASS,GAAoBC,EAAQ,CACxC,MAAO,CACH,iBAAkBA,EAAO,iBACzB,gBAAiBA,EAAO,gBACxB,YAAaA,EAAO,KAAK,IAAIC,GAAOA,EAAI,IAAI,EAC5C,gBAAiBD,EAAO,KAAK,IAAIC,GAAOA,EAAI,QAAQ,CACxD,CACJ,CACO,SAASC,GAAoBF,EAAQG,EAAS,CACjD,IAAMC,EAAaL,GAAoBC,CAAM,EACvCK,EAAOL,EAAO,KAAK,IAAIM,GAAOC,GAAaH,EAAW,YAAaE,EAAKH,CAAO,CAAC,EACtF,MAAO,CAAE,GAAGC,EAAY,KAAAC,CAAK,CACjC,CACO,SAASG,GAAmBR,EAAQG,EAAS,CAChD,IAAMC,EAAaL,GAAoBC,CAAM,EACzCM,EACJ,OAAIN,EAAO,KAAK,OAAS,IACrBM,EAAMC,GAAaH,EAAW,YAAaJ,EAAO,KAAK,CAAC,EAAGG,CAAO,GAE/D,CAAE,GAAGC,EAAY,IAAAE,CAAI,CAChC,CACO,SAASG,GAAqBT,EAAQG,EAAS,CAClD,IAAMC,EAAaL,GAAoBC,CAAM,EACzCU,EACJ,OAAIV,EAAO,KAAK,OAAS,GAAKI,EAAW,YAAY,OAAS,IAC1DM,EAAQC,GAAeX,EAAO,KAAK,CAAC,EAAE,CAAC,EAAGG,CAAO,GAE9C,CAAE,GAAGC,EAAY,MAAAM,CAAM,CAClC,CACA,SAASH,GAAaK,EAAUC,EAAQV,EAAS,CAC7C,IAAMG,EAAM,CAAC,EAEb,OAAO,eAAeA,EAAK,SAAU,CAAE,MAAOO,EAAO,MAAO,CAAC,EAC7D,QAASC,EAAI,EAAGA,EAAID,EAAO,OAAQ,EAAEC,EAAG,CACpC,IAAMJ,EAAQC,GAAeE,EAAOC,CAAC,EAAGX,CAAO,EAC/C,OAAO,eAAeG,EAAKQ,EAAG,CAAE,MAAAJ,CAAM,CAAC,EACvC,IAAMK,EAAUH,EAASE,CAAC,EACtBC,IAAY,QAAa,CAAC,OAAO,OAAOT,EAAKS,CAAO,GACpD,OAAO,eAAeT,EAAKS,EAAS,CAAE,MAAAL,EAAO,WAAY,GAAM,aAAc,GAAM,SAAU,EAAK,CAAC,CAE3G,CACA,OAAOJ,CACX,CACO,SAASU,GAAeC,EAAO,CAClC,OAAO,IAAIC,GAAcD,EAAM,QAASA,CAAK,CACjD,CC7CO,IAAME,GAAN,KAAU,CACbC,GACAC,GACAC,GAEA,YAAYC,EAAOC,EAAO,CACtB,KAAKJ,GAASG,EACd,KAAKF,GAASG,EACd,KAAKF,GAAU,MACnB,CAEA,UAAUC,EAAO,CACb,GAAI,KAAKH,KAAWG,EAChB,MAAM,IAAIE,GAAY,oDAAoD,EAEzE,GAAI,KAAKH,KAAY,OACtB,MAAM,IAAII,EAAY,qBAAsB,KAAKJ,EAAO,EAE5D,OAAO,KAAKD,EAChB,CAEA,OAAQ,CACJ,KAAK,WAAW,IAAIM,EAAY,8BAA8B,CAAC,CACnE,CAEA,WAAWC,EAAO,CACV,KAAKN,KAAY,SACjB,KAAKA,GAAUM,EACf,KAAKR,GAAO,UAAU,KAAKC,EAAM,EAEzC,CAEA,IAAI,QAAS,CACT,OAAO,KAAKC,KAAY,MAC5B,CACJ,EACO,SAASO,GAAWN,EAAOO,EAAK,CACnC,OAAIA,aAAeX,GACR,CAAE,MAAOW,EAAI,UAAUP,CAAK,CAAE,EAG9B,CAAE,IAAK,GAAKO,CAAI,CAE/B,CC7CO,IAAMC,GAAN,KAAY,CACfC,GACAC,GACA,aAAc,CACV,KAAKD,GAAa,CAAC,EACnB,KAAKC,GAAc,CAAC,CACxB,CACA,IAAI,QAAS,CACT,OAAO,KAAKD,GAAW,OAAS,KAAKC,GAAY,MACrD,CACA,KAAKC,EAAM,CACP,KAAKF,GAAW,KAAKE,CAAI,CAC7B,CACA,OAAQ,CACJ,OAAI,KAAKD,GAAY,SAAW,GAAK,KAAKD,GAAW,OAAS,IAC1D,KAAKC,GAAc,KAAKD,GAAW,QAAQ,EAC3C,KAAKA,GAAa,CAAC,GAEhB,KAAKC,GAAY,IAAI,CAChC,CACA,OAAQ,CACJ,OAAO,KAAKA,GAAY,SAAW,EAC7B,KAAKA,GAAY,KAAKA,GAAY,OAAS,CAAC,EAC5C,KAAKD,GAAW,CAAC,CAC3B,CACJ,ECrBO,IAAMG,GAAN,KAAW,CAEd,IAEA,MAEA,WAEA,YAAYC,EAAK,CACb,KAAK,IAAMA,EACX,KAAK,MAAQ,CAAC,EACd,KAAK,WAAa,IAAI,GAC1B,CAEA,YAAYC,EAAQ,CAChB,KAAK,MAAM,OAAS,EACpB,QAAWC,KAASD,EAChB,KAAK,MAAM,KAAKE,GAAaD,CAAK,CAAC,EAEvC,OAAO,IACX,CAEA,UAAUE,EAAOF,EAAO,CACpB,GAAIE,KAAWA,EAAQ,IAAMA,GAAS,EAClC,MAAM,IAAI,WAAW,yDAAyD,EAElF,KAAO,KAAK,MAAM,OAASA,GACvB,KAAK,MAAM,KAAK,IAAI,EAExB,YAAK,MAAMA,EAAQ,CAAC,EAAID,GAAaD,CAAK,EACnC,IACX,CAEA,SAASG,EAAMH,EAAO,CAClB,YAAK,WAAW,IAAIG,EAAMF,GAAaD,CAAK,CAAC,EACtC,IACX,CAEA,WAAY,CACR,YAAK,MAAM,OAAS,EACpB,KAAK,WAAW,MAAM,EACf,IACX,CACJ,EACO,SAASI,GAAYC,EAAUC,EAAMC,EAAU,CAClD,IAAIC,EACAC,EAAO,CAAC,EACRC,EAAY,CAAC,EACjB,GAAIJ,aAAgBT,GAAM,CACtBW,EAAQF,EAAK,IACbG,EAAOH,EAAK,MACZ,OAAW,CAACH,EAAMH,CAAK,IAAKM,EAAK,WAAW,QAAQ,EAChDI,EAAU,KAAK,CAAE,KAAAP,EAAM,MAAAH,CAAM,CAAC,CAEtC,MACS,MAAM,QAAQM,CAAI,GACvBE,EAAQF,EAAK,CAAC,EACV,MAAM,QAAQA,EAAK,CAAC,CAAC,EACrBG,EAAOH,EAAK,CAAC,EAAE,IAAKK,GAAQV,GAAaU,CAAG,CAAC,EAG7CD,EAAY,OAAO,QAAQJ,EAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAACH,EAAMH,CAAK,KAC1C,CAAE,KAAAG,EAAM,MAAOF,GAAaD,CAAK,CAAE,EAC7C,GAILQ,EAAQF,EAEZ,GAAM,CAAE,IAAAR,EAAK,MAAAc,CAAM,EAAIC,GAAWR,EAAUG,CAAK,EACjD,MAAO,CAAE,IAAAV,EAAK,MAAAc,EAAO,KAAAH,EAAM,UAAAC,EAAW,SAAAH,CAAS,CACnD,CCtEO,IAAMO,GAAN,KAAY,CAEf,QACAC,GAEA,OACAC,GAEA,YAAYC,EAAQC,EAAW,CAC3B,KAAK,QAAUD,EACf,KAAKF,GAAaG,EAClB,KAAK,OAAS,CAAC,EACf,KAAKF,GAAY,EACrB,CAEA,MAAO,CACH,OAAO,IAAIG,GAAU,IAAI,CAC7B,CAEA,SAAU,CACN,GAAI,KAAKH,GACL,MAAM,IAAII,GAAY,sCAAsC,EAEhE,KAAKJ,GAAY,GACjB,IAAMK,EAAQ,CACV,MAAO,KAAK,OAAO,IAAKC,GAASA,EAAK,KAAK,CAC/C,EACA,OAAI,KAAKP,GACEQ,GAAc,KAAK,QAAS,KAAK,OAAQF,CAAK,EAG9CG,GAAe,KAAK,QAAS,KAAK,OAAQH,CAAK,CAE9D,CACJ,EACA,SAASG,GAAeP,EAAQQ,EAAOJ,EAAO,CAC1C,OAAOJ,EAAO,OAAOI,CAAK,EAAE,KAAMK,GAAW,CACzC,QAASJ,EAAO,EAAGA,EAAOG,EAAM,OAAQ,EAAEH,EAAM,CAC5C,IAAMK,EAAaD,EAAO,YAAY,IAAIJ,CAAI,EACxCM,EAAYF,EAAO,WAAW,IAAIJ,CAAI,EAC5CG,EAAMH,CAAI,EAAE,SAASK,EAAYC,CAAS,CAC9C,CACJ,CAAC,CACL,CACA,eAAeL,GAAcN,EAAQQ,EAAOJ,EAAO,CAC/C,IAAMQ,EAAS,MAAMZ,EAAO,YAAYI,CAAK,EAC7C,GAAI,CACA,IAAIS,EAAW,EACXC,EACAC,EAAO,CAAC,EACZ,OAAS,CACL,IAAMC,EAAQ,MAAMJ,EAAO,KAAK,EAChC,GAAII,IAAU,OACV,MAEJ,GAAIA,EAAM,OAAS,aAAc,CAC7B,GAAIA,EAAM,KAAOH,GAAYG,EAAM,MAAQR,EAAM,OAC7C,MAAM,IAAIS,EAAW,oDAAoD,EAExE,GAAIH,IAAe,OACpB,MAAM,IAAIG,EAAW,iEAAiE,EAE1F,QAASZ,EAAOQ,EAAUR,EAAOW,EAAM,KAAM,EAAEX,EAC3CG,EAAMH,CAAI,EAAE,SAAS,OAAW,MAAS,EAE7CQ,EAAWG,EAAM,KAAO,EACxBF,EAAaE,EACbD,EAAO,CAAC,CACZ,SACSC,EAAM,OAAS,WAAY,CAChC,GAAIF,IAAe,OACf,MAAM,IAAIG,EAAW,oDAAoD,EAE7E,IAAMC,EAAa,CACf,KAAMJ,EAAW,KACjB,KAAAC,EACA,iBAAkBC,EAAM,iBACxB,gBAAiBA,EAAM,eAC3B,EACAR,EAAMM,EAAW,IAAI,EAAE,SAASI,EAAY,MAAS,EACrDJ,EAAa,OACbC,EAAO,CAAC,CACZ,SACSC,EAAM,OAAS,aAAc,CAClC,GAAIF,IAAe,OAAW,CAC1B,GAAIE,EAAM,MAAQR,EAAM,OACpB,MAAM,IAAIS,EAAW,oDAAoD,EAE7E,QAASZ,EAAOQ,EAAUR,EAAOW,EAAM,KAAM,EAAEX,EAC3CG,EAAMH,CAAI,EAAE,SAAS,OAAW,MAAS,CAEjD,KACK,CACD,GAAIW,EAAM,OAASF,EAAW,KAC1B,MAAM,IAAIG,EAAW,oDAAoD,EAE7EH,EAAa,OACbC,EAAO,CAAC,CACZ,CACAP,EAAMQ,EAAM,IAAI,EAAE,SAAS,OAAWA,EAAM,KAAK,EACjDH,EAAWG,EAAM,KAAO,CAC5B,SACSA,EAAM,OAAS,MAAO,CAC3B,GAAIF,IAAe,OACf,MAAM,IAAIG,EAAW,gDAAgD,EAEzEF,EAAK,KAAKC,EAAM,GAAG,CACvB,KACK,OAAIA,EAAM,OAAS,QACdG,GAAeH,EAAM,KAAK,EAE3BA,EAAM,OAAS,OACd,IAAIC,EAAW,0CAA0C,EAGzDG,EAAWJ,EAAO,wBAAwB,CAExD,CACA,GAAIF,IAAe,OACf,MAAM,IAAIG,EAAW,qDAAqD,EAE9E,QAASZ,EAAOQ,EAAUR,EAAOG,EAAM,OAAQ,EAAEH,EAC7CG,EAAMH,CAAI,EAAE,SAAS,OAAW,MAAS,CAEjD,QACA,CACIO,EAAO,MAAM,CACjB,CACJ,CAEO,IAAMV,GAAN,KAAgB,CAEnB,OACAmB,GAEA,OAEA,YAAYjB,EAAO,CACf,KAAK,OAASA,EACd,KAAKiB,GAAS,CAAC,EACf,KAAK,OAAS,MAClB,CAGA,UAAUC,EAAM,CACZ,YAAKD,GAAO,KAAKC,EAAK,MAAM,EACrB,IACX,CAEA,MAAMC,EAAM,CACR,OAAO,KAAKC,GAAKD,EAAM,GAAME,EAAmB,CACpD,CAEA,SAASF,EAAM,CACX,OAAO,KAAKC,GAAKD,EAAM,GAAMG,EAAkB,CACnD,CAEA,WAAWH,EAAM,CACb,OAAO,KAAKC,GAAKD,EAAM,GAAMI,EAAoB,CACrD,CAEA,IAAIJ,EAAM,CACN,OAAO,KAAKC,GAAKD,EAAM,GAAOK,EAAmB,CACrD,CACAJ,GAAKK,EAAQC,EAAUC,EAAW,CAC9B,GAAI,KAAK,SAAW,OAChB,MAAM,IAAI5B,GAAY,oDAAoD,EAE9E,IAAMoB,EAAOS,GAAY,KAAK,OAAO,QAAQ,UAAU,EAAGH,EAAQC,CAAQ,EACtEG,EACA,KAAKZ,GAAO,SAAW,EACvBY,EAAY,OAEP,KAAKZ,GAAO,SAAW,EAC5BY,EAAY,KAAKZ,GAAO,CAAC,EAGzBY,EAAY,CAAE,KAAM,MAAO,MAAO,KAAKZ,GAAO,MAAM,CAAE,EAE1D,IAAMa,EAAQ,CAAE,KAAAX,EAAM,UAAAU,CAAU,EAChC,OAAO,IAAI,QAAQ,CAACE,EAAgBC,IAAkB,CAClD,IAAMC,EAAW,CAAC3B,EAAYC,IAAc,CACpCD,IAAe,QAAaC,IAAc,OAC1CyB,EAAc,IAAInB,EAAW,uCAAuC,CAAC,EAEhEN,IAAc,OACnByB,EAAcjB,GAAeR,CAAS,CAAC,EAGvCwB,EADKzB,IAAe,OACLqB,EAAUrB,EAAY,KAAK,OAAO,QAAQ,OAAO,EAGjD,MAHkD,CAKzE,EACA,KAAK,OAAS,KAAK,OAAO,OAAO,OACjC,KAAK,OAAO,OAAO,KAAK,CAAE,MAAAwB,EAAO,SAAAG,CAAS,CAAC,CAC/C,CAAC,CACL,CACJ,EACaC,EAAN,MAAMC,CAAU,CAEnB,OAEA,OAEA,YAAYnC,EAAO8B,EAAO,CACtB,KAAK,OAAS9B,EACd,KAAK,OAAS8B,CAClB,CAMA,OAAO,GAAG7B,EAAM,CACZ,OAAO,IAAIkC,EAAUlC,EAAK,OAAQ,CAAE,KAAM,KAAM,KAAMmC,GAAUnC,CAAI,CAAE,CAAC,CAC3E,CAMA,OAAO,MAAMA,EAAM,CACf,OAAO,IAAIkC,EAAUlC,EAAK,OAAQ,CAAE,KAAM,QAAS,KAAMmC,GAAUnC,CAAI,CAAE,CAAC,CAC9E,CAGA,OAAO,IAAIiB,EAAM,CACb,OAAO,IAAIiB,EAAUjB,EAAK,OAAQ,CAAE,KAAM,MAAO,KAAMA,EAAK,MAAO,CAAC,CACxE,CAGA,OAAO,IAAIlB,EAAOqC,EAAO,CACrB,QAAWnB,KAAQmB,EACfC,GAAetC,EAAOkB,CAAI,EAE9B,OAAO,IAAIiB,EAAUnC,EAAO,CAAE,KAAM,MAAO,MAAOqC,EAAM,IAAIE,GAAKA,EAAE,MAAM,CAAE,CAAC,CAChF,CAGA,OAAO,GAAGvC,EAAOqC,EAAO,CACpB,QAAWnB,KAAQmB,EACfC,GAAetC,EAAOkB,CAAI,EAE9B,OAAO,IAAIiB,EAAUnC,EAAO,CAAE,KAAM,KAAM,MAAOqC,EAAM,IAAIE,GAAKA,EAAE,MAAM,CAAE,CAAC,CAC/E,CAIA,OAAO,aAAavC,EAAO,CACvB,OAAAA,EAAM,QAAQ,OAAO,EAAE,eAAe,EAAG,0BAA0B,EAC5D,IAAImC,EAAUnC,EAAO,CAAE,KAAM,eAAgB,CAAC,CACzD,CACJ,EACA,SAASoC,GAAUnC,EAAM,CACrB,GAAIA,EAAK,SAAW,OAChB,MAAM,IAAIF,GAAY,gFAAgF,EAE1G,OAAOE,EAAK,MAChB,CACA,SAASqC,GAAeE,EAAetB,EAAM,CACzC,GAAIA,EAAK,SAAWsB,EAChB,MAAM,IAAIzC,GAAY,0DAA0D,CAExF,CC9QO,SAAS0C,GAAwBC,EAAQ,CAC5C,MAAO,CACH,WAAYA,EAAO,OAAO,IAAKC,GAAMA,EAAE,IAAI,EAC3C,QAASD,EAAO,KAChB,UAAWA,EAAO,UAClB,WAAYA,EAAO,UACvB,CACJ,CCDO,IAAME,GAAN,KAAa,CAEhB,YAAYC,EAAS,CACjB,KAAK,QAAUA,CACnB,CAEA,MAAMC,EAAM,CACR,OAAO,KAAKC,GAASD,EAAM,GAAME,EAAmB,CACxD,CAEA,SAASF,EAAM,CACX,OAAO,KAAKC,GAASD,EAAM,GAAMG,EAAkB,CACvD,CAEA,WAAWH,EAAM,CACb,OAAO,KAAKC,GAASD,EAAM,GAAMI,EAAoB,CACzD,CAEA,IAAIJ,EAAM,CACN,OAAO,KAAKC,GAASD,EAAM,GAAOK,EAAmB,CACzD,CACAJ,GAASK,EAAQC,EAAUC,EAAW,CAClC,IAAMR,EAAOS,GAAY,KAAK,UAAU,EAAGH,EAAQC,CAAQ,EAC3D,OAAO,KAAK,SAASP,CAAI,EAAE,KAAMU,GAAMF,EAAUE,EAAG,KAAK,OAAO,CAAC,CACrE,CAOA,MAAMC,EAAY,GAAO,CACrB,OAAO,IAAIC,GAAM,KAAMD,CAAS,CACpC,CAEA,SAASE,EAAO,CACZ,IAAMC,EAAWC,GAAW,KAAK,UAAU,EAAGF,CAAK,EACnD,OAAO,KAAK,UAAUC,CAAQ,EAAE,KAAKE,EAAuB,CAChE,CAGA,SAASH,EAAO,CACZ,IAAMC,EAAWC,GAAW,KAAK,UAAU,EAAGF,CAAK,EACnD,OAAO,KAAK,UAAUC,CAAQ,CAClC,CAKA,OACJ,ECxDO,IAAMG,GAAN,KAAa,CACpB,ECEA,IAAMC,GAAiB,IACjBC,GAAiB,GACVC,GAAN,cAAuBC,EAAO,CACjCC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GAEA,YAAYC,EAAQC,EAAQC,EAAU,CAClC,MAAM,EACN,KAAKT,GAAUO,EACf,KAAKN,GAAUO,EACf,KAAKN,GAAYO,EACjB,KAAKN,GAAc,IAAIO,GACvB,KAAKN,GAAc,IAAIM,GACvB,KAAKL,GAAU,OACf,KAAKC,GAAQ,EACjB,CAEA,MAAM,MAAO,CACT,OAAS,CACL,GAAI,KAAKD,KAAY,OACjB,MAAM,IAAIM,EAAY,mBAAoB,KAAKN,EAAO,EAE1D,KAAO,CAAC,KAAKC,IAAS,KAAKF,GAAY,OAASP,IAC5C,KAAKO,GAAY,KAAK,KAAKQ,GAAO,CAAC,EAEvC,IAAMC,EAAQ,KAAKV,GAAY,MAAM,EACrC,GAAI,KAAKG,IAASO,IAAU,OACxB,OAAOA,EAGX,MAAM,KAAKT,GAAY,MAAM,EAAE,KAAMU,GAAa,CAC9C,GAAIA,IAAa,OAGjB,SAAWD,KAASC,EAAS,QACzB,KAAKX,GAAY,KAAKU,CAAK,EAE/B,KAAKP,KAAUQ,EAAS,KAC5B,CAAC,CACL,CACJ,CACAF,IAAS,CACL,OAAO,KAAKX,GAAQ,mBAAmB,KAAM,CACzC,KAAM,eACN,SAAU,KAAKC,GACf,SAAUN,EACd,CAAC,EAAE,KAAMmB,GAASA,EAAOC,GAAU,CAC/B,KAAK,WAAWA,CAAK,CAEzB,CAAC,CACL,CAEA,WAAWA,EAAO,CACV,KAAKX,KAAY,SAGrB,KAAKA,GAAUW,EACf,KAAKf,GAAQ,mBAAmB,KAAM,CAClC,KAAM,eACN,SAAU,KAAKC,EACnB,CAAC,EAAE,MAAM,IAAG,EAAY,EACxB,KAAKD,GAAQ,cAAc,IAAI,EACnC,CAEA,OAAQ,CACJ,KAAK,WAAW,IAAIgB,EAAY,4BAA4B,CAAC,CACjE,CAEA,IAAI,QAAS,CACT,OAAO,KAAKZ,KAAY,MAC5B,CACJ,EC3EO,IAAMa,GAAN,MAAMC,UAAiBC,EAAO,CACjCC,GACAC,GACAC,GACAC,GACAC,GACAC,GAEA,OAAO,KAAKC,EAAQ,CAChB,IAAMC,EAAWD,EAAO,eAAe,MAAM,EACvCE,EAAS,IAAIV,EAASQ,EAAQC,CAAQ,EACtCE,EAAmB,IAAG,GACtBC,EAAiBC,GAAMH,EAAOI,GAAWD,CAAC,EAC1CE,EAAU,CAAE,KAAM,cAAe,SAAAN,CAAS,EAChD,OAAAD,EAAO,aAAaO,EAAS,CAAE,iBAAAJ,EAAkB,cAAAC,CAAc,CAAC,EACzDF,CACX,CAEA,YAAYF,EAAQC,EAAU,CAC1B,MAAMD,EAAO,OAAO,EACpB,KAAKN,GAAUM,EACf,KAAKL,GAAYM,EACjB,KAAKL,GAAS,IAAIY,GAClB,KAAKX,GAAU,OACf,KAAKC,GAAW,GAChB,KAAKC,GAAU,MACnB,CAEA,QAAS,CACL,OAAO,KAAKL,EAChB,CAEA,WAAY,CACR,OAAO,KAAKA,EAChB,CAEA,SAASe,EAAM,CACX,OAAO,KAAKC,GAAmB,CAC3B,KAAM,UACN,SAAU,KAAKf,GACf,KAAAc,CACJ,CAAC,EAAE,KAAME,GACEA,EAAS,MACnB,CACL,CAEA,OAAOC,EAAO,CACV,OAAO,KAAKF,GAAmB,CAC3B,KAAM,QACN,SAAU,KAAKf,GACf,MAAAiB,CACJ,CAAC,EAAE,KAAMD,GACEA,EAAS,MACnB,CACL,CAEA,UAAUE,EAAU,CAChB,YAAKnB,GAAQ,eAAe,EAAG,YAAY,EACpC,KAAKgB,GAAmB,CAC3B,KAAM,WACN,SAAU,KAAKf,GACf,IAAKkB,EAAS,IACd,MAAOA,EAAS,KACpB,CAAC,EAAE,KAAMF,GACEA,EAAS,MACnB,CACL,CAEA,UAAUE,EAAU,CAChB,YAAKnB,GAAQ,eAAe,EAAG,YAAY,EACpC,KAAKgB,GAAmB,CAC3B,KAAM,WACN,SAAU,KAAKf,GACf,IAAKkB,EAAS,IACd,MAAOA,EAAS,KACpB,CAAC,EAAE,KAAMC,GAAc,CAEvB,CAAC,CACL,CAIA,eAAgB,CACZ,YAAKpB,GAAQ,eAAe,EAAG,iBAAiB,EACzC,KAAKgB,GAAmB,CAC3B,KAAM,iBACN,SAAU,KAAKf,EACnB,CAAC,EAAE,KAAMgB,GACEA,EAAS,YACnB,CACL,CACAD,GAAmBH,EAAS,CACxB,OAAO,IAAI,QAAQ,CAACJ,EAAkBC,IAAkB,CACpD,KAAKW,GAAa,CAAE,KAAM,UAAW,QAAAR,EAAS,iBAAAJ,EAAkB,cAAAC,CAAc,CAAC,CACnF,CAAC,CACL,CAEA,YAAYQ,EAAO,CACf,YAAKlB,GAAQ,eAAe,EAAG,QAAQ,EAChC,IAAI,QAAQ,CAACsB,EAAgBZ,IAAkB,CAClD,KAAKW,GAAa,CAAE,KAAM,SAAU,MAAAH,EAAO,eAAAI,EAAgB,cAAAZ,CAAc,CAAC,CAC9E,CAAC,CACL,CAEA,mBAAmBa,EAAQV,EAAS,CAChC,GAAIU,IAAW,KAAKpB,GAChB,MAAM,IAAIqB,GAAc,sEAAsE,EAElG,OAAO,IAAI,QAAQ,CAACf,EAAkBC,IAAkB,CAChD,KAAKL,KAAY,OACjBK,EAAc,IAAIe,EAAY,mBAAoB,KAAKpB,EAAO,CAAC,EAG/D,KAAKL,GAAQ,aAAaa,EAAS,CAAE,iBAAAJ,EAAkB,cAAAC,CAAc,CAAC,CAE9E,CAAC,CACL,CAEA,cAAca,EAAQ,CAClB,GAAIA,IAAW,KAAKpB,GAChB,MAAM,IAAIqB,GAAc,8DAA8D,EAE1F,KAAKrB,GAAU,OACf,KAAKuB,GAAY,CACrB,CACAL,GAAaM,EAAO,CACZ,KAAKtB,KAAY,OACjBsB,EAAM,cAAc,IAAIF,EAAY,mBAAoB,KAAKpB,EAAO,CAAC,EAEhE,KAAKD,GACVuB,EAAM,cAAc,IAAIF,EAAY,oBAAqB,MAAS,CAAC,GAGnE,KAAKvB,GAAO,KAAKyB,CAAK,EACtB,KAAKD,GAAY,EAEzB,CACAA,IAAc,CACV,OAAS,CACL,IAAMC,EAAQ,KAAKzB,GAAO,MAAM,EAChC,GAAIyB,IAAU,QAAa,KAAKxB,KAAY,QAAa,KAAKC,GAAU,CACpE,KAAKQ,GAAW,IAAIgB,EAAY,8BAA8B,CAAC,EAC/D,KACJ,SACSD,GAAO,OAAS,WAAa,KAAKxB,KAAY,OAAW,CAC9D,GAAM,CAAE,QAAAU,EAAS,iBAAAJ,EAAkB,cAAAC,CAAc,EAAIiB,EACrD,KAAKzB,GAAO,MAAM,EAClB,KAAKF,GAAQ,aAAaa,EAAS,CAAE,iBAAAJ,EAAkB,cAAAC,CAAc,CAAC,CAC1E,SACSiB,GAAO,OAAS,UAAY,KAAKxB,KAAY,OAAW,CAC7D,GAAM,CAAE,MAAAe,EAAO,eAAAI,CAAe,EAAIK,EAClC,KAAKzB,GAAO,MAAM,EAClB,IAAM2B,EAAW,KAAK7B,GAAQ,eAAe,MAAM,EAC7CuB,EAAS,IAAIO,GAAS,KAAK9B,GAAS,KAAM6B,CAAQ,EAClDhB,EAAU,CACZ,KAAM,cACN,SAAU,KAAKZ,GACf,SAAA4B,EACA,MAAAX,CACJ,EACMT,EAAmB,IAAG,GACtBC,EAAiBC,GAAMY,EAAO,WAAWZ,CAAC,EAChD,KAAKX,GAAQ,aAAaa,EAAS,CAAE,iBAAAJ,EAAkB,cAAAC,CAAc,CAAC,EACtE,KAAKP,GAAUoB,EACfD,EAAeC,CAAM,CACzB,KAEI,MAER,CACJ,CACAX,GAAWmB,EAAO,CACd,GAAI,KAAK1B,KAAY,OACjB,OAMJ,IAJA,KAAKA,GAAU0B,EACX,KAAK5B,KAAY,QACjB,KAAKA,GAAQ,WAAW4B,CAAK,IAExB,CACL,IAAMJ,EAAQ,KAAKzB,GAAO,MAAM,EAChC,GAAIyB,IAAU,OACVA,EAAM,cAAcI,CAAK,MAGzB,MAER,CACA,IAAMlB,EAAU,CAAE,KAAM,eAAgB,SAAU,KAAKZ,EAAU,EAC3DQ,EAAmB,IAAM,KAAKT,GAAQ,eAAe,KAAK,KAAKC,EAAS,EACxES,EAAgB,IAAG,GACzB,KAAKV,GAAQ,aAAaa,EAAS,CAAE,iBAAAJ,EAAkB,cAAAC,CAAc,CAAC,CAC1E,CAEA,OAAQ,CACJ,KAAKE,GAAW,IAAIgB,EAAY,4BAA4B,CAAC,CACjE,CAEA,iBAAkB,CACd,KAAKxB,GAAW,GAChB,KAAKsB,GAAY,CACrB,CAEA,IAAI,QAAS,CACT,OAAO,KAAKrB,KAAY,QAAa,KAAKD,EAC9C,CACJ,EChNO,SAAS4B,GAAKC,EAAGC,EAAK,CACrBA,EAAI,MAAQ,QACZD,EAAE,OAAO,MAAOC,EAAI,GAAG,EAEvBA,EAAI,QAAU,QACdD,EAAE,OAAO,SAAUC,EAAI,KAAK,EAEhCD,EAAE,aAAa,OAAQC,EAAI,KAAMC,EAAK,EACtCF,EAAE,aAAa,aAAcC,EAAI,UAAWE,EAAQ,EACpDH,EAAE,QAAQ,YAAaC,EAAI,QAAQ,CACvC,CACA,SAASE,GAASH,EAAGC,EAAK,CACtBD,EAAE,OAAO,OAAQC,EAAI,IAAI,EACzBD,EAAE,OAAO,QAASC,EAAI,MAAOC,EAAK,CACtC,CACO,SAASE,GAAMJ,EAAGC,EAAK,CAC1BD,EAAE,aAAa,QAASC,EAAI,MAAOI,EAAS,CAChD,CACA,SAASA,GAAUL,EAAGC,EAAK,CACnBA,EAAI,YAAc,QAClBD,EAAE,OAAO,YAAaC,EAAI,UAAWK,EAAS,EAElDN,EAAE,OAAO,OAAQC,EAAI,KAAMF,EAAI,CACnC,CACA,SAASO,GAAUN,EAAGC,EAAK,CAEvB,GADAD,EAAE,UAAU,OAAQC,EAAI,IAAI,EACxBA,EAAI,OAAS,MAAQA,EAAI,OAAS,QAClCD,EAAE,OAAO,OAAQC,EAAI,IAAI,UAEpBA,EAAI,OAAS,MAClBD,EAAE,OAAO,OAAQC,EAAI,KAAMK,EAAS,UAE/BL,EAAI,OAAS,OAASA,EAAI,OAAS,KACxCD,EAAE,aAAa,QAASC,EAAI,MAAOK,EAAS,UAEvCL,EAAI,OAAS,gBAIlB,MAAMM,EAAWN,EAAK,8BAA8B,CAE5D,CACA,SAASC,GAAMF,EAAGC,EAAK,CACnB,GAAIA,IAAQ,KACRD,EAAE,UAAU,OAAQ,MAAM,UAErB,OAAOC,GAAQ,SACpBD,EAAE,UAAU,OAAQ,SAAS,EAC7BA,EAAE,UAAU,QAAS,GAAKC,CAAG,UAExB,OAAOA,GAAQ,SACpBD,EAAE,UAAU,OAAQ,OAAO,EAC3BA,EAAE,OAAO,QAASC,CAAG,UAEhB,OAAOA,GAAQ,SACpBD,EAAE,UAAU,OAAQ,MAAM,EAC1BA,EAAE,OAAO,QAASC,CAAG,UAEhBA,aAAe,WACpBD,EAAE,UAAU,OAAQ,MAAM,EAC1BA,EAAE,UAAU,SAAUQ,GAAO,eAAeP,CAAG,CAAC,UAE3CA,IAAQ,OAIb,MAAMM,EAAWN,EAAK,0BAA0B,CAExD,CCpEO,SAASQ,GAAUC,EAAGC,EAAK,CAE9B,GADAD,EAAE,UAAU,OAAQC,EAAI,IAAI,EACxBA,EAAI,OAAS,QACTA,EAAI,MAAQ,QACZD,EAAE,OAAO,MAAOC,EAAI,GAAG,UAGtBA,EAAI,OAAS,UAClBD,EAAE,OAAO,aAAcC,EAAI,SAAS,EACpCD,EAAE,OAAO,UAAWC,EAAI,QAASC,EAAO,MAGxC,OAAMC,EAAWF,EAAK,8BAA8B,CAE5D,CACA,SAASC,GAAQF,EAAGC,EAAK,CAErB,GADAD,EAAE,UAAU,OAAQC,EAAI,IAAI,EACxBA,EAAI,OAAS,cACbD,EAAE,OAAO,YAAaC,EAAI,QAAQ,UAE7BA,EAAI,OAAS,eAClBD,EAAE,OAAO,YAAaC,EAAI,QAAQ,UAE7BA,EAAI,OAAS,UAClBD,EAAE,OAAO,YAAaC,EAAI,QAAQ,EAClCD,EAAE,OAAO,OAAQC,EAAI,KAAMG,EAAI,UAE1BH,EAAI,OAAS,QAClBD,EAAE,OAAO,YAAaC,EAAI,QAAQ,EAClCD,EAAE,OAAO,QAASC,EAAI,MAAOI,EAAK,UAE7BJ,EAAI,OAAS,cAClBD,EAAE,OAAO,YAAaC,EAAI,QAAQ,EAClCD,EAAE,OAAO,YAAaC,EAAI,QAAQ,EAClCD,EAAE,OAAO,QAASC,EAAI,MAAOI,EAAK,UAE7BJ,EAAI,OAAS,eAClBD,EAAE,OAAO,YAAaC,EAAI,QAAQ,UAE7BA,EAAI,OAAS,eAClBD,EAAE,OAAO,YAAaC,EAAI,QAAQ,EAClCD,EAAE,OAAO,YAAaC,EAAI,QAAQ,UAE7BA,EAAI,OAAS,WAClBD,EAAE,OAAO,YAAaC,EAAI,QAAQ,EAC9BA,EAAI,MAAQ,QACZD,EAAE,OAAO,MAAOC,EAAI,GAAG,EAEvBA,EAAI,QAAU,QACdD,EAAE,OAAO,SAAUC,EAAI,KAAK,UAG3BA,EAAI,OAAS,WAClBD,EAAE,OAAO,YAAaC,EAAI,QAAQ,EAC9BA,EAAI,MAAQ,QACZD,EAAE,OAAO,MAAOC,EAAI,GAAG,EAEvBA,EAAI,QAAU,QACdD,EAAE,OAAO,SAAUC,EAAI,KAAK,UAG3BA,EAAI,OAAS,YAClBD,EAAE,OAAO,SAAUC,EAAI,KAAK,EAC5BD,EAAE,OAAO,MAAOC,EAAI,GAAG,UAElBA,EAAI,OAAS,YAClBD,EAAE,OAAO,SAAUC,EAAI,KAAK,UAEvBA,EAAI,OAAS,iBAClBD,EAAE,OAAO,YAAaC,EAAI,QAAQ,MAGlC,OAAME,EAAWF,EAAK,4BAA4B,CAE1D,CC3EO,SAASK,GAAKC,EAAGC,EAAK,CACrBA,EAAI,MAAQ,QACZD,EAAE,OAAO,EAAGC,EAAI,GAAG,EAEnBA,EAAI,QAAU,QACdD,EAAE,MAAM,EAAGC,EAAI,KAAK,EAExB,QAAWC,KAAOD,EAAI,KAClBD,EAAE,QAAQ,EAAGE,EAAKC,EAAK,EAE3B,QAAWD,KAAOD,EAAI,UAClBD,EAAE,QAAQ,EAAGE,EAAKE,EAAQ,EAE9BJ,EAAE,KAAK,EAAGC,EAAI,QAAQ,CAC1B,CACA,SAASG,GAASJ,EAAGC,EAAK,CACtBD,EAAE,OAAO,EAAGC,EAAI,IAAI,EACpBD,EAAE,QAAQ,EAAGC,EAAI,MAAOE,EAAK,CACjC,CACO,SAASE,GAAML,EAAGC,EAAK,CAC1B,QAAWK,KAAQL,EAAI,MACnBD,EAAE,QAAQ,EAAGM,EAAMC,EAAS,CAEpC,CACA,SAASA,GAAUP,EAAGC,EAAK,CACnBA,EAAI,YAAc,QAClBD,EAAE,QAAQ,EAAGC,EAAI,UAAWO,EAAS,EAEzCR,EAAE,QAAQ,EAAGC,EAAI,KAAMF,EAAI,CAC/B,CACA,SAASS,GAAUR,EAAGC,EAAK,CACvB,GAAIA,EAAI,OAAS,KACbD,EAAE,OAAO,EAAGC,EAAI,IAAI,UAEfA,EAAI,OAAS,QAClBD,EAAE,OAAO,EAAGC,EAAI,IAAI,UAEfA,EAAI,OAAS,MAClBD,EAAE,QAAQ,EAAGC,EAAI,KAAMO,EAAS,UAE3BP,EAAI,OAAS,MAClBD,EAAE,QAAQ,EAAGC,EAAI,MAAOQ,EAAa,UAEhCR,EAAI,OAAS,KAClBD,EAAE,QAAQ,EAAGC,EAAI,MAAOQ,EAAa,UAEhCR,EAAI,OAAS,gBAClBD,EAAE,QAAQ,EAAG,OAAWU,EAAK,MAG7B,OAAMC,EAAWV,EAAK,8BAA8B,CAE5D,CACA,SAASQ,GAAcT,EAAGC,EAAK,CAC3B,QAAWW,KAAQX,EACfD,EAAE,QAAQ,EAAGY,EAAMJ,EAAS,CAEpC,CACA,SAASL,GAAMH,EAAGC,EAAK,CACnB,GAAIA,IAAQ,KACRD,EAAE,QAAQ,EAAG,OAAWU,EAAK,UAExB,OAAOT,GAAQ,SACpBD,EAAE,OAAO,EAAGC,CAAG,UAEV,OAAOA,GAAQ,SACpBD,EAAE,OAAO,EAAGC,CAAG,UAEV,OAAOA,GAAQ,SACpBD,EAAE,OAAO,EAAGC,CAAG,UAEVA,aAAe,WACpBD,EAAE,MAAM,EAAGC,CAAG,UAETA,IAAQ,OAIb,MAAMU,EAAWV,EAAK,0BAA0B,CAExD,CACA,SAASS,GAAMG,EAAIC,EAAM,CAEzB,CClFO,SAASC,GAAUC,EAAGC,EAAK,CAC9B,GAAIA,EAAI,OAAS,QACbD,EAAE,QAAQ,EAAGC,EAAKC,EAAQ,UAErBD,EAAI,OAAS,UAClBD,EAAE,QAAQ,EAAGC,EAAKE,EAAU,MAG5B,OAAMC,EAAWH,EAAK,8BAA8B,CAE5D,CACA,SAASC,GAASF,EAAGC,EAAK,CAClBA,EAAI,MAAQ,QACZD,EAAE,OAAO,EAAGC,EAAI,GAAG,CAE3B,CACA,SAASE,GAAWH,EAAGC,EAAK,CACxBD,EAAE,MAAM,EAAGC,EAAI,SAAS,EACxB,IAAMI,EAAUJ,EAAI,QACpB,GAAII,EAAQ,OAAS,cACjBL,EAAE,QAAQ,EAAGK,EAASC,EAAa,UAE9BD,EAAQ,OAAS,eACtBL,EAAE,QAAQ,EAAGK,EAASE,EAAc,UAE/BF,EAAQ,OAAS,UACtBL,EAAE,QAAQ,EAAGK,EAASG,EAAU,UAE3BH,EAAQ,OAAS,QACtBL,EAAE,QAAQ,EAAGK,EAASI,EAAQ,UAEzBJ,EAAQ,OAAS,cACtBL,EAAE,QAAQ,EAAGK,EAASK,EAAa,UAE9BL,EAAQ,OAAS,eACtBL,EAAE,QAAQ,EAAGK,EAASM,EAAc,UAE/BN,EAAQ,OAAS,eACtBL,EAAE,QAAQ,EAAGK,EAASO,EAAc,UAE/BP,EAAQ,OAAS,WACtBL,EAAE,QAAQ,EAAGK,EAASQ,EAAW,UAE5BR,EAAQ,OAAS,WACtBL,EAAE,QAAQ,GAAIK,EAASS,EAAW,UAE7BT,EAAQ,OAAS,YACtBL,EAAE,QAAQ,GAAIK,EAASU,EAAW,UAE7BV,EAAQ,OAAS,YACtBL,EAAE,QAAQ,GAAIK,EAASW,EAAW,UAE7BX,EAAQ,OAAS,iBACtBL,EAAE,QAAQ,GAAIK,EAASY,EAAgB,MAGvC,OAAMb,EAAWC,EAAS,4BAA4B,CAE9D,CACA,SAASC,GAAcN,EAAGC,EAAK,CAC3BD,EAAE,MAAM,EAAGC,EAAI,QAAQ,CAC3B,CACA,SAASM,GAAeP,EAAGC,EAAK,CAC5BD,EAAE,MAAM,EAAGC,EAAI,QAAQ,CAC3B,CACA,SAASO,GAAWR,EAAGC,EAAK,CACxBD,EAAE,MAAM,EAAGC,EAAI,QAAQ,EACvBD,EAAE,QAAQ,EAAGC,EAAI,KAAMiB,EAAI,CAC/B,CACA,SAAST,GAAST,EAAGC,EAAK,CACtBD,EAAE,MAAM,EAAGC,EAAI,QAAQ,EACvBD,EAAE,QAAQ,EAAGC,EAAI,MAAOkB,EAAK,CACjC,CACA,SAAST,GAAcV,EAAGC,EAAK,CAC3BD,EAAE,MAAM,EAAGC,EAAI,QAAQ,EACvBD,EAAE,MAAM,EAAGC,EAAI,QAAQ,EACvBD,EAAE,QAAQ,EAAGC,EAAI,MAAOkB,EAAK,CACjC,CACA,SAASR,GAAeX,EAAGC,EAAK,CAC5BD,EAAE,MAAM,EAAGC,EAAI,QAAQ,CAC3B,CACA,SAASW,GAAeZ,EAAGC,EAAK,CAC5BD,EAAE,MAAM,EAAGC,EAAI,QAAQ,EACvBD,EAAE,OAAO,EAAGC,EAAI,QAAQ,CAC5B,CACA,SAASY,GAAYb,EAAGC,EAAK,CACzBD,EAAE,MAAM,EAAGC,EAAI,QAAQ,EACnBA,EAAI,MAAQ,QACZD,EAAE,OAAO,EAAGC,EAAI,GAAG,EAEnBA,EAAI,QAAU,QACdD,EAAE,MAAM,EAAGC,EAAI,KAAK,CAE5B,CACA,SAASa,GAAYd,EAAGC,EAAK,CACzBD,EAAE,MAAM,EAAGC,EAAI,QAAQ,EACnBA,EAAI,MAAQ,QACZD,EAAE,OAAO,EAAGC,EAAI,GAAG,EAEnBA,EAAI,QAAU,QACdD,EAAE,MAAM,EAAGC,EAAI,KAAK,CAE5B,CACA,SAASc,GAAYf,EAAGC,EAAK,CACzBD,EAAE,MAAM,EAAGC,EAAI,KAAK,EACpBD,EAAE,OAAO,EAAGC,EAAI,GAAG,CACvB,CACA,SAASe,GAAYhB,EAAGC,EAAK,CACzBD,EAAE,MAAM,EAAGC,EAAI,KAAK,CACxB,CACA,SAASgB,GAAiBjB,EAAGC,EAAK,CAC9BD,EAAE,MAAM,EAAGC,EAAI,QAAQ,CAC3B,CC/GO,SAASmB,GAAMC,EAAK,CACvB,IAAMC,EAAYC,GAAOF,EAAI,OAAU,EACjCG,EAASC,GAAUJ,EAAI,IAAO,EACpC,MAAO,CAAE,QAAAC,EAAS,KAAAE,CAAK,CAC3B,CACO,SAASE,GAAWL,EAAK,CAC5B,IAAMM,EAASC,GAAgBP,EAAI,KAASQ,EAAG,EACzCC,EAASC,GAAMV,EAAI,IAAO,EAAE,IAAKW,GAAaJ,GAAgBI,EAAQC,EAAK,CAAC,EAC5EC,EAAqBC,GAAOd,EAAI,kBAAqB,EACrDe,EAAuBX,GAAUJ,EAAI,iBAAoB,EACzDgB,EAAkBD,IAAuB,OACzC,OAAOA,CAAkB,EAAI,OACnC,MAAO,CAAE,KAAAT,EAAM,KAAAG,EAAM,iBAAAI,EAAkB,gBAAAG,CAAgB,CAC3D,CACA,SAASR,GAAIR,EAAK,CACd,IAAMiB,EAASb,GAAUJ,EAAI,IAAO,EAC9BkB,EAAad,GAAUJ,EAAI,QAAW,EAC5C,MAAO,CAAE,KAAAiB,EAAM,SAAAC,CAAS,CAC5B,CACO,SAASC,GAAYnB,EAAK,CAC7B,IAAMoB,EAAc,IAAI,IACtBV,GAAMV,EAAI,YAAe,EAAE,QAAQ,CAACqB,EAAOC,IAAM,CAC3CD,IAAU,MACVD,EAAY,IAAIE,EAAGjB,GAAakB,EAAOF,CAAK,CAAC,CAAC,CAEtD,CAAC,EACD,IAAMG,EAAa,IAAI,IACvB,OAAEd,GAAMV,EAAI,WAAc,EAAE,QAAQ,CAACqB,EAAOC,IAAM,CAC1CD,IAAU,MACVG,EAAW,IAAIF,EAAGvB,GAAQwB,EAAOF,CAAK,CAAC,CAAC,CAEhD,CAAC,EACM,CAAE,YAAAD,EAAa,WAAAI,CAAW,CACrC,CACO,SAASC,GAAYzB,EAAK,CAC7B,IAAM0B,EAASxB,GAAOF,EAAI,IAAO,EACjC,GAAI0B,IAAS,aAAc,CACvB,IAAMC,EAASb,GAAOd,EAAI,IAAO,EAC3BM,EAASC,GAAgBP,EAAI,KAASQ,EAAG,EAC/C,MAAO,CAAE,KAAM,aAAc,KAAAmB,EAAM,KAAArB,CAAK,CAC5C,SACSoB,IAAS,WAAY,CAC1B,IAAMb,EAAqBC,GAAOd,EAAI,kBAAqB,EACrDe,EAAuBX,GAAUJ,EAAI,iBAAoB,EACzDgB,EAAkBD,IAAuB,OACzC,OAAOA,CAAkB,EAAI,OACnC,MAAO,CAAE,KAAM,WAAY,iBAAAF,EAAkB,gBAAAG,CAAgB,CACjE,SACSU,IAAS,aAAc,CAC5B,IAAMC,EAASb,GAAOd,EAAI,IAAO,EAC3B4B,EAAQ7B,GAAQwB,EAAOvB,EAAI,KAAQ,CAAC,EAC1C,MAAO,CAAE,KAAM,aAAc,KAAA2B,EAAM,MAAAC,CAAM,CAC7C,KACK,IAAIF,IAAS,MAEd,MAAO,CAAE,KAAM,MAAO,IADRnB,GAAgBP,EAAI,IAAQY,EAAK,CACrB,EAEzB,GAAIc,IAAS,QAEd,MAAO,CAAE,KAAM,QAAS,MADV3B,GAAQwB,EAAOvB,EAAI,KAAQ,CAAC,CACZ,EAG9B,MAAM,IAAI6B,EAAW,gCAAgC,EAE7D,CACO,SAASC,GAAe9B,EAAK,CAChC,IAAM+B,EAAWxB,GAAgBP,EAAI,OAAWgC,EAAa,EACvD1B,EAASC,GAAgBP,EAAI,KAASiC,EAAW,EACjDC,EAAcC,GAAQnC,EAAI,UAAa,EACvCoC,EAAeD,GAAQnC,EAAI,WAAc,EAC/C,MAAO,CAAE,OAAA+B,EAAQ,KAAAzB,EAAM,UAAA4B,EAAW,WAAAE,CAAW,CACjD,CACA,SAASJ,GAAchC,EAAK,CAExB,MAAO,CAAE,KADMI,GAAUJ,EAAI,IAAO,CACtB,CAClB,CACA,SAASiC,GAAYjC,EAAK,CACtB,IAAMiB,EAASf,GAAOF,EAAI,IAAO,EAC3BkB,EAAad,GAAUJ,EAAI,QAAW,EAC5C,MAAO,CAAE,KAAAiB,EAAM,SAAAC,CAAS,CAC5B,CACO,SAASN,GAAMZ,EAAK,CACvB,IAAM0B,EAASxB,GAAOF,EAAI,IAAO,EACjC,GAAI0B,IAAS,OACT,OAAO,KAEN,GAAIA,IAAS,UAAW,CACzB,IAAML,EAAUnB,GAAOF,EAAI,KAAQ,EACnC,OAAO,OAAOqB,CAAK,CACvB,KACK,IAAIK,IAAS,QACd,OAASZ,GAAOd,EAAI,KAAQ,EAE3B,GAAI0B,IAAS,OACd,OAASxB,GAAOF,EAAI,KAAQ,EAE3B,GAAI0B,IAAS,OACd,OAAOW,GAAO,aAAenC,GAAOF,EAAI,MAAS,CAAC,EAGlD,MAAM,IAAI6B,EAAW,0BAA0B,EAEvD,CCtGO,SAASS,GAAUC,EAAK,CAC3B,IAAMC,EAASC,GAAOF,EAAI,IAAO,EACjC,GAAIC,IAAS,WACT,MAAO,CAAE,KAAM,UAAW,EAEzB,GAAIA,IAAS,cAEd,MAAO,CAAE,KAAM,cAAe,MADhBE,GAAQC,EAAOJ,EAAI,KAAQ,CAAC,CACN,EAEnC,GAAIC,IAAS,cAAe,CAC7B,IAAMI,EAAcC,GAAON,EAAI,UAAa,EACtCO,EAAWC,GAAWJ,EAAOJ,EAAI,QAAW,CAAC,EACnD,MAAO,CAAE,KAAM,cAAe,UAAAK,EAAW,SAAAE,CAAS,CACtD,SACSN,IAAS,iBAAkB,CAChC,IAAMI,EAAcC,GAAON,EAAI,UAAa,EACtCS,EAAQN,GAAQC,EAAOJ,EAAI,KAAQ,CAAC,EAC1C,MAAO,CAAE,KAAM,iBAAkB,UAAAK,EAAW,MAAAI,CAAM,CACtD,KAEI,OAAM,IAAIC,EAAW,8BAA8B,CAE3D,CACA,SAASF,GAASR,EAAK,CACnB,IAAMC,EAASC,GAAOF,EAAI,IAAO,EACjC,GAAIC,IAAS,cACT,MAAO,CAAE,KAAM,aAAc,EAE5B,GAAIA,IAAS,eACd,MAAO,CAAE,KAAM,cAAe,EAE7B,GAAIA,IAAS,UAEd,MAAO,CAAE,KAAM,UAAW,OADXU,GAAaP,EAAOJ,EAAI,MAAS,CAAC,CAChB,EAEhC,GAAIC,IAAS,QAEd,MAAO,CAAE,KAAM,QAAS,OADTW,GAAcR,EAAOJ,EAAI,MAAS,CAAC,CACnB,EAE9B,GAAIC,IAAS,cACd,MAAO,CAAE,KAAM,aAAc,EAE5B,GAAIA,IAAS,eACd,MAAO,CAAE,KAAM,cAAe,EAE7B,GAAIA,IAAS,eAAgB,CAC9B,IAAMY,EAAYC,GAAgBd,EAAI,QAAYe,EAAW,EACvDC,EAASC,GAAQjB,EAAI,IAAO,EAClC,MAAO,CAAE,KAAM,eAAgB,QAAAa,EAAS,KAAAG,CAAK,CACjD,KACK,IAAIf,IAAS,WACd,MAAO,CAAE,KAAM,UAAW,EAEzB,GAAIA,IAAS,WAEd,MAAO,CAAE,KAAM,WAAY,OADZiB,GAAiBd,EAAOJ,EAAI,MAAS,CAAC,CACnB,EAEjC,GAAIC,IAAS,YACd,MAAO,CAAE,KAAM,WAAY,EAE1B,GAAIA,IAAS,YACd,MAAO,CAAE,KAAM,WAAY,EAE1B,GAAIA,IAAS,iBAEd,MAAO,CAAE,KAAM,iBAAkB,aADVgB,GAAQjB,EAAI,aAAgB,CACL,EAG9C,MAAM,IAAIU,EAAW,6BAA6B,EAE1D,CCzEO,IAAMS,GAAQ,CACjB,SAAU,CAAE,MAAO,CAAE,QAAS,GAAI,KAAM,MAAU,CAAG,EACrD,EAAEC,EAAGC,EAAK,CAAEA,EAAI,QAAUD,EAAE,OAAO,CAAG,EACtC,EAAEA,EAAGC,EAAK,CAAEA,EAAI,KAAOD,EAAE,OAAO,CAAG,CACvC,EACaE,GAAa,CACtB,SAAU,CACN,MAAO,CACH,KAAM,CAAC,EACP,KAAM,CAAC,EACP,iBAAkB,EAClB,gBAAiB,MACrB,CACJ,EACA,EAAEF,EAAGC,EAAK,CAAEA,EAAI,KAAK,KAAKD,EAAE,QAAQG,EAAG,CAAC,CAAG,EAC3C,EAAEH,EAAGC,EAAK,CAAEA,EAAI,KAAK,KAAKD,EAAE,QAAQI,EAAG,CAAC,CAAG,EAC3C,EAAEJ,EAAGC,EAAK,CAAEA,EAAI,iBAAmB,OAAOD,EAAE,OAAO,CAAC,CAAG,EACvD,EAAEA,EAAGC,EAAK,CAAEA,EAAI,gBAAkBD,EAAE,OAAO,CAAG,CAClD,EACMG,GAAM,CACR,SAAU,CAAE,MAAO,CAAE,KAAM,OAAW,SAAU,MAAU,CAAG,EAC7D,EAAEH,EAAGC,EAAK,CAAEA,EAAI,KAAOD,EAAE,OAAO,CAAG,EACnC,EAAEA,EAAGC,EAAK,CAAEA,EAAI,SAAWD,EAAE,OAAO,CAAG,CAC3C,EACMI,GAAM,CACR,SAAU,CAAE,MAAO,CAAC,CAAG,EACvB,EAAEJ,EAAGC,EAAK,CAAEA,EAAI,KAAKD,EAAE,QAAQK,EAAK,CAAC,CAAG,CAC5C,EACaC,GAAc,CACvB,SAAU,CAAE,MAAO,CAAE,YAAa,IAAI,IAAO,WAAY,IAAI,GAAM,CAAG,EACtE,EAAEN,EAAGC,EAAK,CACN,GAAM,CAACM,EAAKC,CAAK,EAAIR,EAAE,QAAQS,EAAqB,EACpDR,EAAI,YAAY,IAAIM,EAAKC,CAAK,CAClC,EACA,EAAER,EAAGC,EAAK,CACN,GAAM,CAACM,EAAKC,CAAK,EAAIR,EAAE,QAAQU,EAAoB,EACnDT,EAAI,WAAW,IAAIM,EAAKC,CAAK,CACjC,CACJ,EACMC,GAAwB,CAC1B,SAAU,CAAE,MAAO,CAAC,EAAGP,GAAW,QAAQ,CAAC,CAAG,EAC9C,EAAEF,EAAGC,EAAK,CAAEA,EAAI,CAAC,EAAID,EAAE,OAAO,CAAG,EACjC,EAAEA,EAAGC,EAAK,CAAEA,EAAI,CAAC,EAAID,EAAE,QAAQE,EAAU,CAAG,CAChD,EACMQ,GAAuB,CACzB,SAAU,CAAE,MAAO,CAAC,EAAGX,GAAM,QAAQ,CAAC,CAAG,EACzC,EAAEC,EAAGC,EAAK,CAAEA,EAAI,CAAC,EAAID,EAAE,OAAO,CAAG,EACjC,EAAEA,EAAGC,EAAK,CAAEA,EAAI,CAAC,EAAID,EAAE,QAAQD,EAAK,CAAG,CAC3C,EACaY,GAAc,CACvB,SAAU,CAAE,MAAO,CAAE,KAAM,MAAO,CAAG,EACrC,EAAEX,EAAG,CAAE,OAAOA,EAAE,QAAQY,EAAc,CAAG,EACzC,EAAEZ,EAAG,CAAE,OAAOA,EAAE,QAAQa,EAAY,CAAG,EACvC,EAAEb,EAAG,CAAE,OAAOA,EAAE,QAAQc,EAAc,CAAG,EACzC,EAAEd,EAAG,CAAE,MAAO,CAAE,KAAM,MAAO,IAAKA,EAAE,QAAQI,EAAG,CAAE,CAAG,EACpD,EAAEJ,EAAG,CAAE,MAAO,CAAE,KAAM,QAAS,MAAOA,EAAE,QAAQD,EAAK,CAAE,CAAG,CAC9D,EACMa,GAAiB,CACnB,SAAU,CAAE,MAAO,CAAE,KAAM,aAAc,KAAM,EAAG,KAAM,CAAC,CAAE,CAAG,EAC9D,EAAEZ,EAAGC,EAAK,CAAEA,EAAI,KAAOD,EAAE,OAAO,CAAG,EACnC,EAAEA,EAAGC,EAAK,CAAEA,EAAI,KAAK,KAAKD,EAAE,QAAQG,EAAG,CAAC,CAAG,CAC/C,EACMU,GAAe,CACjB,SAAU,CACN,MAAO,CACH,KAAM,WACN,iBAAkB,EAClB,gBAAiB,MACrB,CACJ,EACA,EAAEb,EAAGC,EAAK,CAAEA,EAAI,iBAAmBD,EAAE,OAAO,CAAG,EAC/C,EAAEA,EAAGC,EAAK,CAAEA,EAAI,gBAAkBD,EAAE,OAAO,CAAG,CAClD,EACMc,GAAiB,CACnB,SAAU,CACN,MAAO,CACH,KAAM,aACN,KAAM,EACN,MAAOf,GAAM,QAAQ,CACzB,CACJ,EACA,EAAEC,EAAGC,EAAK,CAAEA,EAAI,KAAOD,EAAE,OAAO,CAAG,EACnC,EAAEA,EAAGC,EAAK,CAAEA,EAAI,MAAQD,EAAE,QAAQD,EAAK,CAAG,CAC9C,EACagB,GAAiB,CAC1B,SAAU,CACN,MAAO,CACH,OAAQ,CAAC,EACT,KAAM,CAAC,EACP,UAAW,GACX,WAAY,EAChB,CACJ,EACA,EAAEf,EAAGC,EAAK,CAAEA,EAAI,OAAO,KAAKD,EAAE,QAAQgB,EAAa,CAAC,CAAG,EACvD,EAAEhB,EAAGC,EAAK,CAAEA,EAAI,KAAK,KAAKD,EAAE,QAAQiB,EAAW,CAAC,CAAG,EACnD,EAAEjB,EAAGC,EAAK,CAAEA,EAAI,UAAYD,EAAE,KAAK,CAAG,EACtC,EAAEA,EAAGC,EAAK,CAAEA,EAAI,WAAaD,EAAE,KAAK,CAAG,CAC3C,EACMgB,GAAgB,CAClB,SAAU,CAAE,MAAO,CAAE,KAAM,MAAU,CAAG,EACxC,EAAEhB,EAAGC,EAAK,CAAEA,EAAI,KAAOD,EAAE,OAAO,CAAG,CACvC,EACMiB,GAAc,CAChB,SAAU,CAAE,MAAO,CAAE,KAAM,GAAI,SAAU,MAAU,CAAG,EACtD,EAAEjB,EAAGC,EAAK,CAAEA,EAAI,KAAOD,EAAE,OAAO,CAAG,EACnC,EAAEA,EAAGC,EAAK,CAAEA,EAAI,SAAWD,EAAE,OAAO,CAAG,CAC3C,EACMK,GAAQ,CACV,SAAU,CAAoB,EAC9B,EAAEL,EAAG,CAAE,OAAO,IAAM,EACpB,EAAEA,EAAG,CAAE,OAAOA,EAAE,OAAO,CAAG,EAC1B,EAAEA,EAAG,CAAE,OAAOA,EAAE,OAAO,CAAG,EAC1B,EAAEA,EAAG,CAAE,OAAOA,EAAE,OAAO,CAAG,EAC1B,EAAEA,EAAG,CAAE,OAAOA,EAAE,MAAM,CAAG,CAC7B,ECjHO,IAAMkB,GAAY,CACrB,SAAU,CAAE,MAAO,CAAE,KAAM,MAAO,CAAG,EACrC,EAAEC,EAAG,CAAE,MAAO,CAAE,KAAM,UAAW,CAAG,EACpC,EAAEA,EAAG,CAAE,OAAOA,EAAE,QAAQC,EAAa,CAAG,EACxC,EAAED,EAAG,CAAE,OAAOA,EAAE,QAAQE,EAAa,CAAG,EACxC,EAAEF,EAAG,CAAE,OAAOA,EAAE,QAAQG,EAAgB,CAAG,CAC/C,EACMF,GAAgB,CAClB,SAAU,CAAE,MAAO,CAAE,KAAM,cAAe,MAAOG,GAAM,QAAQ,CAAE,CAAG,EACpE,EAAEJ,EAAGK,EAAK,CAAEA,EAAI,MAAQL,EAAE,QAAQI,EAAK,CAAG,CAC9C,EACMD,GAAmB,CACrB,SAAU,CAAE,MAAO,CAAE,KAAM,iBAAkB,UAAW,EAAG,MAAOC,GAAM,QAAQ,CAAE,CAAG,EACrF,EAAEJ,EAAGK,EAAK,CAAEA,EAAI,UAAYL,EAAE,MAAM,CAAG,EACvC,EAAEA,EAAGK,EAAK,CAAEA,EAAI,MAAQL,EAAE,QAAQI,EAAK,CAAG,CAC9C,EACMF,GAAgB,CAClB,SAAU,CACN,MAAO,CACH,KAAM,cACN,UAAW,EACX,SAAU,CAAE,KAAM,MAAO,CAC7B,CACJ,EACA,EAAEF,EAAGK,EAAK,CAAEA,EAAI,UAAYL,EAAE,MAAM,CAAG,EACvC,EAAEA,EAAGK,EAAK,CAAEA,EAAI,SAAW,CAAE,KAAM,aAAc,CAAG,EACpD,EAAEL,EAAGK,EAAK,CAAEA,EAAI,SAAW,CAAE,KAAM,cAAe,CAAG,EACrD,EAAEL,EAAGK,EAAK,CAAEA,EAAI,SAAWL,EAAE,QAAQM,EAAW,CAAG,EACnD,EAAEN,EAAGK,EAAK,CAAEA,EAAI,SAAWL,EAAE,QAAQO,EAAS,CAAG,EACjD,EAAEP,EAAGK,EAAK,CAAEA,EAAI,SAAW,CAAE,KAAM,aAAc,CAAG,EACpD,EAAEL,EAAGK,EAAK,CAAEA,EAAI,SAAW,CAAE,KAAM,cAAe,CAAG,EACrD,EAAEL,EAAGK,EAAK,CAAEA,EAAI,SAAWL,EAAE,QAAQQ,EAAe,CAAG,EACvD,EAAER,EAAGK,EAAK,CAAEA,EAAI,SAAW,CAAE,KAAM,UAAW,CAAG,EACjD,GAAGL,EAAGK,EAAK,CAAEA,EAAI,SAAWL,EAAE,QAAQS,EAAY,CAAG,EACrD,GAAGT,EAAGK,EAAK,CAAEA,EAAI,SAAW,CAAE,KAAM,WAAY,CAAG,EACnD,GAAGL,EAAGK,EAAK,CAAEA,EAAI,SAAW,CAAE,KAAM,WAAY,CAAG,EACnD,GAAGL,EAAGK,EAAK,CAAEA,EAAI,SAAWL,EAAE,QAAQU,EAAiB,CAAG,CAC9D,EACMJ,GAAc,CAChB,SAAU,CAAE,MAAO,CAAE,KAAM,UAAW,OAAQK,GAAW,QAAQ,CAAE,CAAG,EACtE,EAAEX,EAAGK,EAAK,CAAEA,EAAI,OAASL,EAAE,QAAQW,EAAU,CAAG,CACpD,EACMJ,GAAY,CACd,SAAU,CAAE,MAAO,CAAE,KAAM,QAAS,OAAQK,GAAY,QAAQ,CAAE,CAAG,EACrE,EAAEZ,EAAGK,EAAK,CAAEA,EAAI,OAASL,EAAE,QAAQY,EAAW,CAAG,CACrD,EACMJ,GAAkB,CACpB,SAAU,CAAE,MAAO,CAAE,KAAM,eAAgB,QAAS,CAAC,EAAG,KAAM,EAAM,CAAG,EACvE,EAAER,EAAGK,EAAK,CAAEA,EAAI,QAAQ,KAAKL,EAAE,QAAQa,EAAW,CAAC,CAAG,EACtD,EAAEb,EAAGK,EAAK,CAAEA,EAAI,KAAOL,EAAE,KAAK,CAAG,CACrC,EACMS,GAAe,CACjB,SAAU,CAAE,MAAO,CAAE,KAAM,WAAY,OAAQK,GAAe,QAAQ,CAAE,CAAG,EAC3E,EAAEd,EAAGK,EAAK,CAAEA,EAAI,OAASL,EAAE,QAAQc,EAAc,CAAG,CACxD,EACMJ,GAAoB,CACtB,SAAU,CAAE,MAAO,CAAE,KAAM,iBAAkB,aAAc,EAAM,CAAG,EACpE,EAAEV,EAAGK,EAAK,CAAEA,EAAI,aAAeL,EAAE,KAAK,CAAG,CAC7C,EC/CO,IAAMe,GAAiB,IAAI,IAAI,CAClC,CAAC,SAAU,CAAE,QAAS,EAAG,SAAU,MAAO,CAAC,EAC3C,CAAC,SAAU,CAAE,QAAS,EAAG,SAAU,MAAO,CAAC,CAC/C,CAAC,EACYC,GAAiB,IAAI,IAAI,CAClC,CAAC,kBAAmB,CAAE,QAAS,EAAG,SAAU,UAAW,CAAC,EACxD,CAAC,SAAU,CAAE,QAAS,EAAG,SAAU,MAAO,CAAC,EAC3C,CAAC,SAAU,CAAE,QAAS,EAAG,SAAU,MAAO,CAAC,EAC3C,CAAC,SAAU,CAAE,QAAS,EAAG,SAAU,MAAO,CAAC,CAC/C,CAAC,EAEYC,GAAN,cAAuBC,EAAO,CACjCC,GAEAC,GAEAC,GAGAC,GAEAC,GAGAC,GAGAC,GAEAC,GAEAC,GAGA,eAGA,eAEAC,GAEA,YAAYC,EAAQC,EAAK,CACrB,MAAM,EACN,KAAKX,GAAUU,EACf,KAAKT,GAAiB,CAAC,EACvB,KAAKC,GAAU,GACf,KAAKC,GAAU,OACf,KAAKC,GAAc,GACnB,KAAKC,GAAe,OACpB,KAAKC,GAAoB,GACzB,KAAKC,GAAe,IAAI,IACxB,KAAKC,GAAkB,IAAII,GAC3B,KAAK,eAAiB,IAAIA,GAC1B,KAAK,eAAiB,IAAIA,GAC1B,KAAKH,GAAc,IAAIG,GACvB,KAAKZ,GAAQ,WAAa,cAC1B,KAAKA,GAAQ,iBAAiB,OAAQ,IAAM,KAAKa,GAAc,CAAC,EAChE,KAAKb,GAAQ,iBAAiB,QAAUc,GAAU,KAAKC,GAAeD,CAAK,CAAC,EAC5E,KAAKd,GAAQ,iBAAiB,QAAUc,GAAU,KAAKE,GAAeF,CAAK,CAAC,EAC5E,KAAKd,GAAQ,iBAAiB,UAAYc,GAAU,KAAKG,GAAiBH,CAAK,CAAC,EAChF,KAAKI,GAAM,CAAE,KAAM,QAAS,IAAAP,CAAI,CAAC,CACrC,CAEAO,GAAMC,EAAK,CACP,GAAI,KAAKhB,KAAY,OACjB,MAAM,IAAIiB,GAAc,6CAA6C,EAEzE,GAAI,KAAKlB,GACL,KAAKmB,GAAcF,CAAG,MAErB,CACD,IAAMG,EAAe,IAAM,KAAKD,GAAcF,CAAG,EAC3CI,EAAgB,IAAG,GACzB,KAAKtB,GAAe,KAAK,CAAE,aAAAqB,EAAc,cAAAC,CAAc,CAAC,CAC5D,CACJ,CAEAV,IAAgB,CACZ,IAAMW,EAAW,KAAKxB,GAAQ,SAC9B,GAAIwB,IAAa,OAAW,CACxB,KAAKC,GAAW,IAAIC,EAAY,uOAE6B,CAAC,EAC9D,MACJ,SACSF,IAAa,GAClB,KAAKnB,GAAe,CAAE,QAAS,EAAG,SAAU,MAAO,UAGnD,KAAKA,GAAeR,GAAe,IAAI2B,CAAQ,EAC3C,KAAKnB,KAAiB,OAAW,CACjC,KAAKoB,GAAW,IAAIE,EAAW,uCAAuC,KAAK,UAAUH,CAAQ,CAAC,EAAE,CAAC,EACjG,MACJ,CAEJ,QAAWI,KAAa,KAAK3B,GACzB2B,EAAU,aAAa,EAE3B,KAAK3B,GAAe,OAAS,EAC7B,KAAKC,GAAU,EACnB,CACAmB,GAAcF,EAAK,CACf,IAAMU,EAAW,KAAKxB,GAAa,SACnC,GAAIwB,IAAa,OAAQ,CACrB,IAAMC,EAAUC,GAAgBZ,EAAKa,EAAc,EACnD,KAAKhC,GAAQ,KAAK8B,CAAO,CAC7B,SACSD,IAAa,WAAY,CAC9B,IAAMI,EAAcC,GAAqBf,EAAKa,EAAkB,EAChE,KAAKhC,GAAQ,KAAKiC,CAAW,CACjC,KAEI,OAAME,EAAWN,EAAU,qBAAqB,CAExD,CAEA,YAAa,CACT,OAAO,IAAI,QAAQ,CAACO,EAAiBb,IAAkB,CAEnD,GADA,KAAKjB,GAAoB,GACrB,KAAKH,KAAY,OACjBoB,EAAc,KAAKpB,EAAO,UAEpB,KAAKD,GAKXkC,EAAgB,KAAK/B,GAAa,OAAO,MALrB,CACpB,IAAMiB,EAAe,IAAMc,EAAgB,KAAK/B,GAAa,OAAO,EACpE,KAAKJ,GAAe,KAAK,CAAE,aAAAqB,EAAc,cAAAC,CAAc,CAAC,CAC5D,CAIJ,CAAC,CACL,CAGA,eAAec,EAAYC,EAAS,CAChC,GAAI,KAAKjC,KAAiB,QAAa,CAAC,KAAKC,GACzC,MAAM,IAAIiC,GAAqB,GAAGD,CAAO,0CAA0CD,CAAU,kJAExB,EAEpE,GAAI,KAAKhC,GAAa,QAAUgC,EACjC,MAAM,IAAIE,GAAqB,GAAGD,CAAO,qCAAqCD,CAAU,+DAClC,KAAKhC,GAAa,OAAO,EAAE,CAEzF,CAGA,aAAamC,EAASZ,EAAW,CAC7B,GAAI,KAAKzB,KAAY,OAAW,CAC5ByB,EAAU,cAAc,IAAIa,EAAY,mBAAoB,KAAKtC,EAAO,CAAC,EACzE,MACJ,CACA,IAAMuC,EAAY,KAAKlC,GAAgB,MAAM,EAC7C,KAAKD,GAAa,IAAImC,EAAW,CAAE,GAAGd,EAAW,KAAMY,EAAQ,IAAK,CAAC,EACrE,KAAKtB,GAAM,CAAE,KAAM,UAAW,UAAAwB,EAAW,QAAAF,CAAQ,CAAC,CACtD,CAEAxB,GAAeF,EAAO,CAElB,IAAM6B,EADe7B,EAAM,SACK,uCAChC,KAAKW,GAAW,IAAImB,GAAeD,CAAO,CAAC,CAC/C,CAEA5B,GAAeD,EAAO,CAClB,IAAI6B,EAAU,kCAAkC7B,EAAM,IAAI,GACtDA,EAAM,SACN6B,GAAW,KAAK7B,EAAM,MAAM,IAEhC,KAAKW,GAAW,IAAImB,GAAeD,CAAO,CAAC,CAC/C,CAEAlB,GAAWoB,EAAO,CACd,GAAI,KAAK1C,KAAY,OAGrB,MAAKA,GAAU0C,EACf,QAAWjB,KAAa,KAAK3B,GACzB2B,EAAU,cAAciB,CAAK,EAEjC,KAAK5C,GAAe,OAAS,EAC7B,OAAW,CAACyC,EAAWI,CAAa,IAAK,KAAKvC,GAAa,QAAQ,EAC/DuC,EAAc,cAAcD,CAAK,EACjC,KAAKrC,GAAgB,KAAKkC,CAAS,EAEvC,KAAKnC,GAAa,MAAM,EACxB,KAAKP,GAAQ,MAAM,EACvB,CAEAiB,GAAiBH,EAAO,CACpB,GAAI,KAAKX,KAAY,OAGrB,GAAI,CACA,IAAIgB,EACEU,EAAW,KAAKxB,GAAa,SACnC,GAAIwB,IAAa,OAAQ,CACrB,GAAI,OAAOf,EAAM,MAAS,SAAU,CAChC,KAAKd,GAAQ,MAAM,KAAM,oDAAoD,EAC7E,KAAKyB,GAAW,IAAIE,EAAW,0DAA0D,CAAC,EAC1F,MACJ,CACAR,EAAM4B,GAAe,KAAK,MAAMjC,EAAM,IAAI,EAAGkC,EAAc,CAC/D,SACSnB,IAAa,WAAY,CAC9B,GAAI,EAAEf,EAAM,gBAAgB,aAAc,CACtC,KAAKd,GAAQ,MAAM,KAAM,0DAA0D,EACnF,KAAKyB,GAAW,IAAIE,EAAW,gEAAgE,CAAC,EAChG,MACJ,CACAR,EAAM8B,GAAoB,IAAI,WAAWnC,EAAM,IAAI,EAAGkC,EAAkB,CAC5E,KAEI,OAAMb,EAAWN,EAAU,qBAAqB,EAEpD,KAAKqB,GAAW/B,CAAG,CACvB,OACOgC,EAAG,CACN,KAAKnD,GAAQ,MAAM,KAAM,0BAA0B,EACnD,KAAKyB,GAAW0B,CAAC,CACrB,CACJ,CAEAD,GAAW/B,EAAK,CACZ,GAAIA,EAAI,OAAS,OACb,MAAM,IAAIQ,EAAW,oCAAoC,EAExD,GAAIR,EAAI,OAAS,YAAcA,EAAI,OAAS,cAAe,CAC5D,GAAI,KAAKf,GACL,MAAM,IAAIuB,EAAW,sCAAsC,EAG/D,GADA,KAAKvB,GAAc,GACfe,EAAI,OAAS,cACb,MAAMiC,GAAejC,EAAI,KAAK,EAElC,MACJ,SACS,CAAC,KAAKf,GACX,MAAM,IAAIuB,EAAW,sDAAsD,EAE/E,GAAIR,EAAI,OAAS,cAAe,CAC5B,IAAMuB,EAAYvB,EAAI,UAChB2B,EAAgB,KAAKvC,GAAa,IAAImC,CAAS,EAErD,GADA,KAAKnC,GAAa,OAAOmC,CAAS,EAC9BI,IAAkB,OAClB,MAAM,IAAInB,EAAW,iCAAiC,EAE1D,KAAKnB,GAAgB,KAAKkC,CAAS,EACnC,GAAI,CACA,GAAII,EAAc,OAAS3B,EAAI,SAAS,KACpC,cAAQ,IAAI,CAAE,cAAA2B,EAAe,IAAA3B,CAAI,CAAC,EAC5B,IAAIQ,EAAW,sCAAsC,EAE/DmB,EAAc,iBAAiB3B,EAAI,QAAQ,CAC/C,OACOgC,EAAG,CACN,MAAAL,EAAc,cAAcK,CAAC,EACvBA,CACV,CACJ,SACShC,EAAI,OAAS,iBAAkB,CACpC,IAAMuB,EAAYvB,EAAI,UAChB2B,EAAgB,KAAKvC,GAAa,IAAImC,CAAS,EAErD,GADA,KAAKnC,GAAa,OAAOmC,CAAS,EAC9BI,IAAkB,OAClB,MAAM,IAAInB,EAAW,oCAAoC,EAE7D,KAAKnB,GAAgB,KAAKkC,CAAS,EACnCI,EAAc,cAAcM,GAAejC,EAAI,KAAK,CAAC,CACzD,KAEI,OAAMgB,EAAWhB,EAAK,2BAA2B,CAEzD,CAEA,YAAa,CACT,OAAOkC,GAAS,KAAK,IAAI,CAC7B,CAEA,SAASC,EAAK,CACV,KAAK,eAAe,EAAG,YAAY,EACnC,IAAMC,EAAQ,KAAK9C,GAAY,MAAM,EAC/B+C,EAAS,IAAIC,GAAI,KAAMF,CAAK,EAC5BG,EAAmB,IAAG,GACtBnC,EAAiB4B,GAAMK,EAAO,WAAWL,CAAC,EAC1CX,EAAU,CAAE,KAAM,YAAa,MAAAe,EAAO,IAAAD,CAAI,EAChD,YAAK,aAAad,EAAS,CAAE,iBAAAkB,EAAkB,cAAAnC,CAAc,CAAC,EACvDiC,CACX,CAEA,UAAUD,EAAO,CACb,GAAI,KAAKpD,KAAY,OACjB,OAEJ,IAAMuD,EAAmB,IAAM,KAAKjD,GAAY,KAAK8C,CAAK,EACpDhC,EAAiB4B,GAAM,KAAK1B,GAAW0B,CAAC,EACxCX,EAAU,CAAE,KAAM,YAAa,MAAAe,CAAM,EAC3C,KAAK,aAAaf,EAAS,CAAE,iBAAAkB,EAAkB,cAAAnC,CAAc,CAAC,CAClE,CAEA,OAAQ,CACJ,KAAKE,GAAW,IAAIC,EAAY,4BAA4B,CAAC,CACjE,CAEA,IAAI,QAAS,CACT,OAAO,KAAKvB,KAAY,MAC5B,CACJ,EC7TA,IAAMwD,GAAW,QACXC,GAAW,QAEXC,GAAS,MCDf,IAAIC,GACJ,GAAI,OAAO,eAAmB,IAC1BA,GAAkB,mBAEjB,CACD,IAAMC,EAAW,QAAQ,QAAQ,EACjCD,GAAmBE,GAAa,CAC5BD,EAAS,KAAKC,CAAQ,CAC1B,CACJ,CCXO,IAAMC,GAAN,KAAgB,CACnBC,GACAC,GACAC,GACA,YAAYC,EAAY,CACpB,KAAKH,GAAS,IAAI,WAAW,IAAI,YAAYG,CAAU,CAAC,EACxD,KAAKF,GAAY,EACjB,KAAKC,GAAW,CACpB,CACA,IAAI,QAAS,CACT,OAAO,KAAKA,GAAW,KAAKD,EAChC,CACA,MAAO,CACH,OAAO,KAAKD,GAAO,MAAM,KAAKC,GAAW,KAAKC,EAAQ,CAC1D,CACA,KAAKE,EAAO,CACR,KAAKC,GAAYD,EAAM,UAAU,EACjC,KAAKJ,GAAO,IAAII,EAAO,KAAKF,EAAQ,EACpC,KAAKA,IAAYE,EAAM,UAC3B,CACAC,GAAYC,EAAY,CACpB,GAAI,KAAKJ,GAAWI,GAAc,KAAKN,GAAO,WAC1C,OAEJ,IAAMO,EAAe,KAAKL,GAAW,KAAKD,GAC1C,GAAIM,EAAeD,GAAc,KAAKN,GAAO,YACzC,EAAI,KAAKE,IAAY,KAAKF,GAAO,WACjC,KAAKA,GAAO,WAAW,EAAG,KAAKC,GAAW,KAAKC,EAAQ,MAEtD,CACD,IAAIM,EAAS,KAAKR,GAAO,WACzB,GACIQ,GAAU,QACLD,EAAeD,EAAaE,GACrC,IAAMC,EAAW,IAAI,WAAW,IAAI,YAAYD,CAAM,CAAC,EACvDC,EAAS,IAAI,KAAKT,GAAO,MAAM,KAAKC,GAAW,KAAKC,EAAQ,EAAG,CAAC,EAChE,KAAKF,GAASS,CAClB,CACA,KAAKP,GAAWK,EAChB,KAAKN,GAAY,CACrB,CACA,MAAMS,EAAQ,CACV,KAAKT,IAAaS,CACtB,CACJ,ECzCO,SAASC,GAAiBC,EAAK,CAClC,IAAMC,EAAUC,GAAUF,EAAI,KAAQ,EAChCG,EAAYD,GAAUF,EAAI,QAAW,EACrCI,EAAYC,GAAgBL,EAAI,QAAYM,EAAY,EAC9D,MAAO,CAAE,MAAAL,EAAO,QAAAE,EAAS,QAAAC,CAAQ,CACrC,CACA,SAASE,GAAaN,EAAK,CACvB,IAAMO,EAASC,GAAOR,EAAI,IAAO,EACjC,GAAIO,IAAS,KAET,MAAO,CAAE,KAAM,KAAM,SADJE,GAAiBC,EAAOV,EAAI,QAAW,CAAC,CAC3B,EAE7B,GAAIO,IAAS,QAEd,MAAO,CAAE,KAAM,QAAS,MADVI,GAAQD,EAAOV,EAAI,KAAQ,CAAC,CACZ,EAG9B,MAAM,IAAIY,EAAW,iCAAiC,CAE9D,CACA,SAASH,GAAeT,EAAK,CACzB,IAAMO,EAASC,GAAOR,EAAI,IAAO,EACjC,GAAIO,IAAS,QACT,MAAO,CAAE,KAAM,OAAQ,EAEtB,GAAIA,IAAS,UAEd,MAAO,CAAE,KAAM,UAAW,OADXM,GAAaH,EAAOV,EAAI,MAAS,CAAC,CAChB,EAEhC,GAAIO,IAAS,QAEd,MAAO,CAAE,KAAM,QAAS,OADTO,GAAcJ,EAAOV,EAAI,MAAS,CAAC,CACnB,EAE9B,GAAIO,IAAS,WACd,MAAO,CAAE,KAAM,UAAW,EAEzB,GAAIA,IAAS,WAEd,MAAO,CAAE,KAAM,WAAY,OADZQ,GAAiBL,EAAOV,EAAI,MAAS,CAAC,CACnB,EAEjC,GAAIO,IAAS,YACd,MAAO,CAAE,KAAM,WAAY,EAE1B,GAAIA,IAAS,YACd,MAAO,CAAE,KAAM,WAAY,EAE1B,GAAIA,IAAS,iBAEd,MAAO,CAAE,KAAM,iBAAkB,aADVS,GAAQhB,EAAI,aAAgB,CACL,EAG9C,MAAM,IAAIY,EAAW,mCAAmC,CAEhE,CACO,SAASK,GAAejB,EAAK,CAChC,IAAMC,EAAUC,GAAUF,EAAI,KAAQ,EAChCG,EAAYD,GAAUF,EAAI,QAAW,EAC3C,MAAO,CAAE,MAAAC,EAAO,QAAAE,CAAQ,CAC5B,CC5DO,IAAMe,GAAmB,CAC5B,SAAU,CAAE,MAAO,CAAE,MAAO,OAAW,QAAS,OAAW,QAAS,CAAC,CAAE,CAAG,EAC1E,EAAEC,EAAGC,EAAK,CAAEA,EAAI,MAAQD,EAAE,OAAO,CAAG,EACpC,EAAEA,EAAGC,EAAK,CAAEA,EAAI,QAAUD,EAAE,OAAO,CAAG,EACtC,EAAEA,EAAGC,EAAK,CAAEA,EAAI,QAAQ,KAAKD,EAAE,QAAQE,EAAY,CAAC,CAAG,CAC3D,EACMA,GAAe,CACjB,SAAU,CAAE,MAAO,CAAE,KAAM,MAAO,CAAG,EACrC,EAAEF,EAAG,CAAE,MAAO,CAAE,KAAM,KAAM,SAAUA,EAAE,QAAQG,EAAc,CAAE,CAAG,EACnE,EAAEH,EAAG,CAAE,MAAO,CAAE,KAAM,QAAS,MAAOA,EAAE,QAAQI,EAAK,CAAE,CAAG,CAC9D,EACMD,GAAiB,CACnB,SAAU,CAAE,MAAO,CAAE,KAAM,MAAO,CAAG,EACrC,EAAEH,EAAG,CAAE,MAAO,CAAE,KAAM,OAAQ,CAAG,EACjC,EAAEA,EAAG,CAAE,OAAOA,EAAE,QAAQK,EAAiB,CAAG,EAC5C,EAAEL,EAAG,CAAE,OAAOA,EAAE,QAAQM,EAAe,CAAG,EAC1C,EAAEN,EAAG,CAAE,MAAO,CAAE,KAAM,UAAW,CAAG,EACpC,EAAEA,EAAG,CAAE,OAAOA,EAAE,QAAQO,EAAkB,CAAG,EAC7C,EAAEP,EAAG,CAAE,MAAO,CAAE,KAAM,WAAY,CAAG,EACrC,EAAEA,EAAG,CAAE,MAAO,CAAE,KAAM,WAAY,CAAG,EACrC,EAAEA,EAAG,CAAE,OAAOA,EAAE,QAAQQ,EAAuB,CAAG,CACtD,EACMH,GAAoB,CACtB,SAAU,CAAE,MAAO,CAAE,KAAM,UAAW,OAAQI,GAAW,QAAQ,CAAE,CAAG,EACtE,EAAET,EAAGC,EAAK,CAAEA,EAAI,OAASD,EAAE,QAAQS,EAAU,CAAG,CACpD,EACMH,GAAkB,CACpB,SAAU,CAAE,MAAO,CAAE,KAAM,QAAS,OAAQI,GAAY,QAAQ,CAAE,CAAG,EACrE,EAAEV,EAAGC,EAAK,CAAEA,EAAI,OAASD,EAAE,QAAQU,EAAW,CAAG,CACrD,EACMH,GAAqB,CACvB,SAAU,CAAE,MAAO,CAAE,KAAM,WAAY,OAAQI,GAAe,QAAQ,CAAE,CAAG,EAC3E,EAAEX,EAAGC,EAAK,CAAEA,EAAI,OAASD,EAAE,QAAQW,EAAc,CAAG,CACxD,EACMH,GAA0B,CAC5B,SAAU,CAAE,MAAO,CAAE,KAAM,iBAAkB,aAAc,EAAM,CAAG,EACpE,EAAER,EAAGC,EAAK,CAAEA,EAAI,aAAeD,EAAE,KAAK,CAAG,CAC7C,EACaY,GAAiB,CAC1B,SAAU,CAAE,MAAO,CAAE,MAAO,OAAW,QAAS,MAAU,CAAG,EAC7D,EAAEZ,EAAGC,EAAK,CAAEA,EAAI,MAAQD,EAAE,OAAO,CAAG,EACpC,EAAEA,EAAGC,EAAK,CAAEA,EAAI,QAAUD,EAAE,OAAO,CAAG,CAC1C,ECjCO,IAAMa,GAAN,cAAyBC,EAAO,CACnCC,GACAC,GACAC,GACAC,GACAC,GACAC,GAEA,YAAYC,EAAQC,EAAU,CAC1B,MAAM,EACN,KAAKP,GAAUM,EACf,KAAKL,GAAYM,EACjB,KAAKL,GAAU,OACf,KAAKC,GAAS,IAAIK,GAAU,GAAK,IAAI,EACrC,KAAKJ,GAAU,OACf,KAAKC,GAAQ,EACjB,CACA,MAAM,KAAKI,EAAU,CACjB,GAAIA,EAAS,OAAS,KAClB,MAAM,IAAIC,EAAW,qCAAqC,EAE9D,KAAKR,GAAUO,EAAS,KAAK,UAAU,EACvC,IAAME,EAAW,MAAM,KAAKC,GAAUC,GAAqBA,EAAuB,EAClF,GAAIF,IAAa,OACb,MAAM,IAAID,EAAW,kCAAkC,EAE3D,OAAOC,CACX,CAEA,MAAO,CACH,OAAO,KAAKC,GAAUE,GAAkBA,EAAoB,CAChE,CAEA,OAAQ,CACJ,KAAK,WAAW,IAAIC,EAAY,4BAA4B,CAAC,CACjE,CAEA,WAAWC,EAAO,CACV,KAAKZ,KAAY,SAGrB,KAAKA,GAAUY,EACf,KAAKhB,GAAQ,cAAc,IAAI,EAC3B,KAAKE,KAAY,QACjB,KAAKA,GAAQ,OAAO,EAE5B,CAEA,IAAI,QAAS,CACT,OAAO,KAAKE,KAAY,MAC5B,CACA,KAAMQ,GAAUK,EAASC,EAAa,CAClC,OAAS,CACL,GAAI,KAAKb,GACL,OAEC,GAAI,KAAKD,KAAY,OACtB,MAAM,IAAIe,EAAY,mBAAoB,KAAKf,EAAO,EAE1D,GAAI,KAAKH,KAAc,OAAQ,CAC3B,IAAMmB,EAAW,KAAKC,GAAe,EACrC,GAAID,IAAa,OAAW,CACxB,IAAME,EAAW,IAAI,YAAY,EAAE,OAAOF,CAAQ,EAC5CG,EAAY,KAAK,MAAMD,CAAQ,EACrC,OAAaE,GAAeD,EAAWN,CAAO,CAClD,CACJ,SACS,KAAKhB,KAAc,WAAY,CACpC,IAAMwB,EAAe,KAAKC,GAAmB,EAC7C,GAAID,IAAiB,OACjB,OAAiBE,GAAoBF,EAAcP,CAAW,CAEtE,KAEI,OAAMU,EAAW,KAAK3B,GAAW,qBAAqB,EAE1D,GAAI,KAAKC,KAAY,OACjB,MAAM,IAAI2B,GAAc,yDAAyD,EAErF,GAAM,CAAE,MAAAC,EAAO,KAAAC,CAAK,EAAI,MAAM,KAAK7B,GAAQ,KAAK,EAChD,GAAI6B,GAAQ,KAAK5B,GAAO,SAAW,EAC/B,KAAKE,GAAQ,OAEZ,IAAI0B,EACL,MAAM,IAAIrB,EAAW,iCAAiC,EAGtD,KAAKP,GAAO,KAAK2B,CAAK,EAE9B,CACJ,CACAT,IAAiB,CACb,IAAMW,EAAO,KAAK7B,GAAO,KAAK,EAExB8B,EAAaD,EAAK,QADJ,EACuB,EAC3C,GAAIC,EAAa,EACb,OAEJ,IAAMb,EAAWY,EAAK,MAAM,EAAGC,CAAU,EACzC,YAAK9B,GAAO,MAAM8B,EAAa,CAAC,EACzBb,CACX,CACAM,IAAqB,CACjB,IAAMM,EAAO,KAAK7B,GAAO,KAAK,EAC1B+B,EAAc,EACdC,EAAe,EACnB,OAAS,CACL,GAAIA,GAAgBH,EAAK,WACrB,OAEJ,IAAMI,EAAOJ,EAAKG,CAAY,EAG9B,GAFAD,IAAgBE,EAAO,MAAU,EAAID,EACrCA,GAAgB,EACZ,EAAEC,EAAO,KACT,KAER,CACA,GAAIJ,EAAK,WAAaG,EAAeD,EACjC,OAEJ,IAAMT,EAAeO,EAAK,MAAMG,EAAcA,EAAeD,CAAW,EACxE,YAAK/B,GAAO,MAAMgC,EAAeD,CAAW,EACrCT,CACX,CACJ,ECpIO,SAASY,GAAgBC,EAAGC,EAAK,CAChCA,EAAI,QAAU,QACdD,EAAE,OAAO,QAASC,EAAI,KAAK,EAE/BD,EAAE,aAAa,WAAYC,EAAI,SAAUC,EAAa,CAC1D,CACA,SAASA,GAAcF,EAAGC,EAAK,CAE3B,GADAD,EAAE,UAAU,OAAQC,EAAI,IAAI,EACxBA,EAAI,OAAS,SAGZ,GAAIA,EAAI,OAAS,UAClBD,EAAE,OAAO,OAAQC,EAAI,KAAME,EAAI,UAE1BF,EAAI,OAAS,QAClBD,EAAE,OAAO,QAASC,EAAI,MAAOG,EAAK,UAE7BH,EAAI,OAAS,WACdA,EAAI,MAAQ,QACZD,EAAE,OAAO,MAAOC,EAAI,GAAG,EAEvBA,EAAI,QAAU,QACdD,EAAE,OAAO,SAAUC,EAAI,KAAK,UAG3BA,EAAI,OAAS,WACdA,EAAI,MAAQ,QACZD,EAAE,OAAO,MAAOC,EAAI,GAAG,EAEvBA,EAAI,QAAU,QACdD,EAAE,OAAO,SAAUC,EAAI,KAAK,UAG3BA,EAAI,OAAS,YAClBD,EAAE,OAAO,SAAUC,EAAI,KAAK,EAC5BD,EAAE,OAAO,MAAOC,EAAI,GAAG,UAElBA,EAAI,OAAS,YAClBD,EAAE,OAAO,SAAUC,EAAI,KAAK,UAEvBA,EAAI,OAAS,iBAIlB,MAAMI,EAAWJ,EAAK,kCAAkC,EAEhE,CACO,SAASK,GAAcN,EAAGC,EAAK,CAC9BA,EAAI,QAAU,QACdD,EAAE,OAAO,QAASC,EAAI,KAAK,EAE/BD,EAAE,OAAO,QAASC,EAAI,MAAOG,EAAK,CACtC,CCpDO,SAASG,GAAgBC,EAAGC,EAAK,CAChCA,EAAI,QAAU,QACdD,EAAE,OAAO,EAAGC,EAAI,KAAK,EAEzB,QAAWC,KAAOD,EAAI,SAClBD,EAAE,QAAQ,EAAGE,EAAKC,EAAa,CAEvC,CACA,SAASA,GAAcH,EAAGC,EAAK,CAC3B,GAAIA,EAAI,OAAS,QACbD,EAAE,QAAQ,EAAGC,EAAKG,EAAc,UAE3BH,EAAI,OAAS,UAClBD,EAAE,QAAQ,EAAGC,EAAKI,EAAgB,UAE7BJ,EAAI,OAAS,QAClBD,EAAE,QAAQ,EAAGC,EAAKK,EAAc,UAE3BL,EAAI,OAAS,WAClBD,EAAE,QAAQ,EAAGC,EAAKM,EAAiB,UAE9BN,EAAI,OAAS,WAClBD,EAAE,QAAQ,EAAGC,EAAKO,EAAiB,UAE9BP,EAAI,OAAS,YAClBD,EAAE,QAAQ,EAAGC,EAAKQ,EAAiB,UAE9BR,EAAI,OAAS,YAClBD,EAAE,QAAQ,EAAGC,EAAKS,EAAiB,UAE9BT,EAAI,OAAS,iBAClBD,EAAE,QAAQ,EAAGC,EAAKU,EAAsB,MAGxC,OAAMC,EAAWX,EAAK,kCAAkC,CAEhE,CACA,SAASG,GAAeS,EAAIC,EAAM,CAClC,CACA,SAAST,GAAiBL,EAAGC,EAAK,CAC9BD,EAAE,QAAQ,EAAGC,EAAI,KAAMc,EAAI,CAC/B,CACA,SAAST,GAAeN,EAAGC,EAAK,CAC5BD,EAAE,QAAQ,EAAGC,EAAI,MAAOe,EAAK,CACjC,CACA,SAAST,GAAkBP,EAAGC,EAAK,CAC3BA,EAAI,MAAQ,QACZD,EAAE,OAAO,EAAGC,EAAI,GAAG,EAEnBA,EAAI,QAAU,QACdD,EAAE,MAAM,EAAGC,EAAI,KAAK,CAE5B,CACA,SAASO,GAAkBR,EAAGC,EAAK,CAC3BA,EAAI,MAAQ,QACZD,EAAE,OAAO,EAAGC,EAAI,GAAG,EAEnBA,EAAI,QAAU,QACdD,EAAE,MAAM,EAAGC,EAAI,KAAK,CAE5B,CACA,SAASQ,GAAkBT,EAAGC,EAAK,CAC/BD,EAAE,MAAM,EAAGC,EAAI,KAAK,EACpBD,EAAE,OAAO,EAAGC,EAAI,GAAG,CACvB,CACA,SAASS,GAAkBV,EAAGC,EAAK,CAC/BD,EAAE,MAAM,EAAGC,EAAI,KAAK,CACxB,CACA,SAASU,GAAuBE,EAAIC,EAAM,CAC1C,CACO,SAASG,GAAcjB,EAAGC,EAAK,CAC9BA,EAAI,QAAU,QACdD,EAAE,OAAO,EAAGC,EAAI,KAAK,EAEzBD,EAAE,QAAQ,EAAGC,EAAI,MAAOe,EAAK,CACjC,CC5DO,IAAME,GAAN,cAAyBC,EAAO,CACnCC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GAEA,YAAYC,EAAQC,EAASC,EAAKC,EAAa,CAC3C,MAAMH,EAAO,OAAO,EACpB,KAAKZ,GAAUY,EACf,KAAKX,GAAWY,EAAQ,SAAS,EACjC,KAAKX,GAAOY,EACZ,KAAKX,GAASY,EACd,KAAKX,GAAS,OACd,KAAKC,GAAS,IAAIW,GAClB,KAAKV,GAAY,GACjB,KAAKE,GAAW,GAChB,KAAKC,GAAe,GACpB,KAAKC,GAAU,OACf,KAAKC,GAAc,IAAIM,EAC3B,CAEA,QAAS,CACL,OAAO,KAAKjB,EAChB,CAEA,WAAY,CACR,OAAO,IACX,CAEA,SAASkB,EAAK,CACV,IAAMC,EAAQ,KAAKR,GAAY,MAAM,EACrC,YAAKS,GAAmB,CAAE,KAAM,YAAa,MAAAD,EAAO,IAAAD,CAAI,CAAC,EAAE,KAAK,IAAG,GAAeG,GAAU,KAAK,WAAWA,CAAK,CAAC,EAC3G,IAAIC,GAAI,KAAMH,CAAK,CAC9B,CAEA,UAAUA,EAAO,CACT,KAAKT,KAAY,QAGrB,KAAKU,GAAmB,CAAE,KAAM,YAAa,MAAAD,CAAM,CAAC,EAAE,KAAK,IAAM,KAAKR,GAAY,KAAKQ,CAAK,EAAIE,GAAU,KAAK,WAAWA,CAAK,CAAC,CACpI,CAEA,SAASE,EAAM,CACX,OAAO,KAAKH,GAAmB,CAAE,KAAM,UAAW,KAAAG,CAAK,CAAC,EAAE,KAAMC,GACrDA,EAAS,MACnB,CACL,CAEA,OAAOC,EAAO,CACV,OAAO,KAAKL,GAAmB,CAAE,KAAM,QAAS,MAAAK,CAAM,CAAC,EAAE,KAAMD,GACpDA,EAAS,MACnB,CACL,CAEA,UAAUE,EAAU,CAChB,OAAO,KAAKN,GAAmB,CAC3B,KAAM,WACN,IAAKM,EAAS,IACd,MAAOA,EAAS,KACpB,CAAC,EAAE,KAAMF,GACEA,EAAS,MACnB,CACL,CAEA,UAAUE,EAAU,CAChB,OAAO,KAAKN,GAAmB,CAC3B,KAAM,WACN,IAAKM,EAAS,IACd,MAAOA,EAAS,KACpB,CAAC,EAAE,KAAMC,GAAc,CAEvB,CAAC,CACL,CAIA,eAAgB,CACZ,YAAK3B,GAAQ,eAAe,EAAG,iBAAiB,EACzC,KAAKoB,GAAmB,CAC3B,KAAM,gBACV,CAAC,EAAE,KAAMI,GACEA,EAAS,YACnB,CACL,CACAJ,GAAmBQ,EAAS,CACxB,OAAO,IAAI,QAAQ,CAACC,EAAkBC,IAAkB,CACpD,KAAKC,GAAa,CAAE,KAAM,WAAY,QAAAH,EAAS,iBAAAC,EAAkB,cAAAC,CAAc,CAAC,CACpF,CAAC,CACL,CAEA,YAAYL,EAAO,CACf,OAAO,IAAI,QAAQ,CAACO,EAAgBF,IAAkB,CAClD,KAAKC,GAAa,CAAE,KAAM,SAAU,MAAAN,EAAO,eAAAO,EAAgB,cAAAF,CAAc,CAAC,CAC9E,CAAC,CACL,CAEA,cAAcG,EAAQ,CAClB,GAAIA,IAAW,KAAK1B,GAChB,MAAM,IAAI2B,GAAc,8DAA8D,EAE1F,KAAK3B,GAAU,OACf4B,GAAe,IAAM,KAAKC,GAAY,CAAC,CAC3C,CAEA,OAAQ,CACJ,KAAK,WAAW,IAAIC,EAAY,4BAA4B,CAAC,CACjE,CAEA,iBAAkB,CACd,KAAK7B,GAAW,GAChB2B,GAAe,IAAM,KAAKC,GAAY,CAAC,CAC3C,CAEA,IAAI,QAAS,CACT,OAAO,KAAK1B,KAAY,QAAa,KAAKF,EAC9C,CAEA,WAAWa,EAAO,CACd,GAAI,KAAKX,KAAY,OAQrB,KALA,KAAKA,GAAUW,EACX,KAAKd,KAAY,QACjB,KAAKA,GAAQ,WAAWc,CAAK,EAEjC,KAAKrB,GAAQ,cAAc,IAAI,IACtB,CACL,IAAMsC,EAAQ,KAAKjC,GAAO,MAAM,EAChC,GAAIiC,IAAU,OACVA,EAAM,cAAcjB,CAAK,MAGzB,MAER,EACK,KAAKjB,KAAW,QAAa,KAAKE,KAAc,CAAC,KAAKG,KACvD,KAAKJ,GAAO,KAAK,CACb,KAAM,WACN,QAAS,CAAE,KAAM,OAAQ,EACzB,iBAAkB,IAAG,GACrB,cAAe,IAAG,EACtB,CAAC,EACD,KAAKI,GAAe,GACpB0B,GAAe,IAAM,KAAKC,GAAY,CAAC,GAE/C,CACAL,GAAaO,EAAO,CAChB,GAAI,KAAK5B,KAAY,OACjB,MAAM,IAAI6B,EAAY,mBAAoB,KAAK7B,EAAO,EAErD,GAAI,KAAKF,GACV,MAAM,IAAI+B,EAAY,oBAAqB,MAAS,EAGpD,KAAKlC,GAAO,KAAKiC,CAAK,EACtBH,GAAe,IAAM,KAAKC,GAAY,CAAC,CAE/C,CACAA,IAAc,CACV,GAAI,KAAK9B,IAAa,KAAKC,KAAY,OACnC,OAEJ,GAAI,KAAKC,IAAY,KAAKH,GAAO,SAAW,EAAG,CAC3C,KAAK,WAAW,IAAIgC,EAAY,8BAA8B,CAAC,EAC/D,MACJ,CACA,IAAMG,EAAW,KAAKxC,GAAQ,UAC9B,GAAIwC,IAAa,OAAW,CACxB,KAAKxC,GAAQ,iBAAiB,KAAK,IAAM,KAAKoC,GAAY,EAAIf,GAAU,KAAK,WAAWA,CAAK,CAAC,EAC9F,MACJ,CACA,IAAMoB,EAAa,KAAKpC,GAAO,MAAM,EACrC,GAAIoC,IAAe,OAGd,GAAIA,EAAW,OAAS,WAAY,CACrC,IAAMC,EAAW,CAACD,CAAU,EAC5B,OAAS,CACL,IAAMH,EAAQ,KAAKjC,GAAO,MAAM,EAChC,GAAIiC,IAAU,QAAaA,EAAM,OAAS,WACtCI,EAAS,KAAKJ,CAAK,EACnB,KAAKjC,GAAO,MAAM,UAEbiC,IAAU,QAAa,KAAK9B,IAAY,CAAC,KAAKC,GAAc,CACjEiC,EAAS,KAAK,CACV,KAAM,WACN,QAAS,CAAE,KAAM,OAAQ,EACzB,iBAAkB,IAAG,GACrB,cAAe,IAAG,EACtB,CAAC,EACD,KAAKjC,GAAe,GACpB,KACJ,KAEI,MAER,CACA,KAAKkC,GAAeH,EAAUE,CAAQ,CAC1C,SACSD,EAAW,OAAS,SACzB,KAAKG,GAAaJ,EAAUC,CAAU,MAGtC,OAAMI,EAAWJ,EAAY,+BAA+B,CAEpE,CACAE,GAAeH,EAAUE,EAAU,CAC/B,KAAKI,GAAO,IAAM,KAAKC,GAAuBL,EAAUF,CAAQ,EAAIQ,GAASC,GAAuBD,EAAMR,EAAS,QAAQ,EAAIU,GAAaA,EAAS,MAAQA,GAAaA,EAAS,QAAUA,GAAaC,GAAuBT,EAAUQ,CAAQ,EAAI7B,GAAUqB,EAAS,QAASJ,GAAUA,EAAM,cAAcjB,CAAK,CAAC,CAAC,CAC5T,CACAuB,GAAaJ,EAAUF,EAAO,CAC1B,IAAML,EAAS,IAAImB,GAAW,KAAMZ,EAAS,QAAQ,EACrD,KAAKjC,GAAU0B,EACf,KAAKa,GAAO,IAAM,KAAKO,GAAqBf,EAAOE,CAAQ,EAAIQ,GAASf,EAAO,KAAKe,CAAI,EAAIE,GAAaA,EAAS,MAAQA,GAAaA,EAAS,QAAUI,GAAchB,EAAM,eAAeL,CAAM,EAAIZ,GAAUiB,EAAM,cAAcjB,CAAK,CAAC,CAC/O,CACAyB,GAAOS,EAAeC,EAAgBC,EAAUC,EAAYC,EAAgBC,EAAa,CACrF,IAAIC,EACJ,GAAI,CACA,IAAMjC,EAAU2B,EAAc,EACxBO,EAAQ,KAAK3D,GACnB0D,EAAUC,EAAMlC,CAAO,CAC3B,OACOP,EAAO,CACVwC,EAAU,QAAQ,OAAOxC,CAAK,CAClC,CACA,KAAKf,GAAY,GACjBuD,EAAQ,KAAMb,GACLA,EAAK,GAKHQ,EAAeR,CAAI,EAJfe,GAAkBf,CAAI,EAAE,KAAM3B,GAAU,CAC3C,MAAMA,CACV,CAAC,CAGR,EAAE,KAAM2C,GAAM,CACX,KAAK5D,GAASqD,EAASO,CAAC,EACxB,KAAK/D,GAAWyD,EAAWM,CAAC,GAAK,KAAK/D,GACtC0D,EAAeK,CAAC,CACpB,CAAC,EAAE,MAAO3C,GAAU,CAChB,KAAK,WAAWA,CAAK,EACrBuC,EAAYvC,CAAK,CACrB,CAAC,EAAE,QAAQ,IAAM,CACb,KAAKf,GAAY,GACjB,KAAK8B,GAAY,CACrB,CAAC,CACL,CACAW,GAAuBL,EAAUF,EAAU,CACvC,OAAO,KAAKyB,GAAe,IAAI,IAAIzB,EAAS,aAAc,KAAKvC,EAAQ,EAAG,CACtE,MAAO,KAAKG,GACZ,SAAUsC,EAAS,IAAKJ,GAAUA,EAAM,OAAO,CACnD,EAAGE,EAAS,SAAU0B,GAAsBA,EAAwB,CACxE,CACAb,GAAqBf,EAAOE,EAAU,CAClC,GAAIA,EAAS,aAAe,OACxB,MAAM,IAAI2B,GAAqB,0GACkB3B,EAAS,OAAO,GAAG,EAExE,OAAO,KAAKyB,GAAe,IAAI,IAAIzB,EAAS,WAAY,KAAKvC,EAAQ,EAAG,CACpE,MAAO,KAAKG,GACZ,MAAOkC,EAAM,KACjB,EAAGE,EAAS,SAAU4B,GAAoBA,EAAsB,CACpE,CACAH,GAAeI,EAAKC,EAASC,EAAUC,EAASC,EAAa,CACzD,IAAIC,EACAC,EACJ,GAAIJ,IAAa,OACbG,EAAWE,GAAgBN,EAASE,CAAO,EAC3CG,EAAc,2BAETJ,IAAa,WAClBG,EAAWG,GAAqBP,EAASG,CAAW,EACpDE,EAAc,6BAGd,OAAM9B,EAAW0B,EAAU,qBAAqB,EAEpD,IAAMO,EAAU,IAAIC,GACpB,OAAAD,EAAQ,IAAI,eAAgBH,CAAW,EACnC,KAAKzE,KAAS,QACd4E,EAAQ,IAAI,gBAAiB,UAAU,KAAK5E,EAAI,EAAE,EAE/C,IAAI8E,GAAQX,EAAI,SAAS,EAAG,CAAE,OAAQ,OAAQ,QAAAS,EAAS,KAAMJ,CAAS,CAAC,CAClF,CACJ,EACA,SAASvB,GAAuBT,EAAUQ,EAAU,CAChD,GAAIA,EAAS,QAAQ,SAAWR,EAAS,OACrC,MAAM,IAAIuC,EAAW,uDAAuD,EAEhF,QAASC,EAAI,EAAGA,EAAIxC,EAAS,OAAQ,EAAEwC,EAAG,CACtC,IAAMC,EAASjC,EAAS,QAAQgC,CAAC,EAC3B5C,EAAQI,EAASwC,CAAC,EACxB,GAAIC,EAAO,OAAS,KAAM,CACtB,GAAIA,EAAO,SAAS,OAAS7C,EAAM,QAAQ,KACvC,MAAM,IAAI2C,EAAW,sCAAsC,EAE/D3C,EAAM,iBAAiB6C,EAAO,QAAQ,CAC1C,SACSA,EAAO,OAAS,QACrB7C,EAAM,cAAc8C,GAAeD,EAAO,KAAK,CAAC,MAE/C,OAAIA,EAAO,OAAS,OACf,IAAIF,EAAW,4CAA4C,EAG3DpC,EAAWsC,EAAQ,0CAA0C,CAE3E,CACJ,CACA,eAAelC,GAAuBD,EAAMuB,EAAU,CAClD,GAAIA,IAAa,OAAQ,CACrB,IAAMc,EAAW,MAAMrC,EAAK,KAAK,EACjC,OAAOsC,GAAeD,EAAUE,EAAqB,CACzD,CACA,GAAIhB,IAAa,WAAY,CACzB,IAAMiB,EAAW,MAAMxC,EAAK,YAAY,EACxC,OAAOyC,GAAoB,IAAI,WAAWD,CAAQ,EAAGD,EAAyB,CAClF,CACA,YAAMvC,EAAK,MAAM,OAAO,EAClBH,EAAW0B,EAAU,qBAAqB,CACpD,CACA,eAAeR,GAAkBf,EAAM,CACnC,IAAM0C,EAAW1C,EAAK,QAAQ,IAAI,cAAc,GAAK,aACjD2C,EAAU,+BAA+B3C,EAAK,MAAM,GACxD,GAAI0C,IAAa,mBAAoB,CACjC,IAAMxC,EAAW,MAAMF,EAAK,KAAK,EACjC,MAAI,YAAaE,EACNkC,GAAelC,CAAQ,EAE3B,IAAI0C,GAAgBD,EAAS3C,EAAK,MAAM,CACnD,CACA,GAAI0C,IAAa,aAAc,CAC3B,IAAMxC,GAAY,MAAMF,EAAK,KAAK,GAAG,KAAK,EAC1C,OAAIE,IAAa,KACbyC,GAAW,KAAKzC,CAAQ,IAErB,IAAI0C,GAAgBD,EAAS3C,EAAK,MAAM,CACnD,CACA,aAAMA,EAAK,MAAM,OAAO,EACjB,IAAI4C,GAAgBD,EAAS3C,EAAK,MAAM,CACnD,CCtWO,IAAM6C,GAAiB,CAC1B,CACI,YAAa,cACb,aAAc,uBACd,WAAY,qBACZ,QAAS,EACT,SAAU,UACd,CAUJ,EACMC,GAAmB,CACrB,YAAa,KACb,aAAc,cACd,WAAY,OACZ,QAAS,EACT,SAAU,MACd,EAEaC,GAAN,cAAyBC,EAAO,CACnCC,GACAC,GACAC,GACAC,GACAC,GAEA,iBAEA,UAEA,YAAYC,EAAKC,EAAKC,EAAaC,EAAkB,EAAG,CACpD,MAAM,EACN,KAAKR,GAAOK,EACZ,KAAKJ,GAAOK,EACZ,KAAKJ,GAASK,GAAeE,GAC7B,KAAKN,GAAU,OACf,KAAKC,GAAW,IAAI,IAChBI,GAAmB,GACnB,KAAK,iBAAmBE,GAAa,KAAKR,GAAQ,KAAKF,EAAI,EAC3D,KAAK,iBAAiB,KAAMW,GAAa,KAAK,UAAYA,EAAWC,GAAU,KAAKC,GAAWD,CAAK,CAAC,IAGrG,KAAK,iBAAmB,QAAQ,QAAQf,EAAgB,EACxD,KAAK,iBAAiB,KAAMc,GAAa,KAAK,UAAYA,EAAWC,GAAU,KAAKC,GAAWD,CAAK,CAAC,EAE7G,CAEA,MAAM,YAAa,CACf,OAAI,KAAK,YAAc,OACZ,KAAK,UAAU,SAElB,MAAM,KAAK,kBAAkB,OACzC,CAGA,eAAeE,EAAYC,EAAS,CAChC,GAAI,EAAAD,GAAcjB,GAAiB,SAG9B,IAAI,KAAK,YAAc,OACxB,MAAM,IAAImB,GAAqB,GAAGD,CAAO,0CAA0CD,CAAU,6IAExB,EAEpE,GAAI,KAAK,UAAU,QAAUA,EAC9B,MAAM,IAAIE,GAAqB,GAAGD,CAAO,0CAA0CD,CAAU,0DAC5C,KAAK,UAAU,OAAO,GAAG,EAElF,CAEA,YAAa,CACT,GAAI,KAAKX,KAAY,OACjB,MAAM,IAAIc,EAAY,mBAAoB,KAAKd,EAAO,EAE1D,IAAMe,EAAS,IAAIC,GAAW,KAAM,KAAKnB,GAAM,KAAKC,GAAM,KAAKC,EAAM,EACrE,YAAKE,GAAS,IAAIc,CAAM,EACjBA,CACX,CAEA,cAAcA,EAAQ,CAClB,KAAKd,GAAS,OAAOc,CAAM,CAC/B,CAEA,OAAQ,CACJ,KAAKL,GAAW,IAAIO,EAAY,4BAA4B,CAAC,CACjE,CAEA,IAAI,QAAS,CACT,OAAO,KAAKjB,KAAY,MAC5B,CACAU,GAAWD,EAAO,CACd,GAAI,KAAKT,KAAY,OAGrB,MAAKA,GAAUS,EACf,QAAWM,KAAU,MAAM,KAAK,KAAKd,EAAQ,EACzCc,EAAO,WAAW,IAAID,EAAY,oBAAqBL,CAAK,CAAC,EAErE,CACJ,EACA,eAAeF,GAAaH,EAAac,EAAW,CAChD,IAAMC,EAAQf,EACd,QAAWI,KAAYf,GAAgB,CACnC,IAAMS,EAAM,IAAI,IAAIM,EAAS,YAAaU,CAAS,EAC7CE,EAAU,IAAIC,GAAQnB,EAAI,SAAS,EAAG,CAAE,OAAQ,KAAM,CAAC,EACvDoB,EAAW,MAAMH,EAAMC,CAAO,EAEpC,GADA,MAAME,EAAS,YAAY,EACvBA,EAAS,GACT,OAAOd,CAEf,CACA,OAAOd,EACX,CCxGO,SAAS6B,GAAOC,EAAKC,EAAKC,EAAkB,EAAG,CAClD,GAAI,OAAOC,GAAc,IACrB,MAAM,IAAIC,GAA0B,kDAAkD,EAE1F,IAAIC,EAAe,OACfH,GAAmB,EACnBG,EAAe,MAAM,KAAKC,GAAe,KAAK,CAAC,EAG/CD,EAAe,MAAM,KAAKE,GAAe,KAAK,CAAC,EAEnD,IAAMC,EAAS,IAAIL,GAAUH,EAAKK,CAAY,EAC9C,OAAO,IAAII,GAASD,EAAQP,CAAG,CACnC,CAOO,SAASS,GAASV,EAAKC,EAAKU,EAAaT,EAAkB,EAAG,CACjE,OAAO,IAAIU,GAAWZ,aAAe,IAAMA,EAAM,IAAI,IAAIA,CAAG,EAAGC,EAAKU,EAAaT,CAAe,CACpG,CCtCO,IAAMW,GAAN,KAAuB,CAC1BC,GACAC,GAGAC,GAEA,YAAYC,EAAMC,EAAS,CACvB,KAAKJ,GAAQG,EACb,KAAKF,GAAWG,EAChB,KAAKF,GAAW,MACpB,CACA,QAAQG,EAAM,CACV,OAAO,KAAK,MAAM,CAACA,CAAI,CAAC,EAAE,KAAMC,GAAYA,EAAQ,CAAC,CAAC,CAC1D,CACA,MAAM,MAAMC,EAAO,CACf,IAAMC,EAAS,KAAK,WAAW,EAC/B,GAAIA,EAAO,OACP,MAAM,IAAIC,EAAY,8DAA+D,oBAAoB,EAE7G,GAAI,CACA,IAAMC,EAAaH,EAAM,IAAII,EAAW,EACpCC,EACJ,GAAI,KAAKV,KAAa,OAAW,CAG7B,KAAK,aAAa,EAAE,MAAMQ,CAAU,EACpC,IAAMG,EAAQL,EAAO,MAAM,KAAKP,IAAY,CAAC,EACvCa,EAAYD,EAAM,KAAK,EACvBE,EAAeD,EAAU,IAAIE,GAAuB,KAAKhB,EAAK,CAAC,EAGjEiB,EAAWH,EACfF,EAAeF,EAAW,IAAKQ,GAAc,CACzC,IAAMC,EAAWN,EACZ,KAAK,EACL,UAAgBO,EAAU,GAAGH,CAAQ,CAAC,EACvC,KAAKhB,IAAY,GAEjBkB,EAAS,UAAgBC,EAAU,IAAUA,EAAU,aAAaP,CAAK,CAAC,CAAC,EAE/E,IAAMQ,EAAcF,EAAS,MAAMD,CAAS,EAC5C,OAAAG,EAAY,MAAM,IAAG,EAAY,EACjCJ,EAAWE,EACJE,CACX,CAAC,EAGD,KAAKnB,GAAWW,EACX,QAAQ,EACR,KAAK,IAAME,CAAY,EACvB,KAAK,IAAG,EAAY,EACzB,GAAI,CACA,MAAM,KAAKb,EACf,OACOoB,EAAG,CAGN,WAAK,MAAM,EACLA,CACV,CACJ,KACK,CACG,KAAKrB,GAAW,GAGhB,MAAM,KAAKC,GAOf,KAAK,aAAa,EAAE,MAAMQ,CAAU,EACpC,IAAMG,EAAQL,EAAO,MAAM,KAAKP,IAAY,CAAC,EACzCgB,EACJL,EAAeF,EAAW,IAAKQ,GAAc,CACzC,IAAMC,EAAWN,EAAM,KAAK,EACxBI,IAAa,QACbE,EAAS,UAAgBC,EAAU,GAAGH,CAAQ,CAAC,EAE/C,KAAKhB,IAAY,GACjBkB,EAAS,UAAgBC,EAAU,IAAUA,EAAU,aAAaP,CAAK,CAAC,CAAC,EAE/E,IAAMQ,EAAcF,EAAS,MAAMD,CAAS,EAC5C,OAAAG,EAAY,MAAM,IAAG,EAAY,EACjCJ,EAAWE,EACJE,CACX,CAAC,EACD,MAAMR,EAAM,QAAQ,CACxB,CACA,IAAMU,EAAa,CAAC,EACpB,QAAWF,KAAeT,EAAc,CACpC,IAAMY,EAAO,MAAMH,EACnB,GAAIG,IAAS,OACT,MAAM,IAAIf,EAAY,qGACuC,oBAAoB,EAErFc,EAAW,KAAKE,GAAmBD,CAAI,CAAC,CAC5C,CACA,OAAOD,CACX,OACOD,EAAG,CACN,MAAMI,EAAcJ,CAAC,CACzB,CACJ,CACA,MAAM,gBAAgBK,EAAK,CACvB,IAAMnB,EAAS,KAAK,WAAW,EAC/B,GAAIA,EAAO,OACP,MAAM,IAAIC,EAAY,8DAA+D,oBAAoB,EAE7G,GAAI,CACA,GAAI,KAAKP,KAAa,OAAW,CAE7B,KAAKA,GAAWM,EACX,IAAIQ,GAAuB,KAAKhB,EAAK,CAAC,EACtC,KAAK,IAAG,EAAY,EACzB,GAAI,CACA,MAAM,KAAKE,EACf,OACOoB,EAAG,CACN,WAAK,MAAM,EACLA,CACV,CACJ,MAGI,MAAM,KAAKpB,GAEf,MAAMM,EAAO,SAASmB,CAAG,CAC7B,OACOL,EAAG,CACN,MAAMI,EAAcJ,CAAC,CACzB,CACJ,CACA,MAAM,UAAW,CACb,GAAI,CACA,IAAMd,EAAS,KAAK,WAAW,EAI/B,GAHIA,EAAO,QAGP,KAAKN,KAAa,OAMlB,OAGJ,IAAM0B,EAAUpB,EAAO,IAAI,UAAU,EAAE,MAAOc,GAAM,CAChD,MAAMI,EAAcJ,CAAC,CACzB,CAAC,EACDd,EAAO,gBAAgB,EACvB,MAAMoB,CACV,OACO,EAAG,CACN,MAAMF,EAAc,CAAC,CACzB,QACA,CAKI,KAAK,MAAM,CACf,CACJ,CACA,MAAM,QAAS,CAEX,GAAI,CACA,IAAMlB,EAAS,KAAK,WAAW,EAC/B,GAAIA,EAAO,OACP,MAAM,IAAIC,EAAY,6DAA8D,oBAAoB,EAE5G,GAAI,KAAKP,KAAa,OAElB,MAAM,KAAKA,OAGX,QAEJ,IAAM0B,EAAUpB,EAAO,IAAI,QAAQ,EAAE,MAAOc,GAAM,CAC9C,MAAMI,EAAcJ,CAAC,CACzB,CAAC,EACDd,EAAO,gBAAgB,EACvB,MAAMoB,CACV,OACO,EAAG,CACN,MAAMF,EAAc,CAAC,CACzB,QACA,CACI,KAAK,MAAM,CACf,CACJ,CACJ,EACA,eAAsBG,GAAkB1B,EAAMC,EAASS,EAAOH,EAAYoB,EAAqB,GAAO,CAC9FA,GACAjB,EAAM,KAAK,EAAE,IAAI,yBAAyB,EAE9C,IAAMC,EAAYD,EAAM,KAAK,EACvBE,EAAeD,EAAU,IAAIE,GAAuBb,CAAI,CAAC,EAC3Dc,EAAWH,EACTiB,EAAerB,EAAW,IAAKQ,GAAc,CAC/C,IAAMC,EAAWN,EAAM,KAAK,EAAE,UAAgBO,EAAU,GAAGH,CAAQ,CAAC,EAChEb,GAAW,GACXe,EAAS,UAAgBC,EAAU,IAAUA,EAAU,aAAaP,CAAK,CAAC,CAAC,EAE/E,IAAMmB,EAAcb,EAAS,MAAMD,CAAS,EAC5C,OAAAD,EAAWE,EACJa,CACX,CAAC,EACKC,EAAapB,EAAM,KAAK,EAAE,UAAgBO,EAAU,GAAGH,CAAQ,CAAC,EAClEb,GAAW,GACX6B,EAAW,UAAgBb,EAAU,IAAUA,EAAU,aAAaP,CAAK,CAAC,CAAC,EAEjF,IAAMqB,EAAgBD,EAAW,IAAI,QAAQ,EACxBpB,EAChB,KAAK,EACL,UAAgBO,EAAU,IAAUA,EAAU,GAAGa,CAAU,CAAC,CAAC,EACrD,IAAI,UAAU,EAAE,MAAOE,GAAG,EAAY,EAC/CL,GACAjB,EAAM,KAAK,EAAE,IAAI,wBAAwB,EAE7C,MAAMA,EAAM,QAAQ,EACpB,IAAMU,EAAa,CAAC,EACpB,MAAMR,EACN,QAAWiB,KAAeD,EAAc,CACpC,IAAMK,EAAY,MAAMJ,EACxB,GAAII,IAAc,OACd,MAAM,IAAI3B,EAAY,+FAAgG,oBAAoB,EAE9Ic,EAAW,KAAKE,GAAmBW,CAAS,CAAC,CACjD,CACA,aAAMF,EACCX,CACX,CACO,SAASZ,GAAYN,EAAM,CAC9B,IAAIsB,EACAU,EACA,MAAM,QAAQhC,CAAI,EAClB,CAACsB,EAAKU,CAAI,EAAIhC,EAET,OAAOA,GAAS,SACrBsB,EAAMtB,GAGNsB,EAAMtB,EAAK,IACXgC,EAAOhC,EAAK,MAEhB,IAAMa,EAAY,IAAUoB,GAAKX,CAAG,EACpC,GAAIU,EACA,GAAI,MAAM,QAAQA,CAAI,EAClBnB,EAAU,YAAYmB,CAAI,MAG1B,QAAW,CAACE,EAAKC,CAAK,IAAK,OAAO,QAAQH,CAAI,EAC1CnB,EAAU,SAASqB,EAAKC,CAAK,EAIzC,OAAOtB,CACX,CACO,SAASO,GAAmBW,EAAW,CAC1C,IAAMK,EAAUL,EAAU,YAAY,IAAKM,GAAMA,GAAK,EAAE,EAClDC,EAAcP,EAAU,gBAAgB,IAAKM,GAAMA,GAAK,EAAE,EAC1DlB,EAAOY,EAAU,KACjBQ,EAAeR,EAAU,iBACzBS,EAAkBT,EAAU,kBAAoB,OAChDA,EAAU,gBACV,OACN,OAAO,IAAIU,GAAcL,EAASE,EAAanB,EAAMoB,EAAcC,CAAe,CACtF,CACO,SAASnB,EAAcJ,EAAG,CAC7B,GAAIA,aAAmByB,EAAa,CAChC,IAAMC,EAAOC,GAAkB3B,CAAC,EAChC,OAAO,IAAIb,EAAYa,EAAE,QAAS0B,EAAM,OAAW1B,CAAC,CACxD,CACA,OAAOA,CACX,CACA,SAAS2B,GAAkB3B,EAAG,CAC1B,OAAIA,aAAmB4B,IAAiB5B,EAAE,OAAS,OACxCA,EAAE,KAEJA,aAAmB6B,EACjB,oBAEF7B,aAAmB8B,EACjB9B,EAAE,iBAAuByB,EAC1BE,GAAkB3B,EAAE,KAAK,EACzB,qBAEDA,aAAmB+B,GACjB,wBAEF/B,aAAmBgC,GACjB,eAEFhC,aAAmBiC,GACjB,yBAEFjC,aAAmBkC,GACjB,iBAGA,SAEf,CCrTO,IAAMC,GAAN,KAAe,CAClBC,GACAC,GACA,SACA,YAAYC,EAAOC,EAAU,CACzB,KAAKH,GAASE,EACd,KAAKD,GAAQ,IAAIG,GACjB,KAAK,SAAWD,CACpB,CAQA,MAAME,EAAY,CACd,GAAI,KAAK,UAAY,EACjB,OAEJ,IAAMC,EAAc,IAAI,IACxB,QAAWC,KAAaF,EAAY,CAChC,GAAI,OAAOE,EAAU,KAAQ,SACzB,SAEJ,IAAMC,EAAUD,EAAU,IAG1B,GAAIC,EAAQ,QAAU,IAClB,SAEJ,IAAIC,EAAS,KAAKR,GAAM,IAAIO,CAAO,EACnC,GAAIC,IAAW,OAAW,CACtB,KAAO,KAAKR,GAAM,KAAO,EAAI,KAAK,UAAU,CACxC,GAAM,CAACS,EAAcC,CAAW,EAAI,KAAKV,GAAM,QAAQ,EACvD,GAAIK,EAAY,IAAIK,CAAW,EAG3B,MAEJA,EAAY,MAAM,EAClB,KAAKV,GAAM,OAAOS,CAAY,CAClC,CACI,KAAKT,GAAM,KAAO,GAAK,KAAK,WAC5BQ,EAAS,KAAKT,GAAO,SAASQ,CAAO,EACrC,KAAKP,GAAM,IAAIO,EAASC,CAAM,EAEtC,CACIA,IAAW,SACXF,EAAU,IAAME,EAChBH,EAAY,IAAIG,CAAM,EAE9B,CACJ,CACJ,EACML,GAAN,KAAU,CAGNQ,GACA,aAAc,CACV,KAAKA,GAAS,IAAI,GACtB,CACA,IAAIC,EAAK,CACL,IAAMC,EAAQ,KAAKF,GAAO,IAAIC,CAAG,EACjC,OAAIC,IAAU,SAEV,KAAKF,GAAO,OAAOC,CAAG,EACtB,KAAKD,GAAO,IAAIC,EAAKC,CAAK,GAEvBA,CACX,CACA,IAAID,EAAKC,EAAO,CACZ,KAAKF,GAAO,IAAIC,EAAKC,CAAK,CAC9B,CACA,SAAU,CACN,QAAWC,KAAS,KAAKH,GAAO,QAAQ,EACpC,OAAOG,CAGf,CACA,OAAOF,EAAK,CACR,KAAKD,GAAO,OAAOC,CAAG,CAC1B,CACA,IAAI,MAAO,CACP,OAAO,KAAKD,GAAO,IACvB,CACJ,EC/EA,IAAAI,GAAyB,WAMlB,SAASC,GAAcC,EAAQ,CAClC,GAAIA,EAAO,SAAW,OAASA,EAAO,SAAW,KAC7C,MAAM,IAAIC,EAAY,4EACX,KAAK,UAAUD,EAAO,OAAS,GAAG,CAAC,uCAAuCE,EAAgB,GAAI,0BAA0B,EAEvI,GAAIF,EAAO,gBAAkB,OACzB,MAAM,IAAIC,EAAY,wDAAyD,8BAA8B,EAEjH,GAAID,EAAO,SAAW,MAAQA,EAAO,IACjC,MAAM,IAAIC,EAAY,kDAAmD,aAAa,EAErF,GAAID,EAAO,SAAW,OAAS,CAACA,EAAO,IACxC,MAAM,IAAIC,EAAY,qDAAsD,aAAa,EAE7F,IAAME,EAAMC,GAAcJ,EAAO,OAAQA,EAAO,UAAWA,EAAO,IAAI,EAClEK,EACJ,GAAI,CACAA,EAAeC,GAAOH,EAAKH,EAAO,SAAS,CAC/C,OACOO,EAAG,CACN,GAAIA,aAAmBC,GAA2B,CAC9C,IAAMC,EAAkBT,EAAO,SAAW,MAAQ,QAAU,OACtDU,EAAeN,GAAcK,EAAiBT,EAAO,UAAWA,EAAO,IAAI,EACjF,MAAM,IAAIC,EAAY,8FACZQ,CAAe,WAAW,KAAK,UAAUC,CAAY,CAAC,wCACvBR,EAAgB,GAAI,0BAA0B,CAC3F,CACA,MAAMS,EAAcJ,CAAC,CACzB,CACA,OAAO,IAAIK,GAASP,EAAQF,EAAKH,EAAO,UAAWA,EAAO,QAASA,EAAO,WAAW,CACzF,CACA,IAAMa,GAAmB,GAAK,IACxBC,GAAmB,IACZF,GAAN,KAAe,CAClBG,GACAC,GACAC,GAGAC,GAEAC,GACA,OACA,SACAC,GACAC,GAEA,YAAYhB,EAAQF,EAAKmB,EAAWC,EAASC,EAAa,CACtD,KAAKT,GAAOZ,EACZ,KAAKa,GAAaM,EAClB,KAAKL,GAAWM,EAChB,KAAKL,GAAa,KAAKO,GAAUpB,CAAM,EACvC,KAAKc,GAAmB,OACxB,KAAK,OAAS,GACd,KAAK,SAAW,KAChB,KAAKE,MAAwB,GAAAK,SAAaF,CAAW,CACzD,CACA,MAAM,MAAMG,EAAI,CACZ,OAAO,KAAKN,GAAsBM,CAAE,CACxC,CACA,MAAM,QAAQC,EAAWC,EAAM,CAC3B,IAAIC,EACJ,OAAI,OAAOF,GAAc,SACrBE,EAAO,CACH,IAAKF,EACL,KAAMC,GAAQ,CAAC,CACnB,EAGAC,EAAOF,EAEJ,KAAK,MAAM,SAAY,CAC1B,IAAMG,EAAc,MAAM,KAAKC,GAAY,EAC3C,GAAI,CACA,IAAMC,EAAYC,GAAYJ,CAAI,EAGlCC,EAAY,KAAK,SAAS,MAAM,CAACE,CAAS,CAAC,EAC3C,IAAME,EAAmBJ,EAAY,OAAO,MAAME,CAAS,EAC3DF,EAAY,OAAO,gBAAgB,EACnC,IAAMK,EAAkB,MAAMD,EAC9B,OAAOE,GAAmBD,CAAe,CAC7C,OACO7B,EAAG,CACN,MAAMI,EAAcJ,CAAC,CACzB,QACA,CACI,KAAK,aAAawB,CAAW,CACjC,CACJ,CAAC,CACL,CACA,MAAM,MAAMO,EAAOC,EAAO,WAAY,CAClC,OAAO,KAAK,MAAM,SAAY,CAC1B,IAAMR,EAAc,MAAM,KAAKC,GAAY,EAC3C,GAAI,CAUA,IAAMQ,EATkBF,EAAM,IAAKR,GAC3B,MAAM,QAAQA,CAAI,EACX,CACH,IAAKA,EAAK,CAAC,EACX,KAAMA,EAAK,CAAC,GAAK,CAAC,CACtB,EAEGA,CACV,EACkC,IAAII,EAAW,EAC5CO,EAAU,MAAMV,EAAY,KAAK,OAAO,WAAW,EAGzDA,EAAY,KAAK,SAAS,MAAMS,CAAU,EAC1C,IAAME,EAAQX,EAAY,OAAO,MAAMU,GAAW,CAAC,EAGnD,OADgB,MADOE,GAAkBJ,EAAME,EAASC,EAAOF,CAAU,CAG7E,OACOjC,EAAG,CACN,MAAMI,EAAcJ,CAAC,CACzB,QACA,CACI,KAAK,aAAawB,CAAW,CACjC,CACJ,CAAC,CACL,CACA,MAAM,QAAQO,EAAO,CACjB,OAAO,KAAK,MAAM,SAAY,CAC1B,IAAMP,EAAc,MAAM,KAAKC,GAAY,EAC3C,GAAI,CACA,IAAMQ,EAAaF,EAAM,IAAIJ,EAAW,EAClCO,EAAU,MAAMV,EAAY,KAAK,OAAO,WAAW,EAGnDW,EAAQX,EAAY,OAAO,MAAMU,GAAW,CAAC,EAGnD,OADgB,MADOE,GAAkB,WAAYF,EAASC,EAAOF,EAAY,EAAI,CAGzF,OACOjC,EAAG,CACN,MAAMI,EAAcJ,CAAC,CACzB,QACA,CACI,KAAK,aAAawB,CAAW,CACjC,CACJ,CAAC,CACL,CACA,MAAM,YAAYQ,EAAO,QAAS,CAC9B,OAAO,KAAK,MAAM,SAAY,CAC1B,IAAMR,EAAc,MAAM,KAAKC,GAAY,EAC3C,GAAI,CACA,IAAMS,EAAU,MAAMV,EAAY,KAAK,OAAO,WAAW,EAGzD,OAAO,IAAIa,GAAc,KAAMb,EAAaQ,EAAME,CAAO,CAC7D,OACOlC,EAAG,CACN,WAAK,aAAawB,CAAW,EACvBpB,EAAcJ,CAAC,CACzB,CACJ,CAAC,CACL,CACA,MAAM,gBAAgBsC,EAAK,CACvB,OAAO,KAAK,MAAM,SAAY,CAC1B,IAAMd,EAAc,MAAM,KAAKC,GAAY,EAC3C,GAAI,CAGA,IAAMc,EAAUf,EAAY,OAAO,SAASc,CAAG,EAC/Cd,EAAY,OAAO,gBAAgB,EACnC,MAAMe,CACV,OACOvC,EAAG,CACN,MAAMI,EAAcJ,CAAC,CACzB,QACA,CACI,KAAK,aAAawB,CAAW,CACjC,CACJ,CAAC,CACL,CACA,MAAO,CACH,MAAM,IAAI9B,EAAY,gCAAiC,oBAAoB,CAC/E,CACA,KAAM+B,IAAc,CAChB,GAAI,KAAK,OACL,MAAM,IAAI/B,EAAY,uBAAwB,eAAe,EAIjE,GAFY,IAAI,KAAK,EACC,QAAQ,EAAI,KAAKiB,GAAW,SAAS,QAAQ,EACnDL,IACZ,KAAKM,KAAqB,OAAW,CAErC,IAAM4B,EAAkB,KAAKtB,GAAU,EACvC,KAAKN,GAAmB4B,EAQxBA,EAAgB,OAAO,WAAW,EAAE,KAAMC,GAAa,CAC/C,KAAK9B,KAAe6B,GAGhB,KAAK7B,GAAW,aAAa,OAAS,GACtC,KAAKA,GAAW,OAAO,MAAM,EAQrC,KAAKA,GAAa6B,EAClB,KAAK5B,GAAmB,MAC5B,EAAI8B,GAAO,CAGP,KAAK9B,GAAmB,MAC5B,CAAC,CACL,CACA,GAAI,KAAKD,GAAW,OAAO,OAEvB,GAAI,CACI,KAAKC,KAAqB,OAG1B,KAAKD,GAAa,KAAKC,GAGvB,KAAKD,GAAa,KAAKO,GAAU,CAEzC,OACOlB,EAAG,CACN,MAAMI,EAAcJ,CAAC,CACzB,CAEJ,IAAM2C,EAAY,KAAKhC,GACvB,GAAI,CAIIgC,EAAU,cAAgB,SAC1BA,EAAU,YACL,MAAMA,EAAU,OAAO,WAAW,GAAM,EACzCA,EAAU,cACVA,EAAU,SAAS,SAAWpC,KAGtC,IAAMqC,EAASD,EAAU,OAAO,WAAW,EAC3CC,EAAO,QAAU,KAAKlC,GACtB,IAAMc,EAAc,CAAE,KAAMmB,EAAW,OAAAC,CAAO,EAC9C,OAAAD,EAAU,aAAa,IAAInB,CAAW,EAC/BA,CACX,OACOxB,EAAG,CACN,MAAMI,EAAcJ,CAAC,CACzB,CACJ,CACAkB,GAAUpB,EAAQ,CACd,GAAI,CACA,OAAAA,IAAiBC,GAAO,KAAKS,GAAM,KAAKC,EAAU,EAC3C,CACH,OAAAX,EACA,YAAa,OACb,SAAU,IAAI+C,GAAS/C,EAAQ,CAAC,EAChC,SAAU,IAAI,KACd,aAAc,IAAI,GACtB,CACJ,OACOE,EAAG,CACN,MAAMI,EAAcJ,CAAC,CACzB,CACJ,CACA,MAAM,WAAY,CACd,GAAI,CACA,QAAW8C,KAAM,MAAM,KAAK,KAAKnC,GAAW,YAAY,EACpD,GAAI,CACAmC,EAAG,OAAO,MAAM,CACpB,MACM,CAAE,CAEZ,KAAKnC,GAAW,OAAO,MAAM,CACjC,MACM,CAAE,CACR,GAAI,KAAKC,GAAkB,CACvB,GAAI,CACA,KAAKA,GAAiB,OAAO,MAAM,CACvC,MACM,CAAE,CACR,KAAKA,GAAmB,MAC5B,CACA,IAAMmC,EAAO,KAAK7B,GAAU,EACtBgB,EAAU,MAAMa,EAAK,OAAO,WAAW,EAC7CA,EAAK,YAAcb,GAAW,EAC1Ba,EAAK,cACLA,EAAK,SAAS,SAAWxC,IAE7B,KAAKI,GAAaoC,EAClB,KAAK,OAAS,EAClB,CACA,aAAavB,EAAa,CACtBA,EAAY,OAAO,MAAM,EACzB,IAAMmB,EAAYnB,EAAY,KAC9BmB,EAAU,aAAa,OAAOnB,CAAW,EACrCmB,EAAU,aAAa,OAAS,GAChCA,IAAc,KAAKhC,IAGnBgC,EAAU,OAAO,MAAM,CAE/B,CACA,OAAQ,CAGJ,GAFA,KAAKhC,GAAW,OAAO,MAAM,EAC7B,KAAK,OAAS,GACV,KAAKC,GAAkB,CACvB,GAAI,CACA,KAAKA,GAAiB,OAAO,MAAM,CACvC,MACM,CAAE,CACR,KAAKA,GAAmB,MAC5B,CACA,KAAK,OAAS,EAClB,CACJ,EACayB,GAAN,cAA4BW,EAAiB,CAChDC,GACAC,GAEA,YAAYpD,EAAQqD,EAAOnB,EAAME,EAAS,CACtC,MAAMF,EAAME,CAAO,EACnB,KAAKe,GAAUnD,EACf,KAAKoD,GAAeC,CACxB,CAEA,YAAa,CACT,OAAO,KAAKD,GAAa,MAC7B,CAEA,cAAe,CACX,OAAO,KAAKA,GAAa,KAAK,QAClC,CACA,OAAQ,CACJ,KAAKD,GAAQ,aAAa,KAAKC,EAAY,CAC/C,CACA,IAAI,QAAS,CACT,OAAO,KAAKA,GAAa,OAAO,MACpC,CACJ,EC/VA,IAAAE,GAAyB,WAMlB,SAASC,GAAcC,EAAQ,CAClC,GAAIA,EAAO,SAAW,SAAWA,EAAO,SAAW,OAC/C,MAAM,IAAIC,EAAY,2EACX,KAAK,UAAUD,EAAO,OAAS,GAAG,CAAC,uCAAuCE,EAAgB,GAAI,0BAA0B,EAEvI,GAAIF,EAAO,gBAAkB,OACzB,MAAM,IAAIC,EAAY,wDAAyD,8BAA8B,EAEjH,GAAID,EAAO,SAAW,QAAUA,EAAO,IACnC,MAAM,IAAIC,EAAY,oDAAqD,aAAa,EAEvF,GAAID,EAAO,SAAW,SAAW,CAACA,EAAO,IAC1C,MAAM,IAAIC,EAAY,uDAAwD,aAAa,EAE/F,IAAME,EAAMC,GAAcJ,EAAO,OAAQA,EAAO,UAAWA,EAAO,IAAI,EACtE,OAAO,IAAIK,GAAWF,EAAKH,EAAO,UAAWA,EAAO,QAASA,EAAO,MAAOA,EAAO,WAAW,CACjG,CACA,IAAMM,GAAmB,GACZD,GAAN,KAAiB,CACpBE,GACA,SACAC,GACAC,GACAC,GACAC,GACAC,GACAC,GAEA,YAAYV,EAAKW,EAAWC,EAASC,EAAaC,EAAa,CAC3D,KAAKT,GAAOL,EACZ,KAAKS,GAAaE,EAClB,KAAKL,GAAWM,EAChB,KAAKL,GAAeM,EACpB,KAAKL,GAAeM,EACpB,KAAKV,GAAgBW,GAAS,KAAKV,GAAM,KAAKI,GAAY,KAAKF,EAAY,EAC3E,KAAKH,GAAQ,QAAU,KAAKE,GAC5B,KAAK,SAAW,OAChB,KAAKI,MAAwB,GAAAM,SAAa,KAAKR,EAAY,CAC/D,CACA,MAAM,MAAMS,EAAI,CACZ,OAAO,KAAKP,GAAsBO,CAAE,CACxC,CACA,MAAM,QAAQC,EAAWC,EAAM,CAC3B,IAAIC,EACJ,OAAI,OAAOF,GAAc,SACrBE,EAAO,CACH,IAAKF,EACL,KAAMC,GAAQ,CAAC,CACnB,EAGAC,EAAOF,EAEJ,KAAK,MAAM,SAAY,CAC1B,GAAI,CACA,IAAMG,EAAYC,GAAYF,CAAI,EAG9BG,EACEC,EAAS,KAAKpB,GAAQ,WAAW,EACvC,GAAI,CACAmB,EAAcC,EAAO,MAAMH,CAAS,CACxC,QACA,CACIG,EAAO,gBAAgB,CAC3B,CACA,IAAMC,EAAa,MAAMF,EACzB,OAAOG,GAAmBD,CAAU,CACxC,OACOE,EAAG,CACN,MAAMC,EAAcD,CAAC,CACzB,CACJ,CAAC,CACL,CACA,MAAM,MAAME,EAAOC,EAAO,WAAY,CAClC,OAAO,KAAK,MAAM,SAAY,CAC1B,GAAI,CAUA,IAAMC,EATkBF,EAAM,IAAKT,GAC3B,MAAM,QAAQA,CAAI,EACX,CACH,IAAKA,EAAK,CAAC,EACX,KAAMA,EAAK,CAAC,GAAK,CAAC,CACtB,EAEGA,CACV,EACkC,IAAIE,EAAW,EAC5CU,EAAU,MAAM,KAAK5B,GAAQ,WAAW,EAG1C6B,EACET,EAAS,KAAKpB,GAAQ,WAAW,EACvC,GAAI,CAGiB,IAAI8B,GAASV,EAAQrB,EAAgB,EAC7C,MAAM4B,CAAU,EAKzB,IAAMI,EAAQX,EAAO,MAAM,EAAK,EAChCS,EAAiBG,GAAkBN,EAAME,EAASG,EAAOJ,CAAU,CACvE,QACA,CACIP,EAAO,gBAAgB,CAC3B,CAEA,OADgB,MAAMS,CAE1B,OACON,EAAG,CACN,MAAMC,EAAcD,CAAC,CACzB,CACJ,CAAC,CACL,CACA,MAAM,QAAQE,EAAO,CACjB,OAAO,KAAK,MAAM,SAAY,CAC1B,GAAI,CACA,IAAME,EAAaF,EAAM,IAAIP,EAAW,EAClCU,EAAU,MAAM,KAAK5B,GAAQ,WAAW,EAG1C6B,EACET,EAAS,KAAKpB,GAAQ,WAAW,EACvC,GAAI,CACA,IAAM+B,EAAQX,EAAO,MAAM,EAAK,EAChCS,EAAiBG,GAAkB,WAAYJ,EAASG,EAAOJ,EAAY,EAAI,CACnF,QACA,CACIP,EAAO,gBAAgB,CAC3B,CAEA,OADgB,MAAMS,CAE1B,OACON,EAAG,CACN,MAAMC,EAAcD,CAAC,CACzB,CACJ,CAAC,CACL,CACA,MAAM,YAAYG,EAAO,QAAS,CAC9B,OAAO,KAAK,MAAM,SAAY,CAC1B,GAAI,CACA,IAAME,EAAU,MAAM,KAAK5B,GAAQ,WAAW,EAC9C,OAAO,IAAIiC,GAAgB,KAAKjC,GAAQ,WAAW,EAAG0B,EAAME,CAAO,CACvE,OACOL,EAAG,CACN,MAAMC,EAAcD,CAAC,CACzB,CACJ,CAAC,CACL,CACA,MAAM,gBAAgBW,EAAK,CACvB,OAAO,KAAK,MAAM,SAAY,CAC1B,GAAI,CAGA,IAAIC,EACEf,EAAS,KAAKpB,GAAQ,WAAW,EACvC,GAAI,CACAmC,EAAUf,EAAO,SAASc,CAAG,CACjC,QACA,CACId,EAAO,gBAAgB,CAC3B,CACA,MAAMe,CACV,OACOZ,EAAG,CACN,MAAMC,EAAcD,CAAC,CACzB,CACJ,CAAC,CACL,CACA,MAAO,CACH,MAAM,IAAI7B,EAAY,kCAAmC,oBAAoB,CACjF,CACA,OAAQ,CACJ,KAAKM,GAAQ,MAAM,CACvB,CACA,MAAM,WAAY,CACd,GAAI,CACK,KAAK,QAEN,KAAKA,GAAQ,MAAM,CAE3B,QACA,CAEI,KAAKA,GAAgBW,GAAS,KAAKV,GAAM,KAAKI,GAAY,KAAKF,EAAY,EAC3E,KAAKH,GAAQ,QAAU,KAAKE,EAChC,CACJ,CACA,IAAI,QAAS,CACT,OAAO,KAAKF,GAAQ,MACxB,CACJ,EACaiC,GAAN,cAA8BG,EAAiB,CAClDC,GACAC,GAEA,YAAYlB,EAAQM,EAAME,EAAS,CAC/B,MAAMF,EAAME,CAAO,EACnB,KAAKS,GAAUjB,EACf,KAAKkB,GAAY,IAAIR,GAASV,EAAQrB,EAAgB,CAC1D,CAEA,YAAa,CACT,OAAO,KAAKsC,EAChB,CAEA,cAAe,CACX,OAAO,KAAKC,EAChB,CACA,OAAQ,CACJ,KAAKD,GAAQ,MAAM,CACvB,CACA,IAAI,QAAS,CACT,OAAO,KAAKA,GAAQ,MACxB,CACJ,EC/NO,SAASE,GAAaC,EAAQ,CACjC,OAAOC,GAAcC,GAAaF,EAAQ,EAAI,CAAC,CACnD,CAEO,SAASC,GAAcD,EAAQ,CAClC,GAAIA,EAAO,SAAW,MAAQA,EAAO,SAAW,MAC5C,OAAOC,GAAgBD,CAAM,EAE5B,GAAIA,EAAO,SAAW,QAAUA,EAAO,SAAW,QACnD,OAAOC,GAAkBD,CAAM,EAG/B,MAAM,IAAIG,EAAY,iHACX,KAAK,UAAUH,EAAO,OAAS,GAAG,CAAC,uCAAuCI,EAAgB,GAAI,0BAA0B,CAE3I,CClBA,IAAMC,GAAM,QAAQ,IAAI,mBAClBC,GAAY,QAAQ,IAAI,iBAEjBC,GAASC,GAAa,CACjC,IAAKH,GACL,UAAWC,EACb,CAAC,EAQD,eAAsBG,GAAQC,EAAKC,EAAO,CAAC,EAAG,CAC5C,GAAI,CAEF,OADe,MAAMJ,GAAO,QAAQ,CAAE,IAAAG,EAAK,KAAAC,CAAK,CAAC,CAEnD,OAASC,EAAO,CACd,cAAQ,MAAM,kBAAmBA,CAAK,EAChCA,CACR,CACF,CAQA,eAAsBC,GAAMH,EAAKC,EAAO,CAAC,EAAG,CAE1C,OADe,MAAMF,GAAQC,EAAKC,CAAI,GACxB,KAAK,CAAC,GAAK,IAC3B,CAQA,eAAsBG,GAAMJ,EAAKC,EAAO,CAAC,EAAG,CAE1C,OADe,MAAMF,GAAQC,EAAKC,CAAI,GACxB,IAChB,CnD1CA,IAAMI,GAAYC,GAAK,KAAK,QAAQ,IAAI,EAAG,UAAU,EAErD,eAAsBC,EAASC,EAAU,CACvC,GAAI,CACF,IAAMC,EAAWH,GAAK,KAAKD,GAAWG,CAAQ,EACxCE,EAAO,MAAMC,GAAG,SAASF,EAAU,MAAM,EAC/C,OAAO,KAAK,MAAMC,CAAI,CACxB,OAASE,EAAO,CACd,eAAQ,MAAM,2BAA2BJ,CAAQ,IAAKI,EAAM,OAAO,EAC5D,IACT,CACF,CAEA,eAAsBC,GAAUL,EAAUE,EAAM,CAC9C,GAAI,CACF,IAAMD,EAAWH,GAAK,KAAKD,GAAWG,CAAQ,EAExCM,EAAMR,GAAK,QAAQG,CAAQ,EACjC,aAAME,GAAG,MAAMG,EAAK,CAAE,UAAW,EAAK,CAAC,EACvC,MAAMH,GAAG,UAAUF,EAAU,KAAK,UAAUC,EAAM,KAAM,CAAC,EAAG,MAAM,EAC3D,EACT,OAASE,EAAO,CACd,eAAQ,MAAM,yBAAyBJ,CAAQ,IAAKI,EAAM,OAAO,EAC1D,EACT,CACF,CAEA,eAAsBG,GAAe,CACnC,OAAO,MAAMR,EAAS,kBAAkB,CAC1C,CAEA,eAAsBS,GAAeC,EAAQ,CAC3C,IAAMC,EAAS,MAAMH,EAAa,EAClC,OAAOG,EAASA,EAAO,KAAKC,GAAKA,EAAE,QAAUF,CAAM,EAAI,IACzD,CAEA,eAAsBG,EAAeC,EAAa,CAChD,OAAO,MAAMd,EAAS,cAAcc,CAAW,OAAO,CACxD,CAEA,eAAsBC,IAAS,CAC7B,OAAO,MAAMf,EAAS,iBAAiB,CACzC,CAEA,eAAsBgB,IAAiB,CACrC,OAAO,MAAMhB,EAAS,0BAA0B,CAClD,CAEA,eAAsBiB,IAAY,CAChC,OAAO,MAAMjB,EAAS,oBAAoB,CAC5C,CAEA,eAAsBkB,IAAkB,CACtC,OAAO,MAAMlB,EAAS,oBAAoB,CAC5C,CAEA,eAAsBmB,IAAY,CAChC,OAAO,MAAMnB,EAAS,mBAAmB,CAC3C,CAEA,eAAsBoB,IAAS,CAC7B,OAAO,MAAMpB,EAAS,gBAAgB,CACxC,CAEA,eAAsBqB,IAAY,CAChC,OAAO,MAAMrB,EAAS,mBAAmB,CAC3C,CAEA,eAAsBsB,IAAU,CAC9B,OAAO,MAAMtB,EAAS,iBAAiB,CACzC,CAEA,eAAsBuB,IAAgB,CACpC,OAAO,MAAMvB,EAAS,wBAAwB,CAChD,CAEA,eAAsBwB,IAAa,CACjC,OAAO,MAAMxB,EAAS,qBAAqB,CAC7C,CAEA,eAAsByB,IAAU,CAC9B,OAAO,MAAMzB,EAAS,kBAAkB,CAC1C,CAEA,eAAsB0B,IAAoB,CACxC,OAAO,MAAM1B,EAAS,6BAA6B,CACrD,CAEA,eAAsB2B,IAAkB,CACtC,OAAO,MAAM3B,EAAS,2BAA2B,CACnD,CAEA,eAAsB4B,IAAY,CAChC,OAAO,MAAM5B,EAAS,oBAAoB,CAC5C,CAEA,eAAsB6B,IAAW,CAC/B,OAAO,MAAM7B,EAAS,mBAAmB,CAC3C,CAEA,eAAsB8B,IAAe,CACnC,OAAO,MAAM9B,EAAS,wBAAwB,CAChD,CAEA,eAAsB+B,IAAe,CACnC,GAAI,CACF,IAAMC,EAAa,MAAMC,GAAM,0DAA0D,EACnFC,EAAe,MAAMD,GAAM,4DAA4D,EACvFE,EAAc,MAAMF,GAAM,iEAAiE,EAE3FG,EAAiB,MAAMC,GAAM,4DAA4D,EACzFC,EAAgB,MAAMD,GAAM,2DAA2D,EAEvFE,EAAW,CAAC,EAClBH,EAAe,QAAQI,GAAOD,EAASC,EAAI,OAAO,EAAIA,EAAI,KAAK,EAE/D,IAAMC,EAAU,CAAC,EACjB,OAAAH,EAAc,QAAQE,GAAOC,EAAQD,EAAI,OAAO,EAAIA,EAAI,KAAK,EAEtD,CACL,gBAAiBD,EACjB,eAAgBE,EAChB,cAAeP,EAAeA,EAAa,MAAQ,EACnD,YAAaF,EAAaA,EAAW,MAAQ,EAC7C,aAAcG,EAAcA,EAAY,aAAe,IAAI,KAAK,EAAE,YAAY,CAChF,CACF,OAAS9B,EAAO,CACd,eAAQ,MAAM,mCAAoCA,CAAK,EAChD,CACL,gBAAiB,CAAC,EAClB,eAAgB,CAAC,EACjB,cAAe,EACf,YAAa,EACb,aAAc,IAAI,KAAK,EAAE,YAAY,CACvC,CACF,CACF,CAEA,eAAsBqC,GAAgBC,EAAMC,EAAI,CAC9C,GAAI,CACF,OAAID,IAAS,SAAWA,IAAS,QAC/B,MAAME,GAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAMX,CAACF,EAAMC,CAAE,CAAC,EAEb,MAAMC,GAAQ;AAAA;AAAA;AAAA;AAAA,OAIb,GACQF,IAAS,UAClB,MAAME,GAAQ;AAAA;AAAA;AAAA;AAAA,OAIb,EAEI,EACT,OAASxC,EAAO,CACd,eAAQ,MAAM,oCAAqCA,CAAK,EACjD,EACT,CACF,CAEA,eAAsByC,GAAeC,EAAU,CAC7C,OAAO,MAAM/C,EAAS,UAAU+C,CAAQ,OAAO,CACjD,CoD9KA,IAAIC,GAA+B,OAAO,UAAU,EAChDC,GAAoC,OAAO,eAAe,EAC1DC,EAA4B,OAAO,OAAO,EAC1CC,GAAmC,OAAO,UAAU,EACpDC,GAA2B,OAAO,MAAM,EACxCC,GAA4B,OAAO,WAAW,ECJlD,IAAIC,GAAsBC,IAExBA,EAAGC,EAAgB,EAAI,GAChBD,GCDT,IAAIE,GAAiCC,GAAW,CAAC,CAAE,MAAAC,EAAO,SAAAC,CAAS,IAAM,CACvE,GAAI,CAACA,EACH,OAEF,IAAMC,EAAQ,CACZ,SAAU,CACR,CACE,IAAKC,GAAmB,IAAM,CAC5BJ,EAAO,KAAKC,CAAK,CACnB,CAAC,EACD,MAAO,CAAC,CACV,CACF,CACF,EACI,MAAM,QAAQC,CAAQ,EACxBC,EAAM,SAAS,KAAK,GAAGD,EAAS,KAAK,CAAC,EAEtCC,EAAM,SAAS,KAAKD,CAAQ,EAE9BC,EAAM,SAAS,KAAK,CAClB,IAAKC,GAAmB,IAAM,CAC5BJ,EAAO,IAAI,CACb,CAAC,EACD,MAAO,CAAC,CACV,CAAC,EACD,IAAMK,EAAM,CAAE,IAAK,GAAI,MAAAF,EAAO,KAAM,EAAG,EACvC,OAAAE,EAAIC,EAAiB,EAAKC,GAAQ,CAChC,MAAAP,EAAO,IAAI,EACLO,CACR,EACOF,CACT,EACIG,GAAiBC,GAAiB,CACpC,IAAMT,EAAS,CAACS,CAAY,EACtBC,EAAUX,GAA8BC,CAAM,EACpD,OAAAU,EAAQ,OAASV,EACjBU,EAAQ,SAAWA,EACnBC,GAAe,KAAKD,CAAO,EACpBA,CACT,ECtCA,IAAIE,GAAiB,CAAC,EAClBC,GAAiBC,GAAiB,CACpC,IAAMC,EAAS,CAACD,CAAY,EACtBE,GAAYC,GAAU,CAC1BF,EAAO,KAAKE,EAAM,KAAK,EACvB,IAAIC,EACJ,GAAI,CACFA,EAASD,EAAM,UAAY,MAAM,QAAQA,EAAM,QAAQ,EAAI,IAAIE,GAAgB,GAAI,CAAC,EAAGF,EAAM,QAAQ,EAAIA,EAAM,UAAU,SAAS,EAAI,EACxI,QAAE,CACAF,EAAO,IAAI,CACb,CACA,OAAIG,aAAkB,QACbA,EAAO,KAAME,GAAcC,EAAID,EAAWA,EAAU,SAAS,CAAC,EAE9DC,EAAIH,CAAM,CAErB,GACA,OAAAF,EAAQ,OAASD,EACjBC,EAAQ,SAAWA,EACnBA,EAAQM,EAAY,EAAIC,GAA8BR,CAAM,EAC5DH,GAAe,KAAKI,CAAO,EACpBA,CACT,EACIQ,GAAcR,GACTA,EAAQ,OAAO,GAAG,EAAE,EC5B7B,IAAIS,GAAe,CACjB,MAAO,CAAC,EACR,OAAQ,CAAC,KAAK,EACd,MAAO,CAAC,WAAW,EACnB,KAAM,CAAC,MAAM,EACb,KAAM,CAAC,OAAQ,YAAa,UAAW,UAAU,CACnD,EACIC,GAAe,CAAC,EAChBC,GAAqB,kBCTzB,IAAAC,GAAA,GAAAC,GAAAD,GAAA,YAAAE,GAAA,SAAAC,GAAA,UAAAC,GAAA,SAAAC,GAAA,SAAAC,GAAA,WAAAC,GAAA,UAAAC,GAAA,UAAAC,KCCA,IAAIC,GAAWC,GAAa,MAAM,QAAQA,CAAQ,EAAIA,EAAW,CAACA,CAAQ,EDM1E,IAAIC,GAA6B,IAAI,QACjCC,GAAiB,CAACC,EAASC,EAAKC,EAAOC,IAAe,CAAC,CAAE,OAAAC,EAAQ,QAAAC,CAAQ,IAAM,CACjF,GAAI,CAACD,EACH,OAEF,IAAME,EAAMR,GAAW,IAAIO,CAAO,GAAK,CAAC,EACxCP,GAAW,IAAIO,EAASC,CAAG,EAC3B,IAAMC,EAAOD,EAAIN,CAAO,IAAM,CAAC,EAC3BQ,EAAQ,GACNC,EAAaC,GAAaV,CAAO,EACvC,GAAIS,EAAW,OAAS,GACtBE,EAAM,OAAW,CAAC,CAAEC,CAAQ,IAAKL,EAC/B,QAAWM,KAAOJ,EAChB,IAAKG,IAAWC,CAAG,GAAK,QAAUX,IAAQW,CAAG,EAAG,CAC9CL,EAAQ,GACR,MAAMG,CACR,EAWN,GAPIH,EACFJ,EAAO,CAAC,EAAIA,EAAO,CAAC,EAAE,WAAWH,EAAK,EAAE,EAC/BQ,EAAW,OAAS,EAC7BF,EAAK,KAAK,CAACN,EAAKC,EAAOC,CAAU,CAAC,EAElCI,EAAK,QAAQ,CAACN,EAAKC,EAAOC,CAAU,CAAC,EAEnCC,EAAO,CAAC,EAAE,QAAQ,SAAS,IAAM,GAAI,CACvC,IAAIU,EACJ,GAAIX,IAAe,OACjBW,EAAaP,EAAK,IAAI,CAAC,CAACQ,CAAI,IAAMA,CAAI,MACjC,CACL,IAAMC,EAAc,CAAC,EACrBF,EAAaP,EAAK,IAAI,CAAC,CAACQ,EAAM,CAAEE,CAAW,IAAM,CAC/C,IAAIC,EAAQF,EAAY,QAAQC,CAAW,EAC3C,OAAIC,IAAU,KACZF,EAAY,KAAKC,CAAW,EAC5BC,EAAQF,EAAY,OAAS,GAExB,CAACD,EAAMG,CAAK,CACrB,CAAC,EAAE,KAAK,CAACC,EAAGC,IAAMD,EAAE,CAAC,EAAIC,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,CAACL,CAAI,IAAMA,CAAI,CACrD,CACAD,EAAW,QAASC,GAAS,CAC3BX,EAAO,CAAC,EAAIA,EAAO,CAAC,EAAE,WAAWW,EAAM,EAAE,CAC3C,CAAC,EACDX,EAAO,CAAC,EAAIA,EAAO,CAAC,EAAE,QAAQ,eAAgBU,EAAW,KAAK,EAAE,CAAC,CACnE,CACF,EACIO,GAA+B,CAACpB,EAAKqB,EAAUpB,IAAUqB,EAAI,IAAIC,GAAQvB,EAAKC,EAAOuB,GAAQH,GAAY,CAAC,CAAC,CAAC,EAAE,SAAS,CAAC,EACxHI,GAAsB,CAACzB,EAAKqB,EAAUpB,EAAOyB,IAAS,CACxD,GAAI,aAAczB,EAChB,OAAOmB,GAA6BpB,EAAKqB,EAAUpB,CAAK,EAE1D,GAAI,CAAE,WAAAC,EAAY,SAAAyB,EAAU,GAAGC,CAAU,EAAI3B,EAC7CC,EAAawB,EAAOxB,GAAc,GAAK,OACnCwB,IACFE,EAAUC,EAAkB,EAAI3B,GAElC,IAAM4B,EAAS,IAAIP,GAAQvB,EAAK4B,EAAWJ,GAAQH,GAAY,CAAC,CAAC,CAAC,EAAE,SAAS,EAC7E,OAAIS,aAAkB,QACbA,EAAO,KACXC,GAAcT,EAAIQ,EAAQ,CACzB,GAAGC,EAAU,WAAa,CAAC,EAC3BjC,GAAeE,EAAK+B,EAAWH,EAAW1B,CAAU,CACtD,CAAC,CACH,EAEOoB,EAAIQ,EAAQ,CAAChC,GAAeE,EAAK8B,EAAQF,EAAW1B,CAAU,CAAC,CAAC,CAE3E,EACI8B,GAAQ,CAAC,CAAE,SAAAX,EAAU,GAAGpB,CAAM,IAAM,CACtC,IAAMgC,EAAmBC,GAAoB,EAC7C,GAAID,EAAkB,CACpB,IAAM7B,EAAU+B,GAAWF,CAAgB,EAC3C,GAAI7B,IAAY,OAASA,IAAY,OACnC,OAAO,IAAImB,GACT,QACAtB,EACAuB,GAAQH,GAAY,CAAC,CAAC,CACxB,CAEJ,CACA,OAAOI,GAAoB,QAASJ,EAAUpB,EAAO,EAAK,CAC5D,EACImC,GAAS,CAAC,CACZ,SAAAf,EACA,GAAGpB,CACL,IAAM,CACJ,IAAMgC,EAAmBC,GAAoB,EAC7C,MAAI,CAAC,MAAO,OAAO,EAAE,KAAMG,GAAM,CAACpC,EAAMoC,CAAC,CAAC,GAAKJ,GAAoBE,GAAWF,CAAgB,IAAM,OAC3Fb,GAA6B,SAAUC,EAAUpB,CAAK,EAExDwB,GAAoB,SAAUJ,EAAUpB,EAAO,EAAK,CAC7D,EACIqC,GAAQ,CAAC,CACX,SAAAjB,EACA,GAAGpB,CACL,IACO,CAAC,OAAQ,YAAY,EAAE,MAAOoC,GAAMA,KAAKpC,CAAK,GAGnDA,EAAM,WAAW,EAAIA,EAAM,KAC3B,OAAOA,EAAM,KACNwB,GAAoB,QAASJ,EAAUpB,EAAO,EAAI,GAJhDmB,GAA6B,QAASC,EAAUpB,CAAK,EAM5DsC,GAAO,CAAC,CAAE,SAAAlB,EAAU,GAAGpB,CAAM,IAC3B,CAAC,SAAU,SAAS,EAAE,KAAMoC,GAAMA,KAAKpC,CAAK,GAAKA,EAAM,MAAQ,eAAiB,EAAE,eAAgBA,IAAU,aAAcA,GACrHmB,GAA6B,OAAQC,EAAUpB,CAAK,EAEtDwB,GAAoB,OAAQJ,EAAUpB,EAAO,eAAgBA,CAAK,EAEvEuC,GAAO,CAAC,CAAE,SAAAnB,EAAU,GAAGpB,CAAM,IAAM,CACrC,IAAMgC,EAAmBC,GAAoB,EAC7C,OAAID,GAAoBE,GAAWF,CAAgB,IAAM,OAChDb,GAA6B,OAAQC,EAAUpB,CAAK,EAEtDwB,GAAoB,OAAQJ,EAAUpB,EAAO,EAAK,CAC3D,EACIwC,GAAa,CAACzC,EAAK,CAAE,SAAAqB,EAAU,GAAGpB,CAAM,IAE1C,IAAIsB,GAAQvB,EAAKC,EAAOuB,GAAQH,GAAY,CAAC,CAAC,CAAC,EAE7CqB,GAAQzC,IACN,OAAOA,EAAM,QAAW,aAC1BA,EAAM,OAAS0C,MAAa1C,EAAM,OAASA,EAAM,OAAO0C,EAAS,EAAI,QAEhEF,GAAW,OAAQxC,CAAK,GAE7B2C,GAAwB,CAAC5C,EAAKC,KAC5B,OAAOA,EAAM,YAAe,aAC9BA,EAAM,WAAa0C,MAAa1C,EAAM,WAAaA,EAAM,WAAW0C,EAAS,EAAI,QAE5EF,GAAWzC,EAAKC,CAAK,GAE1B4C,GAAS5C,GAAU2C,GAAsB,QAAS3C,CAAK,EACvD6C,GAAU7C,GAAU2C,GAAsB,SAAU3C,CAAK,EE7I7D,IAAI8C,GAAyC,IAAI,IAAI,CACnD,CAAC,YAAa,OAAO,EACrB,CAAC,UAAW,KAAK,EACjB,CAAC,cAAe,aAAa,EAC7B,CAAC,YAAa,YAAY,EAC1B,CAAC,WAAY,UAAU,EACvB,CAAC,gBAAiB,eAAe,EACjC,CAAC,WAAY,UAAU,EACvB,CAAC,aAAc,YAAY,CAC7B,CAAC,EACGC,GAAgCC,GAAQF,GAAuB,IAAIE,CAAG,GAAKA,EAC3EC,GAAqB,CAACC,EAAOC,IAAO,CACtC,OAAW,CAACC,EAAGC,CAAC,IAAK,OAAO,QAAQH,CAAK,EAAG,CAC1C,IAAMF,EAAMI,EAAE,CAAC,IAAM,KAAO,CAAC,QAAQ,KAAKA,CAAC,EAAIA,EAAIA,EAAE,QAAQ,SAAWE,GAAM,IAAIA,EAAE,YAAY,CAAC,EAAE,EACnGH,EACEH,EACAK,GAAK,KAAO,KAAO,OAAOA,GAAM,SAAYL,EAAI,MAC9C,oGACF,EAAe,GAAGK,CAAC,GAAf,GAAGA,CAAC,KAAgBA,CAC1B,CACF,CACF,ECdA,IAAIE,GAAmB,OACnBC,GAAsB,IAAMD,GAC5BE,GAAsBC,GAAQ,QAAQ,KAAKA,CAAG,GAElDA,EAAI,MACF,sHACF,EAAIA,EAAI,QAAQ,WAAY,KAAK,EAAE,YAAY,EAAIA,EAC/CC,GAAY,CACd,OACA,OACA,KACA,MACA,QACA,KACA,MACA,QACA,SACA,OACA,OACA,QACA,SACA,QACA,KACF,EACIC,GAAoB,CACtB,kBACA,QACA,YACA,WACA,UACA,WACA,UACA,QACA,WACA,WACA,iBACA,SACA,QACA,QACA,YACA,OACA,WACA,QACA,WACA,aACA,OACA,cACA,WACA,WACA,WACA,UACF,EACIC,GAA2B,CAACC,EAAUC,IAAW,CACnD,QAASC,EAAI,EAAGC,EAAMH,EAAS,OAAQE,EAAIC,EAAKD,IAAK,CACnD,IAAME,EAAQJ,EAASE,CAAC,EACxB,GAAI,OAAOE,GAAU,SACnBC,GAAeD,EAAOH,CAAM,MACvB,IAAI,OAAOG,GAAU,WAAaA,IAAU,MAAQA,IAAU,OACnE,SACSA,aAAiBE,GAC1BF,EAAM,iBAAiBH,CAAM,EACpB,OAAOG,GAAU,UAAYA,EAAM,UAE5CH,EAAO,CAAC,GAAKG,EACJA,aAAiB,QAC1BH,EAAO,QAAQ,GAAIG,CAAK,EAExBL,GAAyBK,EAAOH,CAAM,EAE1C,CACF,EACIK,GAAU,KAAM,CAClB,IACA,MACA,IACA,SACA,UAAY,GACZ,cACA,YAAYC,EAAKC,EAAOR,EAAU,CAChC,KAAK,IAAMO,EACX,KAAK,MAAQC,EACb,KAAK,SAAWR,CAClB,CACA,IAAI,MAAO,CACT,OAAO,KAAK,GACd,CAGA,IAAI,KAAM,CACR,OAAO,KAAK,MAAM,KAAO,IAC3B,CACA,UAAW,CACT,IAAMC,EAAS,CAAC,EAAE,EAClB,KAAK,eAAe,QAAQ,CAAC,CAACQ,EAASC,CAAK,IAAM,CAChDD,EAAQ,OAAO,KAAKC,CAAK,CAC3B,CAAC,EACD,GAAI,CACF,KAAK,iBAAiBT,CAAM,CAC9B,QAAE,CACA,KAAK,eAAe,QAAQ,CAAC,CAACQ,CAAO,IAAM,CACzCA,EAAQ,OAAO,IAAI,CACrB,CAAC,CACH,CACA,OAAOR,EAAO,SAAW,EAAI,cAAeA,EAASU,GAAoBC,EAAIX,EAAO,CAAC,EAAGA,EAAO,SAAS,CAAC,EAAE,SAAS,EAAIA,EAAO,CAAC,EAAIY,GAAqBZ,EAAQA,EAAO,SAAS,CACnL,CACA,iBAAiBA,EAAQ,CACvB,IAAMM,EAAM,KAAK,IACXC,EAAQ,KAAK,MACf,CAAE,SAAAR,CAAS,EAAI,KACnBC,EAAO,CAAC,GAAK,IAAIM,CAAG,GACpB,IAAMO,EAAerB,IAAoBsB,GAAWtB,EAAgB,IAAM,MAASG,GAAQD,GAAmBqB,GAA6BpB,CAAG,CAAC,EAAKA,GAAQoB,GAA6BpB,CAAG,EAC5L,OAAS,CAACA,EAAKqB,CAAC,IAAK,OAAO,QAAQT,CAAK,EAEvC,GADAZ,EAAMkB,EAAalB,CAAG,EAClBA,IAAQ,YACL,GAAIA,IAAQ,SAAW,OAAOqB,GAAM,SAAU,CACnD,IAAIC,EAAW,GACfC,GAAmBF,EAAG,CAACG,EAAUV,IAAU,CACrCA,GAAS,OACXQ,GAAY,GAAGA,EAAW,IAAM,EAAE,GAAGE,CAAQ,IAAIV,CAAK,GAE1D,CAAC,EACDT,EAAO,CAAC,GAAK,WACbI,GAAea,EAAUjB,CAAM,EAC/BA,EAAO,CAAC,GAAK,GACf,SAAW,OAAOgB,GAAM,SACtBhB,EAAO,CAAC,GAAK,IAAIL,CAAG,KACpBS,GAAeY,EAAGhB,CAAM,EACxBA,EAAO,CAAC,GAAK,YACJgB,GAAM,KACV,GAAI,OAAOA,GAAM,UAAYA,EAAE,UACpChB,EAAO,CAAC,GAAK,IAAIL,CAAG,KAAKqB,CAAC,YACjB,OAAOA,GAAM,WAAanB,GAAkB,SAASF,CAAG,EAC7DqB,IACFhB,EAAO,CAAC,GAAK,IAAIL,CAAG,eAEbA,IAAQ,0BAA2B,CAC5C,GAAII,EAAS,OAAS,EACpB,MAAM,IAAI,MAAM,oEAAoE,EAEtFA,EAAW,CAACY,EAAIK,EAAE,MAAM,CAAC,CAC3B,SAAWA,aAAa,QACtBhB,EAAO,CAAC,GAAK,IAAIL,CAAG,KACpBK,EAAO,QAAQ,IAAKgB,CAAC,UACZ,OAAOA,GAAM,YACtB,GAAI,CAACrB,EAAI,WAAW,IAAI,GAAKA,IAAQ,MACnC,MAAM,IAAI,MAAM,iBAAiBA,CAAG,qCAAqCW,CAAG,IAAI,OAGlFN,EAAO,CAAC,GAAK,IAAIL,CAAG,KACpBS,GAAeY,EAAE,SAAS,EAAGhB,CAAM,EACnCA,EAAO,CAAC,GAAK,IAGjB,GAAIJ,GAAU,SAASU,CAAG,GAAKP,EAAS,SAAW,EAAG,CACpDC,EAAO,CAAC,GAAK,KACb,MACF,CACAA,EAAO,CAAC,GAAK,IACbF,GAAyBC,EAAUC,CAAM,EACzCA,EAAO,CAAC,GAAK,KAAKM,CAAG,GACvB,CACF,EACIc,GAAkB,cAAcf,EAAQ,CAC1C,iBAAiBL,EAAQ,CACvB,GAAM,CAAE,SAAAD,CAAS,EAAI,KACfQ,EAAQ,CAAE,GAAG,KAAK,KAAM,EAC1BR,EAAS,SACXQ,EAAM,SAAWR,EAAS,SAAW,EAAIA,EAAS,CAAC,EAAIA,GAEzD,IAAMsB,EAAM,KAAK,IAAI,KAAK,KAAMd,CAAK,EACrC,GAAI,SAAOc,GAAQ,WAAaA,GAAO,MAEhC,GAAIA,aAAe,QACxB,GAAIC,GAAe,SAAW,EAC5BtB,EAAO,QAAQ,GAAIqB,CAAG,MACjB,CACL,IAAME,EAAkBD,GAAe,IAAKE,GAAM,CAACA,EAAGA,EAAE,OAAO,GAAG,EAAE,CAAC,CAAC,EACtExB,EAAO,QACL,GACAqB,EAAI,KAAMI,IACJA,aAAoBpB,KACtBoB,EAAS,cAAgBF,GAEpBE,EACR,CACH,CACF,MACSJ,aAAehB,GACxBgB,EAAI,iBAAiBrB,CAAM,EAClB,OAAOqB,GAAQ,UAAYA,EAAI,WACxCrB,EAAO,CAAC,GAAKqB,EACTA,EAAI,YACNrB,EAAO,YAAc,CAAC,EACtBA,EAAO,UAAU,KAAK,GAAGqB,EAAI,SAAS,IAGxCjB,GAAeiB,EAAKrB,CAAM,CAE9B,CACF,EACI0B,GAAkB,cAAcrB,EAAQ,CAC1C,iBAAiBL,EAAQ,CACvBF,GAAyB,KAAK,SAAUE,CAAM,CAChD,CACF,EACI2B,EAAM,CAACrB,EAAKC,KAAUR,IAAa,CACrCQ,IAAU,CAAC,EACPR,EAAS,SACXQ,EAAM,SAAWR,EAAS,SAAW,EAAIA,EAAS,CAAC,EAAIA,GAEzD,IAAMJ,EAAMY,EAAM,IAClB,OAAOA,EAAM,IACb,IAAMqB,EAAOC,GAAMvB,EAAKC,EAAOR,CAAQ,EACvC,OAAA6B,EAAK,IAAMjC,EACJiC,CACT,EACIE,GAAkB,GAClBD,GAAQ,CAACvB,EAAKC,EAAOR,IAAa,CACpC,GAAI,CAAC+B,GAAiB,CACpB,QAAWC,KAAKC,GAEdC,GAAqBF,CAAC,EAAEG,EAAY,EAAIF,GAAaD,CAAC,EAExDD,GAAkB,EACpB,CACA,OAAI,OAAOxB,GAAQ,WACV,IAAIc,GAAgBd,EAAKC,EAAOR,CAAQ,EACtCkC,GAAqB3B,CAAG,EAC1B,IAAIc,GACTa,GAAqB3B,CAAG,EACxBC,EACAR,CACF,EACSO,IAAQ,OAASA,IAAQ,QAClCd,KAAqB2C,GAAc,EAAE,EAC9B,IAAI9B,GAAQC,EAAKC,EAAO,CAC7B,IAAIa,GACF5B,GACA,CACE,MAAOc,CACT,EACAP,CACF,CACF,CAAC,GAEM,IAAIM,GAAQC,EAAKC,EAAOR,CAAQ,CAE3C,EC/PA,IAAAqC,GAAA,GAAAC,GAAAD,GAAA,YAAAE,GAAA,eAAAC,GAAA,eAAAC,GAAA,SAAAC,GAAA,UAAAC,GAAA,SAAAC,GAAA,SAAAC,GAAA,WAAAC,GAAA,UAAAC,GAAA,UAAAC,KCaA,IAAIC,GAAsB,MACtBC,GAAgB,CAClB,OAAQ,QACR,YAAa,UACf,EACIC,GAAe,CACjB,IAAK,WACL,KAAM,kBACR,EACIC,GAAiB,CAAC,EAClBC,GAAgC,IAAI,QACpCC,GAAmB,OACnBC,GAAsB,IAAMD,GAC5BE,GAAgBC,GAAS,MAAOA,EAChCC,GAAa,CAEf,QAAS,CAAC,QAAS,EAAK,CAC1B,EACIC,GAAgBC,GAAQ,CAC1B,GAAI,CAACA,EAAI,WAAW,IAAI,EACtB,OAEF,GAAIF,GAAWE,CAAG,EAChB,OAAOF,GAAWE,CAAG,EAEvB,IAAMC,EAAQD,EAAI,MAAM,oDAAoD,EAC5E,GAAIC,EAAO,CACT,GAAM,CAAC,CAAEC,EAAWC,CAAO,EAAIF,EAC/B,OAAOH,GAAWE,CAAG,EAAI,EAAEV,GAAcY,CAAS,GAAKA,GAAW,YAAY,EAAG,CAAC,CAACC,CAAO,CAC5F,CAEF,EACIC,GAAkB,CAACC,EAASL,IAAQN,IAAoBW,aAAmB,YAAc,QAAQ,KAAKL,CAAG,IAAMA,KAAOK,EAAQ,OAClIL,EAAI,MAAM,qBAAqB,GAAKA,EAAI,QAAQ,WAAY,KAAK,EAAE,YAAY,EAAIA,EAC/EM,GAAa,CAACC,EAAWC,EAAYC,IAAkB,CACzDD,IAAe,CAAC,EAChB,QAASR,KAAOQ,EAAY,CAC1B,IAAME,EAAQF,EAAWR,CAAG,EAC5B,GAAIA,IAAQ,aAAe,CAACS,GAAiBA,EAAcT,CAAG,IAAMU,GAAQ,CAC1EV,EAAMW,GAA6BX,CAAG,EACtC,IAAMY,EAAYb,GAAaC,CAAG,EAClC,GAAIY,GACF,GAAIH,IAAgBT,CAAG,IAAMU,IACvBD,GACFF,EAAU,oBAAoBK,EAAU,CAAC,EAAGH,EAAcT,CAAG,EAAGY,EAAU,CAAC,CAAC,EAE1EF,GAAS,MAAM,CACjB,GAAI,OAAOA,GAAU,WACnB,MAAM,IAAI,MAAM,sBAAsBV,CAAG,qBAAqB,EAEhEO,EAAU,iBAAiBK,EAAU,CAAC,EAAGF,EAAOE,EAAU,CAAC,CAAC,CAC9D,UAEOZ,IAAQ,2BAA6BU,EAC9CH,EAAU,UAAYG,EAAM,eACnBV,IAAQ,MAAO,CACxB,IAAIa,EACA,OAAOH,GAAU,WACnBG,EAAUH,EAAMH,CAAS,IAAM,IAAMG,EAAM,IAAI,GACtCA,GAAS,YAAaA,IAC/BA,EAAM,QAAUH,EAChBM,EAAU,IAAMH,EAAM,QAAU,MAElCjB,GAAc,IAAIc,EAAWM,CAAO,CACtC,SAAWb,IAAQ,QAAS,CAC1B,IAAMc,EAAQP,EAAU,MACpB,OAAOG,GAAU,SACnBI,EAAM,QAAUJ,GAEhBI,EAAM,QAAU,GACZJ,GAAS,MACXK,GAAmBL,EAAOI,EAAM,YAAY,KAAKA,CAAK,CAAC,EAG7D,KAAO,CACL,GAAId,IAAQ,QAAS,CACnB,IAAMgB,EAAWT,EAAU,SAC3B,GAAIS,IAAa,SAAWA,IAAa,YAAcA,IAAa,UAGlE,GADAT,EAAU,MAAQG,GAAU,MAA4BA,IAAU,GAAQ,KAAOA,EAC7EM,IAAa,WAAY,CAC3BT,EAAU,YAAcG,EACxB,QACF,SAAWM,IAAa,SAAU,CAC5BT,EAAU,gBAAkB,KAE9BA,EAAU,cAAgB,GAE5B,QACF,EAEJ,MAAWP,IAAQ,WAAaO,EAAU,WAAa,SAAWP,IAAQ,YAAcO,EAAU,WAAa,YAE7GA,EAAUP,CAAG,EAAIU,GAEnB,IAAMO,EAAIb,GAAgBG,EAAWP,CAAG,EACpCU,GAAU,MAA4BA,IAAU,GAClDH,EAAU,gBAAgBU,CAAC,EAClBP,IAAU,GACnBH,EAAU,aAAaU,EAAG,EAAE,EACnB,OAAOP,GAAU,UAAY,OAAOA,GAAU,SACvDH,EAAU,aAAaU,EAAGP,CAAK,EAE/BH,EAAU,aAAaU,EAAGP,EAAM,SAAS,CAAC,CAE9C,CACF,CACF,CACA,GAAID,EACF,QAAST,KAAOS,EAAe,CAC7B,IAAMC,EAAQD,EAAcT,CAAG,EAC/B,GAAIA,IAAQ,YAAc,EAAEA,KAAOQ,GAAa,CAC9CR,EAAMW,GAA6BX,CAAG,EACtC,IAAMY,EAAYb,GAAaC,CAAG,EAC9BY,EACFL,EAAU,oBAAoBK,EAAU,CAAC,EAAGF,EAAOE,EAAU,CAAC,CAAC,EACtDZ,IAAQ,MACjBP,GAAc,IAAIc,CAAS,IAAI,EAE/BA,EAAU,gBAAgBH,GAAgBG,EAAWP,CAAG,CAAC,CAE7D,CACF,CAEJ,EACIkB,GAAY,CAACC,EAAStB,IAAS,CACjCA,EAAKuB,CAAS,EAAE,CAAC,EAAI,EACrB5B,GAAe,KAAK,CAAC2B,EAAStB,CAAI,CAAC,EACnC,IAAMwB,EAAOxB,EAAK,IAAIyB,EAAY,GAAKzB,EAAK,IACtC0B,EAAQF,EAAK,aAAe,CAEhC,GAAGA,EAAK,aACR,GAAGxB,EAAK,KACV,EAAIA,EAAK,MACT,GAAI,CACF,MAAO,CAACwB,EAAK,KAAK,KAAME,CAAK,CAAC,CAChC,QAAE,CACA/B,GAAe,IAAI,CACrB,CACF,EACIgC,GAAkB,CAAC3B,EAAMU,EAAWkB,EAAcC,EAAkBC,IAAc,CAChF9B,EAAK,IAAI,SACX6B,EAAiB,KAAK,GAAG7B,EAAK,EAAE,EAChC,OAAOA,EAAK,IAEV,OAAOA,EAAK,KAAQ,YACtBA,EAAKuB,CAAS,EAAE,CAAC,EAAEQ,EAAY,GAAG,QAASC,GAASF,EAAU,KAAKE,CAAI,CAAC,EAE1EhC,EAAK,GAAG,QAASiC,GAAU,CACzB,GAAIlC,GAAakC,CAAK,EACpBL,EAAa,KAAKK,CAAK,UAEnB,OAAOA,EAAM,KAAQ,YAAcA,EAAM,MAAQ,GAAI,CACvDA,EAAM,EAAIvB,EACV,IAAMwB,EAA2BN,EAAa,OAE9C,GADAD,GAAgBM,EAAOvB,EAAWkB,EAAcC,EAAkBC,CAAS,EACvEG,EAAM,EAAG,CACX,QAASE,EAAID,EAA0BC,EAAIP,EAAa,OAAQO,IAC9DP,EAAaO,CAAC,EAAE,EAAI,GAEtBF,EAAM,EAAI,EACZ,CACF,MACEL,EAAa,KAAKK,CAAK,EACnBA,EAAM,IAAI,SACZJ,EAAiB,KAAK,GAAGI,EAAM,EAAE,EACjC,OAAOA,EAAM,GAIrB,CAAC,CACH,EACIG,GAAoBpC,GAAS,CAC/B,MAASA,EAAOA,EAAK,MAAQR,IAAuB,CAACQ,EAAK,IAAM,CAACA,EAAK,GAAKA,EAAK,GAAKA,EAAK,GAAG,CAAC,EAAG,CAC/F,GAAI,CAACA,EACH,OAAO,KAET,GAAIA,EAAK,MAAQR,IAAuBQ,EAAK,EAC3C,OAAOA,EAAK,CAEhB,CACF,EACIqC,GAAcrC,GAAS,CACpBD,GAAaC,CAAI,IACpBA,EAAKuB,CAAS,IAAI,CAAC,EAAEQ,EAAY,GAAG,QAASC,GAASA,EAAK,CAAC,IAAI,CAAC,EACjEpC,GAAc,IAAII,EAAK,CAAC,IAAI,EACxBA,EAAK,IAAM,GACbA,EAAK,IAAI,QAASsC,GAAMA,EAAE,EAAI,CAAC,EAEjCtC,EAAK,IAAI,QAAQqC,EAAU,GAExBrC,EAAK,IACRA,EAAK,GAAG,OAAO,EACf,OAAOA,EAAK,GAEV,OAAOA,EAAK,KAAQ,aACtBuC,GAAU,OAAOvC,CAAI,EACrBwC,GAAyB,OAAOxC,CAAI,EACpC,OAAOA,EAAKuB,CAAS,EAAE,CAAC,EACxBvB,EAAK,EAAI,GAEb,EACIyC,GAAQ,CAACzC,EAAMU,EAAWgC,IAAU,CACtC1C,EAAK,EAAIU,EACTiC,GAAgB3C,EAAMU,EAAWgC,CAAK,CACxC,EACIE,GAAqB,CAACC,EAAYZ,IAAU,CAC9C,GAAKA,GAGL,QAASE,EAAI,EAAGW,EAAMD,EAAW,OAAQV,EAAIW,EAAKX,IAChD,GAAIU,EAAWV,CAAC,IAAMF,EACpB,OAAOE,EAIb,EACIY,GAA8B,OAAO,EACrCJ,GAAkB,CAAC3C,EAAMU,EAAWgC,IAAU,CAChD,IAAMM,EAAO,CAAC,EACRC,EAAS,CAAC,EACVnB,EAAY,CAAC,EACnBH,GAAgB3B,EAAMU,EAAWsC,EAAMC,EAAQnB,CAAS,EACxDmB,EAAO,QAAQZ,EAAU,EACzB,IAAMQ,EAAaH,EAAQ,OAAShC,EAAU,WAC1CwC,EACAC,EAAmB,KACvB,GAAIT,EACFQ,EAAS,WACA,CAACL,EAAW,OACrBK,EAAS,MACJ,CACL,IAAME,EAAmBR,GAAmBC,EAAYT,GAAiBpC,EAAK,EAAE,CAAC,EAC7EoD,IAAqB,QACvBD,EAAmBN,EAAWO,CAAgB,EAC9CF,EAASE,GAETF,EAASN,GAAmBC,EAAYG,EAAK,KAAMV,GAAMA,EAAE,MAAQ9C,IAAuB8C,EAAE,CAAC,GAAG,CAAC,GAAK,GAEpGY,IAAW,KACbR,EAAQ,GAEZ,CACA,QAASP,EAAI,EAAGW,EAAME,EAAK,OAAQb,EAAIW,EAAKX,IAAKe,IAAU,CACzD,IAAMjB,EAAQe,EAAKb,CAAC,EAChBkB,EACJ,GAAIpB,EAAM,GAAKA,EAAM,EACnBoB,EAAKpB,EAAM,EACXA,EAAM,EAAI,OACL,CACL,IAAMqB,EAAaZ,GAAS,CAACT,EAAM,EAC/BlC,GAAakC,CAAK,GAChBA,EAAM,GAAKA,EAAM,IACnBA,EAAM,EAAE,YAAcA,EAAM,GAE9BA,EAAM,EAAI,GACVoB,EAAKpB,EAAM,IAAM,SAAS,eAAeA,EAAM,CAAC,IAEhDoB,EAAKpB,EAAM,IAAMA,EAAM,EAAI,SAAS,gBAAgBA,EAAM,EAAGA,EAAM,GAAG,EAAI,SAAS,cAAcA,EAAM,GAAG,EAC1GxB,GAAW4C,EAAIpB,EAAM,MAAOA,EAAM,EAAE,EACpCU,GAAgBV,EAAOoB,EAAIC,CAAU,EAEzC,CACIrB,EAAM,MAAQzC,GAChB0D,IACSR,EACJW,EAAG,YACN3C,EAAU,YAAY2C,CAAE,EAEjBR,EAAWK,CAAM,IAAMG,GAAMR,EAAWK,EAAS,CAAC,IAAMG,IAC7DR,EAAWK,EAAS,CAAC,IAAMG,EAC7B3C,EAAU,YAAYmC,EAAWK,CAAM,CAAC,EAExCxC,EAAU,aAAa2C,EAAIF,GAAoBN,EAAWK,CAAM,GAAK,IAAI,EAG/E,CAIA,GAHIlD,EAAK,IACP,OAAOA,EAAK,GAEV8B,EAAU,OAAQ,CACpB,IAAMyB,EAAqB,CAAC,EACtBC,EAAe,CAAC,EACtB1B,EAAU,QAAQ,CAAC,CAAC,CAAE2B,EAAmB,CAAEC,EAAaC,CAAoB,IAAM,CAC5EF,GACFF,EAAmB,KAAKE,CAAiB,EAEvCC,GACFF,EAAa,KAAKE,CAAW,EAE/BC,IAAuB,CACzB,CAAC,EACDJ,EAAmB,QAASK,GAAOA,EAAG,CAAC,EACnCJ,EAAa,QACf,sBAAsB,IAAM,CAC1BA,EAAa,QAASI,GAAOA,EAAG,CAAC,CACnC,CAAC,CAEL,CACF,EACIC,GAAgB,CAACC,EAAaC,IAAgB,CAAC,EAAED,GAAeA,EAAY,SAAWC,EAAY,QAAUD,EAAY,MAAM,CAACE,EAAK7B,IAAM6B,EAAI,CAAC,IAAMD,EAAY5B,CAAC,EAAE,CAAC,CAAC,GACvKK,GAA2C,IAAI,QAC/CyB,GAAQ,CAAC3C,EAAStB,EAAMkE,IAAa,CACvC,IAAMC,EAA4B,CAACD,GAAYlE,EAAK,GAChDkE,IACFlE,EAAK,KAAOA,EAAK,IAEnB,IAAIoE,EACJ,GAAI,CACFF,IAAa,OAAOlE,EAAK,KAAO,WAAaqB,GAAUC,EAAStB,CAAI,EAAIqE,GAAQrE,EAAK,MAAM,QAAQ,EAC/FkE,EAAS,CAAC,GAAG,MAAQ,IAAMA,EAAS,CAAC,EAAEI,EAAiB,IAC1DF,EAAoBF,EAAS,CAAC,EAAEI,EAAiB,EACjDhD,EAAQ,CAAC,EAAE,KAAK,CAACA,EAAS8C,EAAmBpE,CAAI,CAAC,GAEpD,IAAMuE,EAAeJ,EAA4B,CAAC,GAAGnE,EAAK,EAAE,EAAIA,EAAK,GAAK,CAAC,GAAGA,EAAK,EAAE,EAAI,OACnFwE,EAAY,CAAC,EACfC,EACJ,QAAStC,EAAI,EAAGA,EAAI+B,EAAS,OAAQ/B,IAAK,CACpC,MAAM,QAAQ+B,EAAS/B,CAAC,CAAC,GAC3B+B,EAAS,OAAO/B,EAAG,EAAG,GAAG+B,EAAS/B,CAAC,EAAE,KAAK,CAAC,EAE7C,IAAIF,EAAQyC,GAAUR,EAAS/B,CAAC,CAAC,EACjC,GAAIF,EAAO,CACL,OAAOA,EAAM,KAAQ,YACzB,CAACA,EAAM,IAAI0C,EAAgB,IACrBC,GAAkB,OAAS,IAC7B3C,EAAMV,CAAS,EAAE,CAAC,EAAIqD,GAAkB,IAAK,GAAM,CAAC,EAAG,EAAE,OAAO,GAAG,EAAE,CAAC,CAAC,GAErEtD,EAAQ,CAAC,GAAG,SACdW,EAAMV,CAAS,EAAE,CAAC,EAAID,EAAQ,CAAC,EAAE,GAAG,EAAE,IAG1C,IAAIuD,EACJ,GAAIN,GAAgBA,EAAa,OAAQ,CACvC,IAAMO,EAAKP,EAAa,UACtBxE,GAAakC,CAAK,EAAK8C,GAAMhF,GAAagF,CAAC,EAAI9C,EAAM,MAAQ,OAAU8C,GAAMA,EAAE,MAAQ9C,EAAM,KAAO8C,EAAE,MAAQ9C,EAAM,IAAO8C,GAAMA,EAAE,MAAQ9C,EAAM,GACnJ,EACI6C,IAAO,KACTD,EAAWN,EAAaO,CAAE,EAC1BP,EAAa,OAAOO,EAAI,CAAC,EAE7B,CACA,GAAID,EACF,GAAI9E,GAAakC,CAAK,EAChB4C,EAAS,IAAM5C,EAAM,IAEvB4C,EAAS,EAAI5C,EAAM,EACnB4C,EAAS,EAAI,IAEf5C,EAAQ4C,MACH,CACL,IAAMG,EAAKH,EAAS,GAAKA,EAAS,MAGlC,GAFAA,EAAS,MAAQ5C,EAAM,MACvB4C,EAAS,IAAM5C,EAAM,GAAKjC,EAAK,EAC3B,OAAOiC,EAAM,KAAQ,WAAY,CACnC,IAAM6B,EAAce,EAAStD,CAAS,EAAE,CAAC,EACzCsD,EAAStD,CAAS,EAAE,CAAC,EAAIU,EAAMV,CAAS,EAAE,CAAC,GAAK,CAAC,EACjDsD,EAAStD,CAAS,EAAE,CAAC,EAAIU,EAAMV,CAAS,EAAE,CAAC,EACvC,CAACsD,EAAS,KAAOA,EAAS,GAAKA,KAAc5C,EAAM,GACvD4C,EAAS,IAAII,EAAQ,IAAID,EAAIH,EAAS,KAAK,IAC3ChB,GAAcC,EAAae,EAAStD,CAAS,EAAE,CAAC,CAAC,IAC/CsD,EAAS,EAAI,GAEjB,CACA5C,EAAQ4C,CACV,SACS,CAAC9E,GAAakC,CAAK,GAAKpC,GAAkB,CACnD,IAAMqF,EAAKC,GAAWtF,EAAgB,EAClCqF,IACFjD,EAAM,EAAIiD,EAEd,CAMA,GALI,CAACnF,GAAakC,CAAK,GAAK,CAACA,EAAM,IACjCgC,GAAM3C,EAASW,CAAK,EACpB,OAAOA,EAAM,GAEfuC,EAAU,KAAKvC,CAAK,EAChBwC,GAAY,CAACA,EAAS,GAAK,CAACxC,EAAM,EACpC,QAASmD,EAAIX,EAAUW,GAAK,CAACrF,GAAaqF,CAAC,EAAGA,EAAIA,EAAE,IAAI,GAAG,EAAE,EAC3DA,EAAE,GAAKnD,EAGXwC,EAAWxC,CACb,CACF,CACAjC,EAAK,GAAKmE,EAA4B,CAAC,GAAGnE,EAAK,GAAI,GAAGuE,GAAgB,CAAC,CAAC,EAAIA,GAAgB,CAAC,EAC7FvE,EAAK,GAAKwE,EACNL,GACF,OAAOnE,EAAK,EAEhB,OAASqF,EAAG,CAEV,GADArF,EAAK,EAAI,GACLqF,IAAMtC,GAAa,CACrB,GAAIqB,EACF,OAEA,MAAMiB,CAEV,CACA,GAAM,CAACC,EAAqBC,EAAcC,CAAgB,EAAIxF,EAAKuB,CAAS,IAAI,CAAC,GAAK,CAAC,EACvF,GAAIgE,EAAc,CAChB,IAAME,EAAmB,IAAMC,GAAO,CAAC,EAAG,GAAOpE,EAAQ,CAAC,CAAC,EAAGkE,CAAgB,EACxEG,EAAwBnD,GAAyB,IAAIgD,CAAgB,GAAK,CAAC,EACjFG,EAAsB,KAAKF,CAAgB,EAC3CjD,GAAyB,IAAIgD,EAAkBG,CAAqB,EACpE,IAAMC,EAAWL,EAAaF,EAAG,IAAM,CACrC,IAAMQ,EAAUrD,GAAyB,IAAIgD,CAAgB,EAC7D,GAAIK,EAAS,CACX,IAAM1D,EAAI0D,EAAQ,QAAQJ,CAAgB,EAC1C,GAAItD,IAAM,GACR,OAAA0D,EAAQ,OAAO1D,EAAG,CAAC,EACZsD,EAAiB,CAE5B,CACF,CAAC,EACD,GAAIG,EAAU,CACZ,GAAItE,EAAQ,CAAC,IAAM,EACjBA,EAAQ,CAAC,EAAI,WAEb2C,GAAM3C,EAASkE,EAAkB,CAACI,CAAQ,CAAC,GACtCL,EAAa,SAAW,GAAKjE,IAAYgE,IAAwBE,EAAiB,EAAG,CACxF/C,GAAM+C,EAAkBA,EAAiB,EAAG,EAAK,EACjD,MACF,CAEF,MAAMzC,EACR,CACF,CACA,MAAMsC,CACR,QAAE,CACIjB,GACF9C,EAAQ,CAAC,EAAE,IAAI,CAEnB,CACF,EACIoD,GAAa1E,GAAS,CACxB,GAAI,EAAmBA,GAAS,MAAQ,OAAOA,GAAS,WAEjD,IAAI,OAAOA,GAAS,UAAY,OAAOA,GAAS,SACrD,MAAO,CAAE,EAAGA,EAAK,SAAS,EAAG,EAAG,EAAK,EAcrC,GAZI,OAAQA,IACVA,EAAO,CACL,IAAKA,EAAK,IACV,MAAOA,EAAK,MACZ,IAAKA,EAAK,IACV,EAAGA,EAAK,EACR,KAAMA,EAAK,IACX,IAAKA,EAAK,MAAM,IAChB,EAAGA,EAAK,GAAKA,CAEf,GAEE,OAAOA,EAAK,KAAQ,WAEtBA,EAAKuB,CAAS,EAAI,CAAC,EAAG,CAAC,CAAC,MACnB,CACL,IAAM2D,EAAKxF,GAAaM,EAAK,GAAG,EAC5BkF,IACFrF,KAAqBiG,GAAc,EAAE,EACrC9F,EAAK,MAAM,SAAW,CACpB,CACE,IAAKH,GACL,MAAO,CACL,MAAOG,EAAK,EAAI,qBAAqBkF,CAAE,GACvC,SAAUlF,EAAK,MAAM,QACvB,CACF,CACF,EAEJ,CACA,OAAOA,EAEX,EAOA,IAAI+F,GAAa,CAACC,EAASC,IAAS,CAClCA,EAAKC,CAAS,EAAE,CAAC,GAAG,QAAQ,CAAC,CAACC,EAAGC,CAAC,IAAM,CACtCD,EAAE,OAAO,KAAKC,CAAC,CACjB,CAAC,EACD,GAAI,CACFC,GAAML,EAASC,EAAM,MAAM,CAC7B,MAAQ,CACN,MACF,CACA,GAAIA,EAAK,EAAG,CACV,OAAOA,EAAK,EACZ,MACF,CACAA,EAAKC,CAAS,EAAE,CAAC,GAAG,QAAQ,CAAC,CAACC,CAAC,IAAM,CACnCA,EAAE,OAAO,IAAI,CACf,CAAC,GACGH,EAAQ,CAAC,IAAM,GAAK,CAACA,EAAQ,CAAC,IAChCM,GAAML,EAAMA,EAAK,EAAG,EAAK,CAE7B,EACIM,GAA4B,IAAI,QAChCC,GAAoB,CAAC,EACrBC,GAAS,MAAOT,EAASC,IAAS,CACpCD,EAAQ,CAAC,IAAM,CAAC,EAChB,IAAMU,EAAWH,GAAU,IAAIN,CAAI,EAC/BS,GACFA,EAAS,CAAC,EAAE,MAAM,EAEpB,IAAIC,EACEC,EAAU,IAAI,QAASC,GAAMF,EAAUE,CAAC,EAc9C,GAbAN,GAAU,IAAIN,EAAM,CAClBU,EACA,IAAM,CACAX,EAAQ,CAAC,EACXA,EAAQ,CAAC,EAAEA,EAASC,EAAOa,GAAa,CACtCf,GAAWe,EAAUb,CAAI,CAC3B,CAAC,EAAE,KAAK,IAAMU,EAAQV,CAAI,CAAC,GAE3BF,GAAWC,EAASC,CAAI,EACxBU,EAAQV,CAAI,EAEhB,CACF,CAAC,EACGO,GAAkB,OAEpBA,GAAkB,GAAG,EAAE,EAAE,IAAIP,CAAI,MAC5B,CACL,MAAM,QAAQ,QAAQ,EACtB,IAAMc,EAASR,GAAU,IAAIN,CAAI,EAC7Bc,IACFR,GAAU,OAAON,CAAI,EACrBc,EAAO,CAAC,EAAE,EAEd,CACA,OAAOH,CACT,EA4BA,IAAII,GAAe,CAACC,EAAUC,EAAWC,KAAS,CAChD,IAAKC,GACL,MAAO,CACL,SAAAH,CACF,EACA,IAAAE,EACAD,EACA,EAAG,CAEL,GCtkBA,IAAIG,GAAa,EACbC,GAAe,EACfC,GAAiB,EACjBC,GAAa,EAEjB,IAAIC,GAA0C,IAAI,QAC9CC,GAAgB,CAACC,EAAUC,IAAS,CAACD,GAAY,CAACC,GAAQD,EAAS,SAAWC,EAAK,QAAUA,EAAK,KAAK,CAACC,EAAKC,IAAMD,IAAQF,EAASG,CAAC,CAAC,EAU1I,IAAIC,GAAa,OAuCjB,IAAIC,GAAe,CAAC,EAoEpB,IAAIC,GAAYC,GAAiB,CAC/B,IAAMC,EAAsB,IAAM,OAAOD,GAAiB,WAAaA,EAAa,EAAIA,EAClFE,EAAYC,GAAe,GAAG,EAAE,EACtC,GAAI,CAACD,EACH,MAAO,CAACD,EAAoB,EAAG,IAAM,CACrC,CAAC,EAEH,GAAM,CAAC,CAAEG,CAAI,EAAIF,EACXG,EAAaD,EAAKE,CAAS,EAAE,CAAC,EAAEC,EAAU,IAAM,CAAC,EACjDC,EAAYJ,EAAKE,CAAS,EAAE,CAAC,IACnC,OAAOD,EAAWG,CAAS,IAAM,CAC/BP,EAAoB,EACnBQ,GAAa,CACZ,IAAMC,EAAkBC,GAClBC,EAAYP,EAAWG,CAAS,EAItC,GAHI,OAAOC,GAAa,aACtBA,EAAWA,EAASG,EAAU,CAAC,CAAC,GAE9B,CAAC,OAAO,GAAGH,EAAUG,EAAU,CAAC,CAAC,EAEnC,GADAA,EAAU,CAAC,EAAIH,EACXI,GAAa,OAAQ,CACvB,GAAM,CAACC,EAAaC,CAAc,EAAIF,GAAa,GAAG,EAAE,EACxD,QAAQ,IAAI,CACVC,IAAgB,EAAIV,EAAOY,GAAO,CAACF,EAAa,GAAOJ,CAAe,EAAGN,CAAI,EAC7EW,CACF,CAAC,EAAE,KAAK,CAAC,CAACE,CAAK,IAAM,CACnB,GAAI,CAACA,GAAS,EAAEH,IAAgB,GAAKA,IAAgB,GACnD,OAEF,IAAMI,EAASD,EAAM,GASrB,sBARsB,IAAM,CAC1B,WAAW,IAAM,CACXC,IAAWD,EAAM,IAGrBD,GAAO,CAACF,IAAgB,EAAI,EAAI,EAAG,GAAOJ,CAAe,EAAGO,CAAK,CACnE,CAAC,CACH,CACmC,CACrC,CAAC,CACH,MACED,GAAO,CAAC,EAAG,GAAON,CAAe,EAAGN,CAAI,CAG9C,CACF,CACF,EAoCA,IAAIe,GAAc,CAACC,EAAUC,IAAS,CACpC,IAAMC,EAAYC,GAAe,GAAG,EAAE,EACtC,GAAI,CAACD,EACH,OAAOF,EAET,GAAM,CAAC,CAAEI,CAAI,EAAIF,EACXG,EAAgBD,EAAKE,CAAS,EAAE,CAAC,EAAEC,EAAc,IAAM,CAAC,EACxDC,EAAYJ,EAAKE,CAAS,EAAE,CAAC,IAC7BG,EAAWJ,EAAcG,CAAS,EACxC,OAAIE,GAAcD,IAAW,CAAC,EAAGR,CAAI,EACnCI,EAAcG,CAAS,EAAI,CAACR,EAAUC,CAAI,EAE1CD,EAAWK,EAAcG,CAAS,EAAE,CAAC,EAEhCR,CACT,EAWA,IAAIW,GAAOC,GAAY,CACrB,IAAMC,EAAYC,GAAwB,IAAIF,CAAO,EACrD,GAAIC,EAAW,CACb,GAAIA,EAAU,SAAW,EACvB,MAAMA,EAAU,CAAC,EAEnB,OAAOA,EAAU,CAAC,CACpB,CACA,MAAAD,EAAQ,KACLG,GAAQD,GAAwB,IAAIF,EAAS,CAACG,CAAG,CAAC,EAClDC,GAAMF,GAAwB,IAAIF,EAAS,CAAC,OAAQI,CAAC,CAAC,CACzD,EACMJ,CACR,EACIK,GAAU,CAACC,EAASC,IAAS,CAC/B,IAAMC,EAAYC,GAAe,GAAG,EAAE,EACtC,GAAI,CAACD,EACH,OAAOF,EAAQ,EAEjB,GAAM,CAAC,CAAEI,CAAI,EAAIF,EACXG,EAAYD,EAAKE,CAAS,EAAE,CAAC,EAAEC,EAAU,IAAM,CAAC,EAChDC,EAAYJ,EAAKE,CAAS,EAAE,CAAC,IAC7BG,EAAWJ,EAAUG,CAAS,EACpC,OAAIE,GAAcD,IAAW,CAAC,EAAGR,CAAI,IACnCI,EAAUG,CAAS,EAAI,CAACR,EAAQ,EAAGC,CAAI,GAElCI,EAAUG,CAAS,EAAE,CAAC,CAC/B,EChQA,IAAIG,GAAcC,GAAc,CAC9B,QAAS,GACT,KAAM,KACN,OAAQ,KACR,OAAQ,IACV,CAAC,EACGC,GAA0B,IAAI,IAC9BC,GAAkBC,GAAW,CAC/BF,GAAQ,IAAIE,CAAM,EAClBA,EAAO,QAAQ,IAAMF,GAAQ,OAAOE,CAAM,CAAC,CAC7C,EHTA,IAAIC,GAAa,IAAM,CACrBC,GAAqC,OAAO,OAAO,IAAI,EACvDC,GAAkC,OAAO,OAAO,IAAI,CACtD,EACIC,GAAa,CAACC,EAAKC,IACdC,GACL,IAAOC,GAAM,CACX,IAAIC,EACAJ,IACE,OAAOA,GAAQ,WACjBI,EAAaJ,EAAIG,CAAC,IAAM,IAAM,CAC5BH,EAAI,IAAI,CACV,GACSA,GAAO,YAAaA,IAC7BA,EAAI,QAAUG,EACdC,EAAa,IAAM,CACjBJ,EAAI,QAAU,IAChB,IAGJ,IAAMK,EAAYJ,EAAGE,CAAC,EACtB,MAAO,IAAM,CACXE,IAAY,EACZD,IAAa,CACf,CACF,EACA,CAACJ,CAAG,CACN,EAEEH,GAAqC,OAAO,OAAO,IAAI,EACvDC,GAAkC,OAAO,OAAO,IAAI,EACpDQ,GAAsB,CAACC,EAAKC,EAAOC,EAAkBC,EAAaC,IAAoB,CACxF,GAAIH,GAAO,SACT,MAAO,CACL,IAAAD,EACA,MAAAC,EACA,KAAMD,EACN,IAAKC,EAAM,GACb,EAEF,IAAMI,EAAO,SAAS,KAClB,CAAE,OAAAC,EAAQ,QAAAC,EAAS,WAAAC,EAAY,SAAAC,EAAU,GAAGC,CAAU,EAAIT,EAC1DU,EAAU,KACVC,EAAU,GACRC,EAAaC,GAAad,CAAG,EAC/Be,EACJ,GAAIF,EAAW,OAAS,EAAG,CACzB,IAAMG,EAAOX,EAAK,iBAAiBL,CAAG,EACtCiB,EAAM,QAAWrB,KAAKoB,EACpB,QAAWE,KAAOJ,GAAad,CAAG,EAChC,GAAIJ,EAAE,aAAasB,CAAG,IAAMjB,EAAMiB,CAAG,EAAG,CACtCP,EAAUf,EACV,MAAMqB,CACR,CAGJ,GAAI,CAACN,EAAS,CACZ,IAAMQ,EAAWN,EAAW,OAC1B,CAACO,EAAKF,IAAQjB,EAAMiB,CAAG,IAAM,OAASE,EAAM,GAAGA,CAAG,IAAIF,CAAG,IAAIjB,EAAMiB,CAAG,CAAC,GACvElB,CACF,EACAY,EAAU,CAACrB,GAAgB4B,CAAQ,EACnCR,EAAUpB,GAAgB4B,CAAQ,KAAO,IAAM,CAC7C,IAAMvB,EAAI,SAAS,cAAcI,CAAG,EACpC,QAAWkB,KAAOL,EACZZ,EAAMiB,CAAG,IAAM,QACjBtB,EAAE,aAAasB,EAAKjB,EAAMiB,CAAG,CAAC,EAE5BjB,EAAM,KACRL,EAAE,aAAa,MAAOK,EAAM,GAAG,EAGnC,OAAOL,CACT,GAAG,CACL,CACF,MACEmB,EAAmBV,EAAK,iBAAiBL,CAAG,EAE9CQ,EAAaL,EAAcK,GAAc,GAAK,OAC1CL,IACFO,EAAUW,EAAkB,EAAIb,GAElC,IAAMc,EAASC,GACZ3B,GAAM,CACL,GAAIiB,EAAW,OAAS,EAAG,CACzB,IAAIW,EAAQ,GACZ,QAAWC,KAAmBpB,EAAK,iBAAiBL,CAAG,EAAG,CACxD,GAAIwB,GAASC,EAAgB,aAAaJ,EAAkB,IAAMb,EAAY,CAC5EH,EAAK,aAAaT,EAAG6B,CAAe,EACpC,MACF,CACIA,EAAgB,aAAaJ,EAAkB,IAAMb,IACvDgB,EAAQ,GAEZ,CACAnB,EAAK,YAAYT,CAAC,CACpB,SAAWmB,EAAkB,CAC3B,IAAIS,EAAQ,GACZ,QAAWC,KAAmBV,EAC5B,GAAIU,IAAoB7B,EAAG,CACzB4B,EAAQ,GACR,KACF,CAEGA,GACHnB,EAAK,aACHT,EACAS,EAAK,SAASU,EAAiB,CAAC,CAAC,EAAIA,EAAiB,CAAC,EAAIV,EAAK,cAAcL,CAAG,CACnF,EAEFe,EAAmB,MACrB,CACF,EACA,CAACP,CAAU,CACb,EACMf,EAAMD,GAAWS,EAAM,IAAML,GAAM,CACvC,IAAMsB,EAAML,EAAW,CAAC,EAOxB,GANIX,IAAqB,IACvBN,EAAE,UAAY,KAEZgB,GAAWG,IACbO,EAAO1B,CAAC,EAEN,CAACW,GAAW,CAACD,EACf,OAEF,IAAIoB,EAAUpC,GAAmBM,EAAE,aAAasB,CAAG,CAAC,IAAM,IAAI,QAC5D,CAACS,EAASC,IAAW,CACnBhC,EAAE,iBAAiB,OAAQ+B,CAAO,EAClC/B,EAAE,iBAAiB,QAASgC,CAAM,CACpC,CACF,EACItB,IACFoB,EAAUA,EAAQ,KAAKpB,CAAM,GAE3BC,IACFmB,EAAUA,EAAQ,MAAMnB,CAAO,GAEjCmB,EAAQ,MAAM,IAAM,CACpB,CAAC,CACH,CAAC,EACD,GAAItB,GAAmBK,IAAa,SAAU,CAC5C,IAAMS,EAAMJ,GAAad,CAAG,EAAE,CAAC,EAC/B,GAAIC,EAAMiB,CAAG,EAAG,CACd,IAAMW,EAAQ5B,EAAMiB,CAAG,EACjBQ,EAAUpC,GAAmBuC,CAAK,IAAM,IAAI,QAAQ,CAACF,EAASC,IAAW,CAC7EN,EAAOX,CAAO,EACdA,EAAQ,iBAAiB,OAAQgB,CAAO,EACxChB,EAAQ,iBAAiB,QAASiB,CAAM,CAC1C,CAAC,EACDE,GAAIJ,CAAO,CACb,CACF,CACA,IAAMK,EAAU,CACd,IAAA/B,EACA,KAAMA,EACN,MAAO,CACL,GAAGU,EACH,IAAAjB,CACF,EACA,IAAAA,CACF,EACA,OAAAsC,EAAQ,EAAI7B,EACRS,IACFoB,EAAQ,EAAIpB,GAEPqB,GACLD,EACA1B,CAEF,CACF,EACI4B,GAAShC,GAAU,CACrB,IAAMiC,EAAmBC,GAAoB,EAE7C,OADWD,GAAoBE,GAAWF,CAAgB,IAClD,SAAS,KAAK,EACb,CACL,IAAK,QACL,MAAAjC,EACA,KAAM,QAEN,IAAKA,EAAM,GACb,EAEKF,GAAoB,QAASE,EAAO,OAAQ,GAAO,EAAK,CACjE,EACIoC,GAAUpC,GACR,CAACA,GAAS,CAAC,MAAO,OAAO,EAAE,KAAMqC,GAAM,CAACrC,EAAMqC,CAAC,CAAC,EAC3C,CACL,IAAK,SACL,MAAArC,EACA,KAAM,SACN,IAAKA,EAAM,GACb,EAEKF,GAAoB,SAAUE,EAAO,EAAG,GAAO,EAAI,EAExDsC,GAAStC,GACP,CAACA,GAAS,CAAC,CAAC,OAAQ,YAAY,EAAE,MAAOqC,GAAMA,KAAKrC,CAAK,EACpD,CACL,IAAK,QACL,MAAAA,EACA,KAAM,QACN,IAAKA,EAAM,GACb,GAEFA,EAAM,WAAW,EAAIA,EAAM,KAC3B,OAAOA,EAAM,KACNF,GAAoB,QAASE,EAAO,EAAG,GAAM,EAAI,GAEtDuC,GAAQvC,GACN,CAACA,GAAS,CAAC,SAAU,SAAS,EAAE,KAAMqC,GAAMA,KAAKrC,CAAK,GAAKA,EAAM,MAAQ,eAAiB,EAAE,eAAgBA,IAAU,aAAcA,GAC/H,CACL,IAAK,OACL,MAAAA,EACA,KAAM,OACN,IAAKA,EAAM,GACb,EAEKF,GAAoB,OAAQE,EAAO,EAAG,eAAgBA,EAAO,EAAI,EAEtEwC,GAAQxC,GACHF,GAAoB,OAAQE,EAAO,OAAQ,GAAO,EAAK,EAE5DyC,GAAwC,OAAO,EAC/CC,GAAQ1C,GAAU,CACpB,GAAM,CAAE,OAAA2C,EAAQ,GAAGlC,CAAU,EAAIT,EAC7B,OAAO2C,GAAW,aAEpBlC,EAAU,OAASkC,GAErB,GAAM,CAACC,EAAOC,CAAQ,EAAIC,GAAS,CAAC,KAAM,EAAK,CAAC,EAC1CC,EAAWzB,GACf,MAAO0B,GAAO,CACZ,IAAMC,EAAgBD,EAAG,UAAYL,EAASK,EAAG,OAAOP,EAAqB,EAC7E,GAAI,OAAOQ,GAAkB,WAC3B,OAEFD,EAAG,eAAe,EAClB,IAAME,EAAW,IAAI,SAASF,EAAG,MAAM,EACvCH,EAAS,CAACK,EAAU,EAAI,CAAC,EACzB,IAAMC,EAAYF,EAAcC,CAAQ,EACpCC,aAAqB,UACvBC,GAAeD,CAAS,EACxB,MAAMA,GAERN,EAAS,CAAC,KAAM,EAAI,CAAC,CACvB,EACA,CAAC,CACH,EACMrD,EAAMD,GAAWS,EAAM,IAAMqD,IACjCA,EAAG,iBAAiB,SAAUN,CAAQ,EAC/B,IAAM,CACXM,EAAG,oBAAoB,SAAUN,CAAQ,CAC3C,EACD,EACK,CAACO,EAAMC,CAAO,EAAIX,EACxB,OAAAA,EAAM,CAAC,EAAI,GACJ,CACL,IAAKY,GACL,MAAO,CACL,MAAO,CACL,QAASF,IAAS,KAClB,KAAAA,EACA,OAAQA,EAAO,OAAS,KACxB,OAAQA,EAAOX,EAAS,IAC1B,EACA,SAAU,CACR,IAAK,OACL,MAAO,CACL,GAAGlC,EACH,IAAAjB,CACF,EACA,KAAM,OACN,IAAAA,CACF,CACF,EACA,EAAG+D,CAEL,CACF,EACIE,GAAwB,CAAC1D,EAAK,CAChC,WAAA2D,EACA,GAAG1D,CACL,IAAM,CACJ,GAAI,OAAO0D,GAAe,WAAY,CACpC,IAAMC,EAAUrC,GAAa0B,GAAO,CAClCA,EAAG,eAAe,EAClBA,EAAG,cAAc,KAAK,cACpB,IAAI,YAAY,SAAU,CAAE,OAAQ,CAAE,CAACP,EAAqB,EAAGiB,CAAW,CAAE,CAAC,CAC/E,CACF,EAAG,CAAC,CAAC,EACL1D,EAAM,IAAMT,GAAWS,EAAM,IAAMqD,IACjCA,EAAG,iBAAiB,QAASM,CAAO,EAC7B,IAAM,CACXN,EAAG,oBAAoB,QAASM,CAAO,CACzC,EACD,CACH,CACA,MAAO,CACL,IAAA5D,EACA,MAAAC,EACA,KAAMD,EACN,IAAKC,EAAM,GAEb,CACF,EACI4D,GAAS5D,GAAUyD,GAAsB,QAASzD,CAAK,EACvD6D,GAAU7D,GAAUyD,GAAsB,SAAUzD,CAAK,EAC7D,OAAO,OAAO8D,GAAc,CAC1B,MAAA9B,GACA,OAAAI,GACA,MAAAE,GACA,KAAAC,GACA,KAAAC,GACA,KAAAE,GACA,MAAAkB,GACA,OAAAC,EACF,CAAC,EIlUD,IAAIE,GAAS,CAACC,EAAKC,EAAOC,KACpB,OAAOF,GAAQ,UAAYG,GAAqBH,CAAG,IACrDA,EAAMG,GAAqBH,CAAG,GAEzB,CACL,IAAAA,EACA,KAAMA,EACN,MAAAC,EACA,IAAAC,EACA,IAAKD,EAAM,GACb,GAEEG,GAAYH,GAAUF,GAAO,GAAIE,EAAO,MAAM,ECXlD,IAAII,IAAiB,CAAC,CAAE,SAAAC,EAAU,SAAAC,EAAU,eAAAC,EAAgB,QAAAC,CAAQ,IAAM,CACxE,IAAMC,EAAMC,GAAS,CAAE,SAAAL,CAAS,CAAC,EACjC,OAAAI,EAAIE,EAAiB,EAAKC,GAAQ,CAChC,GAAIA,aAAe,QACjB,MAAMA,EAER,OAAAJ,IAAUI,CAAG,EACNL,IAAiBK,CAAG,GAAKN,CAClC,EACOG,CACT,GACII,IAAY,CAAC,CACf,SAAAR,EACA,SAAAC,CACF,IAAM,CACJ,IAAMG,EAAMC,GAAS,CAAE,SAAAL,CAAS,CAAC,EACjC,OAAAI,EAAIE,EAAiB,EAAI,CAACC,EAAKE,IAAU,CACvC,GAAI,EAAEF,aAAe,SACnB,MAAMA,EAER,OAAAA,EAAI,QAAQE,CAAK,EACVR,CACT,EACOG,CACT,GClBA,IAAIM,GAAmBC,GAAc,IAAI,EACrCC,GAAkB,EAClBC,GAAW,MAAO,CACpB,SAAAC,EACA,SAAAC,CACF,IAAM,CACC,MAAM,QAAQD,CAAQ,IACzBA,EAAW,CAACA,CAAQ,GAEtB,IAAME,EAAQC,GAAWP,EAAgB,GAAG,YACxCQ,EAAW,CAAC,EACVC,EAAY,CAAE,CAACC,CAAS,EAAG,CAAC,EAAG,CAAC,CAAC,CAAE,EACnCC,EAAgBC,IACpBC,GAAe,IAAI,EACZD,GAET,GAAI,CACFH,EAAUC,CAAS,EAAE,CAAC,EAAI,EAC1BG,GAAe,KAAK,CAAC,CAAC,EAAGJ,CAAS,CAAC,EACnCD,EAAWJ,EAAS,IACjBU,GAAMA,GAAK,MAAQ,OAAOA,GAAM,UAAY,GAAKA,EAAE,SAAS,CAC/D,CACF,OAASC,EAAG,CACV,GAAIA,aAAa,QACfP,EAAW,CACTO,EAAE,KAAK,KACLN,EAAUC,CAAS,EAAE,CAAC,EAAI,EAC1BG,GAAe,KAAK,CAAC,CAAC,EAAGJ,CAAS,CAAC,EAC5BO,GAAiBZ,CAAQ,EAAE,KAAKO,CAAY,EACpD,CACH,MAEA,OAAMI,CAEV,QAAE,CACAJ,EAAa,CACf,CACA,GAAIH,EAAS,KAAMS,GAAQA,aAAe,OAAO,EAAG,CAClD,IAAMC,EAAQhB,KACRiB,EAAc,MAAMd,EAAS,SAAS,EAC5C,OAAOe,EAAI,mBAAmBF,CAAK,gBAAgBC,CAAW,YAAa,CACzE,GAAGA,EAAY,WAAa,CAAC,EAC7B,CAAC,CAAE,MAAAE,EAAO,OAAAC,EAAQ,QAAAC,CAAQ,IAAM,CAC9B,GAAIF,IAAUG,GAAyB,aAGvC,OAAO,QAAQ,IAAIhB,CAAQ,EAAE,KAAK,MAAOiB,GAAc,CACrDA,EAAYA,EAAU,KAAK,EAC3B,IAAMC,EAAUD,EAAU,KAAK,EAAE,EAC7BH,IACFA,EAAO,CAAC,EAAIA,EAAO,CAAC,EAAE,QACpB,IAAI,OAAO,mBAAmBJ,CAAK,6BAA6B,EAChEQ,CACF,GAEF,IAAIC,EAAOL,EAAS,GAAK,iCAAiCJ,CAAK,KAAKQ,CAAO,qBAAqBpB,EAAQ,WAAWA,CAAK,IAAM,EAAE;AAAA;AAAA;AAAA,wBAGlHY,CAAK;AAAA;AAAA;AAAA;AAAA;AAAA,WAMbU,EAAYH,EAAU,IAAKI,GAAUA,EAAM,WAAa,CAAC,CAAC,EAAE,KAAK,EACvE,OAAKD,EAAU,QAGXP,IAAUG,GAAyB,SACrCG,EAAO,MAAMG,GAAgBH,EAAMH,GAAyB,aAAc,GAAMD,CAAO,GAElFH,EAAIO,EAAMC,CAAS,GALjBD,CAMX,CAAC,CACH,CACF,CAAC,CACH,KACE,QAAOP,EAAIZ,EAAS,KAAK,EAAE,CAAC,CAEhC,EACAL,GAAS4B,EAAY,EAAI5B,GACzB,IAAI6B,GAAc,IAAI,YClFtB,IAAIC,GAAuB,EACvBC,GAAmB,MAAOC,GAAa,CACzC,GAAI,CACF,OAAOA,EAAS,KAAK,EAAE,IAAKC,GAAMA,GAAK,MAAQ,OAAOA,GAAM,UAAY,GAAKA,EAAE,SAAS,CAAC,CAC3F,OAAS,EAAG,CACV,GAAI,aAAa,QACf,aAAM,EACCF,GAAiBC,CAAQ,EAEhC,MAAM,CAEV,CACF,EACIE,GAAgB,MAAO,CAAE,SAAAF,EAAU,SAAAG,EAAU,eAAAC,EAAgB,QAAAC,CAAQ,IAAM,CAC7E,GAAI,CAACL,EACH,OAAOM,EAAI,EAAE,EAEV,MAAM,QAAQN,CAAQ,IACzBA,EAAW,CAACA,CAAQ,GAEtB,IAAMO,EAAQC,GAAWC,EAAgB,GAAG,YACxCC,EACEC,EAAeC,IACnBP,IAAUO,CAAK,GACPF,GAAeN,IAAiBQ,CAAK,GAAK,IAAI,SAAS,GAE7DC,EAAW,CAAC,EAChB,GAAI,CACFA,EAAWb,EAAS,IACjBC,GAAMA,GAAK,MAAQ,OAAOA,GAAM,UAAY,GAAKA,EAAE,SAAS,CAC/D,CACF,OAASa,EAAG,CACVJ,EAAc,MAAMP,GAAU,SAAS,EACnCW,aAAa,QACfD,EAAW,CACTC,EAAE,KAAK,IAAMf,GAAiBC,CAAQ,CAAC,EAAE,MAAOe,GAAOJ,EAAYI,CAAE,CAAC,CACxE,EAEAF,EAAW,CAACF,EAAYG,CAAC,CAAC,CAE9B,CACA,GAAID,EAAS,KAAMG,GAAQA,aAAe,OAAO,EAAG,CAClDN,IAAgB,MAAMP,GAAU,SAAS,EACzC,IAAMc,EAAQnB,KACRoB,EAAY,OAAO,oBAAoBD,CAAK,gCAAgCA,CAAK,MAAM,EACvFE,EAAS,GACTC,EAAgB,CAAC,CAAE,MAAOC,EAAQ,OAAAC,CAAO,IAAM,CACnD,GAAIH,EACF,MAAO,GAET,IAAMI,EAAoBZ,EAAYU,CAAM,EAC5C,OAAIC,IACFA,EAAO,CAAC,EAAIA,EAAO,CAAC,EAAE,QAAQJ,EAAWK,CAAiB,GAErDD,EAAS,GAAK,iCAAiCL,CAAK,KAAKM,CAAiB;AAAA;AAAA;AAAA,wBAG/DN,CAAK;AAAA;AAAA,qEAEwCA,CAAK;AAAA;AAAA;AAAA,UAItE,EACIL,EACEY,EAAa,QAAQ,IAAIX,CAAQ,EAAE,MAAOC,GAAMF,EAAQE,CAAC,EAC/D,OAAOR,EAAI,mBAAmBW,CAAK,sBAAsBA,CAAK,MAAO,CACnE,CAAC,CAAE,MAAAQ,EAAO,OAAAH,EAAQ,QAAAI,CAAQ,IAAM,CAC9B,GAAID,IAAUE,GAAyB,aAGvC,OAAOH,EAAW,KAAK,MAAOI,GAAc,CAC1C,GAAIhB,EACF,MAAMA,EAERgB,EAAYA,EAAU,KAAK,EAC3B,IAAMC,EAAUD,EAAU,KAAK,EAAE,EAC7BE,EAAOR,EAAS,GAAK,iCAAiCL,CAAK,KAAKY,CAAO,qBAAqBtB,EAAQ,WAAWA,CAAK,IAAM,EAAE;AAAA;AAAA;AAAA,wBAGlHU,CAAK;AAAA;AAAA;AAAA;AAAA,WAKnB,GAAIW,EAAU,MAAOG,GAAU,CAACA,EAAM,WAAW,MAAM,EACrD,OAAIT,IACFA,EAAO,CAAC,EAAIA,EAAO,CAAC,EAAE,QAAQJ,EAAWW,CAAO,GAE3CC,EAELR,IACFA,EAAO,CAAC,EAAIA,EAAO,CAAC,EAAE,QACpBJ,EACA,CAACc,EAAMC,EAAKC,EAAGC,IAAS,GAAGF,CAAG,GAAGJ,CAAO,GAAGM,CAAI,EACjD,GAEF,IAAMC,EAAYR,EAAU,IAAKG,GAAUA,EAAM,WAAa,CAAC,CAAC,EAAE,KAAK,EACnEN,IAAUE,GAAyB,SACrCG,EAAO,MAAMO,GACXP,EACAH,GAAyB,aACzB,GACAD,CACF,GAEF,IAAIY,EAAgB,EACdC,EAAWH,EAAU,IACxBnC,GAAM,IAAIuC,IAASvC,EAAE,GAAGuC,CAAI,GAAG,KAAMC,IACpCH,IACIhB,GACEgB,IAAkBF,EAAU,SAC9Bd,EAAO,CAAC,EAAIA,EAAO,CAAC,EAAE,QAAQJ,EAAW,CAACc,EAAMU,EAAMC,IAAaA,CAAQ,GAE7ErB,EAAO,CAAC,GAAKmB,EACNnC,EAAI,GAAImC,EAAS,SAAS,GAE5BnC,EACLmC,GAAYH,IAAkBF,EAAU,OAAS,GAAK;AAAA;AAAA,wBAE9CnB,CAAK;AAAA;AAAA;AAAA,uCAGUA,CAAK;AAAA;AAAA;AAAA;AAAA,YAK5BwB,EAAS,SACX,EACD,EAAE,MAAOpB,GAAWD,EAAc,CAAE,MAAOC,EAAQ,OAAAC,CAAO,CAAC,CAAC,CAC/D,EACA,OAAOhB,EAAIwB,EAAMS,CAAQ,CAC3B,CAAC,EAAE,MAAOlB,GAAWD,EAAc,CAAE,MAAOC,EAAQ,OAAAC,CAAO,CAAC,CAAC,CAC/D,CACF,CAAC,CACH,KACE,QAAOhB,EAAIO,EAAS,KAAK,EAAE,CAAC,CAEhC,EACAX,GAAc0C,EAAY,EAAI1C,GChJvB,IAAM2C,GAAS,IAElBC,EAAC,WACCA,EAAC,UAAO,wBAAyB,CAAE,OAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAoKzC,EAAG,CACP,ECxKJ,OAAOC,OAAQ,UACf,OAAOC,OAAU,YAGjB,IAAIC,GAAc,GAClB,GAAI,CACF,IAAMC,EAAUF,GAAK,QAAQ,QAAQ,IAAI,EAAG,kBAAkB,EAC1DD,GAAG,WAAWG,CAAO,IACvBD,GAAcF,GAAG,aAAaG,EAAS,OAAO,EAElD,OAASC,EAAG,CACV,QAAQ,MAAM,+BAAgCA,CAAC,CACjD,CAEO,IAAMC,GAAS,CAAC,CAAE,SAAAC,EAAU,MAAAC,CAAM,IAErCC,EAAC,QAAK,KAAK,KAAK,MAAM,iBACpBA,EAAC,YACCA,EAAC,QAAK,QAAQ,QAAQ,EACtBA,EAAC,QAAK,KAAK,WAAW,QAAQ,wCAAwC,EACtEA,EAAC,aAAOD,CAAM,EACdC,EAAC,QACC,IAAI,OACJ,KAAK,iSACP,EACCN,GACCM,EAAC,SAAM,wBAAyB,CAAE,OAAQN,EAAY,EAAG,EAEzDM,EAAC,UAAO,IAAI,8BAA8B,EAE5CA,EAAC,QACC,KAAK,0IACL,IAAI,aACN,EACAA,EAAC,QACC,IAAI,aACJ,KAAK,yEACP,EACAA,EAAC,UAAO,IAAI,wEAAwE,EACnF,QAAQ,IAAI,WAAa,eACxBA,EAAC,UAAO,KAAK,SAAS,IAAI,gBAAgB,EAE5CA,EAAC,aAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAwHN,CACJ,EACAA,EAAC,QAAK,MAAM,yDACVA,EAACC,GAAA,IAAO,EACRD,EAAC,UAAO,MAAM,qDACZA,EAAC,OAAI,MAAM,0CACTA,EAAC,OAAI,MAAM,0CACTA,EAAC,KACC,KAAK,IACL,MAAM,yDAENA,EAAC,OAAI,MAAM,0IACTA,EAAC,OACC,MAAM,6BACN,MAAM,qBACN,KAAK,OACL,QAAQ,YACR,OAAO,gBAEPA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,qPACJ,CACF,CACF,EACAA,EAAC,QAAK,MAAM,qKAAoK,YAEhL,CACF,EACAA,EAAC,OAAI,MAAM,6CAETA,EAAC,OAAI,MAAM,+BACTA,EAAC,OAAI,MAAM,wEACTA,EAAC,OACC,MAAM,6BACN,MAAM,+EACN,KAAK,OACL,QAAQ,YACR,OAAO,gBAEPA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,8CACJ,CACF,CACF,EACAA,EAAC,SACC,KAAK,OACL,GAAG,sBACH,QAAQ,kCACR,QAAQ,kCACR,aAAa,MACb,YAAY,YACZ,MAAM,gOACR,EAGAA,EAAC,OACC,GAAG,0BACH,MAAM,4JAENA,EAAC,OAAI,GAAG,yBAAyB,MAAM,OACrCA,EAAC,OAAI,MAAM,2CAA0C,mBAErD,CACF,CACF,CACF,EAEAA,EAAC,OAAI,MAAM,yCACTA,EAAC,KACC,KAAK,IACL,MAAM,uEACP,MAED,EAGAA,EAAC,OAAI,MAAM,kBACTA,EAAC,UAAO,MAAM,0GAAyG,gBAErHA,EAAC,OACC,MAAM,6BACN,MAAM,sDACN,KAAK,OACL,QAAQ,YACR,OAAO,gBAEPA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,iBACJ,CACF,CACF,EAEAA,EAAC,OAAI,MAAM,yNACTA,EAAC,OAAI,MAAM,0BACTA,EAAC,WACCA,EAAC,MAAG,MAAM,kEAAiE,mBAE3E,EACAA,EAAC,MAAG,MAAM,aACRA,EAAC,UACCA,EAAC,KACC,KAAK,QACL,MAAM,qCAENA,EAAC,OAAI,MAAM,6KACTA,EAAC,OACC,MAAM,UACN,KAAK,OACL,OAAO,eACP,QAAQ,aAERA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,qPACJ,CACF,CACF,EACAA,EAAC,WACCA,EAAC,OAAI,MAAM,oCAAmC,cAE9C,EACAA,EAAC,OAAI,MAAM,0BAAyB,uBAEpC,CACF,CACF,CACF,EACAA,EAAC,UACCA,EAAC,KACC,KAAK,SACL,MAAM,qCAENA,EAAC,OAAI,MAAM,oKACTA,EAAC,OACC,MAAM,UACN,KAAK,OACL,OAAO,eACP,QAAQ,aAERA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,8CACJ,CACF,CACF,EACAA,EAAC,WACCA,EAAC,OAAI,MAAM,oCAAmC,eAE9C,EACAA,EAAC,OAAI,MAAM,0BAAyB,mBAEpC,CACF,CACF,CACF,EACAA,EAAC,UACCA,EAAC,KACC,KAAK,UACL,MAAM,qCAENA,EAAC,OAAI,MAAM,uKACTA,EAAC,OACC,MAAM,UACN,KAAK,OACL,OAAO,eACP,QAAQ,aAERA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,uMACJ,CACF,CACF,EACAA,EAAC,WACCA,EAAC,OAAI,MAAM,oCAAmC,eAE9C,EACAA,EAAC,OAAI,MAAM,0BAAyB,kBAEpC,CACF,CACF,CACF,CACF,CACF,EAEAA,EAAC,OAAI,MAAM,cACTA,EAAC,MAAG,MAAM,kEAAiE,qBAE3E,EACAA,EAAC,MAAG,MAAM,oCACRA,EAAC,UACCA,EAAC,KACC,KAAK,gBACL,MAAM,qCAENA,EAAC,OAAI,MAAM,oKACTA,EAAC,OACC,MAAM,UACN,KAAK,OACL,OAAO,eACP,QAAQ,aAERA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,qPACJ,CACF,CACF,EACAA,EAAC,WACCA,EAAC,OAAI,MAAM,oCAAmC,iBAE9C,EACAA,EAAC,OAAI,MAAM,0BAAyB,yBAEpC,CACF,CACF,CACF,EACAA,EAAC,UACCA,EAAC,KACC,KAAK,aACL,MAAM,qCAENA,EAAC,OAAI,MAAM,0KACTA,EAAC,OACC,MAAM,UACN,KAAK,OACL,OAAO,eACP,QAAQ,aAERA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,8HACJ,CACF,CACF,EACAA,EAAC,WACCA,EAAC,OAAI,MAAM,oCAAmC,cAE9C,EACAA,EAAC,OAAI,MAAM,0BAAyB,kBAEpC,CACF,CACF,CACF,EACAA,EAAC,UACCA,EAAC,KACC,KAAK,kBACL,MAAM,qCAENA,EAAC,OAAI,MAAM,0KACTA,EAAC,OACC,MAAM,UACN,KAAK,OACL,OAAO,eACP,QAAQ,aAERA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,yFACJ,CACF,CACF,EACAA,EAAC,WACCA,EAAC,OAAI,MAAM,oCAAmC,kBAE9C,EACAA,EAAC,OAAI,MAAM,0BAAyB,mBAEpC,CACF,CACF,CACF,EACAA,EAAC,UACCA,EAAC,KACC,KAAK,cACL,MAAM,qCAENA,EAAC,OAAI,MAAM,uKACTA,EAAC,OACC,MAAM,UACN,KAAK,OACL,OAAO,eACP,QAAQ,aAERA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,2GACJ,CACF,CACF,EACAA,EAAC,WACCA,EAAC,OAAI,MAAM,oCAAmC,cAE9C,EACAA,EAAC,OAAI,MAAM,0BAAyB,eAEpC,CACF,CACF,CACF,EACAA,EAAC,UACCA,EAAC,KACC,KAAK,iBACL,MAAM,qCAENA,EAAC,OAAI,MAAM,6KACTA,EAAC,OACC,MAAM,UACN,KAAK,OACL,OAAO,eACP,QAAQ,aAERA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,4IACJ,CACF,CACF,EACAA,EAAC,WACCA,EAAC,OAAI,MAAM,oCAAmC,iBAE9C,EACAA,EAAC,OAAI,MAAM,0BAAyB,0BAEpC,CACF,CACF,CACF,CACF,CACF,CACF,CACF,CACF,EAEAA,EAAC,KACC,KAAK,cACL,MAAM,uIACP,YAED,CACF,EAEAA,EAAC,OAAI,MAAM,aACTA,EAAC,UACC,KAAK,SACL,QAAQ,kEACR,MAAM,0FAENA,EAAC,OACC,MAAM,6BACN,MAAM,UACN,KAAK,OACL,QAAQ,YACR,OAAO,gBAEPA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,0BACJ,CACF,CACF,CACF,CACF,CACF,EAGAA,EAAC,OAAI,GAAG,cAAc,MAAM,uCAC1BA,EAAC,OAAI,MAAM,qCACTA,EAAC,KACC,KAAK,IACL,MAAM,6GACP,MAED,EAEAA,EAAC,OAAI,MAAM,4EAA2E,mBAEtF,EACAA,EAAC,KACC,KAAK,QACL,MAAM,qIAENA,EAAC,OAAI,MAAM,0CAA0C,EAAO,IAAI,cAElE,EACAA,EAAC,KACC,KAAK,SACL,MAAM,qIAENA,EAAC,OAAI,MAAM,uCAAuC,EAAM,aAE1D,EACAA,EAAC,KACC,KAAK,UACL,MAAM,qIAENA,EAAC,OAAI,MAAM,wCAAwC,EAAO,IAAI,eAEhE,EAEAA,EAAC,OAAI,MAAM,4EAA2E,oBAEtF,EACAA,EAAC,KACC,KAAK,+BACL,OAAO,SACP,MAAM,6GACP,eAED,EACAA,EAAC,KACC,KAAK,qDACL,OAAO,SACP,MAAM,6GACP,mBAED,EAEAA,EAAC,KACC,KAAK,cACL,MAAM,2HACP,iBAED,CACF,CACF,CACF,CACF,EAEAA,EAAC,QAAK,MAAM,aAAaF,CAAS,EAGlCE,EAAC,OAAI,GAAG,oBAAoB,MAAM,gCAChCA,EAAC,OACC,MAAM,oDACN,QAAQ,yBACT,EACDA,EAAC,OAAI,MAAM,oFACTA,EAAC,OAAI,MAAM,6KAETA,EAAC,OAAI,MAAM,iHACTA,EAAC,OAAI,MAAM,oDACTA,EAAC,OAAI,MAAM,8HACTA,EAAC,OACC,MAAM,6BACN,MAAM,wBACN,KAAK,OACL,QAAQ,YACR,OAAO,gBAEPA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,mGACJ,EACAA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,qCACJ,CACF,CACF,EACAA,EAAC,OAAI,MAAM,mBACTA,EAAC,MAAG,MAAM,wDAAuD,sBAEjE,EACAA,EAAC,KACC,GAAG,qBACH,MAAM,wGACP,CACH,CACF,EACAA,EAAC,UACC,QAAQ,yBACR,MAAM,0GAENA,EAAC,OACC,MAAM,6BACN,MAAM,wBACN,KAAK,OACL,QAAQ,YACR,OAAO,gBAEPA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,uBACJ,CACF,CACF,CACF,EAGAA,EAAC,OAAI,MAAM,qEACTA,EAAC,OAAI,MAAM,4EACTA,EAAC,OAAI,MAAM,2BACTA,EAAC,QAAK,MAAM,6IAA4I,KAExJ,EACAA,EAAC,QACC,GAAG,qBACH,MAAM,mHACP,CACH,EACAA,EAAC,OAAI,MAAM,2BACTA,EAAC,UACC,QAAQ,6BACR,MAAM,+OAENA,EAAC,OACC,MAAM,6BACN,MAAM,4BACN,KAAK,OACL,QAAQ,YACR,OAAO,gBAEPA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,+JACJ,CACF,EAAM,WAER,EACAA,EAAC,KACC,GAAG,wBACH,KAAK,IACL,MAAM,4NACP,aAECA,EAAC,OACC,MAAM,6BACN,MAAM,4BACN,KAAK,OACL,QAAQ,YACR,OAAO,gBAEPA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,2BACJ,CACF,CACF,CACF,CACF,EACAA,EAAC,OAAI,MAAM,mIACTA,EAAC,OACC,GAAG,kBACH,MAAM,qIACP,CACH,CACF,EAGAA,EAAC,OAAI,MAAM,oFACTA,EAAC,UACC,QAAQ,yBACR,MAAM,iKACP,eAED,CACF,CACF,CACF,CACF,EAEAA,EAAC,UACC,wBAAyB,CACvB,OAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SA4HV,EACF,EAEAA,EAAC,UAAO,MAAM,kDACZA,EAAC,OAAI,MAAM,0CACTA,EAAC,OAAI,MAAM,wDACTA,EAAC,OAAI,MAAM,4BACTA,EAAC,OAAI,MAAM,gCACTA,EAAC,OAAI,MAAM,mEACTA,EAAC,OACC,MAAM,6BACN,MAAM,qBACN,KAAK,OACL,QAAQ,YACR,OAAO,gBAEPA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,qPACJ,CACF,CACF,EACAA,EAAC,QAAK,MAAM,qBAAoB,YAAU,CAC5C,EACAA,EAAC,KAAE,MAAM,+CAA8C,kGAGvD,EACAA,EAAC,OAAI,MAAM,2BACTA,EAAC,KACC,KAAK,qDACL,OAAO,SACP,MAAM,wGACN,MAAM,qBAENA,EAAC,OACC,MAAM,UACN,KAAK,eACL,QAAQ,aAERA,EAAC,QAAK,EAAE,4sBAA4sB,CACttB,CACF,EACAA,EAAC,KACC,KAAK,UACL,MAAM,wGACN,MAAM,iBAENA,EAAC,OACC,MAAM,UACN,KAAK,OACL,OAAO,eACP,QAAQ,aAERA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,uMACJ,CACF,CACF,CACF,CACF,EACAA,EAAC,WACCA,EAAC,MAAG,MAAM,qCAAoC,mBAE9C,EACAA,EAAC,MAAG,MAAM,oCACRA,EAAC,UACCA,EAAC,KAAE,KAAK,QAAQ,MAAM,0BAAyB,cAE/C,CACF,EACAA,EAAC,UACCA,EAAC,KAAE,KAAK,gBAAgB,MAAM,0BAAyB,cAEvD,CACF,EACAA,EAAC,UACCA,EAAC,KAAE,KAAK,gBAAgB,MAAM,0BAAyB,eAEvD,CACF,EACAA,EAAC,UACCA,EAAC,KAAE,KAAK,iBAAiB,MAAM,0BAAyB,cAExD,CACF,EACAA,EAAC,UACCA,EAAC,KAAE,KAAK,iBAAiB,MAAM,0BAAyB,eAExD,CACF,EACAA,EAAC,UACCA,EAAC,KACC,KAAK,cACL,MAAM,kDACP,gBAED,CACF,CACF,CACF,EACAA,EAAC,WACCA,EAAC,MAAG,MAAM,qCAAoC,kBAE9C,EACAA,EAAC,MAAG,MAAM,oCACRA,EAAC,UACCA,EAAC,KACC,KAAK,+BACL,OAAO,SACP,MAAM,kDACP,gBACe,IACdA,EAAC,OACC,MAAM,UACN,KAAK,OACL,OAAO,eACP,QAAQ,aAERA,EAAC,QAAK,EAAE,+EAA+E,CACzF,CACF,CACF,EACAA,EAAC,UACCA,EAAC,KACC,KAAK,qBACL,OAAO,SACP,MAAM,0BACP,mBAED,CACF,EACAA,EAAC,UACCA,EAAC,KACC,KAAK,2BACL,OAAO,SACP,MAAM,0BACP,6BAED,CACF,CACF,CACF,EACAA,EAAC,WACCA,EAAC,MAAG,MAAM,qCAAoC,iBAE9C,EACAA,EAAC,MAAG,MAAM,oCACRA,EAAC,UACCA,EAAC,KACC,KAAK,wCACL,OAAO,SACP,MAAM,0BACP,mBAED,CACF,EACAA,EAAC,UACCA,EAAC,KACC,KAAK,uDACL,OAAO,SACP,MAAM,0BACP,gBAED,CACF,EACAA,EAAC,UACCA,EAAC,KACC,KAAK,+CACL,OAAO,SACP,MAAM,0BACP,gBAED,CACF,EACAA,EAAC,UACCA,EAAC,KACC,KAAK,0CACL,OAAO,SACP,MAAM,0BACP,gBAED,CACF,CACF,CACF,EACAA,EAAC,WACCA,EAAC,MAAG,MAAM,qCAAoC,aAAW,EACzDA,EAAC,KAAE,MAAM,0CAAyC,uBAC3B,IACrBA,EAAC,KACC,KAAK,6BACL,OAAO,SACP,MAAM,0BACP,YAED,CACF,CACF,EACAA,EAAC,WACCA,EAAC,MAAG,MAAM,qCAAoC,iBAAe,EAC7DA,EAAC,OACC,QAAQ,6BACR,MAAM,oNAENA,EAAC,OAAI,MAAM,2JACTA,EAAC,OACC,MAAM,6BACN,MAAM,UACN,KAAK,OACL,QAAQ,YACR,OAAO,gBAEPA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,8KACJ,CACF,CACF,EACAA,EAAC,OAAI,MAAM,aACTA,EAAC,OAAI,MAAM,4CAA2C,iBAEtD,EACAA,EAAC,OAAI,MAAM,oCAAmC,mBAE9C,CACF,CACF,CA4BF,CACF,EACAA,EAAC,OAAI,MAAM,oDACTA,EAAC,KAAE,MAAM,+BAA8B,+CAEvC,EACAA,EAAC,KAAE,MAAM,0BAAyB,QAC7B,IAAI,KAAK,EAAE,YAAY,EAAE,kDAE9B,CACF,CACF,CACF,EAGAA,EAAC,OACC,GAAG,iBACH,MAAM,+CACN,kBAAgB,cAChB,KAAK,SACL,aAAW,QAEXA,EAAC,OAAI,MAAM,6FACTA,EAAC,OACC,MAAM,oEACN,QAAQ,8BACR,MAAM,eACP,EAEDA,EAAC,QACC,MAAM,qDACN,cAAY,QACb,QAED,EAEAA,EAAC,OAAI,MAAM,oMAETA,EAAC,OAAI,MAAM,2GACTA,EAAC,OAAI,MAAM,sCACTA,EAAC,OAAI,MAAM,+CACTA,EAAC,OACC,MAAM,6BACN,MAAM,UACN,KAAK,OACL,QAAQ,YACR,OAAO,gBAEPA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,8HACJ,CACF,CACF,EACAA,EAAC,MAAG,MAAM,8BAA8B,GAAG,eAAc,mBAEzD,CACF,EACAA,EAAC,UACC,QAAQ,8BACR,MAAM,oDAENA,EAAC,OACC,MAAM,UACN,KAAK,OACL,QAAQ,YACR,OAAO,gBAEPA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,uBACJ,CACF,CACF,CACF,EAGAA,EAAC,OAAI,MAAM,aACTA,EAAC,OAAI,GAAG,4BACNA,EAAC,KAAE,MAAM,2CAA0C,6EAEnD,EAEAA,EAAC,OAAI,MAAM,+BACR,CAAC,IAAM,IAAO,IAAO,IAAO,IAAQ,IAAM,EAAE,IAAKE,GAChDF,EAAC,UACC,QAAS,uBAAuBE,CAAM,IACtC,MAAM,4OAEL,IAAI,KAAK,aAAa,QAAS,CAAE,MAAO,WAAY,SAAU,MAAO,sBAAuB,CAAE,CAAC,EAAE,OAAOA,CAAM,CACjH,CACD,CACH,EAEAF,EAAC,OAAI,MAAM,sBACTA,EAAC,OAAI,MAAM,wEACTA,EAAC,QAAK,MAAM,4BAA2B,IAAE,CAC3C,EACAA,EAAC,SACC,KAAK,SACL,GAAG,gBACH,MAAM,yNACN,YAAY,qBACd,CACF,EAEAA,EAAC,UACC,GAAG,oBACH,QAAQ,8BACR,MAAM,+KACP,eAED,CACF,EAEAA,EAAC,OAAI,GAAG,uBAAuB,MAAM,sBACnCA,EAAC,OAAI,MAAM,QACTA,EAAC,OAAI,GAAG,iBAAiB,MAAM,sCAAqC,MAAI,EACxEA,EAAC,OAAI,MAAM,sCAAqC,0BAAwB,EACxEA,EAAC,OAAI,MAAM,sCAAqC,+CAA6C,CAC/F,EAEAA,EAAC,OAAI,MAAM,kFACTA,EAAC,OAAI,GAAG,aAAa,IAAI,GAAG,IAAI,OAAO,MAAM,YAAY,CAC3D,EAEAA,EAAC,OAAI,MAAM,6CACTA,EAAC,OAAI,MAAM,0BACTA,EAAC,OAAI,MAAM,6HAA4H,GAAC,EACxIA,EAAC,KAAE,MAAM,0BAAyB,4EAA0E,CAC9G,EACAA,EAAC,OAAI,MAAM,+BACTA,EAAC,OAAI,MAAM,6HAA4H,GAAC,EACxIA,EAAC,KAAE,MAAM,0BAAyB,cAAWA,EAAC,SAAE,YAAU,EAAI,0CAAwC,CACxG,EACAA,EAAC,OAAI,MAAM,+BACTA,EAAC,OAAI,MAAM,6HAA4H,GAAC,EACxIA,EAAC,KAAE,MAAM,0BAAyB,oDAAkD,CACtF,CACF,EAEAA,EAAC,UACC,QAAQ,8BACR,MAAM,sDACP,eAED,CACF,CACF,CACF,CACF,CACF,EAEAA,EAAC,UAAO,wBAAyB,CAAE,OAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SA+EzC,EAAG,CACP,CACF,EC92CJ,IAAMG,EAAc,CAAC,CAAE,OAAAC,EAAQ,KAAAC,EAAM,MAAAC,EAAO,aAAAC,EAAc,SAAAC,EAAU,WAAAC,CAAW,IAC7EC,EAAC,OAAI,MAAM,0HACTA,EAAC,OAAI,MAAM,wFACTA,EAAC,MAAG,MAAM,gCAAgCJ,CAAM,EAChDI,EAAC,OAAI,MAAM,cACTA,EAAC,QAAK,MAAO,sEACXN,IAAW,MAAQ,kCAAoC,2BACzD,IACGA,CACH,CACF,CACF,EACAM,EAAC,OAAI,MAAM,OACTA,EAAC,OAAI,MAAM,sCACTA,EAAC,OAAI,MAAM,gJACTA,EAAC,QAAK,MAAM,6CAA6CL,CAAK,CAChE,EACAK,EAAC,OAAI,MAAM,cACTA,EAAC,UACC,QAAS,wBAAwBF,CAAQ,OAAOC,CAAU,UAAUJ,CAAI,KACxE,MAAM,oFACN,MAAM,qBAENK,EAAC,OAAI,MAAM,6BAA6B,MAAM,UAAU,KAAK,OAAO,QAAQ,YAAY,OAAO,gBAC7FA,EAAC,QAAK,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,mGAAmG,EAC3KA,EAAC,QAAK,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,qCAAqC,CAC/G,CACF,EACAA,EAAC,UACC,QAAS,8DAA8DL,CAAI,KAC3E,MAAM,0FACN,MAAM,YAENK,EAAC,OAAI,MAAM,6BAA6B,MAAM,UAAU,KAAK,OAAO,QAAQ,YAAY,OAAO,gBAC7FA,EAAC,QAAK,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,uNAAuN,CACjS,CACF,CACF,CACF,EAEAA,EAAC,OAAI,MAAM,aACTA,EAAC,WAAQ,MAAM,SACbA,EAAC,WAAQ,MAAM,gIACbA,EAAC,OAAI,MAAM,6BAA6B,MAAM,qDAAqD,KAAK,OAAO,QAAQ,YAAY,OAAO,gBACxIA,EAAC,QAAK,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,iBAAiB,CAC3F,EAAM,kBAER,EACAA,EAAC,OAAI,MAAM,4DACTA,EAAC,OAAI,MAAM,4CACTA,EAAC,YAAMH,CAAa,CACtB,CACF,CACF,CACF,CACF,CACF,EAGII,GAAe,CAAC,CAAE,MAAAL,EAAO,KAAAM,EAAM,GAAAC,EAAI,MAAAC,EAAQ,SAAU,IACzDJ,EAAC,OAAI,GAAIG,EAAI,MAAM,6CACjBH,EAAC,OAAI,MAAO,sEAAsEI,CAAK,eAAeA,CAAK,QACzGJ,EAAC,OAAI,MAAM,6BAA6B,MAAM,qBAAqB,KAAK,OAAO,QAAQ,YAAY,OAAO,gBACxGA,EAAC,QAAK,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAGE,EAAM,CACjF,CACF,EACAF,EAAC,MAAG,MAAM,qCAAqCJ,CAAM,CACvD,EAGWS,GAAO,CAAC,CAAE,QAAAC,CAAQ,IAE3BN,EAAC,OAAI,MAAM,gDACTA,EAAC,OAAI,MAAM,0CAETA,EAAC,SAAM,MAAM,uDACXA,EAAC,OAAI,MAAM,8DACTA,EAAC,MAAG,MAAM,uEAAsE,MAAI,EACpFA,EAAC,OAAI,MAAM,aACR,CACC,CAAE,KAAM,eAAgB,KAAM,SAAU,KAAM,2DAA4D,EAC1G,CAAE,KAAM,QAAS,KAAM,SAAU,KAAM,oPAAqP,EAC5R,CAAE,KAAM,YAAa,KAAM,aAAc,KAAM,gMAAiM,EAChP,CAAE,KAAM,MAAO,KAAM,OAAQ,KAAM,2JAA4J,CACjM,EAAE,IAAI,CAACO,EAAMC,IACXR,EAAC,KACC,IAAKQ,EACL,KAAMD,EAAK,KACX,MAAM,mJAENP,EAAC,OAAI,MAAM,6BAA6B,MAAM,wEAAwE,KAAK,OAAO,QAAQ,YAAY,OAAO,gBAC3JA,EAAC,QAAK,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAGO,EAAK,KAAM,CACtF,EACCA,EAAK,IACR,CACD,CACH,CACF,CACF,EAGAP,EAAC,OAAI,MAAM,4BACTA,EAAC,WAAQ,GAAG,QAAQ,MAAM,sBACxBA,EAAC,OAAI,MAAM,6BACTA,EAAC,OAAI,MAAM,2GACTA,EAAC,QAAK,MAAM,yBACVA,EAAC,QAAK,MAAM,yFAAyF,EACrGA,EAAC,QAAK,MAAM,2DAA2D,CACzE,EAAO,eAET,EACAA,EAAC,OAAI,MAAM,qGACTA,EAAC,OAAI,MAAM,6BAA6B,MAAM,UAAU,KAAK,OAAO,QAAQ,YAAY,OAAO,gBAC7FA,EAAC,QAAK,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,4NAA4N,CACtS,EAAM,kCAER,CACF,EACAA,EAAC,MAAG,MAAM,0EAAyE,UAC1EA,EAAC,QAAK,MAAM,oCAAmC,gBAAc,CACtE,EACAA,EAAC,KAAE,MAAM,0DAAyD,uHAElE,EAEAA,EAAC,OAAI,MAAM,+CACTA,EAAC,OAAI,MAAM,8DACTA,EAAC,OAAI,MAAM,8FACTA,EAAC,OAAI,MAAM,6BAA6B,MAAM,UAAU,KAAK,OAAO,QAAQ,YAAY,OAAO,gBAC7FA,EAAC,QAAK,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,qIAAqI,CAC/M,CACF,EACAA,EAAC,MAAG,MAAM,iCAAgC,UAAQ,EAClDA,EAAC,OAAI,MAAM,oGACTA,EAAC,QAAK,MAAM,yDAAyDM,CAAQ,EAC7EN,EAAC,UACC,QAAS,kCAAkCM,CAAO,KAClD,MAAM,qGACN,MAAM,iBAENN,EAAC,OAAI,MAAM,6BAA6B,MAAM,UAAU,KAAK,OAAO,QAAQ,YAAY,OAAO,gBAC7FA,EAAC,QAAK,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,+KAA+K,CACzP,CACF,CACF,CACF,EACAA,EAAC,OAAI,MAAM,8DACTA,EAAC,OAAI,MAAM,wFACTA,EAAC,OAAI,MAAM,6BAA6B,MAAM,UAAU,KAAK,OAAO,QAAQ,YAAY,OAAO,gBAC7FA,EAAC,QAAK,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,6GAA6G,CACvL,CACF,EACAA,EAAC,MAAG,MAAM,iCAAgC,QAAM,EAChDA,EAAC,OAAI,MAAM,8EACTA,EAAC,QAAK,MAAM,6CAA4C,kBAAgB,CAC1E,CACF,CACF,CACF,EAEAA,EAACC,GAAA,CACC,GAAG,QACH,MAAM,qBACN,KAAK,qPACP,EACAD,EAACP,EAAA,CACC,MAAM,eACN,OAAO,MACP,KAAK,SACL,SAAS,QACT,WAAW,aACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAchB,EACAO,EAACP,EAAA,CACC,MAAM,eACN,OAAO,MACP,KAAK,mBACL,SAAS,QACT,WAAW,eACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GA0BhB,EACAO,EAACP,EAAA,CACC,MAAM,iBACN,OAAO,MACP,KAAK,oBACL,SAAS,QACT,WAAW,SACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAYhB,EACAO,EAACC,GAAA,CACC,GAAG,OACH,MAAM,kBACN,KAAK,qPACL,MAAM,UACR,EACAD,EAACP,EAAA,CACC,MAAM,gBACN,OAAO,MACP,KAAK,wBACL,SAAS,QACT,WAAW,aACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GA0BhB,EACAO,EAACP,EAAA,CACC,MAAM,gBACN,OAAO,MACP,KAAK,oCACL,SAAS,QACT,WAAW,gBACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAuBhB,EACAO,EAACP,EAAA,CACC,MAAM,cACN,OAAO,MACP,KAAK,qBACL,SAAS,QACT,WAAW,WACX,aAAc;AAAA;AAAA;AAAA;AAAA,GAKhB,EACAO,EAACP,EAAA,CACC,MAAM,eACN,OAAO,MACP,KAAK,sBACL,SAAS,QACT,WAAW,YACX,aAAc;AAAA;AAAA;AAAA;AAAA,GAKhB,EACAO,EAACP,EAAA,CACC,MAAM,aACN,OAAO,MACP,KAAK,sCACL,SAAS,QACT,WAAW,aACX,aAAc;AAAA;AAAA;AAAA;AAAA,GAKhB,EACAO,EAACP,EAAA,CACC,MAAM,YACN,OAAO,MACP,KAAK,yBACL,SAAS,QACT,WAAW,YACX,aAAc;AAAA;AAAA;AAAA;AAAA,GAKhB,EACAO,EAACP,EAAA,CACC,MAAM,eACN,OAAO,MACP,KAAK,OACL,SAAS,QACT,WAAW,WACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAUhB,EACAO,EAACP,EAAA,CACC,MAAM,aACN,OAAO,MACP,KAAK,gBACL,SAAS,QACT,WAAW,aACX,aAAc;AAAA;AAAA;AAAA;AAAA,GAKhB,EACAO,EAACP,EAAA,CACC,MAAM,gBACN,OAAO,MACP,KAAK,SACL,SAAS,QACT,WAAW,aACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAUhB,EACAO,EAACP,EAAA,CACC,MAAM,cACN,OAAO,MACP,KAAK,mBACL,SAAS,QACT,WAAW,eACX,aAAc;AAAA;AAAA;AAAA;AAAA,GAKhB,EACAO,EAACP,EAAA,CACC,MAAM,yBACN,OAAO,MACP,KAAK,kBACL,SAAS,QACT,WAAW,YACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAchB,EACAO,EAACP,EAAA,CACC,MAAM,qBACN,OAAO,MACP,KAAK,2BACL,SAAS,QACT,WAAW,qBACX,aAAc;AAAA;AAAA;AAAA;AAAA,GAKhB,EAEAO,EAACC,GAAA,CACC,GAAG,YACH,MAAM,kBACN,KAAK,iMACL,MAAM,UACR,EACAD,EAAC,OAAI,UAAU,qEACbA,EAAC,KAAE,UAAU,6CAA4C,mBACnDA,EAAC,cAAO,uBAAqB,EAAS,+PAC5C,EACAA,EAAC,WAAQ,MAAM,2CACbA,EAAC,WAAQ,MAAM,6BAA4B,6CAA2C,EACtFA,EAAC,OAAI,MAAM,6CACTA,EAAC,SAAE,uDAAqD,EACxDA,EAAC,MAAG,MAAM,sCACRA,EAAC,UAAG,0BAAuBA,EAAC,QAAK,MAAM,+BAA8B,0BAAwB,CAAO,EACpGA,EAAC,UAAG,iBAAcA,EAAC,QAAK,MAAM,+BAA8B,MAAI,EAAO,QAAKA,EAAC,QAAK,MAAM,+BAA8B,MAAI,CAAO,EACjIA,EAAC,UAAG,6CAA2C,EAC/CA,EAAC,UAAG,qBAAkBA,EAAC,QAAK,MAAM,+BAA8B,cAAY,EAAO,OAAIA,EAAC,QAAK,MAAM,+BAA8B,qBAAmB,CAAO,CAC7J,EACAA,EAAC,OAAI,MAAM,QACTA,EAAC,KAAE,MAAM,kBAAiB,kBAAgB,EAC1CA,EAAC,OAAI,MAAM,gEAC5B;AAAA;AAAA,qFAGiB,CACF,CACF,CACF,CACF,EACAA,EAACP,EAAA,CACC,MAAM,0CACN,OAAO,MACP,KAAK,mBACL,SAAS,YACT,WAAW,kBACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAmBhB,EACAO,EAACP,EAAA,CACC,MAAM,2BACN,OAAO,MACP,KAAK,4CACL,SAAS,YACT,WAAW,mBACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GA4BhB,EAIAO,EAAC,OAAI,MAAM,cACTA,EAAC,MAAG,MAAM,0EAAyE,8BAEnF,EACAA,EAAC,KAAE,MAAM,uBAAsB,iGAE/B,CACF,EAEAA,EAACP,EAAA,CACC,MAAM,mBACN,OAAO,MACP,KAAK,aACL,SAAS,YACT,WAAW,mBACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAahB,EAEAO,EAACP,EAAA,CACC,MAAM,sBACN,OAAO,OACP,KAAK,oBACL,SAAS,YACT,WAAW,mBACX,aAAc;AAAA;AAAA;AAAA,GAIhB,EAIAO,EAAC,OAAI,MAAM,4HACTA,EAAC,OAAI,MAAM,oGACTA,EAAC,OAAI,MAAM,6BAA6B,MAAM,YAAY,KAAK,OAAO,QAAQ,YAAY,OAAO,gBAC/FA,EAAC,QAAK,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,yJAAyJ,CACnO,CACF,EACAA,EAAC,OAAI,MAAM,iBACTA,EAAC,MAAG,MAAM,2BAA0B,yBAAuB,EAC3DA,EAAC,KAAE,MAAM,iCAAgC,qIAEzC,EACAA,EAAC,KACC,KAAK,SACL,MAAM,2IACP,0BAECA,EAAC,OAAI,MAAM,6BAA6B,MAAM,UAAU,KAAK,OAAO,QAAQ,YAAY,OAAO,gBAC7FA,EAAC,QAAK,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,gBAAgB,CAC1F,CACF,CACF,CACF,EAEAA,EAACC,GAAA,CACC,GAAG,UACH,MAAM,mBACN,KAAK,uMACL,MAAM,OACR,EACAD,EAAC,OAAI,MAAM,oEACTA,EAAC,KAAE,MAAM,uBAAsB,mKAE/B,EAEAA,EAAC,OAAI,MAAM,cAETA,EAAC,WACCA,EAAC,MAAG,MAAM,yDACRA,EAAC,QAAK,MAAM,yFAAwF,GAAC,EAAO,sBAE9G,EACAA,EAAC,OAAI,MAAM,yCACTA,EAAC,OAAI,MAAM,aACTA,EAAC,KAAE,MAAM,0BAAyB,6CAA2C,EAC7EA,EAAC,OAAI,MAAM,kBACTA,EAAC,OAAI,MAAM,sEAChC;AAAA,SACQM,EAAQ,QAAQ,MAAO,EAAE,CAAC;AAAA;AAAA;AAAA;AAAA,WAKb,EACAN,EAAC,UACC,QAAS,+CAA+CM,EAAQ,QAAQ,MAAO,EAAE,CAAC,oFAClF,MAAM,mIAENN,EAAC,OAAI,MAAM,6BAA6B,MAAM,UAAU,KAAK,OAAO,QAAQ,YAAY,OAAO,gBAC7FA,EAAC,QAAK,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,mIAAmI,CAC7M,CACF,CACF,CACF,EACAA,EAAC,OAAI,MAAM,qHACTA,EAAC,UACC,IAAK,GAAGM,EAAQ,QAAQ,MAAO,EAAE,CAAC,8BAClC,MAAM,MACN,OAAO,MACP,YAAY,IACZ,MAAM,uBACP,CACH,CACF,CACF,EAGAN,EAAC,WACCA,EAAC,MAAG,MAAM,yDACRA,EAAC,QAAK,MAAM,+FAA8F,GAAC,EAAO,oBAEpH,EACAA,EAAC,OAAI,MAAM,yCACTA,EAAC,OAAI,MAAM,aACTA,EAAC,KAAE,MAAM,0BAAyB,6CAA2C,EAC7EA,EAAC,OAAI,MAAM,kBACTA,EAAC,OAAI,MAAM,sEAChC;AAAA,SACQM,EAAQ,QAAQ,MAAO,EAAE,CAAC;AAAA;AAAA;AAAA;AAAA,WAKb,EACAN,EAAC,UACC,QAAS,+CAA+CM,EAAQ,QAAQ,MAAO,EAAE,CAAC,qEAClF,MAAM,mIAENN,EAAC,OAAI,MAAM,6BAA6B,MAAM,UAAU,KAAK,OAAO,QAAQ,YAAY,OAAO,gBAC7FA,EAAC,QAAK,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,mIAAmI,CAC7M,CACF,CACF,CACF,EACAA,EAAC,OAAI,MAAM,qHACTA,EAAC,UACC,IAAK,GAAGM,EAAQ,QAAQ,MAAO,EAAE,CAAC,eAClC,MAAM,MACN,OAAO,MACP,YAAY,IACZ,MAAM,uBACP,CACH,CACF,CACF,CACF,CACF,EAEAN,EAACC,GAAA,CACC,GAAG,MACH,MAAM,kBACN,KAAK,4JACL,MAAM,QACR,EAEAD,EAAC,OAAI,MAAM,mBACR,CACC,CACE,EAAG,iCACH,EAAG,8NACL,EACA,CACE,EAAG,gDACH,EAAG,6ZACL,EACA,CACE,EAAG,0CACH,EAAG,6NACL,EACA,CACE,EAAG,sDACH,EAAG,gZACL,EACA,CACE,EAAG,4CACH,EAAG,uUACL,EACA,CACE,EAAG,iCACH,EAAG,uMACL,EACA,CACE,EAAG,uEACH,EAAG,8ZACL,EACA,CACE,EAAG,iEACH,EAAG,mVACL,EACA,CACE,EAAG,8DACH,EAAG,iPACL,EACA,CACE,EAAG,yCACH,EAAG,mIACL,EACA,CACE,EAAG,iCACH,EAAG,oLACL,CACF,EAAE,IAAI,CAACS,EAAKD,IACVR,EAAC,WAAQ,IAAKQ,EAAO,MAAM,gFACzBR,EAAC,WAAQ,MAAM,kEACbA,EAAC,QAAK,MAAM,4BAA4BS,EAAI,CAAE,EAC9CT,EAAC,QAAK,MAAM,+DACVA,EAAC,OAAI,MAAM,6BAA6B,MAAM,UAAU,KAAK,OAAO,QAAQ,YAAY,OAAO,gBAC7FA,EAAC,QAAK,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,iBAAiB,CAC3F,CACF,CACF,EACAA,EAAC,OAAI,MAAM,0EACRS,EAAI,CACP,CACF,CACD,CACH,EAEAT,EAAC,OAAI,MAAM,8DACTA,EAAC,MAAG,MAAM,2BAA0B,uBAAqB,EACzDA,EAAC,KAAE,MAAM,wCAAuC,+FAEhD,EACAA,EAAC,OAAI,MAAM,uCACTA,EAAC,KAAE,KAAK,cAAc,MAAM,gIAA+H,oBAE3J,EACAA,EAAC,KAAE,KAAK,qDAAqD,OAAO,SAAS,MAAM,oHAAmH,mBAEtM,CACF,CACF,CACF,CACF,CACF,ECrxBJ,IAAMU,EAAc,CAAC,CACnB,OAAAC,EACA,KAAAC,EACA,MAAAC,EACA,aAAAC,EACA,SAAAC,EACA,WAAAC,CACF,IACEC,EAAC,OAAI,MAAM,0HACTA,EAAC,OAAI,MAAM,wFACTA,EAAC,MAAG,MAAM,gCAAgCJ,CAAM,EAChDI,EAAC,OAAI,MAAM,cACTA,EAAC,QACC,MAAO,sEACLN,IAAW,MACP,kCACA,2BACN,IAECA,CACH,CACF,CACF,EACAM,EAAC,OAAI,MAAM,OACTA,EAAC,OAAI,MAAM,sCACTA,EAAC,OAAI,MAAM,gJACTA,EAAC,QAAK,MAAM,6CAA6CL,CAAK,CAChE,EACAK,EAAC,OAAI,MAAM,cACTA,EAAC,UACC,QAAS,wBAAwBF,CAAQ,OAAOC,CAAU,UAAUJ,CAAI,KACxE,MAAM,oFACN,MAAM,qBAENK,EAAC,OACC,MAAM,6BACN,MAAM,UACN,KAAK,OACL,QAAQ,YACR,OAAO,gBAEPA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,mGACJ,EACAA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,qCACJ,CACF,CACF,EACAA,EAAC,UACC,QAAS,8DAA8DL,CAAI,KAC3E,MAAM,0FACN,MAAM,YAENK,EAAC,OACC,MAAM,6BACN,MAAM,UACN,KAAK,OACL,QAAQ,YACR,OAAO,gBAEPA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,uNACJ,CACF,CACF,CACF,CACF,EAEAA,EAAC,OAAI,MAAM,aACTA,EAAC,WAAQ,MAAM,SACbA,EAAC,WAAQ,MAAM,gIACbA,EAAC,OACC,MAAM,6BACN,MAAM,qDACN,KAAK,OACL,QAAQ,YACR,OAAO,gBAEPA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,iBACJ,CACF,EAAM,kBAER,EACAA,EAAC,OAAI,MAAM,4DACTA,EAAC,OAAI,MAAM,4CACTA,EAAC,YAAMH,CAAa,CACtB,CACF,CACF,CACF,CACF,CACF,EAGII,GAAe,CAAC,CAAE,MAAAL,EAAO,KAAAM,EAAM,GAAAC,EAAI,MAAAC,EAAQ,SAAU,IAAM,CAC/D,IAAMC,EAAe,CACnB,QAAS,oCACT,KAAM,8BACN,MAAO,gCACP,KAAM,8BACN,OAAQ,kCACR,OAAQ,kCACR,MAAO,+BACT,EAEA,OACEL,EAAC,OAAI,GAAIG,EAAI,MAAM,6CACjBH,EAAC,OACC,MAAO,aACLK,EAAaD,CAAK,GAAKC,EAAa,OACtC,0DAEAL,EAAC,OACC,MAAM,6BACN,MAAM,qBACN,KAAK,OACL,QAAQ,YACR,OAAO,gBAEPA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAGE,EACL,CACF,CACF,EACAF,EAAC,MAAG,MAAM,qCAAqCJ,CAAM,CACvD,CAEJ,EAEaU,GAAQ,IAEjBN,EAAC,OAAI,MAAM,gDACTA,EAAC,OAAI,MAAM,0CAETA,EAAC,SAAM,MAAM,uDACXA,EAAC,OAAI,MAAM,8DACTA,EAAC,MAAG,MAAM,uEAAsE,gBAEhF,EACAA,EAAC,OAAI,MAAM,aACR,CACC,CACE,KAAM,WACN,KAAM,YACN,KAAM,iIACR,EACA,CACE,KAAM,SACN,KAAM,UACN,KAAM,6CACR,EACA,CACE,KAAM,WACN,KAAM,YACN,KAAM,wFACR,EACA,CACE,KAAM,SACN,KAAM,UACN,KAAM,uFACR,EACA,CACE,KAAM,eACN,KAAM,QACN,KAAM,0GACR,EACA,CACE,KAAM,gBACN,KAAM,SACN,KAAM,oPACR,EACA,CACE,KAAM,SACN,KAAM,UACN,KAAM,uFACR,EACA,CACE,KAAM,UACN,KAAM,OACN,KAAM,6HACR,EACA,CACE,KAAM,UACN,KAAM,WACN,KAAM,2IACR,EACA,CACE,KAAM,UACN,KAAM,WACN,KAAM,oPACR,EACA,CACE,KAAM,eACN,KAAM,SACN,KAAM,6CACR,EACA,CACE,KAAM,aACN,KAAM,SACN,KAAM,wJACR,EACA,CACE,KAAM,eACN,KAAM,SACN,KAAM,kNACR,EACA,CACE,KAAM,mBACN,KAAM,WACN,KAAM,sMACR,EACA,CACE,KAAM,YACN,KAAM,aACN,KAAM,oIACR,CACF,EAAE,IAAI,CAACO,EAAMC,IACXR,EAAC,KACC,IAAKQ,EACL,KAAMD,EAAK,KACX,MAAM,mJAENP,EAAC,OACC,MAAM,6BACN,MAAM,wEACN,KAAK,OACL,QAAQ,YACR,OAAO,gBAEPA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAGO,EAAK,KACV,CACF,EACCA,EAAK,IACR,CACD,CACH,CACF,CACF,EAEAP,EAAC,OAAI,MAAM,4BACTA,EAAC,OAAI,MAAM,mBACTA,EAAC,MAAG,MAAM,8DAA6D,iBAEvE,EACAA,EAAC,KAAE,MAAM,0BAAyB,6FAGlC,CACF,EAEAA,EAACC,GAAA,CACC,GAAG,WACH,MAAM,iBACN,KAAK,kIACL,MAAM,UACR,EACAD,EAACP,EAAA,CACC,MAAM,cACN,OAAO,MACP,KAAK,gBACL,SAAS,WACT,WAAW,gBACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAWhB,EACAO,EAACP,EAAA,CACC,MAAM,oBACN,OAAO,MACP,KAAK,qBACL,SAAS,WACT,WAAW,iBACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAShB,EAEAO,EAACC,GAAA,CACC,GAAG,SACH,MAAM,gBACN,KAAK,8CACL,MAAM,OACR,EACAD,EAACP,EAAA,CACC,MAAM,YACN,OAAO,MACP,KAAK,iCACL,SAAS,SACT,WAAW,mBACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAUhB,EACAO,EAACP,EAAA,CACC,MAAM,oBACN,OAAO,MACP,KAAK,gDACL,SAAS,SACT,WAAW,qBACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAsBhB,EACAO,EAACP,EAAA,CACC,MAAM,sBACN,OAAO,MACP,KAAK,oDACL,SAAS,SACT,WAAW,0BACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAwBhB,EAEAO,EAACC,GAAA,CACC,GAAG,WACH,MAAM,mBACN,KAAK,yFACL,MAAM,UACR,EACAD,EAACP,EAAA,CACC,MAAM,2BACN,OAAO,MACP,KAAK,yCACL,SAAS,QACT,WAAW,iBACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAchB,EACAO,EAACP,EAAA,CACC,MAAM,oBACN,OAAO,MACP,KAAK,2CACL,SAAS,QACT,WAAW,kBACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAmBhB,EAEAO,EAACC,GAAA,CACC,GAAG,SACH,MAAM,SACN,KAAK,wFACL,MAAM,SACR,EACAD,EAACP,EAAA,CACC,MAAM,sBACN,OAAO,MACP,KAAK,wCACL,SAAS,SACT,WAAW,cACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAahB,EACAO,EAACP,EAAA,CACC,MAAM,sBACN,OAAO,MACP,KAAK,gBACL,SAAS,SACT,WAAW,eACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAShB,EACAO,EAACP,EAAA,CACC,MAAM,0BACN,OAAO,MACP,KAAK,0BACL,SAAS,SACT,WAAW,qBACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAUhB,EAEAO,EAACC,GAAA,CACC,GAAG,OACH,MAAM,eACN,KAAK,2GACL,MAAM,SACR,EACAD,EAACP,EAAA,CACC,MAAM,qBACN,OAAO,MACP,KAAK,QACL,SAAS,QACT,WAAW,YACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAahB,EAEAO,EAACC,GAAA,CACC,GAAG,QACH,MAAM,gBACN,KAAK,qPACL,MAAM,QACR,EACAD,EAACP,EAAA,CACC,MAAM,uBACN,OAAO,MACP,KAAK,SACL,SAAS,QACT,WAAW,aACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAahB,EAEAO,EAACC,GAAA,CACC,GAAG,SACH,MAAM,SACN,KAAK,wFACL,MAAM,SACR,EACAD,EAACP,EAAA,CACC,MAAM,gBACN,OAAO,MACP,KAAK,UACL,SAAS,QACT,WAAW,SACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAahB,EAEAO,EAACC,GAAA,CACC,GAAG,MACH,MAAM,UACN,KAAK,8HACL,MAAM,OACR,EACAD,EAACP,EAAA,CACC,MAAM,aACN,OAAO,MACP,KAAK,OACL,SAAS,QACT,WAAW,WACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAahB,EAEAO,EAACC,GAAA,CACC,GAAG,QACH,MAAM,mBACN,KAAK,yJACL,MAAM,QACR,EACAD,EAACP,EAAA,CACC,MAAM,eACN,OAAO,MACP,KAAK,OACL,SAAS,QACT,WAAW,WACX,aAAc,mFAChB,EACAO,EAACP,EAAA,CACC,MAAM,gBACN,OAAO,MACP,KAAK,SACL,SAAS,QACT,WAAW,aACX,aAAc,6FAChB,EACAO,EAACP,EAAA,CACC,MAAM,gBACN,OAAO,MACP,KAAK,kBACL,SAAS,QACT,WAAW,YACX,aAAc,mGAChB,EAEAO,EAACC,GAAA,CACC,GAAG,UACH,MAAM,kBACN,KAAK,4IACL,MAAM,UACR,EACAD,EAACP,EAAA,CACC,MAAM,2CACN,OAAO,MACP,KAAK,kBACL,SAAS,UACT,WAAW,sBACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAiBhB,EACAO,EAACP,EAAA,CACC,MAAM,yBACN,OAAO,MACP,KAAK,8DACL,SAAS,UACT,WAAW,wBACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAiBhB,EACAO,EAACP,EAAA,CACC,MAAM,sBACN,OAAO,MACP,KAAK,2BACL,SAAS,UACT,WAAW,gBACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAchB,EACAO,EAACP,EAAA,CACC,MAAM,8BACN,OAAO,MACP,KAAK,oBACL,SAAS,UACT,WAAW,mBACX,aAAc,wFAChB,EACAO,EAACP,EAAA,CACC,MAAM,+BACN,OAAO,MACP,KAAK,mCACL,SAAS,UACT,WAAW,oBACX,aAAc,2GAChB,EACAO,EAACP,EAAA,CACC,MAAM,mBACN,OAAO,MACP,KAAK,sCACL,SAAS,UACT,WAAW,oBACX,aAAc,8GAChB,EAEAO,EAACC,GAAA,CACC,GAAG,UACH,MAAM,gBACN,KAAK,qPACL,MAAM,OACR,EACAD,EAACP,EAAA,CACC,MAAM,kCACN,OAAO,MACP,KAAK,WACL,SAAS,UACT,WAAW,eACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAchB,EACAO,EAACP,EAAA,CACC,MAAM,2BACN,OAAO,MACP,KAAK,uBACL,SAAS,UACT,WAAW,iBACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAYhB,EAEAO,EAACC,GAAA,CACC,GAAG,QACH,MAAM,eACN,KAAK,8CACL,MAAM,UACR,EACAD,EAACP,EAAA,CACC,MAAM,gCACN,OAAO,MACP,KAAK,SACL,SAAS,QACT,WAAW,YACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAuBhB,EACAO,EAACP,EAAA,CACC,MAAM,yCACN,OAAO,MACP,KAAK,cACL,SAAS,QACT,WAAW,aACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAgBhB,EACAO,EAACP,EAAA,CACC,MAAM,aACN,OAAO,MACP,KAAK,6BACL,SAAS,QACT,WAAW,aACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAahB,EACAO,EAACP,EAAA,CACC,MAAM,iBACN,OAAO,MACP,KAAK,uBACL,SAAS,QACT,WAAW,aACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAWhB,EAEAO,EAACC,GAAA,CACC,GAAG,QACH,MAAM,uBACN,KAAK,mNACL,MAAM,SACR,EACAD,EAACP,EAAA,CACC,MAAM,iCACN,OAAO,MACP,KAAK,sBACL,SAAS,QACT,WAAW,qBACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAgBhB,EACAO,EAACP,EAAA,CACC,MAAM,6BACN,OAAO,MACP,KAAK,gEACL,SAAS,QACT,WAAW,gBACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAehB,EACAO,EAACP,EAAA,CACC,MAAM,mBACN,OAAO,MACP,KAAK,gDACL,SAAS,QACT,WAAW,cACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAahB,EACAO,EAACP,EAAA,CACC,MAAM,gCACN,OAAO,MACP,KAAK,wCACL,SAAS,QACT,WAAW,cACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAUhB,EACAO,EAACP,EAAA,CACC,MAAM,oCACN,OAAO,MACP,KAAK,qCACL,SAAS,QACT,WAAW,wBACX,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAmChB,EAEAO,EAACC,GAAA,CACC,GAAG,UACH,MAAM,mBACN,KAAK,uMACL,MAAM,OACR,EACAD,EAAC,OAAI,MAAM,oEACTA,EAAC,OAAI,MAAM,mCACTA,EAAC,OAAI,MAAM,UACTA,EAAC,MAAG,MAAM,yCAAwC,yBAElD,EACAA,EAAC,KAAE,MAAM,+CAA8C,mKAIvD,EACAA,EAAC,OAAI,MAAM,aACTA,EAAC,OAAI,MAAM,0BACTA,EAAC,OAAI,MAAM,2GAA0G,GAErH,EACAA,EAAC,KAAE,MAAM,0BAAyB,iDAElC,CACF,EACAA,EAAC,OAAI,MAAM,0BACTA,EAAC,OAAI,MAAM,2GAA0G,GAErH,EACAA,EAAC,KAAE,MAAM,0BAAyB,wDAElC,CACF,EACAA,EAAC,OAAI,MAAM,0BACTA,EAAC,OAAI,MAAM,2GAA0G,GAErH,EACAA,EAAC,KAAE,MAAM,0BAAyB,oDAElC,CACF,CACF,CACF,EACAA,EAAC,OAAI,MAAM,UACTA,EAAC,OAAI,MAAM,+BACTA,EAAC,OAAI,MAAM,0CACTA,EAAC,QAAK,MAAM,mEAAkE,YAE9E,EACAA,EAAC,UAAO,MAAM,mEAAkE,WAEhF,CACF,EACAA,EAAC,OAAI,MAAM,uDACR;AAAA;AAAA;AAAA;AAAA;AAAA,WAMH,CACF,CACF,CACF,CACF,EAEAA,EAACC,GAAA,CACC,GAAG,YACH,MAAM,kBACN,KAAK,qIACL,MAAM,UACR,EACAD,EAAC,OAAI,MAAM,+CACR,CACC,CACE,KAAM,oBACN,IAAK,qDACL,KAAM,+BACR,EACA,CACE,KAAM,gBACN,IAAK,+BACL,KAAM,qCACR,EACA,CACE,KAAM,yBACN,IAAK,2BACL,KAAM,uCACR,EACA,CACE,KAAM,oBACN,IAAK,qBACL,KAAM,8BACR,EACA,CACE,KAAM,4BACN,IAAK,wCACL,KAAM,iCACR,EACA,CACE,KAAM,2BACN,IAAK,0CACL,KAAM,qCACR,EACA,CACE,KAAM,wBACN,IAAK,uDACL,KAAM,+CACR,EACA,CACE,KAAM,wBACN,IAAK,+CACL,KAAM,6CACR,EACA,CACE,KAAM,wBACN,IAAK,iDACL,KAAM,6BACR,CACF,EAAE,IAAKS,GACLT,EAAC,KACC,KAAMS,EAAS,IACf,OAAO,SACP,IAAI,sBACJ,MAAM,iHAENT,EAAC,OAAI,MAAM,0CACTA,EAAC,MAAG,MAAM,2EACPS,EAAS,IACZ,EACAT,EAAC,OACC,MAAM,6BACN,MAAM,sDACN,KAAK,OACL,QAAQ,YACR,OAAO,gBAEPA,EAAC,QACC,iBAAe,QACf,kBAAgB,QAChB,eAAa,IACb,EAAE,+EACJ,CACF,CACF,EACAA,EAAC,KAAE,MAAM,0CACNS,EAAS,IACZ,CACF,CACD,CACH,CACF,CACF,CACF,EC3pCG,IAAMC,GAAU,CAAC,CAAE,QAAAC,CAAQ,IAoE9BC,EAAC,OAAI,MAAM,4BAETA,EAAC,WAAQ,MAAM,mDACbA,EAAC,OAAI,MAAM,oEACTA,EAAC,OAAI,MAAM,oLACTA,EAAC,QAAK,MAAM,gBACVA,EAAC,QAAK,MAAM,2DAA2D,CACzE,EAAO,iCAET,EACAA,EAAC,MAAG,MAAM,8IAA6I,cAC1IA,EAAC,QAAK,MAAM,0CACrBA,EAAC,QAAK,GAAG,gBAAe,YAAU,EAAOA,EAAC,QAAK,MAAM,iBAAgB,GAAC,CACxE,CACF,EAEAA,EAAC,UAAO,wBAAyB,CAAE,OAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAgEzC,EAAG,EACLA,EAAC,KAAE,MAAM,gJAA+I,iIAExJ,EACAA,EAAC,OAAI,MAAM,kIACTA,EAAC,KACC,KAAK,QACL,MAAM,uNACP,oBAECA,EAAC,OAAI,MAAM,6BAA6B,MAAM,UAAU,KAAK,OAAO,QAAQ,YAAY,OAAO,gBAC7FA,EAAC,QAAK,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,gBAAgB,CAC1F,CACF,EACAA,EAAC,KACC,KAAK,qDACL,OAAO,SACP,MAAM,iKACP,gBAED,CACF,CACF,EAGAA,EAAC,OAAI,MAAM,4DACTA,EAAC,OAAI,MAAM,qGAAqG,EAChHA,EAAC,OAAI,MAAM,sGAAsG,CACnH,CACF,EAGAA,EAAC,WAAQ,MAAM,+CACbA,EAAC,OAAI,MAAM,0CACTA,EAAC,OAAI,MAAM,uDACTA,EAAC,OAAI,MAAM,aACTA,EAAC,OAAI,MAAM,kHAAiH,uBAE5H,EACAA,EAAC,MAAG,MAAM,iDAAgD,qBAAmB,EAC7EA,EAAC,OAAI,MAAM,oDACTA,EAAC,SAAE,mQAEH,EAEAA,EAAC,OAAI,MAAM,8CACTA,EAAC,OAAI,MAAM,aACTA,EAAC,MAAG,MAAM,4DACRA,EAAC,QAAK,MAAM,sCAAsC,EAAO,WAE3D,EACAA,EAAC,KAAE,MAAM,aAAY,WACXA,EAAC,QAAK,MAAM,kCAAiC,0BAAwB,EAAO,kJACtF,CACF,EACAA,EAAC,OAAI,MAAM,aACTA,EAAC,MAAG,MAAM,4DACRA,EAAC,QAAK,MAAM,sCAAsC,EAAO,kBAE3D,EACAA,EAAC,KAAE,MAAM,aAAY,uCACiBA,EAAC,QAAK,MAAM,kCAAiC,aAAW,EAAO,4GACrG,CACF,CACF,EAEAA,EAAC,OAAI,MAAM,sFAAqF,sEAEhG,CACF,CACF,EACAA,EAAC,OAAI,MAAM,YACTA,EAAC,OAAI,MAAM,6EACTA,EAAC,OAAI,MAAM,aACTA,EAAC,OAAI,MAAM,0BACTA,EAAC,OAAI,MAAM,iFACTA,EAAC,OAAI,MAAM,6BAA6B,MAAM,2BAA2B,KAAK,OAAO,QAAQ,YAAY,OAAO,gBAC9GA,EAAC,QAAK,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,gDAAgD,CAC1H,CACF,EACAA,EAAC,WACCA,EAAC,MAAG,MAAM,iCAAgC,oBAAkB,EAC5DA,EAAC,KAAE,MAAM,0BAAyB,iGAA+F,CACnI,CACF,EACAA,EAAC,OAAI,MAAM,0BACTA,EAAC,OAAI,MAAM,iFACTA,EAAC,OAAI,MAAM,6BAA6B,MAAM,2BAA2B,KAAK,OAAO,QAAQ,YAAY,OAAO,gBAC9GA,EAAC,QAAK,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,6BAA6B,CACvG,CACF,EACAA,EAAC,WACCA,EAAC,MAAG,MAAM,iCAAgC,mBAAiB,EAC3DA,EAAC,KAAE,MAAM,0BAAyB,qGAAmG,CACvI,CACF,EACAA,EAAC,OAAI,MAAM,0BACTA,EAAC,OAAI,MAAM,iFACTA,EAAC,OAAI,MAAM,6BAA6B,MAAM,2BAA2B,KAAK,OAAO,QAAQ,YAAY,OAAO,gBAC9GA,EAAC,QAAK,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,uGAAuG,CACjL,CACF,EACAA,EAAC,WACCA,EAAC,MAAG,MAAM,iCAAgC,sBAAoB,EAC9DA,EAAC,KAAE,MAAM,0BAAyB,0GAAwG,CAC5I,CACF,CACF,CACF,EACAA,EAAC,OAAI,MAAM,8EAA8E,CAC3F,CACF,CACF,CACF,EAGAA,EAAC,WAAQ,MAAM,kBACbA,EAAC,OAAI,MAAM,0CACTA,EAAC,OAAI,MAAM,qBACTA,EAAC,MAAG,MAAM,sDAAqD,kBAAgB,EAC/EA,EAAC,KAAE,MAAM,4CAA2C,yFAEpD,CACF,EAEAA,EAAC,OAAI,MAAM,wDAhRG,CACpB,CACE,MAAO,qBACP,YAAa,qGACb,KAAM,qPACN,MAAO,UACP,KAAM,aACR,EACA,CACE,MAAO,gBACP,YAAa,0FACb,KAAM,8CACN,MAAO,OACP,KAAM,eACR,EACA,CACE,MAAO,iBACP,YAAa,iGACb,KAAM,qPACN,MAAO,QACP,KAAM,eACR,EACA,CACE,MAAO,aACP,YAAa,uEACb,KAAM,8HACN,MAAO,OACP,KAAM,YACR,EACA,CACE,MAAO,iBACP,YAAa,oFACb,KAAM,yLACN,MAAO,SACP,KAAM,iBACR,EACA,CACE,MAAO,eACP,YAAa,qEACb,KAAM,2GACN,MAAO,SACP,KAAM,aACR,EACA,CACE,MAAO,oBACP,YAAa,uFACb,KAAM,4IACN,MAAO,OACP,KAAM,gBACR,EACA,CACE,MAAO,gBACP,YAAa,6EACb,KAAM,qPACN,MAAO,OACP,KAAM,gBACR,EACA,CACE,MAAO,uBACP,YAAa,qFACb,KAAM,oLACN,MAAO,UACP,KAAM,4BACR,CACF,EAiNyB,IAAI,CAACC,EAAKC,IACvBF,EAAC,KACC,IAAKE,EACL,KAAMD,EAAI,KACV,MAAM,qLAEND,EAAC,OAAI,MAAO,uCAAuCC,EAAI,KAAK,4FAA6F,EAEzJD,EAAC,OAAI,MAAO,gBAAgBC,EAAI,KAAK,0DAA0DA,EAAI,KAAK,mFACtGD,EAAC,OAAI,MAAM,6BAA6B,MAAM,UAAU,KAAK,OAAO,QAAQ,YAAY,OAAO,gBAC7FA,EAAC,QAAK,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAGC,EAAI,KAAM,CACrF,CACF,EAEAD,EAAC,MAAG,MAAM,uDAAuDC,EAAI,KAAM,EAC3ED,EAAC,KAAE,MAAM,qDAAqDC,EAAI,WAAY,EAE9ED,EAAC,OAAI,MAAO,gCAAgCC,EAAI,KAAK,gCAAgC,oBAEnFD,EAAC,OAAI,MAAM,6BAA6B,MAAM,yDAAyD,KAAK,OAAO,QAAQ,YAAY,OAAO,gBAC5IA,EAAC,QAAK,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,eAAe,CACzF,CACF,CACF,CACD,CACH,EAGAA,EAAC,OAAI,MAAM,eACTA,EAAC,OAAI,MAAM,qBACTA,EAAC,OAAI,MAAM,iHAAgH,oBAE3H,EACAA,EAAC,MAAG,MAAM,sDAAqD,2BAAyB,EACxFA,EAAC,KAAE,MAAM,4CAA2C,6GAEpD,CACF,EAEAA,EAAC,OAAI,MAAM,YAETA,EAAC,OAAI,MAAM,yFAAyF,EAEpGA,EAAC,OAAI,MAAM,uBACRD,GAAWA,EAAQ,MAAM,EAAG,CAAC,EAAE,IAAI,CAACI,EAAMD,IACzCF,EAAC,OAAI,IAAKG,EAAK,GAAI,MAAO,gDAAgDD,EAAQ,IAAM,EAAI,sBAAwB,EAAE,IAEpHF,EAAC,OAAI,MAAM,mBACTA,EAAC,OAAI,MAAO,mHAAmHE,EAAQ,IAAM,EAAI,gBAAkB,cAAc,IAC/KF,EAAC,OAAI,MAAO,8DAA8DE,EAAQ,IAAM,EAAI,kCAAoC,2BAA2B,IACxJC,EAAK,KACR,EACAH,EAAC,MAAG,MAAM,0CAA0CG,EAAK,SAAU,EACnEH,EAAC,KAAE,MAAM,uCAAuCG,EAAK,SAAU,EAC/DH,EAAC,OAAI,MAAM,6CAA4C,WAASG,EAAK,MAAO,EAG5EH,EAAC,OAAI,MAAO,mGAAmGE,EAAQ,IAAM,EAAI,YAAc,UAAU,8BAA+B,CAC1L,CACF,EAGAF,EAAC,OAAI,MAAM,mBACTA,EAAC,OAAI,MAAM,sEACTA,EAAC,OACC,IAAKG,EAAK,WAAa,+FACvB,IAAKA,EAAK,UACV,MAAM,qFACR,EACAH,EAAC,OAAI,MAAM,gFAAgF,CAC7F,CACF,CACF,CACD,CACH,EAEAA,EAAC,OAAI,MAAM,qBACTA,EAAC,KAAE,KAAK,iBAAiB,MAAM,gKAA+J,yBAE5LA,EAAC,OAAI,MAAM,6BAA6B,MAAM,UAAU,KAAK,OAAO,QAAQ,YAAY,OAAO,gBAC7FA,EAAC,QAAK,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,2BAA2B,CACrG,CACF,CACF,CACF,EAGAA,EAAC,OAAI,MAAM,mEACTA,EAAC,OAAI,MAAM,yFAAyF,EACpGA,EAAC,OAAI,MAAM,wFAAwF,EAEnGA,EAAC,OAAI,MAAM,qEACTA,EAAC,WACCA,EAAC,OAAI,MAAM,0HAAyH,iBAEpI,EACAA,EAAC,MAAG,MAAM,kDAAiD,sCAAoC,EAC/FA,EAAC,KAAE,MAAM,gDAA+C,qKAExD,EAEAA,EAAC,MAAG,MAAM,mBACP,CACC,4BACA,uCACA,8BACA,iCACF,EAAE,IAAI,CAACI,EAAMC,IACXL,EAAC,MAAG,IAAKK,EAAG,MAAM,0CAChBL,EAAC,OAAI,MAAM,2BAA2B,KAAK,OAAO,OAAO,eAAe,QAAQ,aAC9EA,EAAC,QAAK,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,iBAAiB,CAC3F,EACCI,CACH,CACD,CACH,EAEAJ,EAAC,KAAE,KAAK,QAAQ,MAAM,4KAA2K,sBAE/LA,EAAC,OAAI,MAAM,6BAA6B,MAAM,UAAU,KAAK,OAAO,QAAQ,YAAY,OAAO,gBAC7FA,EAAC,QAAK,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,wCAAwC,CAClH,CACF,CACF,EAEAA,EAAC,OAAI,MAAM,yCAETA,EAAC,OAAI,MAAM,sEACTA,EAAC,OAAI,MAAM,2GACRA,EAAC,OAAI,MAAM,qBACRA,EAAC,OAAI,MAAM,4CAA4C,EACvDA,EAAC,OAAI,MAAM,aACR,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,IAAIK,GAAKL,EAAC,OAAI,IAAKK,EAAG,MAAM,4EAA2EL,EAAC,OAAI,MAAM,+BAA+B,EAAMA,EAAC,OAAI,MAAM,8BAA8B,CAAM,CAAM,CAC3N,CACH,CACH,EACAA,EAAC,MAAG,MAAM,oCAAmC,eAAa,CAC5D,EAEAA,EAAC,OAAI,MAAM,sEACTA,EAAC,OAAI,MAAM,wFACTA,EAAC,OAAI,MAAM,8DACPA,EAAC,OAAI,MAAM,yCAAyC,EACpDA,EAAC,OAAI,MAAM,6CAA6C,EACxDA,EAAC,OAAI,MAAM,wCAAwC,CACvD,CACF,EACAA,EAAC,MAAG,MAAM,oCAAmC,aAAW,CAC1D,CACF,CACF,CACF,CACF,EAGAA,EAAC,OAAI,MAAM,0EACTA,EAAC,OAAI,MAAM,sEACTA,EAAC,OAAI,QAAQ,cAAc,MAAM,6BAA6B,MAAM,iBAClEA,EAAC,QAAK,KAAK,UAAU,EAAE,wUAAwU,UAAU,qBAAqB,CAChY,CACF,EACAA,EAAC,OAAI,MAAM,qEACTA,EAAC,WACCA,EAAC,MAAG,MAAM,gEAA+D,+BAC3CA,EAAC,QAAK,MAAM,oBAAmB,YAAU,CACvE,EACAA,EAAC,KAAE,MAAM,gDAA+C,kKAExD,EACAA,EAAC,KACC,KAAK,cACL,MAAM,wKACP,kBAECA,EAAC,OAAI,MAAM,6BAA6B,MAAM,UAAU,KAAK,OAAO,QAAQ,YAAY,OAAO,gBAC7FA,EAAC,QAAK,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,6BAA6B,CACvG,CACF,CACF,EACAA,EAAC,OAAI,MAAM,mBACTA,EAAC,OAAI,MAAM,uFACTA,EAAC,OAAI,MAAM,gCACTA,EAAC,OAAI,MAAM,gBACTA,EAAC,OAAI,MAAM,mCAAmC,EAC9CA,EAAC,OAAI,MAAM,oCAAoC,EAC/CA,EAAC,OAAI,MAAM,sCAAsC,CACnD,CACF,EACAA,EAAC,OAAI,MAAM,yEAC5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAUiB,CACF,CACF,CACF,CACF,CACF,CACF,EAGAA,EAAC,WAAQ,MAAM,+CACbA,EAAC,OAAI,MAAM,oEACTA,EAAC,MAAG,MAAM,kDAAiD,2CAAyC,EACpGA,EAAC,KAAE,MAAM,kDAAiD,gHAE1D,EACAA,EAAC,OAAI,MAAM,+DACTA,EAAC,KACC,KAAK,QACL,MAAM,kMACP,oBAED,EACAA,EAAC,KACC,KAAK,SACL,MAAM,oMACP,cAED,CACF,CACF,EAGAA,EAAC,OAAI,MAAM,sEACTA,EAAC,OAAI,MAAM,2FAA2F,EACtGA,EAAC,OAAI,MAAM,+FAA+F,CAC5G,CACF,CACF,EC9fG,IAAMM,GAAa,CAAC,CAAE,QAAAC,CAAQ,IAEjCC,EAAC,OAAI,MAAM,gDACTA,EAAC,OAAI,MAAM,SACTA,EAAC,MAAG,MAAM,8DAA6D,gBAAc,EACrFA,EAAC,KAAE,MAAM,0BAAyB,yGAElC,CACF,EAEAA,EAAC,OAAI,MAAM,yCAETA,EAAC,OAAI,MAAM,aACTA,EAAC,OAAI,MAAM,8DACTA,EAAC,MAAG,MAAM,iEACRA,EAAC,OAAI,MAAM,6BAA6B,MAAM,2BAA2B,KAAK,OAAO,QAAQ,YAAY,OAAO,gBAC9GA,EAAC,QAAK,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,6BAA6B,CACvG,EAAM,qBAER,EAEAA,EAAC,OAAI,MAAM,aACTA,EAAC,WACCA,EAAC,SAAM,MAAM,mDAAkD,gBAAc,EAC7EA,EAAC,UACC,GAAG,kBACH,MAAM,mLACN,SAAS,sCAETA,EAAC,UAAO,MAAM,SAAQ,oBAAkB,EACxCA,EAAC,UAAO,MAAM,UAAS,eAAa,EACpCA,EAAC,UAAO,MAAM,UAAS,QAAM,EAC7BA,EAAC,UAAO,MAAM,YAAW,gBAAc,EACvCA,EAAC,UAAO,MAAM,WAAU,mBAAiB,EACzCA,EAAC,UAAO,MAAM,WAAU,eAAa,EACrCA,EAAC,UAAO,MAAM,SAAQ,cAAY,EAClCA,EAAC,UAAO,MAAM,SAAQ,sBAAoB,EAC1CA,EAAC,UAAO,MAAM,aAAY,iBAAe,EACzCA,EAAC,UAAO,MAAM,aAAY,qBAAmB,EAC7CA,EAAC,UAAO,MAAM,SAAQ,kCAAgC,CACxD,CACF,EAEAA,EAAC,WACCA,EAAC,SAAM,MAAM,mDAAkD,UAAQ,EACvEA,EAAC,UACC,GAAG,kBACH,MAAM,qMACN,SAAS,kCAGX,CACF,EAEAA,EAAC,OAAI,GAAG,mBAAmB,MAAM,mDAC/BA,EAAC,SAAM,MAAM,8CAA6C,WAAS,EACnEA,EAAC,OAAI,GAAG,gBAAgB,MAAM,wCAE9B,CACF,EAEAA,EAAC,OAAI,MAAM,QACTA,EAAC,UACC,GAAG,eACH,QAAQ,uBACR,MAAM,qLACP,gBAECA,EAAC,OAAI,MAAM,6BAA6B,MAAM,yDAAyD,KAAK,OAAO,QAAQ,YAAY,OAAO,gBAC5IA,EAAC,QAAK,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,gBAAgB,CAC1F,CACF,CACF,CACF,CACF,EAEAA,EAAC,OAAI,MAAM,2DACTA,EAAC,MAAG,MAAM,2DACRA,EAAC,OAAI,MAAM,6BAA6B,MAAM,UAAU,KAAK,OAAO,QAAQ,YAAY,OAAO,gBAC7FA,EAAC,QAAK,iBAAe,QAAQ,kBAAgB,QAAQ,eAAa,IAAI,EAAE,4DAA4D,CACtI,EAAM,MAER,EACAA,EAAC,KAAE,MAAM,4CAA2C,gJAC2FA,EAAC,QAAK,MAAM,aAAaD,CAAQ,EAAO,GACvL,CACF,CACF,EAGAC,EAAC,OAAI,MAAM,yCACTA,EAAC,OAAI,MAAM,sFACTA,EAAC,OAAI,MAAM,+FACTA,EAAC,OAAI,MAAM,2BACTA,EAAC,OAAI,MAAM,gBACTA,EAAC,OAAI,MAAM,mCAAmC,EAC9CA,EAAC,OAAI,MAAM,oCAAoC,EAC/CA,EAAC,OAAI,MAAM,sCAAsC,CACnD,EACAA,EAAC,QAAK,MAAM,mEAAkE,eAAa,CAC7F,EACAA,EAAC,OAAI,GAAG,eAAe,MAAM,UAC3BA,EAAC,QAAK,MAAM,sIAAqI,QAEjJ,CACF,CACF,EACAA,EAAC,OAAI,MAAM,qEACTA,EAAC,OAAI,GAAG,SAAS,MAAM,kGACrBA,EAAC,OAAI,MAAM,oCACTA,EAAC,OAAI,MAAM,0FAA0F,EACrGA,EAAC,QAAK,MAAM,8CAA6C,gBAAc,CACzE,CACF,EACAA,EAAC,OAAI,GAAG,wBAAwB,MAAM,0BAA0B,CAClE,EACAA,EAAC,OAAI,MAAM,oIACTA,EAAC,QAAK,GAAG,iBAAgB,WAAS,EAClCA,EAAC,QAAK,GAAG,iBAAgB,UAAQ,CACnC,CACF,CACF,CACF,EAEAA,EAAC,SAAM,wBAAyB,CAAE,OAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OA6DxC,EAAG,EAELA,EAAC,UAAO,wBAAyB,CAAE,OAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAiSzC,E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",
  "names": ["require_promise_limit", "__commonJSMin", "exports", "module", "limiter", "count", "outstanding", "jobs", "remove", "dequeue", "job", "semaphore", "run", "queue", "fn", "resolve", "reject", "result", "error", "err", "map", "items", "mapper", "failed", "limit", "args", "e", "addExtras", "Http2ServerRequest2", "Http2ServerRequest", "Readable", "crypto", "RequestError", "message", "options", "toRequestError", "e", "GlobalRequest", "Request", "input", "getRequestCache", "newHeadersFromIncoming", "incoming", "headerRecord", "rawHeaders", "i", "key", "value", "wrapBodyStream", "newRequestFromIncoming", "method", "url", "headers", "abortController", "init", "req", "controller", "reader", "done", "error", "requestCache", "incomingKey", "urlKey", "headersKey", "abortControllerKey", "getAbortController", "requestPrototype", "k", "newRequest", "defaultHostname", "incomingUrl", "url2", "host", "scheme", "responseCache", "getResponseCache", "cacheKey", "GlobalResponse", "Response2", "_Response", "#body", "#init", "body", "cachedGlobalResponse", "cache", "status", "readWithoutBlocking", "readPromise", "writeFromReadableStreamDefaultReader", "writable", "currentReadPromise", "cancel", "flow", "handleStreamError", "onDrain", "writeFromReadableStream", "stream", "buildOutgoingHttpHeaders", "res", "cookies", "v", "X_ALREADY_SENT", "webFetch", "info", "outgoingEnded", "handleRequestError", "handleFetchError", "handleResponseError", "outgoing", "err", "flushHeaders", "responseViaCache", "header", "isPromise", "responseViaResponseObject", "errRes", "resHeaderRecord", "values", "maxReadCount", "chunk", "resolve", "acc", "getRequestListener", "fetchCallback", "autoCleanupIncoming", "incomingEnded", "handle", "app", "compose", "middleware", "onError", "onNotFound", "context", "next", "index", "dispatch", "i", "res", "isError", "handler", "err", "GET_MATCH_RESULT", "parseBody", "request", "options", "all", "dot", "contentType", "HonoRequest", "parseFormData", "formData", "convertFormDataToBodyData", "form", "value", "key", "handleParsingAllValues", "handleParsingNestedValues", "nestedForm", "keys", "key2", "index", "splitPath", "path", "paths", "splitRoutingPath", "routePath", "groups", "extractGroupsFromPath", "replaceGroupMarks", "match", "index", "mark", "i", "j", "patternCache", "getPattern", "label", "next", "cacheKey", "tryDecode", "str", "decoder", "tryDecodeURI", "getPath", "request", "url", "start", "charCode", "queryIndex", "getPathNoStrict", "request", "result", "getPath", "mergePath", "base", "sub", "rest", "checkOptionalParameter", "path", "segments", "results", "basePath", "segment", "optionalSegment", "v", "i", "a", "_decodeURI", "value", "tryDecode", "decodeURIComponent_", "_getQueryParam", "url", "key", "multiple", "encoded", "keyIndex2", "trailingKeyCode", "valueIndex", "endIndex", "keyIndex", "nextKeyIndex", "name", "getQueryParam", "getQueryParams", "tryDecodeURIComponent", "str", "tryDecode", "decodeURIComponent_", "HonoRequest", "#validatedData", "#matchResult", "request", "path", "matchResult", "key", "#getDecodedParam", "#getAllDecodedParams", "paramKey", "param", "#getParamValue", "decoded", "keys", "value", "getQueryParam", "getQueryParams", "name", "headerData", "options", "parseBody", "#cachedBody", "bodyCache", "raw", "cachedBody", "anyCachedKey", "body", "text", "target", "data", "GET_MATCH_RESULT", "route", "HtmlEscapedCallbackPhase", "raw", "value", "callbacks", "escapedString", "escapeRe", "stringBufferToString", "buffer", "str", "resolvedBuffer", "i", "r", "isEscaped", "buf", "escapeToBuffer", "match", "escape", "index", "lastIndex", "resolveCallbackSync", "context", "c", "resolveCallback", "phase", "preserveCallbacks", "resStr", "res", "str2", "TEXT_PLAIN", "setDefaultContentType", "contentType", "headers", "Context", "#rawRequest", "#req", "#var", "#status", "#executionCtx", "#res", "#layout", "#renderer", "#notFoundHandler", "#preparedHeaders", "#matchResult", "#path", "req", "options", "HonoRequest", "_res", "k", "v", "cookies", "cookie", "args", "content", "layout", "renderer", "name", "value", "status", "key", "#newResponse", "data", "arg", "responseHeaders", "argHeaders", "v2", "text", "object", "html", "res", "html2", "resolveCallback", "HtmlEscapedCallbackPhase", "location", "locationString", "METHOD_NAME_ALL", "METHOD_NAME_ALL_LOWERCASE", "METHODS", "MESSAGE_MATCHER_IS_ALREADY_BUILT", "UnsupportedPathError", "COMPOSED_HANDLER", "notFoundHandler", "c", "errorHandler", "err", "res", "Hono", "_Hono", "#path", "options", "METHODS", "METHOD_NAME_ALL_LOWERCASE", "method", "args1", "args", "#addRoute", "handler", "path", "handlers", "p", "m", "arg1", "METHOD_NAME_ALL", "strict", "optionsWithoutStrict", "getPath", "getPathNoStrict", "#clone", "clone", "#notFoundHandler", "app", "subApp", "r", "next", "compose", "COMPOSED_HANDLER", "mergePath", "applicationHandler", "replaceRequest", "optionHandler", "request", "getOptions", "options2", "executionContext", "mergedPath", "pathPrefixLength", "url", "#handleError", "#dispatch", "executionCtx", "env", "matchResult", "Context", "resolved", "composed", "context", "rest", "input", "requestInit", "Env", "event", "emptyParam", "match", "method", "path", "matchers", "match2", "method2", "path2", "matcher", "METHOD_NAME_ALL", "staticMatch", "match3", "index", "LABEL_REG_EXP_STR", "ONLY_WILDCARD_REG_EXP_STR", "TAIL_WILDCARD_REG_EXP_STR", "PATH_ERROR", "regExpMetaChars", "compareKey", "a", "b", "Node", "_Node", "#index", "#varIndex", "#children", "tokens", "index", "paramMap", "context", "pathErrorCheckOnly", "token", "restTokens", "pattern", "node", "name", "regexpStr", "k", "strList", "c", "Trie", "#context", "#root", "Node", "path", "index", "pathErrorCheckOnly", "paramAssoc", "groups", "replaced", "m", "mark", "tokens", "j", "regexp", "captureIndex", "indexReplacementMap", "paramReplacementMap", "_", "handlerIndex", "paramIndex", "nullMatcher", "wildcardRegExpCache", "buildWildcardRegExp", "path", "_", "metaChar", "clearWildcardRegExpCache", "buildMatcherFromPreprocessedRoutes", "routes", "trie", "Trie", "handlerData", "routesWithStaticPathFlag", "route", "isStaticA", "pathA", "isStaticB", "pathB", "staticMap", "i", "j", "len", "pathErrorCheckOnly", "handlers", "h", "emptyParam", "paramAssoc", "e", "PATH_ERROR", "UnsupportedPathError", "paramCount", "paramIndexMap", "key", "value", "regexp", "indexReplacementMap", "paramReplacementMap", "len2", "map", "keys", "k", "len3", "handlerMap", "findMiddleware", "middleware", "a", "b", "RegExpRouter", "#middleware", "#routes", "METHOD_NAME_ALL", "method", "handler", "MESSAGE_MATCHER_IS_ALREADY_BUILT", "p", "re", "m", "paths", "checkOptionalParameter", "path2", "match", "matchers", "#buildMatcher", "hasOwnRoute", "ownRoute", "SmartRouter", "#routers", "#routes", "init", "method", "path", "handler", "MESSAGE_MATCHER_IS_ALREADY_BUILT", "routers", "routes", "len", "i", "res", "router", "i2", "len2", "e", "UnsupportedPathError", "emptyParams", "Node", "_Node", "#methods", "#children", "#patterns", "#order", "#params", "method", "handler", "children", "m", "path", "curNode", "parts", "splitRoutingPath", "possibleKeys", "i", "len", "p", "nextP", "pattern", "getPattern", "key", "v", "a", "#getHandlerSets", "node", "nodeParams", "params", "handlerSets", "handlerSet", "METHOD_NAME_ALL", "processedSet", "i2", "len2", "processed", "curNodes", "splitPath", "curNodesQueue", "part", "isLast", "tempNodes", "j", "nextNode", "k", "len3", "astNode", "name", "matcher", "child", "restPathString", "componentCount", "b", "TrieRouter", "#node", "Node", "method", "path", "handler", "results", "checkOptionalParameter", "i", "len", "Hono", "options", "SmartRouter", "RegExpRouter", "TrieRouter", "trimTrailingSlash", "c", "next", "url", "getColorEnabled", "process", "Deno", "getColorEnabledAsync", "navigator", "cfWorkers", "humanize", "times", "delimiter", "separator", "v", "time", "start", "delta", "colorStatus", "status", "getColorEnabledAsync", "log", "fn", "prefix", "method", "path", "elapsed", "out", "logger", "c", "next", "url", "cors", "options", "opts", "findAllowOrigin", "optsOrigin", "origin", "findAllowMethods", "optsAllowMethods", "c", "next", "set", "key", "value", "allowOrigin", "allowMethods", "headers", "requestHeaders", "fs", "path", "LibsqlError", "message", "code", "rawCode", "cause", "parseUri", "text", "match", "URI_RE", "LibsqlError", "groups", "scheme", "authority", "parseAuthority", "path", "percentDecode", "query", "parseQuery", "fragment", "SCHEME", "AUTHORITY", "PATH", "QUERY", "FRAGMENT", "AUTHORITY_RE", "host", "port", "userinfo", "sequences", "pairs", "sequence", "key", "value", "splitIdx", "encodeBaseUrl", "schemeText", "hostText", "encodeHost", "portText", "encodePort", "authorityText", "encodeUserinfo", "pathText", "usernameText", "passwordText", "version", "VERSION", "_hasBuffer", "_TD", "_TE", "b64ch", "b64chs", "b64tab", "a", "tab", "c", "i", "b64re", "_fromCC", "_U8Afrom", "it", "_mkUriSafe", "src", "m0", "_tidyB64", "s", "btoaPolyfill", "bin", "u32", "c0", "c1", "c2", "asc", "pad", "_btoa", "_fromUint8Array", "u8a", "strs", "l", "fromUint8Array", "urlsafe", "cb_utob", "cc", "re_utob", "utob", "u", "_encode", "encode", "encodeURI", "re_btou", "cb_btou", "cccc", "cp", "offset", "btou", "b", "atobPolyfill", "u24", "r1", "r2", "binArray", "_atob", "_toUint8Array", "toUint8Array", "_unURI", "_decode", "decode", "isValid", "_noEnum", "v", "extendString", "_add", "name", "body", "extendUint8Array", "extendBuiltins", "gBase64", "supportedUrlLink", "transactionModeToBegin", "mode", "ResultSetImpl", "columns", "columnTypes", "rows", "rowsAffected", "lastInsertRowid", "rowToJson", "row", "valueToJson", "value", "gBase64", "inMemoryMode", "expandConfig", "config", "preferHttp", "url", "authToken", "tls", "intMode", "concurrency", "connectionQueryParams", "inMemoryMode", "uri", "parseUri", "originalUriScheme", "isInMemoryMode", "queryParamsDef", "key", "value", "_", "LibsqlError", "queryParamDef", "x", "connectionQueryParamsString", "path", "scheme", "supportedUrlLink", "WebSocket", "Client", "ClientError", "message", "ProtoError", "ResponseError", "protoError", "ClosedError", "cause", "WebSocketUnsupportedError", "WebSocketError", "HttpServerError", "status", "ProtocolVersionError", "ClientError", "message", "InternalError", "MisuseError", "string", "value", "typeError", "stringOpt", "number", "boolean", "array", "object", "arrayObjectsMap", "fun", "elemValue", "expected", "ProtoError", "received", "readJsonObject", "ObjectWriter", "#output", "#isFirst", "output", "#key", "name", "value", "valueFun", "values", "i", "writeJsonObject", "fun", "writer", "MessageReader", "#array", "#view", "#pos", "array", "value", "shift", "byte", "length", "count", "FieldReader", "#reader", "#wireType", "reader", "wireType", "#expect", "expectedWireType", "ProtoError", "def", "readProtobufMessage", "data", "msgReader", "fieldReader", "key", "tag", "tagFun", "returnedValue", "MessageWriter", "_MessageWriter", "#buf", "#array", "#view", "#pos", "#ensure", "extra", "newCap", "newBuf", "newArray", "newView", "#varint", "value", "byte", "#varintBig", "#tag", "tag", "wireType", "fun", "writer", "writeProtobufMessage", "w", "IdAlloc", "#usedIds", "#freeIds", "freeId", "id", "InternalError", "impossible", "value", "message", "InternalError", "valueToProto", "value", "minInteger", "maxInteger", "valueFromProto", "intMode", "num", "MisuseError", "ProtoError", "impossible", "stmtResultFromProto", "result", "col", "rowsResultFromProto", "intMode", "stmtResult", "rows", "row", "rowFromProto", "rowResultFromProto", "valueResultFromProto", "value", "valueFromProto", "colNames", "values", "i", "colName", "errorFromProto", "error", "ResponseError", "Sql", "#owner", "#sqlId", "#closed", "owner", "sqlId", "MisuseError", "ClosedError", "ClientError", "error", "sqlToProto", "sql", "Queue", "#pushStack", "#shiftStack", "elem", "Stmt", "sql", "values", "value", "valueToProto", "index", "name", "stmtToProto", "sqlOwner", "stmt", "wantRows", "inSql", "args", "namedArgs", "arg", "sqlId", "sqlToProto", "Batch", "#useCursor", "#executed", "stream", "useCursor", "BatchStep", "MisuseError", "batch", "step", "executeCursor", "executeRegular", "steps", "result", "stepResult", "stepError", "cursor", "nextStep", "beginEntry", "rows", "entry", "ProtoError", "stmtResult", "errorFromProto", "impossible", "#conds", "cond", "stmt", "#add", "rowsResultFromProto", "rowResultFromProto", "valueResultFromProto", "stmtResultFromProto", "inStmt", "wantRows", "fromProto", "stmtToProto", "condition", "proto", "outputCallback", "errorCallback", "callback", "BatchCond", "_BatchCond", "stepIndex", "conds", "checkCondBatch", "e", "expectedBatch", "describeResultFromProto", "result", "p", "Stream", "intMode", "stmt", "#execute", "rowsResultFromProto", "rowResultFromProto", "valueResultFromProto", "stmtResultFromProto", "inStmt", "wantRows", "fromProto", "stmtToProto", "r", "useCursor", "Batch", "inSql", "protoSql", "sqlToProto", "describeResultFromProto", "Cursor", "fetchChunkSize", "fetchQueueSize", "WsCursor", "Cursor", "#client", "#stream", "#cursorId", "#entryQueue", "#fetchQueue", "#closed", "#done", "client", "stream", "cursorId", "Queue", "ClosedError", "#fetch", "entry", "response", "resp", "error", "ClientError", "WsStream", "_WsStream", "Stream", "#client", "#streamId", "#queue", "#cursor", "#closing", "#closed", "client", "streamId", "stream", "responseCallback", "errorCallback", "e", "#setClosed", "request", "Queue", "stmt", "#sendStreamRequest", "response", "batch", "protoSql", "_response", "#pushToQueue", "cursorCallback", "cursor", "InternalError", "ClosedError", "#flushQueue", "entry", "ClientError", "cursorId", "WsCursor", "error", "Stmt", "w", "msg", "Value", "NamedArg", "Batch", "BatchStep", "BatchCond", "impossible", "gBase64", "ClientMsg", "w", "msg", "Request", "impossible", "Stmt", "Batch", "Stmt", "w", "msg", "arg", "Value", "NamedArg", "Batch", "step", "BatchStep", "BatchCond", "BatchCondList", "Empty", "impossible", "cond", "_w", "_msg", "ClientMsg", "w", "msg", "HelloMsg", "RequestMsg", "impossible", "request", "OpenStreamReq", "CloseStreamReq", "ExecuteReq", "BatchReq", "OpenCursorReq", "CloseCursorReq", "FetchCursorReq", "SequenceReq", "DescribeReq", "StoreSqlReq", "CloseSqlReq", "GetAutocommitReq", "Stmt", "Batch", "Error", "obj", "message", "string", "code", "stringOpt", "StmtResult", "cols", "arrayObjectsMap", "Col", "rows", "array", "rowObj", "Value", "affectedRowCount", "number", "lastInsertRowidStr", "lastInsertRowid", "name", "decltype", "BatchResult", "stepResults", "value", "i", "object", "stepErrors", "CursorEntry", "type", "step", "error", "ProtoError", "DescribeResult", "params", "DescribeParam", "DescribeCol", "isExplain", "boolean", "isReadonly", "gBase64", "ServerMsg", "obj", "type", "string", "Error", "object", "requestId", "number", "response", "Response", "error", "ProtoError", "StmtResult", "BatchResult", "entries", "arrayObjectsMap", "CursorEntry", "done", "boolean", "DescribeResult", "Error", "r", "msg", "StmtResult", "Col", "Row", "Value", "BatchResult", "key", "value", "BatchResultStepResult", "BatchResultStepError", "CursorEntry", "StepBeginEntry", "StepEndEntry", "StepErrorEntry", "DescribeResult", "DescribeParam", "DescribeCol", "ServerMsg", "r", "HelloErrorMsg", "ResponseOkMsg", "ResponseErrorMsg", "Error", "msg", "ExecuteResp", "BatchResp", "FetchCursorResp", "DescribeResp", "GetAutocommitResp", "StmtResult", "BatchResult", "CursorEntry", "DescribeResult", "subprotocolsV2", "subprotocolsV3", "WsClient", "Client", "#socket", "#openCallbacks", "#opened", "#closed", "#recvdHello", "#subprotocol", "#getVersionCalled", "#responseMap", "#requestIdAlloc", "#sqlIdAlloc", "socket", "jwt", "IdAlloc", "#onSocketOpen", "event", "#onSocketClose", "#onSocketError", "#onSocketMessage", "#send", "msg", "InternalError", "#sendToSocket", "openCallback", "errorCallback", "protocol", "#setClosed", "ClientError", "ProtoError", "callbacks", "encoding", "jsonMsg", "writeJsonObject", "ClientMsg", "protobufMsg", "writeProtobufMessage", "impossible", "versionCallback", "minVersion", "feature", "ProtocolVersionError", "request", "ClosedError", "requestId", "message", "WebSocketError", "error", "responseState", "readJsonObject", "ServerMsg", "readProtobufMessage", "#handleMsg", "e", "errorFromProto", "WsStream", "sql", "sqlId", "sqlObj", "Sql", "responseCallback", "_Request", "_Headers", "_fetch", "_queueMicrotask", "resolved", "callback", "ByteQueue", "#array", "#shiftPos", "#pushPos", "initialCap", "chunk", "#ensurePush", "pushLength", "filledLength", "newCap", "newArray", "length", "PipelineRespBody", "obj", "baton", "stringOpt", "baseUrl", "results", "arrayObjectsMap", "StreamResult", "type", "string", "StreamResponse", "object", "Error", "ProtoError", "StmtResult", "BatchResult", "DescribeResult", "boolean", "CursorRespBody", "PipelineRespBody", "r", "msg", "StreamResult", "StreamResponse", "Error", "ExecuteStreamResp", "BatchStreamResp", "DescribeStreamResp", "GetAutocommitStreamResp", "StmtResult", "BatchResult", "DescribeResult", "CursorRespBody", "HttpCursor", "Cursor", "#stream", "#encoding", "#reader", "#queue", "#closed", "#done", "stream", "encoding", "ByteQueue", "response", "ProtoError", "respBody", "#nextItem", "CursorRespBody", "CursorEntry", "ClientError", "error", "jsonFun", "protobufDef", "ClosedError", "jsonData", "#parseItemJson", "jsonText", "jsonValue", "readJsonObject", "protobufData", "#parseItemProtobuf", "readProtobufMessage", "impossible", "InternalError", "value", "done", "data", "newlinePos", "varintValue", "varintLength", "byte", "PipelineReqBody", "w", "msg", "StreamRequest", "Stmt", "Batch", "impossible", "CursorReqBody", "PipelineReqBody", "w", "msg", "req", "StreamRequest", "CloseStreamReq", "ExecuteStreamReq", "BatchStreamReq", "SequenceStreamReq", "DescribeStreamReq", "StoreSqlStreamReq", "CloseSqlStreamReq", "GetAutocommitStreamReq", "impossible", "_w", "_msg", "Stmt", "Batch", "CursorReqBody", "HttpStream", "Stream", "#client", "#baseUrl", "#jwt", "#fetch", "#baton", "#queue", "#flushing", "#cursor", "#closing", "#closeQueued", "#closed", "#sqlIdAlloc", "client", "baseUrl", "jwt", "customFetch", "Queue", "IdAlloc", "sql", "sqlId", "#sendStreamRequest", "error", "Sql", "stmt", "response", "batch", "protoSql", "_response", "request", "responseCallback", "errorCallback", "#pushToQueue", "cursorCallback", "cursor", "InternalError", "_queueMicrotask", "#flushQueue", "ClientError", "entry", "ClosedError", "endpoint", "firstEntry", "pipeline", "#flushPipeline", "#flushCursor", "impossible", "#flush", "#createPipelineRequest", "resp", "decodePipelineResponse", "respBody", "handlePipelineResponse", "HttpCursor", "#createCursorRequest", "_respBody", "createRequest", "decodeResponse", "getBaton", "getBaseUrl", "handleResponse", "handleError", "promise", "fetch", "errorFromResponse", "r", "#createRequest", "PipelineReqBody", "ProtocolVersionError", "CursorReqBody", "url", "reqBody", "encoding", "jsonFun", "protobufFun", "bodyData", "contentType", "writeJsonObject", "writeProtobufMessage", "headers", "_Headers", "_Request", "ProtoError", "i", "result", "errorFromProto", "respJson", "readJsonObject", "PipelineRespBody", "respData", "readProtobufMessage", "respType", "message", "HttpServerError", "checkEndpoints", "fallbackEndpoint", "HttpClient", "Client", "#url", "#jwt", "#fetch", "#closed", "#streams", "url", "jwt", "customFetch", "protocolVersion", "_fetch", "findEndpoint", "endpoint", "error", "#setClosed", "minVersion", "feature", "ProtocolVersionError", "ClosedError", "stream", "HttpStream", "ClientError", "clientUrl", "fetch", "request", "_Request", "response", "openWs", "url", "jwt", "protocolVersion", "WebSocket", "WebSocketUnsupportedError", "subprotocols", "subprotocolsV3", "subprotocolsV2", "socket", "WsClient", "openHttp", "customFetch", "HttpClient", "HranaTransaction", "#mode", "#version", "#started", "mode", "version", "stmt", "results", "stmts", "stream", "LibsqlError", "hranaStmts", "stmtToHrana", "rowsPromises", "batch", "beginStep", "beginPromise", "transactionModeToBegin", "lastStep", "hranaStmt", "stmtStep", "BatchCond", "rowsPromise", "e", "resultSets", "rows", "resultSetFromHrana", "mapHranaError", "sql", "promise", "executeHranaBatch", "disableForeignKeys", "stmtPromises", "stmtPromise", "commitStep", "commitPromise", "_", "hranaRows", "args", "Stmt", "key", "value", "columns", "c", "columnTypes", "rowsAffected", "lastInsertRowid", "ResultSetImpl", "ClientError", "code", "mapHranaErrorCode", "ResponseError", "ProtoError", "ClosedError", "WebSocketError", "HttpServerError", "ProtocolVersionError", "InternalError", "SqlCache", "#owner", "#sqls", "owner", "capacity", "Lru", "hranaStmts", "usedSqlObjs", "hranaStmt", "sqlText", "sqlObj", "evictSqlText", "evictSqlObj", "#cache", "key", "value", "entry", "import_promise_limit", "_createClient", "config", "LibsqlError", "supportedUrlLink", "url", "encodeBaseUrl", "client", "openWs", "e", "WebSocketUnsupportedError", "suggestedScheme", "suggestedUrl", "mapHranaError", "WsClient", "maxConnAgeMillis", "sqlCacheCapacity", "#url", "#authToken", "#intMode", "#connState", "#futureConnState", "#isSchemaDatabase", "#promiseLimitFunction", "authToken", "intMode", "concurrency", "#openConn", "promiseLimit", "fn", "stmtOrSql", "args", "stmt", "streamState", "#openStream", "hranaStmt", "stmtToHrana", "hranaRowsPromise", "hranaRowsResult", "resultSetFromHrana", "stmts", "mode", "hranaStmts", "version", "batch", "executeHranaBatch", "WsTransaction", "sql", "promise", "futureConnState", "_version", "_e", "connState", "stream", "SqlCache", "st", "next", "HranaTransaction", "#client", "#streamState", "state", "import_promise_limit", "_createClient", "config", "LibsqlError", "supportedUrlLink", "url", "encodeBaseUrl", "HttpClient", "sqlCacheCapacity", "#client", "#url", "#intMode", "#customFetch", "#concurrency", "#authToken", "#promiseLimitFunction", "authToken", "intMode", "customFetch", "concurrency", "openHttp", "promiseLimit", "fn", "stmtOrSql", "args", "stmt", "hranaStmt", "stmtToHrana", "rowsPromise", "stream", "rowsResult", "resultSetFromHrana", "e", "mapHranaError", "stmts", "mode", "hranaStmts", "version", "resultsPromise", "SqlCache", "batch", "executeHranaBatch", "HttpTransaction", "sql", "promise", "HranaTransaction", "#stream", "#sqlCache", "createClient", "config", "_createClient", "expandConfig", "LibsqlError", "supportedUrlLink", "url", "authToken", "client", "createClient", "dbQuery", "sql", "args", "error", "dbGet", "dbAll", "DATA_PATH", "path", "readJson", "filePath", "fullPath", "data", "fs", "error", "writeJson", "dir", "getSurahList", "getSurahDetail", "number", "surahs", "s", "getAyahBySurah", "surahNumber", "getDoa", "getAsmaulHusna", "getDzikir", "getHaditsArbain", "getThemes", "getJuz", "getTafsir", "getWord", "getAsbabNuzul", "getSejarah", "getQari", "getCalendarMonths", "getCalendarDays", "getMasjid", "getPuasa", "getFiqhPuasa", "getAnalytics", "totalReads", "dbGet", "globalKhatam", "lastUpdated", "trendingSurahs", "dbAll", "trendingAyahs", "surahMap", "row", "ayahMap", "updateAnalytics", "type", "id", "dbQuery", "getLocalHadits", "bookName", "DOM_RENDERER", "DOM_ERROR_HANDLER", "DOM_STASH", "DOM_INTERNAL_TAG", "DOM_MEMO", "PERMALINK", "setInternalTagFlag", "fn", "DOM_INTERNAL_TAG", "createContextProviderFunction", "values", "value", "children", "props", "setInternalTagFlag", "res", "DOM_ERROR_HANDLER", "err", "createContext", "defaultValue", "context", "globalContexts", "globalContexts", "createContext", "defaultValue", "values", "context", "props", "string", "JSXFragmentNode", "resString", "raw", "DOM_RENDERER", "createContextProviderFunction", "useContext", "deDupeKeyMap", "domRenderers", "dataPrecedenceAttr", "components_exports", "__export", "button", "form", "input", "link", "meta", "script", "style", "title", "toArray", "children", "metaTagMap", "insertIntoHead", "tagName", "tag", "props", "precedence", "buffer", "context", "map", "tags", "duped", "deDupeKeys", "deDupeKeyMap", "LOOP", "tagProps", "key", "insertTags", "tag2", "precedences", "precedence2", "order", "a", "b", "returnWithoutSpecialBehavior", "children", "raw", "JSXNode", "toArray", "documentMetadataTag", "sort", "blocking", "restProps", "dataPrecedenceAttr", "string", "resString", "title", "nameSpaceContext", "getNameSpaceContext", "useContext", "script", "k", "style", "link", "meta", "newJSXNode", "form", "PERMALINK", "formActionableElement", "input", "button", "normalizeElementKeyMap", "normalizeIntrinsicElementKey", "key", "styleObjectForEach", "style", "fn", "k", "v", "m", "nameSpaceContext", "getNameSpaceContext", "toSVGAttributeName", "key", "emptyTags", "booleanAttributes", "childrenToStringToBuffer", "children", "buffer", "i", "len", "child", "escapeToBuffer", "JSXNode", "tag", "props", "context", "value", "resolveCallbackSync", "raw", "stringBufferToString", "normalizeKey", "useContext", "normalizeIntrinsicElementKey", "v", "styleStr", "styleObjectForEach", "property", "JSXFunctionNode", "res", "globalContexts", "currentContexts", "c", "childRes", "JSXFragmentNode", "jsx", "node", "jsxFn", "initDomRenderer", "k", "domRenderers", "components_exports", "DOM_RENDERER", "createContext", "components_exports", "__export", "button", "clearCache", "composeRef", "form", "input", "link", "meta", "script", "style", "title", "HONO_PORTAL_ELEMENT", "eventAliasMap", "nameSpaceMap", "buildDataStack", "refCleanupMap", "nameSpaceContext", "getNameSpaceContext", "isNodeString", "node", "eventCache", "getEventSpec", "key", "match", "eventName", "capture", "toAttributeName", "element", "applyProps", "container", "attributes", "oldAttributes", "value", "normalizeIntrinsicElementKey", "eventSpec", "cleanup", "style", "styleObjectForEach", "nodeName", "k", "invokeTag", "context", "DOM_STASH", "func", "DOM_RENDERER", "props", "getNextChildren", "nextChildren", "childrenToRemove", "callbacks", "STASH_EFFECT", "data", "child", "currentNextChildrenIndex", "i", "findInsertBefore", "removeNode", "n", "updateMap", "fallbackUpdateFnArrayMap", "apply", "isNew", "applyNodeObject", "findChildNodeIndex", "childNodes", "len", "cancelBuild", "next", "remove", "offset", "insertBeforeNode", "offsetByNextNode", "el", "isNewLocal", "useLayoutEffectCbs", "useEffectCbs", "useLayoutEffectCb", "useEffectCb", "useInsertionEffectCb", "cb", "isSameContext", "oldContexts", "newContexts", "ctx", "build", "children", "buildWithPreviousChildren", "foundErrorHandler", "toArray", "DOM_ERROR_HANDLER", "oldVChildren", "vChildren", "prevNode", "buildNode", "DOM_INTERNAL_TAG", "globalContexts", "oldChild", "i2", "c", "pP", "DOM_MEMO", "ns", "useContext", "p", "e", "errorHandlerContext", "errorHandler", "errorHandlerNode", "fallbackUpdateFn", "update", "fallbackUpdateFnArray", "fallback", "fnArray", "createContext", "updateSync", "context", "node", "DOM_STASH", "c", "v", "build", "apply", "updateMap", "currentUpdateSets", "update", "existing", "resolve", "promise", "r", "context2", "latest", "createPortal", "children", "container", "key", "HONO_PORTAL_ELEMENT", "STASH_SATE", "STASH_EFFECT", "STASH_CALLBACK", "STASH_MEMO", "resolvedPromiseValueMap", "isDepsChanged", "prevDeps", "deps", "dep", "i", "updateHook", "pendingStack", "useState", "initialState", "resolveInitialState", "buildData", "buildDataStack", "node", "stateArray", "DOM_STASH", "STASH_SATE", "hookIndex", "newState", "localUpdateHook", "updateHook", "stateData", "pendingStack", "pendingType", "pendingPromise", "update", "node2", "lastVC", "useCallback", "callback", "deps", "buildData", "buildDataStack", "node", "callbackArray", "DOM_STASH", "STASH_CALLBACK", "hookIndex", "prevDeps", "isDepsChanged", "use", "promise", "cachedRes", "resolvedPromiseValueMap", "res", "e", "useMemo", "factory", "deps", "buildData", "buildDataStack", "node", "memoArray", "DOM_STASH", "STASH_MEMO", "hookIndex", "prevDeps", "isDepsChanged", "FormContext", "createContext", "actions", "registerAction", "action", "clearCache", "blockingPromiseMap", "createdElements", "composeRef", "ref", "cb", "useMemo", "e", "refCleanup", "cbCleanup", "documentMetadataTag", "tag", "props", "preserveNodeType", "supportSort", "supportBlocking", "head", "onLoad", "onError", "precedence", "blocking", "restProps", "element", "created", "deDupeKeys", "deDupeKeyMap", "existingElements", "tags", "LOOP", "key", "cacheKey", "acc", "dataPrecedenceAttr", "insert", "useCallback", "found", "existingElement", "promise", "resolve", "reject", "value", "use", "jsxNode", "createPortal", "title", "nameSpaceContext", "getNameSpaceContext", "useContext", "script", "k", "style", "link", "meta", "customEventFormAction", "form", "action", "state", "setState", "useState", "onSubmit", "ev", "currentAction", "formData", "actionRes", "registerAction", "el", "data", "isDirty", "FormContext", "formActionableElement", "formAction", "onClick", "input", "button", "domRenderers", "jsxDEV", "tag", "props", "key", "components_exports", "Fragment", "ErrorBoundary", "children", "fallback", "fallbackRender", "onError", "res", "Fragment", "DOM_ERROR_HANDLER", "err", "Suspense", "retry", "StreamingContext", "createContext", "suspenseCounter", "Suspense", "children", "fallback", "nonce", "useContext", "resArray", "stackNode", "DOM_STASH", "popNodeStack", "value", "buildDataStack", "c", "e", "childrenToString", "res", "index", "fallbackStr", "raw", "phase", "buffer", "context", "HtmlEscapedCallbackPhase", "htmlArray", "content", "html", "callbacks", "html2", "resolveCallback", "DOM_RENDERER", "textEncoder", "errorBoundaryCounter", "childrenToString", "children", "c", "ErrorBoundary", "fallback", "fallbackRender", "onError", "raw", "nonce", "useContext", "StreamingContext", "fallbackStr", "fallbackRes", "error", "resArray", "e", "e2", "res", "index", "replaceRe", "caught", "catchCallback", "error2", "buffer", "fallbackResString", "promiseAll", "phase", "context", "HtmlEscapedCallbackPhase", "htmlArray", "content", "html", "html2", "_all", "pre", "_", "post", "callbacks", "resolveCallback", "resolvedCount", "promises", "args", "content2", "_pre", "content3", "DOM_RENDERER", "Search", "jsx", "fs", "path", "compiledCss", "cssPath", "e", "Layout", "children", "title", "jsx", "Search", "amount", "ApiEndpoint", "method", "path", "title", "responseJson", "category", "endpointId", "jsx", "SectionTitle", "icon", "id", "color", "Home", "baseUrl", "item", "index", "faq", "ApiEndpoint", "method", "path", "title", "responseJson", "category", "endpointId", "jsx", "SectionTitle", "icon", "id", "color", "colorClasses", "Other", "item", "index", "resource", "Landing", "sejarah", "jsx", "api", "index", "item", "feat", "i", "Playground", "baseUrl", "jsx", "Status", "baseUrl", "jsx", "StatusCard", "name", "endpoint", "description", "type", "_", "i", "router", "Hono", "getBaseUrl", "c", "url", "sejarah", "getSejarah", "jsx", "Layout", "Landing", "baseUrl", "Home", "Other", "Playground", "Status", "routes_default", "asbab", "Hono", "c", "id", "allAsbab", "getAsbabNuzul", "sortedData", "a", "b", "data", "error", "asbab_default", "asma", "Hono", "c", "id", "allAsma", "getAsmaulHusna", "data", "a", "sortedData", "b", "error", "asma_default", "ayah", "Hono", "formatAyah", "a", "c", "surahList", "getSurahList", "allAyahs", "s", "ayahs", "getAyahBySurah", "error", "surahId", "start", "end", "data", "num", "id", "juzAyahs", "filtered", "pageAyahs", "ayahId", "formatted", "updateAnalytics", "err", "q", "results", "queryLower", "matched", "ayah_default", "calendar", "Hono", "getCalendarData", "months", "getCalendarMonths", "days", "getCalendarDays", "m", "b", "d", "g2h", "date", "adjustment", "calData", "tempDate", "y", "a", "l", "n", "j", "month", "day", "year", "islamicMonths", "jawaMonths", "pasaran", "jawaDays", "baseDate", "pasaranIndex", "jawaDayIndex", "h2g", "hDay", "hMonth", "hYear", "i", "dayNames", "monthNames", "c", "dateStr", "adj", "hijri", "error", "masehi", "calendar_default", "doa", "Hono", "c", "source", "allDoa", "getDoa", "data", "d", "a", "b", "error", "q", "queryLower", "doa_default", "dzikir", "Hono", "c", "type", "allDzikir", "getDzikir", "data", "d", "error", "dzikir_default", "hadits", "Hono", "bookFileMapping", "bookDisplayNames", "c", "nomor", "allArbain", "getHaditsArbain", "data", "h", "sortedData", "a", "b", "error", "books", "id", "name", "page", "limit", "offset", "targetBookFile", "allHadits", "getLocalHadits", "displayName", "paginatedData", "number", "hadith", "q", "book", "queryLower", "results", "r", "searchTerms", "text", "term", "hadits_default", "juz", "Hono", "c", "juzId", "allJuz", "getJuz", "data", "j", "sortedData", "a", "b", "error", "juz_default", "murotal", "Hono", "c", "data", "getQari", "error", "qariId", "surahId", "allQari", "qari", "q", "allSurahs", "getSurahList", "surah", "s", "audioFull", "result", "a", "b", "murotal_default", "crypto", "integrity", "Hono", "generateHash", "data", "c", "allSurahs", "getSurahList", "surahs", "a", "b", "chain", "previousHash", "surah", "ayahsData", "getAyahBySurah", "ayahs", "blockData", "blockHash", "error", "s", "isDataValid", "surahId", "ayahId", "verificationData", "comparison", "controller", "timeoutId", "response", "json", "externalAyah", "normalize", "str", "arabMatch", "textMatch", "e", "integrity_default", "API_CONFIG", "sholat", "Hono", "BASE_API", "API_CONFIG", "kotaCache", "c", "data", "error", "query", "response", "kotaId", "tanggal", "lat", "lon", "geoRes", "address", "city", "cleanCityName", "kotaRes", "kotaData", "jadwalRes", "today", "cityRes", "jadwalData", "jadwal", "now", "currentTime", "times", "nextPrayer", "t", "h", "m", "prayerMinutes", "diff", "sholat_default", "surah", "Hono", "formatSurah", "s", "c", "surahId", "data", "getSurahDetail", "updateAnalytics", "err", "getSurahList", "sortedData", "a", "b", "error", "surah_default", "tafsir", "Hono", "c", "surahId", "allTafsir", "getTafsir", "data", "t", "sortedData", "a", "b", "error", "tafsir_default", "theme", "Hono", "c", "themeId", "allThemes", "getThemes", "themeData", "t", "surahList", "getSurahList", "themeVerses", "s", "ayahs", "getAyahBySurah", "filtered", "a", "formatAyah", "sortedThemes", "b", "error", "theme_default", "word", "Hono", "c", "surahId", "ayahId", "allWords", "getWord", "data", "w", "sortedData", "a", "b", "surahDiff", "ayahDiff", "error", "word_default", "admin", "Hono", "API_KEY", "c", "next", "surahId", "ayahId", "arab", "text", "latin", "ayahs", "getAyahBySurah", "index", "a", "oldData", "writeJson", "error", "id", "title", "arabic", "translation", "dzikirs", "getDzikir", "d", "doas", "getDoa", "admin_default", "kemenag", "Hono", "getDistance", "lat1", "lon1", "lat2", "lon2", "dLat", "dLon", "a", "c", "year", "response", "API_CONFIG", "mappedData", "item", "error", "data", "provinsiId", "kabupatenId", "search", "lokasi", "jenis", "tipologi", "allMasjid", "getMasjid", "searchLower", "m", "lokasiLower", "id", "lat", "lng", "radius", "distance", "b", "kemenag_default", "sejarah", "Hono", "c", "kategori", "allSejarah", "getSejarah", "data", "kategoriLower", "s", "error", "id", "item", "today", "day", "month", "searchStr", "searchMonth", "finalData", "deskripsiLower", "tahunLower", "searchStrLower", "monthLower", "sejarah_default", "tools", "Hono", "c", "surahList", "getSurahList", "randomSurah", "ayahs", "getAyahBySurah", "randomAyah", "surahName", "allArbain", "getHaditsArbain", "randomHadits", "error", "type", "amount", "hargaEmas", "result", "nishabEmas", "nishabEmasBulan", "hargaBeras", "jumlahOrang", "zakatPerOrang", "lat", "lng", "kaabaLat", "kaabaLng", "dL", "phi1", "phi2", "direction", "query", "searchTerms", "quranResults", "s", "matches", "a", "text", "term", "formattedArbain", "h", "globalHadits", "allBooks", "book", "allHadits", "getLocalHadits", "bookName", "word", "totalHadits", "allPuasa", "getPuasa", "formattedPuasa", "p", "allFiqh", "getFiqhPuasa", "fiqhResults", "category", "pt", "totalHarta", "suami", "istri", "anakLk", "anakPr", "ayah", "ibu", "results", "denominators", "adaAnak", "furud", "totalFurud", "sisa", "asabah", "totalRasio", "perBagian", "faktorAul", "raddBeneficiaries", "faktorRadd", "addResult", "nama", "rasio", "jumlah", "tools_default", "analytics", "Hono", "c", "stats", "getAnalytics", "surahList", "getSurahList", "trendingSurahs", "id", "count", "surah", "s", "a", "b", "error", "updateAnalytics", "analytics_default", "puasa", "Hono", "c", "data", "getPuasa", "error", "getFiqhPuasa", "query", "filtered", "p", "type", "puasa_default", "v1", "Hono", "asbab_default", "asma_default", "ayah_default", "calendar_default", "doa_default", "dzikir_default", "hadits_default", "juz_default", "murotal_default", "integrity_default", "sholat_default", "surah_default", "tafsir_default", "theme_default", "word_default", "admin_default", "kemenag_default", "sejarah_default", "tools_default", "analytics_default", "puasa_default", "c", "v1_default", "generateCRC16", "data", "crc", "i", "j", "createDynamicQRIS", "staticQris", "amount", "baseQris", "parts", "pos", "tag", "len", "val", "tag01", "p", "amountStr", "tag54", "index58", "newTag", "dynamicQris", "a", "b", "qrcode", "typeNumber", "errorCorrectionLevel", "_typeNumber", "_errorCorrectionLevel", "QRErrorCorrectionLevel", "_modules", "_moduleCount", "_dataCache", "_dataList", "_this", "makeImpl", "test", "maskPattern", "moduleCount", "modules", "row", "col", "setupPositionProbePattern", "setupPositionAdjustPattern", "setupTimingPattern", "setupTypeInfo", "setupTypeNumber", "createData", "mapData", "r", "c", "getBestMaskPattern", "minLostPoint", "pattern", "i", "lostPoint", "QRUtil", "pos", "j", "bits", "mod", "data", "inc", "bitIndex", "byteIndex", "maskFunc", "dark", "createBytes", "buffer", "rsBlocks", "offset", "maxDcCount", "maxEcCount", "dcdata", "ecdata", "dcCount", "ecCount", "rsPoly", "modPoly", "qrPolynomial", "modIndex", "totalCodeCount", "index", "dataList", "QRRSBlock", "qrBitBuffer", "totalDataCount", "mode", "newData", "qrNumber", "qrAlphaNum", "qr8BitByte", "qrKanji", "cellSize", "margin", "qrHtml", "alt", "title", "opts", "size", "mc", "mr", "qrSvg", "rect", "escapeXml", "min", "max", "createDataURL", "x", "y", "img", "s", "escaped", "_createHalfASCII", "r1", "r2", "p", "blocks", "blocksLastLineNoMargin", "ascii", "white", "black", "line", "context", "length", "bytes", "unicodeData", "numChars", "unicodeMap", "bin", "base64DecodeInputStream", "read", "b", "count", "b0", "b1", "b2", "b3", "k", "v", "unknownChar", "QRMode", "QRMaskPattern", "PATTERN_POSITION_TABLE", "G15", "G18", "G15_MASK", "getBCHDigit", "digit", "d", "errorCorrectLength", "a", "QRMath", "type", "sameCount", "darkCount", "ratio", "EXP_TABLE", "LOG_TABLE", "n", "num", "shift", "_num", "e", "RS_BLOCK_TABLE", "qrRSBlock", "totalCount", "dataCount", "getRsBlockTable", "rsBlock", "list", "_buffer", "_length", "bufIndex", "bit", "_mode", "_data", "strToNum", "chatToNum", "getCode", "_bytes", "stringToBytes", "code", "byteArrayOutputStream", "off", "len", "base64EncodeOutputStream", "_buflen", "_base64", "writeEncoded", "encode", "padlen", "str", "_str", "_pos", "decode", "gifImage", "width", "height", "_width", "_height", "pixel", "out", "lzwMinCodeSize", "raster", "getLZWRaster", "bitOutputStream", "_out", "_bitLength", "_bitBuffer", "clearCode", "endCode", "bitLength", "table", "lzwTable", "byteOut", "bitOut", "dataIndex", "_map", "_size", "key", "getPixel", "gif", "base64", "qrcode_default", "router", "Hono", "STATIC_QRIS", "c", "amount", "qrisDynamic", "createDynamicQRIS", "qr", "qrcode_default", "svgTag", "qrImage", "error", "qris_default", "WidgetLayout", "children", "title", "jsx", "SholatWidget", "data", "city", "baseUrl", "displayUrl", "fullUrl", "jsx", "times", "item", "AyatWidget", "data", "baseUrl", "displayUrl", "fullUrl", "jsx", "widget", "Hono", "c", "cityName", "BASE_API", "API_CONFIG", "kotaData", "jsx", "WidgetLayout", "SholatWidget", "kota", "today", "jadwalData", "baseUrl", "surahList", "getSurahList", "randomSurah", "ayahs", "getAyahBySurah", "randomAyah", "data", "AyatWidget", "error", "widget_default", "app", "Hono", "trimTrailingSlash", "logger", "cors", "c", "jsonStatus", "getSurahList", "e", "next", "rateLimitMap", "ip", "userAgent", "method", "path", "now", "windowMs", "maxRequests", "clientData", "v1_default", "qris_default", "widget_default", "routes_default", "err", "app_default", "vercel_entry_default", "handle", "app_default"]
}
